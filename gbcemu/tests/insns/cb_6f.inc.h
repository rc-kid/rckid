    TEST(gbcemu, opcode_cb_6f) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 6F 0000
        gbc.setState(0xd810, 0xfaed, 0xb9c0, 0xe1d, 0xa1c8, 0x6d0e, 0x0, 0x0);
        gbc.writeMem(0xd810, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xfaed, gbc.sp());
        EXPECT(0xd812, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd810));
        EXPECT(0x6f, gbc.readMem(0xd811));
        // CB 6F 0001
        gbc.setState(0xa572, 0x85ff, 0x1720, 0xbb7b, 0x3e44, 0xe346, 0x1, 0x0);
        gbc.writeMem(0xa572, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x85ff, gbc.sp());
        EXPECT(0xa574, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa572));
        EXPECT(0x6f, gbc.readMem(0xa573));
        // CB 6F 0002
        gbc.setState(0x432d, 0x7e00, 0xc8d0, 0x3e15, 0xde21, 0x1e2c, 0x1, 0x1);
        gbc.writeMem(0x432d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x7e00, gbc.sp());
        EXPECT(0x432f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0003
        gbc.setState(0xb796, 0x6ede, 0xef90, 0x802a, 0x7ec, 0xb22, 0x1, 0x1);
        gbc.writeMem(0xb796, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x6ede, gbc.sp());
        EXPECT(0xb798, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb796));
        EXPECT(0x6f, gbc.readMem(0xb797));
        // CB 6F 0006
        gbc.setState(0x9d6a, 0x755e, 0xaa70, 0x5a16, 0xae56, 0x8e8d, 0x1, 0x0);
        gbc.writeMem(0x9d6a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x755e, gbc.sp());
        EXPECT(0x9d6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d6a));
        EXPECT(0x6f, gbc.readMem(0x9d6b));
        // CB 6F 0007
        gbc.setState(0x6b16, 0x7ae3, 0xc630, 0xb8e1, 0xf746, 0xc3f5, 0x1, 0x1);
        gbc.writeMem(0x6b16, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x7ae3, gbc.sp());
        EXPECT(0x6b18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0008
        gbc.setState(0x6736, 0x9b5c, 0xe250, 0x1a0f, 0x2b22, 0x3b9e, 0x0, 0x1);
        gbc.writeMem(0x6736, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x9b5c, gbc.sp());
        EXPECT(0x6738, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0009
        gbc.setState(0x36e8, 0xc583, 0x1770, 0x1043, 0x6c12, 0xc955, 0x0, 0x0);
        gbc.writeMem(0x36e8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xc583, gbc.sp());
        EXPECT(0x36ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 000B
        gbc.setState(0x544e, 0x97be, 0xac20, 0xa8b, 0x10b3, 0x2ced, 0x0, 0x1);
        gbc.writeMem(0x544e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x97be, gbc.sp());
        EXPECT(0x5450, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 000C
        gbc.setState(0x7f42, 0x74a3, 0xfe20, 0x1a08, 0x482c, 0xfca9, 0x1, 0x1);
        gbc.writeMem(0x7f42, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x74a3, gbc.sp());
        EXPECT(0x7f44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 000D
        gbc.setState(0xe44e, 0x7caf, 0x6cf0, 0xaaa0, 0x2b04, 0x87bc, 0x0, 0x0);
        gbc.writeMem(0xe44e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x7caf, gbc.sp());
        EXPECT(0xe450, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe44e));
        EXPECT(0x6f, gbc.readMem(0xe44f));
        // CB 6F 000E
        gbc.setState(0x5f1a, 0xf733, 0x8b0, 0xc721, 0xca25, 0x17c3, 0x1, 0x0);
        gbc.writeMem(0x5f1a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xf733, gbc.sp());
        EXPECT(0x5f1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 000F
        gbc.setState(0x88d7, 0x3a5f, 0x8350, 0x92d3, 0x8332, 0x70f, 0x1, 0x0);
        gbc.writeMem(0x88d7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x3a5f, gbc.sp());
        EXPECT(0x88d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88d7));
        EXPECT(0x6f, gbc.readMem(0x88d8));
        // CB 6F 0010
        gbc.setState(0x4515, 0x2ec7, 0x11f0, 0x2177, 0x3757, 0x4c6b, 0x1, 0x1);
        gbc.writeMem(0x4515, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x2ec7, gbc.sp());
        EXPECT(0x4517, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0011
        gbc.setState(0x3f6e, 0x1a1b, 0x7800, 0x7e69, 0xae56, 0x2ec1, 0x1, 0x1);
        gbc.writeMem(0x3f6e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x1a1b, gbc.sp());
        EXPECT(0x3f70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0012
        gbc.setState(0xaec, 0x456c, 0xd1b0, 0xc4d5, 0x2b0a, 0x7795, 0x1, 0x1);
        gbc.writeMem(0xaec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x456c, gbc.sp());
        EXPECT(0xaee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0013
        gbc.setState(0xafa7, 0xbd54, 0xcd60, 0x2c3a, 0xfb7d, 0x1edf, 0x0, 0x1);
        gbc.writeMem(0xafa7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xbd54, gbc.sp());
        EXPECT(0xafa9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafa7));
        EXPECT(0x6f, gbc.readMem(0xafa8));
        // CB 6F 0014
        gbc.setState(0xb74d, 0x4901, 0x5940, 0x3433, 0x1d7, 0x3e98, 0x1, 0x1);
        gbc.writeMem(0xb74d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x4901, gbc.sp());
        EXPECT(0xb74f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb74d));
        EXPECT(0x6f, gbc.readMem(0xb74e));
        // CB 6F 0015
        gbc.setState(0xbc79, 0x25bf, 0x4b0, 0x8e9, 0x5971, 0xcc00, 0x1, 0x0);
        gbc.writeMem(0xbc79, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x25bf, gbc.sp());
        EXPECT(0xbc7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc79));
        EXPECT(0x6f, gbc.readMem(0xbc7a));
        // CB 6F 0016
        gbc.setState(0xdae7, 0x7ba2, 0xf90, 0x34c4, 0xe6d4, 0xe770, 0x1, 0x1);
        gbc.writeMem(0xdae7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x7ba2, gbc.sp());
        EXPECT(0xdae9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdae7));
        EXPECT(0x6f, gbc.readMem(0xdae8));
        // CB 6F 0017
        gbc.setState(0x6b6a, 0xad4b, 0x8000, 0x259e, 0xe36, 0x2584, 0x0, 0x0);
        gbc.writeMem(0x6b6a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xad4b, gbc.sp());
        EXPECT(0x6b6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0018
        gbc.setState(0xa4d8, 0xc952, 0xcf20, 0x73e, 0x512d, 0x88fe, 0x0, 0x1);
        gbc.writeMem(0xa4d8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xc952, gbc.sp());
        EXPECT(0xa4da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4d8));
        EXPECT(0x6f, gbc.readMem(0xa4d9));
        // CB 6F 0019
        gbc.setState(0x63d6, 0x38cb, 0xad0, 0x38dc, 0xfd8e, 0xb404, 0x1, 0x0);
        gbc.writeMem(0x63d6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x38cb, gbc.sp());
        EXPECT(0x63d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 001A
        gbc.setState(0x8ef6, 0xb3d5, 0xe30, 0xb024, 0xe51d, 0xd04d, 0x0, 0x0);
        gbc.writeMem(0x8ef6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xb3d5, gbc.sp());
        EXPECT(0x8ef8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ef6));
        EXPECT(0x6f, gbc.readMem(0x8ef7));
        // CB 6F 001B
        gbc.setState(0xcefd, 0xf112, 0xc60, 0xf1f0, 0x954f, 0xf1e3, 0x1, 0x0);
        gbc.writeMem(0xcefd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xf112, gbc.sp());
        EXPECT(0xceff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcefd));
        EXPECT(0x6f, gbc.readMem(0xcefe));
        // CB 6F 001C
        gbc.setState(0x40a7, 0x4f9b, 0xc630, 0x1752, 0x7cd7, 0x75f0, 0x0, 0x1);
        gbc.writeMem(0x40a7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x4f9b, gbc.sp());
        EXPECT(0x40a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 001D
        gbc.setState(0x8dfd, 0x78f8, 0x8bc0, 0x953d, 0x3b79, 0x999c, 0x0, 0x1);
        gbc.writeMem(0x8dfd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x78f8, gbc.sp());
        EXPECT(0x8dff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8dfd));
        EXPECT(0x6f, gbc.readMem(0x8dfe));
        // CB 6F 001E
        gbc.setState(0xdd5e, 0x3b3c, 0xceb0, 0xc676, 0x3d85, 0xa6a9, 0x0, 0x1);
        gbc.writeMem(0xdd5e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x3b3c, gbc.sp());
        EXPECT(0xdd60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd5e));
        EXPECT(0x6f, gbc.readMem(0xdd5f));
        // CB 6F 001F
        gbc.setState(0x672d, 0xb3f3, 0x5250, 0xb834, 0x1c60, 0x70fa, 0x0, 0x0);
        gbc.writeMem(0x672d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xb3f3, gbc.sp());
        EXPECT(0x672f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0020
        gbc.setState(0x38f7, 0x295, 0x3cd0, 0xe820, 0x4a4a, 0x8e06, 0x1, 0x1);
        gbc.writeMem(0x38f7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x295, gbc.sp());
        EXPECT(0x38f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0021
        gbc.setState(0x404b, 0xdedb, 0xbce0, 0x2dd8, 0x1a29, 0x72c6, 0x1, 0x1);
        gbc.writeMem(0x404b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xdedb, gbc.sp());
        EXPECT(0x404d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0022
        gbc.setState(0x2890, 0x7970, 0x69a0, 0x6b8b, 0xcd6d, 0x6cd2, 0x0, 0x1);
        gbc.writeMem(0x2890, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x7970, gbc.sp());
        EXPECT(0x2892, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0023
        gbc.setState(0x9e3c, 0xc34c, 0x3400, 0x7142, 0x7371, 0x4166, 0x0, 0x1);
        gbc.writeMem(0x9e3c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xc34c, gbc.sp());
        EXPECT(0x9e3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e3c));
        EXPECT(0x6f, gbc.readMem(0x9e3d));
        // CB 6F 0024
        gbc.setState(0xaa61, 0x5dad, 0x80, 0xe8b4, 0x159, 0xa91f, 0x1, 0x1);
        gbc.writeMem(0xaa61, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x5dad, gbc.sp());
        EXPECT(0xaa63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa61));
        EXPECT(0x6f, gbc.readMem(0xaa62));
        // CB 6F 0025
        gbc.setState(0x7059, 0x884c, 0x40b0, 0xccf, 0xa209, 0x6286, 0x0, 0x1);
        gbc.writeMem(0x7059, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x884c, gbc.sp());
        EXPECT(0x705b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0026
        gbc.setState(0xcf7d, 0xa7e7, 0x68f0, 0xcf6f, 0xdb27, 0x9cb, 0x1, 0x0);
        gbc.writeMem(0xcf7d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xa7e7, gbc.sp());
        EXPECT(0xcf7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf7d));
        EXPECT(0x6f, gbc.readMem(0xcf7e));
        // CB 6F 0027
        gbc.setState(0xe102, 0x5056, 0x7e00, 0x1ea9, 0xa295, 0x7afe, 0x1, 0x1);
        gbc.writeMem(0xe102, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x5056, gbc.sp());
        EXPECT(0xe104, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe102));
        EXPECT(0x6f, gbc.readMem(0xe103));
        // CB 6F 0028
        gbc.setState(0x2ec8, 0xb916, 0x5fd0, 0xbda6, 0xaf36, 0x7eea, 0x0, 0x1);
        gbc.writeMem(0x2ec8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xb916, gbc.sp());
        EXPECT(0x2eca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0029
        gbc.setState(0x823f, 0x542d, 0x82c0, 0x4e5a, 0x4900, 0x82fc, 0x1, 0x1);
        gbc.writeMem(0x823f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x542d, gbc.sp());
        EXPECT(0x8241, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x823f));
        EXPECT(0x6f, gbc.readMem(0x8240));
        // CB 6F 002A
        gbc.setState(0x163a, 0x3c18, 0x7600, 0xce60, 0x1ddd, 0x56ff, 0x1, 0x1);
        gbc.writeMem(0x163a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x3c18, gbc.sp());
        EXPECT(0x163c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 002B
        gbc.setState(0x1e25, 0x6698, 0x34d0, 0x6304, 0x6522, 0x1c97, 0x1, 0x0);
        gbc.writeMem(0x1e25, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x6698, gbc.sp());
        EXPECT(0x1e27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 002C
        gbc.setState(0x3dff, 0x1c6f, 0x7950, 0xd398, 0x7037, 0xf1fb, 0x0, 0x0);
        gbc.writeMem(0x3dff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x1c6f, gbc.sp());
        EXPECT(0x3e01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 002D
        gbc.setState(0xd368, 0xe14d, 0xc550, 0xa5b8, 0xf368, 0x3854, 0x1, 0x1);
        gbc.writeMem(0xd368, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xe14d, gbc.sp());
        EXPECT(0xd36a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd368));
        EXPECT(0x6f, gbc.readMem(0xd369));
        // CB 6F 002E
        gbc.setState(0x4d23, 0x9cd6, 0x800, 0x67ab, 0x9d1d, 0x8bd8, 0x0, 0x1);
        gbc.writeMem(0x4d23, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x9cd6, gbc.sp());
        EXPECT(0x4d25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 002F
        gbc.setState(0xb53a, 0xfc89, 0x3100, 0xc79c, 0x2c8b, 0xc09b, 0x0, 0x0);
        gbc.writeMem(0xb53a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xfc89, gbc.sp());
        EXPECT(0xb53c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb53a));
        EXPECT(0x6f, gbc.readMem(0xb53b));
        // CB 6F 0031
        gbc.setState(0x3f03, 0xee3f, 0x2bc0, 0x3bbb, 0xc978, 0xe070, 0x0, 0x1);
        gbc.writeMem(0x3f03, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xee3f, gbc.sp());
        EXPECT(0x3f05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0032
        gbc.setState(0x5f31, 0xf5b3, 0xc400, 0xac9d, 0xb2ed, 0x5948, 0x1, 0x1);
        gbc.writeMem(0x5f31, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xf5b3, gbc.sp());
        EXPECT(0x5f33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0033
        gbc.setState(0x8568, 0x80db, 0x990, 0x300e, 0x22a1, 0x4d05, 0x0, 0x0);
        gbc.writeMem(0x8568, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x80db, gbc.sp());
        EXPECT(0x856a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8568));
        EXPECT(0x6f, gbc.readMem(0x8569));
        // CB 6F 0034
        gbc.setState(0xc79f, 0x5b9f, 0x2b10, 0xc0bb, 0x2be0, 0x5538, 0x1, 0x1);
        gbc.writeMem(0xc79f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x5b9f, gbc.sp());
        EXPECT(0xc7a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc79f));
        EXPECT(0x6f, gbc.readMem(0xc7a0));
        // CB 6F 0035
        gbc.setState(0xee62, 0xe7dc, 0xf070, 0xe97, 0x6aab, 0xe102, 0x1, 0x1);
        gbc.writeMem(0xee62, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xe7dc, gbc.sp());
        EXPECT(0xee64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee62));
        EXPECT(0x6f, gbc.readMem(0xee63));
        // CB 6F 0036
        gbc.setState(0xae05, 0x3561, 0xac10, 0xac93, 0xda4e, 0x92ee, 0x1, 0x0);
        gbc.writeMem(0xae05, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x3561, gbc.sp());
        EXPECT(0xae07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae05));
        EXPECT(0x6f, gbc.readMem(0xae06));
        // CB 6F 0037
        gbc.setState(0xe9f3, 0x588a, 0xd470, 0xb0f7, 0x118f, 0x2837, 0x1, 0x0);
        gbc.writeMem(0xe9f3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x588a, gbc.sp());
        EXPECT(0xe9f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9f3));
        EXPECT(0x6f, gbc.readMem(0xe9f4));
        // CB 6F 0039
        gbc.setState(0x908e, 0xcf80, 0xb60, 0x6d96, 0xaf95, 0x4fc1, 0x1, 0x1);
        gbc.writeMem(0x908e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xcf80, gbc.sp());
        EXPECT(0x9090, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x908e));
        EXPECT(0x6f, gbc.readMem(0x908f));
        // CB 6F 003A
        gbc.setState(0xa6ef, 0xe46, 0x6890, 0xcd79, 0x4bd6, 0x72ff, 0x1, 0x0);
        gbc.writeMem(0xa6ef, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xe46, gbc.sp());
        EXPECT(0xa6f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6ef));
        EXPECT(0x6f, gbc.readMem(0xa6f0));
        // CB 6F 003B
        gbc.setState(0xbb48, 0xb342, 0xea60, 0xecc2, 0x7522, 0xfb9d, 0x1, 0x0);
        gbc.writeMem(0xbb48, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xb342, gbc.sp());
        EXPECT(0xbb4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb48));
        EXPECT(0x6f, gbc.readMem(0xbb49));
        // CB 6F 003C
        gbc.setState(0x835d, 0x9a47, 0xcd00, 0x25b0, 0x37d1, 0x5503, 0x1, 0x0);
        gbc.writeMem(0x835d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x9a47, gbc.sp());
        EXPECT(0x835f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x835d));
        EXPECT(0x6f, gbc.readMem(0x835e));
        // CB 6F 003D
        gbc.setState(0xc265, 0xfbae, 0x6f10, 0x909, 0x1e69, 0xbcbd, 0x0, 0x1);
        gbc.writeMem(0xc265, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xfbae, gbc.sp());
        EXPECT(0xc267, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc265));
        EXPECT(0x6f, gbc.readMem(0xc266));
        // CB 6F 003E
        gbc.setState(0xb8ef, 0x4d92, 0x5f70, 0xecc3, 0xceae, 0xec55, 0x1, 0x1);
        gbc.writeMem(0xb8ef, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x4d92, gbc.sp());
        EXPECT(0xb8f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb8ef));
        EXPECT(0x6f, gbc.readMem(0xb8f0));
        // CB 6F 003F
        gbc.setState(0xb70b, 0xa2d4, 0x720, 0x184a, 0xe90b, 0x5403, 0x1, 0x1);
        gbc.writeMem(0xb70b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xa2d4, gbc.sp());
        EXPECT(0xb70d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb70b));
        EXPECT(0x6f, gbc.readMem(0xb70c));
        // CB 6F 0040
        gbc.setState(0x7721, 0x9ff2, 0xb970, 0xef0d, 0x2ef0, 0xcb9c, 0x1, 0x1);
        gbc.writeMem(0x7721, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x9ff2, gbc.sp());
        EXPECT(0x7723, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0042
        gbc.setState(0x8ddf, 0xa8f, 0xe2a0, 0x5cb1, 0xecdd, 0xd0f0, 0x0, 0x1);
        gbc.writeMem(0x8ddf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xa8f, gbc.sp());
        EXPECT(0x8de1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ddf));
        EXPECT(0x6f, gbc.readMem(0x8de0));
        // CB 6F 0043
        gbc.setState(0xc26d, 0x6c91, 0x6430, 0x25c2, 0x9e96, 0x233, 0x1, 0x1);
        gbc.writeMem(0xc26d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x6c91, gbc.sp());
        EXPECT(0xc26f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc26d));
        EXPECT(0x6f, gbc.readMem(0xc26e));
        // CB 6F 0044
        gbc.setState(0x793d, 0x7b66, 0x6e60, 0x783b, 0x3723, 0x313e, 0x0, 0x0);
        gbc.writeMem(0x793d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x7b66, gbc.sp());
        EXPECT(0x793f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0045
        gbc.setState(0x4c7, 0x9b2d, 0xa320, 0x76e7, 0x75a4, 0xab6e, 0x0, 0x0);
        gbc.writeMem(0x4c7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x9b2d, gbc.sp());
        EXPECT(0x4c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0046
        gbc.setState(0x5e03, 0xa1cd, 0x33e0, 0xdb89, 0x5400, 0x9559, 0x1, 0x0);
        gbc.writeMem(0x5e03, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xa1cd, gbc.sp());
        EXPECT(0x5e05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0047
        gbc.setState(0x6bd7, 0xd42a, 0x640, 0xfc03, 0xdbca, 0x8eaf, 0x0, 0x1);
        gbc.writeMem(0x6bd7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xd42a, gbc.sp());
        EXPECT(0x6bd9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0049
        gbc.setState(0x66c8, 0xcffe, 0xcad0, 0x60a6, 0x287a, 0xdc8a, 0x1, 0x0);
        gbc.writeMem(0x66c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xcffe, gbc.sp());
        EXPECT(0x66ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 004A
        gbc.setState(0xe789, 0x3a40, 0xe920, 0xe311, 0xb399, 0x46a7, 0x0, 0x0);
        gbc.writeMem(0xe789, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x3a40, gbc.sp());
        EXPECT(0xe78b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe789));
        EXPECT(0x6f, gbc.readMem(0xe78a));
        // CB 6F 004B
        gbc.setState(0x4ce, 0x4c09, 0xa2d0, 0xf061, 0xc79d, 0x236, 0x1, 0x0);
        gbc.writeMem(0x4ce, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x4c09, gbc.sp());
        EXPECT(0x4d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 004C
        gbc.setState(0x70bc, 0x506b, 0x6ac0, 0xa598, 0xa901, 0x7d3e, 0x1, 0x0);
        gbc.writeMem(0x70bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x506b, gbc.sp());
        EXPECT(0x70be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 004D
        gbc.setState(0x44f7, 0x4449, 0xdba0, 0x9ba4, 0x6eb1, 0x52, 0x0, 0x1);
        gbc.writeMem(0x44f7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x4449, gbc.sp());
        EXPECT(0x44f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 004E
        gbc.setState(0xcc8c, 0x3f4, 0x7d00, 0x5409, 0x5f8c, 0x4e28, 0x1, 0x1);
        gbc.writeMem(0xcc8c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x3f4, gbc.sp());
        EXPECT(0xcc8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc8c));
        EXPECT(0x6f, gbc.readMem(0xcc8d));
        // CB 6F 004F
        gbc.setState(0x5e76, 0x53f6, 0xca30, 0x460c, 0x31b1, 0x33d8, 0x0, 0x0);
        gbc.writeMem(0x5e76, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x53f6, gbc.sp());
        EXPECT(0x5e78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0050
        gbc.setState(0xa2d8, 0xcec3, 0x9530, 0x8fc4, 0xb53e, 0x895d, 0x0, 0x1);
        gbc.writeMem(0xa2d8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xcec3, gbc.sp());
        EXPECT(0xa2da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2d8));
        EXPECT(0x6f, gbc.readMem(0xa2d9));
        // CB 6F 0052
        gbc.setState(0x94b9, 0xe8bc, 0xa650, 0xf0dc, 0xde18, 0x5f4, 0x1, 0x1);
        gbc.writeMem(0x94b9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xe8bc, gbc.sp());
        EXPECT(0x94bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x94b9));
        EXPECT(0x6f, gbc.readMem(0x94ba));
        // CB 6F 0053
        gbc.setState(0xc8d1, 0xd70e, 0xe560, 0x6677, 0xa944, 0x5b31, 0x1, 0x1);
        gbc.writeMem(0xc8d1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xd70e, gbc.sp());
        EXPECT(0xc8d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8d1));
        EXPECT(0x6f, gbc.readMem(0xc8d2));
        // CB 6F 0054
        gbc.setState(0x6dd1, 0xefa0, 0x8c90, 0x4427, 0x8406, 0x457, 0x0, 0x1);
        gbc.writeMem(0x6dd1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xefa0, gbc.sp());
        EXPECT(0x6dd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0055
        gbc.setState(0x42a9, 0x3a51, 0xbc50, 0xfbf5, 0xd22c, 0x6027, 0x0, 0x1);
        gbc.writeMem(0x42a9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x3a51, gbc.sp());
        EXPECT(0x42ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0057
        gbc.setState(0xc1a8, 0x6418, 0xb730, 0xc5f8, 0x17c2, 0xa826, 0x1, 0x1);
        gbc.writeMem(0xc1a8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x6418, gbc.sp());
        EXPECT(0xc1aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1a8));
        EXPECT(0x6f, gbc.readMem(0xc1a9));
        // CB 6F 0058
        gbc.setState(0x7d0a, 0x81c9, 0xb7d0, 0x4727, 0x9714, 0x3083, 0x1, 0x1);
        gbc.writeMem(0x7d0a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x81c9, gbc.sp());
        EXPECT(0x7d0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0059
        gbc.setState(0x96f4, 0xbb5d, 0x3510, 0x8bc9, 0x9e7a, 0x2afd, 0x1, 0x0);
        gbc.writeMem(0x96f4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xbb5d, gbc.sp());
        EXPECT(0x96f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96f4));
        EXPECT(0x6f, gbc.readMem(0x96f5));
        // CB 6F 005A
        gbc.setState(0x819c, 0x4540, 0xa170, 0x7955, 0x4edc, 0x8dbf, 0x1, 0x1);
        gbc.writeMem(0x819c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x4540, gbc.sp());
        EXPECT(0x819e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x819c));
        EXPECT(0x6f, gbc.readMem(0x819d));
        // CB 6F 005B
        gbc.setState(0xe67b, 0x176, 0xcda0, 0x27b9, 0x465d, 0xc2c, 0x1, 0x1);
        gbc.writeMem(0xe67b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x176, gbc.sp());
        EXPECT(0xe67d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe67b));
        EXPECT(0x6f, gbc.readMem(0xe67c));
        // CB 6F 005C
        gbc.setState(0x4eec, 0xed1b, 0x4c90, 0x5d24, 0xbd43, 0xd49c, 0x1, 0x1);
        gbc.writeMem(0x4eec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xed1b, gbc.sp());
        EXPECT(0x4eee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 005D
        gbc.setState(0xced, 0x48b8, 0xb0d0, 0x4e63, 0xbb49, 0x9cd8, 0x1, 0x0);
        gbc.writeMem(0xced, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x48b8, gbc.sp());
        EXPECT(0xcef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 005E
        gbc.setState(0x73d4, 0x8cee, 0x80b0, 0x8b9b, 0xa464, 0x24ea, 0x1, 0x0);
        gbc.writeMem(0x73d4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x8cee, gbc.sp());
        EXPECT(0x73d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 005F
        gbc.setState(0xb239, 0x40d5, 0x38f0, 0x3281, 0x45bd, 0x240e, 0x0, 0x0);
        gbc.writeMem(0xb239, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x40d5, gbc.sp());
        EXPECT(0xb23b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb239));
        EXPECT(0x6f, gbc.readMem(0xb23a));
        // CB 6F 0060
        gbc.setState(0x3b36, 0x1396, 0x8720, 0xea20, 0x8fed, 0x680f, 0x1, 0x1);
        gbc.writeMem(0x3b36, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x1396, gbc.sp());
        EXPECT(0x3b38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0061
        gbc.setState(0x84b7, 0x169b, 0x7520, 0x35e7, 0xfd67, 0xc438, 0x0, 0x1);
        gbc.writeMem(0x84b7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x169b, gbc.sp());
        EXPECT(0x84b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84b7));
        EXPECT(0x6f, gbc.readMem(0x84b8));
        // CB 6F 0062
        gbc.setState(0x4296, 0x3c02, 0xb490, 0x6d58, 0x4822, 0xf589, 0x1, 0x1);
        gbc.writeMem(0x4296, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x3c02, gbc.sp());
        EXPECT(0x4298, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0063
        gbc.setState(0x677e, 0xe10a, 0x20c0, 0x8839, 0x9f44, 0x30df, 0x0, 0x0);
        gbc.writeMem(0x677e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xe10a, gbc.sp());
        EXPECT(0x6780, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0064
        gbc.setState(0xd437, 0x92f0, 0x1f50, 0x6d15, 0x3a4f, 0x4fce, 0x0, 0x1);
        gbc.writeMem(0xd437, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x92f0, gbc.sp());
        EXPECT(0xd439, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd437));
        EXPECT(0x6f, gbc.readMem(0xd438));
        // CB 6F 0065
        gbc.setState(0xae32, 0xe541, 0x8e80, 0x98f2, 0xb70f, 0xd661, 0x0, 0x1);
        gbc.writeMem(0xae32, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xe541, gbc.sp());
        EXPECT(0xae34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae32));
        EXPECT(0x6f, gbc.readMem(0xae33));
        // CB 6F 0066
        gbc.setState(0xc917, 0x4069, 0x5a00, 0x1256, 0x64b7, 0x65e1, 0x0, 0x0);
        gbc.writeMem(0xc917, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x4069, gbc.sp());
        EXPECT(0xc919, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc917));
        EXPECT(0x6f, gbc.readMem(0xc918));
        // CB 6F 0067
        gbc.setState(0x3a00, 0xa4b4, 0x7450, 0xf6a, 0xf574, 0xb26b, 0x0, 0x0);
        gbc.writeMem(0x3a00, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xa4b4, gbc.sp());
        EXPECT(0x3a02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0068
        gbc.setState(0x160b, 0x8e02, 0x2b10, 0xfed8, 0x2d31, 0xf1db, 0x0, 0x1);
        gbc.writeMem(0x160b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x8e02, gbc.sp());
        EXPECT(0x160d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0069
        gbc.setState(0x6c0c, 0xdc55, 0x2fa0, 0x3064, 0xa690, 0xd9e, 0x1, 0x0);
        gbc.writeMem(0x6c0c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xdc55, gbc.sp());
        EXPECT(0x6c0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 006A
        gbc.setState(0x4c5f, 0x3119, 0x8330, 0x163, 0x8f3c, 0xe02e, 0x0, 0x1);
        gbc.writeMem(0x4c5f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x3119, gbc.sp());
        EXPECT(0x4c61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 006B
        gbc.setState(0x45de, 0xeb17, 0x6690, 0x9299, 0x2e6c, 0x7aec, 0x1, 0x1);
        gbc.writeMem(0x45de, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xeb17, gbc.sp());
        EXPECT(0x45e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 006C
        gbc.setState(0x54a5, 0xadaf, 0x5dd0, 0x76ee, 0xbc37, 0xd945, 0x1, 0x0);
        gbc.writeMem(0x54a5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xadaf, gbc.sp());
        EXPECT(0x54a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 006D
        gbc.setState(0x30e7, 0x769e, 0xf920, 0x3844, 0xa1e5, 0xb715, 0x0, 0x0);
        gbc.writeMem(0x30e7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x769e, gbc.sp());
        EXPECT(0x30e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 006E
        gbc.setState(0x3f7f, 0x1fa1, 0x8730, 0x3de1, 0xc392, 0xb63b, 0x1, 0x1);
        gbc.writeMem(0x3f7f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x1fa1, gbc.sp());
        EXPECT(0x3f81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 006F
        gbc.setState(0x347c, 0x1e6f, 0x910, 0xd070, 0x36c2, 0xebc9, 0x0, 0x0);
        gbc.writeMem(0x347c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x1e6f, gbc.sp());
        EXPECT(0x347e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0070
        gbc.setState(0x2990, 0xa82e, 0xfaf0, 0x4420, 0xb442, 0x7732, 0x1, 0x0);
        gbc.writeMem(0x2990, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xa82e, gbc.sp());
        EXPECT(0x2992, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0071
        gbc.setState(0x4ba2, 0x1522, 0x1f60, 0x164e, 0x4623, 0x50d8, 0x1, 0x1);
        gbc.writeMem(0x4ba2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x1522, gbc.sp());
        EXPECT(0x4ba4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0072
        gbc.setState(0x5139, 0xa8af, 0x4f10, 0x7d6c, 0x382c, 0x9fef, 0x0, 0x1);
        gbc.writeMem(0x5139, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xa8af, gbc.sp());
        EXPECT(0x513b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0073
        gbc.setState(0x384d, 0x6f0f, 0xa100, 0xca11, 0x8a3e, 0x5a2, 0x1, 0x1);
        gbc.writeMem(0x384d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x6f0f, gbc.sp());
        EXPECT(0x384f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0074
        gbc.setState(0x1c8d, 0x12af, 0x1480, 0x24e5, 0xb621, 0x48e1, 0x1, 0x0);
        gbc.writeMem(0x1c8d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x12af, gbc.sp());
        EXPECT(0x1c8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0075
        gbc.setState(0xd7f7, 0x658a, 0x4c20, 0x3ef8, 0x47cd, 0x5cf8, 0x0, 0x0);
        gbc.writeMem(0xd7f7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x658a, gbc.sp());
        EXPECT(0xd7f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7f7));
        EXPECT(0x6f, gbc.readMem(0xd7f8));
        // CB 6F 0076
        gbc.setState(0x6ad6, 0x2fa2, 0xd530, 0x7030, 0xfe5, 0xa6b4, 0x1, 0x0);
        gbc.writeMem(0x6ad6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x2fa2, gbc.sp());
        EXPECT(0x6ad8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0077
        gbc.setState(0x9e6d, 0xd725, 0x7c80, 0x5f05, 0xa539, 0x9bfe, 0x0, 0x1);
        gbc.writeMem(0x9e6d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xd725, gbc.sp());
        EXPECT(0x9e6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e6d));
        EXPECT(0x6f, gbc.readMem(0x9e6e));
        // CB 6F 0078
        gbc.setState(0x444a, 0x4b2d, 0xdf20, 0x68d2, 0x5537, 0x6808, 0x0, 0x1);
        gbc.writeMem(0x444a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x4b2d, gbc.sp());
        EXPECT(0x444c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 007A
        gbc.setState(0x8233, 0x6ddd, 0x3c0, 0xa336, 0x62ee, 0xecd, 0x1, 0x0);
        gbc.writeMem(0x8233, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x6ddd, gbc.sp());
        EXPECT(0x8235, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8233));
        EXPECT(0x6f, gbc.readMem(0x8234));
        // CB 6F 007B
        gbc.setState(0x3f5, 0x1e79, 0x9d60, 0x11e4, 0x1172, 0xefc3, 0x0, 0x1);
        gbc.writeMem(0x3f5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x1e79, gbc.sp());
        EXPECT(0x3f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 007C
        gbc.setState(0x8cb2, 0xf19, 0xa360, 0x5f8a, 0x9f7f, 0x8f4a, 0x1, 0x1);
        gbc.writeMem(0x8cb2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xf19, gbc.sp());
        EXPECT(0x8cb4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cb2));
        EXPECT(0x6f, gbc.readMem(0x8cb3));
        // CB 6F 007D
        gbc.setState(0x6591, 0xc98d, 0x1f10, 0xf3e1, 0xe732, 0x577c, 0x1, 0x0);
        gbc.writeMem(0x6591, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xc98d, gbc.sp());
        EXPECT(0x6593, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 007E
        gbc.setState(0xa49c, 0xf08c, 0x2710, 0x389d, 0xd248, 0x3219, 0x0, 0x1);
        gbc.writeMem(0xa49c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xf08c, gbc.sp());
        EXPECT(0xa49e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa49c));
        EXPECT(0x6f, gbc.readMem(0xa49d));
        // CB 6F 007F
        gbc.setState(0x4960, 0xc6e5, 0x8a40, 0x4a7, 0x8c31, 0xa9c, 0x0, 0x1);
        gbc.writeMem(0x4960, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xc6e5, gbc.sp());
        EXPECT(0x4962, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0080
        gbc.setState(0x30ed, 0xed1, 0x3c60, 0xcd42, 0xe7a4, 0x4106, 0x1, 0x0);
        gbc.writeMem(0x30ed, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xed1, gbc.sp());
        EXPECT(0x30ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0083
        gbc.setState(0xeb3, 0xc031, 0xbdb0, 0x2913, 0x3218, 0xd848, 0x1, 0x0);
        gbc.writeMem(0xeb3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xc031, gbc.sp());
        EXPECT(0xeb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0084
        gbc.setState(0x876e, 0x2f4d, 0x3510, 0x5a8c, 0xb418, 0xe23, 0x1, 0x1);
        gbc.writeMem(0x876e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x2f4d, gbc.sp());
        EXPECT(0x8770, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x876e));
        EXPECT(0x6f, gbc.readMem(0x876f));
        // CB 6F 0085
        gbc.setState(0xaad5, 0x9d92, 0xf6f0, 0x5291, 0x9c61, 0xe770, 0x1, 0x0);
        gbc.writeMem(0xaad5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x9d92, gbc.sp());
        EXPECT(0xaad7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaad5));
        EXPECT(0x6f, gbc.readMem(0xaad6));
        // CB 6F 0086
        gbc.setState(0x4ca5, 0x853, 0xaef0, 0xe870, 0xd37d, 0x4d7c, 0x0, 0x1);
        gbc.writeMem(0x4ca5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x853, gbc.sp());
        EXPECT(0x4ca7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0087
        gbc.setState(0x5f67, 0xb2c5, 0x43f0, 0x5642, 0xaf07, 0xc9a, 0x0, 0x0);
        gbc.writeMem(0x5f67, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xb2c5, gbc.sp());
        EXPECT(0x5f69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0088
        gbc.setState(0x58e4, 0xb12f, 0x4a10, 0x4e5a, 0x3c80, 0xa717, 0x1, 0x0);
        gbc.writeMem(0x58e4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xb12f, gbc.sp());
        EXPECT(0x58e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0089
        gbc.setState(0xced4, 0x1e13, 0x8df0, 0xd06a, 0x26fe, 0xd8aa, 0x1, 0x0);
        gbc.writeMem(0xced4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x1e13, gbc.sp());
        EXPECT(0xced6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xced4));
        EXPECT(0x6f, gbc.readMem(0xced5));
        // CB 6F 008A
        gbc.setState(0xc89a, 0xdcff, 0xea0, 0xbd97, 0xb69d, 0xeea5, 0x0, 0x0);
        gbc.writeMem(0xc89a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xdcff, gbc.sp());
        EXPECT(0xc89c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc89a));
        EXPECT(0x6f, gbc.readMem(0xc89b));
        // CB 6F 008B
        gbc.setState(0x3d66, 0xb10f, 0xf610, 0x7cd0, 0xb8c6, 0xd2d7, 0x0, 0x1);
        gbc.writeMem(0x3d66, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xb10f, gbc.sp());
        EXPECT(0x3d68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 008C
        gbc.setState(0xe82c, 0xd13b, 0xd20, 0xd754, 0xe614, 0x8e6e, 0x0, 0x1);
        gbc.writeMem(0xe82c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xd13b, gbc.sp());
        EXPECT(0xe82e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe82c));
        EXPECT(0x6f, gbc.readMem(0xe82d));
        // CB 6F 008D
        gbc.setState(0x119a, 0x60df, 0xae10, 0x4acc, 0x7c44, 0x385d, 0x1, 0x1);
        gbc.writeMem(0x119a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x60df, gbc.sp());
        EXPECT(0x119c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 008E
        gbc.setState(0x1c7d, 0x1bcc, 0x4d20, 0xf6e2, 0xf751, 0x5d5a, 0x0, 0x0);
        gbc.writeMem(0x1c7d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x1bcc, gbc.sp());
        EXPECT(0x1c7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 008F
        gbc.setState(0x63ce, 0xf736, 0x6aa0, 0xfb1a, 0x3cc0, 0xeeb7, 0x1, 0x0);
        gbc.writeMem(0x63ce, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xf736, gbc.sp());
        EXPECT(0x63d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0090
        gbc.setState(0xb40c, 0xc7a6, 0xf100, 0x8bf0, 0xfd05, 0x3b1, 0x0, 0x1);
        gbc.writeMem(0xb40c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xc7a6, gbc.sp());
        EXPECT(0xb40e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb40c));
        EXPECT(0x6f, gbc.readMem(0xb40d));
        // CB 6F 0091
        gbc.setState(0xefdb, 0xe921, 0x8fe0, 0x4693, 0x6808, 0x580d, 0x0, 0x1);
        gbc.writeMem(0xefdb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xe921, gbc.sp());
        EXPECT(0xefdd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefdb));
        EXPECT(0x6f, gbc.readMem(0xefdc));
        // CB 6F 0092
        gbc.setState(0x6ff9, 0x4d70, 0x2b60, 0x6d14, 0xafbd, 0xd6d1, 0x1, 0x1);
        gbc.writeMem(0x6ff9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x4d70, gbc.sp());
        EXPECT(0x6ffb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0093
        gbc.setState(0xb3f8, 0xe8ec, 0x3820, 0xf300, 0xf378, 0x75ac, 0x0, 0x1);
        gbc.writeMem(0xb3f8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xe8ec, gbc.sp());
        EXPECT(0xb3fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3f8));
        EXPECT(0x6f, gbc.readMem(0xb3f9));
        // CB 6F 0094
        gbc.setState(0xdd25, 0xe76c, 0x4e60, 0x5f51, 0x9cd6, 0xafc6, 0x1, 0x1);
        gbc.writeMem(0xdd25, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xe76c, gbc.sp());
        EXPECT(0xdd27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd25));
        EXPECT(0x6f, gbc.readMem(0xdd26));
        // CB 6F 0095
        gbc.setState(0x8c3f, 0xad6d, 0xaf10, 0x12ad, 0x83fd, 0x261a, 0x1, 0x1);
        gbc.writeMem(0x8c3f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xad6d, gbc.sp());
        EXPECT(0x8c41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c3f));
        EXPECT(0x6f, gbc.readMem(0x8c40));
        // CB 6F 0096
        gbc.setState(0x7798, 0x4ebd, 0xfae0, 0x5b95, 0x7ddf, 0xbd4f, 0x1, 0x1);
        gbc.writeMem(0x7798, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x4ebd, gbc.sp());
        EXPECT(0x779a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0097
        gbc.setState(0xb296, 0xd5f4, 0x89b0, 0x2887, 0x8aa, 0x7d76, 0x0, 0x0);
        gbc.writeMem(0xb296, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xd5f4, gbc.sp());
        EXPECT(0xb298, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb296));
        EXPECT(0x6f, gbc.readMem(0xb297));
        // CB 6F 0098
        gbc.setState(0x982b, 0x7735, 0xbc0, 0xd037, 0xcff6, 0x46b5, 0x1, 0x1);
        gbc.writeMem(0x982b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x7735, gbc.sp());
        EXPECT(0x982d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x982b));
        EXPECT(0x6f, gbc.readMem(0x982c));
        // CB 6F 0099
        gbc.setState(0x79d2, 0xfd4b, 0x49f0, 0x1042, 0x3101, 0x3d94, 0x0, 0x1);
        gbc.writeMem(0x79d2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xfd4b, gbc.sp());
        EXPECT(0x79d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 009A
        gbc.setState(0xee8d, 0x3420, 0xb3d0, 0xf366, 0x7b91, 0xb860, 0x0, 0x1);
        gbc.writeMem(0xee8d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x3420, gbc.sp());
        EXPECT(0xee8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee8d));
        EXPECT(0x6f, gbc.readMem(0xee8e));
        // CB 6F 009B
        gbc.setState(0xaa2d, 0xea27, 0x1210, 0x6eaa, 0xfed4, 0xd1f1, 0x0, 0x1);
        gbc.writeMem(0xaa2d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xea27, gbc.sp());
        EXPECT(0xaa2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa2d));
        EXPECT(0x6f, gbc.readMem(0xaa2e));
        // CB 6F 009C
        gbc.setState(0x4e87, 0x2a15, 0xe3c0, 0x30b0, 0x6692, 0x5a7, 0x0, 0x0);
        gbc.writeMem(0x4e87, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x2a15, gbc.sp());
        EXPECT(0x4e89, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 009D
        gbc.setState(0xc5f5, 0x7092, 0x5e30, 0x6854, 0xb406, 0x98be, 0x0, 0x0);
        gbc.writeMem(0xc5f5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x7092, gbc.sp());
        EXPECT(0xc5f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5f5));
        EXPECT(0x6f, gbc.readMem(0xc5f6));
        // CB 6F 009E
        gbc.setState(0x7b75, 0x2d71, 0x2850, 0x9ada, 0x978d, 0xe7db, 0x0, 0x0);
        gbc.writeMem(0x7b75, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x2d71, gbc.sp());
        EXPECT(0x7b77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 009F
        gbc.setState(0x4596, 0xac71, 0xa510, 0x1feb, 0x3eb0, 0xed6d, 0x0, 0x0);
        gbc.writeMem(0x4596, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xac71, gbc.sp());
        EXPECT(0x4598, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00A0
        gbc.setState(0x2034, 0x73a1, 0xa350, 0x3376, 0x1d90, 0x4a4b, 0x0, 0x0);
        gbc.writeMem(0x2034, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x73a1, gbc.sp());
        EXPECT(0x2036, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00A1
        gbc.setState(0xbecd, 0xf2b6, 0x7140, 0x11cc, 0xc7b8, 0x3756, 0x1, 0x0);
        gbc.writeMem(0xbecd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xf2b6, gbc.sp());
        EXPECT(0xbecf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbecd));
        EXPECT(0x6f, gbc.readMem(0xbece));
        // CB 6F 00A2
        gbc.setState(0xe8e6, 0x44a5, 0x3fd0, 0x7ea5, 0x43d8, 0xc9da, 0x1, 0x0);
        gbc.writeMem(0xe8e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x44a5, gbc.sp());
        EXPECT(0xe8e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8e6));
        EXPECT(0x6f, gbc.readMem(0xe8e7));
        // CB 6F 00A3
        gbc.setState(0x4d85, 0x410e, 0x2990, 0xd691, 0x6542, 0xf705, 0x0, 0x0);
        gbc.writeMem(0x4d85, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x410e, gbc.sp());
        EXPECT(0x4d87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00A4
        gbc.setState(0x7a7c, 0xa343, 0x2190, 0xeef1, 0x4f9c, 0x4ae2, 0x1, 0x1);
        gbc.writeMem(0x7a7c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xa343, gbc.sp());
        EXPECT(0x7a7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00A5
        gbc.setState(0xca5, 0x8a41, 0xe9b0, 0x4d75, 0x3f3f, 0x2804, 0x0, 0x1);
        gbc.writeMem(0xca5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x8a41, gbc.sp());
        EXPECT(0xca7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00A6
        gbc.setState(0x5ba8, 0xe7d7, 0x9340, 0x70c, 0x6cdb, 0x2ccb, 0x0, 0x0);
        gbc.writeMem(0x5ba8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xe7d7, gbc.sp());
        EXPECT(0x5baa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00A7
        gbc.setState(0xa8d8, 0x65f8, 0x9250, 0x2437, 0x3c52, 0x8ba3, 0x1, 0x1);
        gbc.writeMem(0xa8d8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x65f8, gbc.sp());
        EXPECT(0xa8da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8d8));
        EXPECT(0x6f, gbc.readMem(0xa8d9));
        // CB 6F 00A8
        gbc.setState(0xeda8, 0xdd9b, 0xb530, 0xb7d4, 0xa6e0, 0x9364, 0x1, 0x0);
        gbc.writeMem(0xeda8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xdd9b, gbc.sp());
        EXPECT(0xedaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeda8));
        EXPECT(0x6f, gbc.readMem(0xeda9));
        // CB 6F 00A9
        gbc.setState(0x2189, 0x2671, 0xff0, 0x3328, 0x90e8, 0xa8c3, 0x1, 0x1);
        gbc.writeMem(0x2189, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x2671, gbc.sp());
        EXPECT(0x218b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00AA
        gbc.setState(0x44b0, 0xbfde, 0xfb10, 0xcf2e, 0xc3ae, 0x3910, 0x1, 0x1);
        gbc.writeMem(0x44b0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xbfde, gbc.sp());
        EXPECT(0x44b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00AB
        gbc.setState(0x1074, 0xf6d, 0xc470, 0xcccd, 0x7459, 0x1081, 0x0, 0x0);
        gbc.writeMem(0x1074, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xf6d, gbc.sp());
        EXPECT(0x1076, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00AC
        gbc.setState(0xd30c, 0x7841, 0x9790, 0xf696, 0x3678, 0xa834, 0x1, 0x1);
        gbc.writeMem(0xd30c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x7841, gbc.sp());
        EXPECT(0xd30e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd30c));
        EXPECT(0x6f, gbc.readMem(0xd30d));
        // CB 6F 00AD
        gbc.setState(0xeef0, 0xc7c, 0x3ef0, 0x29f3, 0x919f, 0xf7f0, 0x1, 0x0);
        gbc.writeMem(0xeef0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xc7c, gbc.sp());
        EXPECT(0xeef2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeef0));
        EXPECT(0x6f, gbc.readMem(0xeef1));
        // CB 6F 00AE
        gbc.setState(0x53b6, 0x5ff9, 0x2760, 0x5e1e, 0x4c44, 0x14e8, 0x0, 0x0);
        gbc.writeMem(0x53b6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x5ff9, gbc.sp());
        EXPECT(0x53b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00AF
        gbc.setState(0x651c, 0x4f54, 0x63c0, 0x5d4c, 0x1e91, 0x9130, 0x0, 0x1);
        gbc.writeMem(0x651c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x4f54, gbc.sp());
        EXPECT(0x651e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00B0
        gbc.setState(0x206b, 0x812a, 0x66c0, 0xd256, 0x9d6c, 0xecbd, 0x0, 0x0);
        gbc.writeMem(0x206b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x812a, gbc.sp());
        EXPECT(0x206d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00B1
        gbc.setState(0xb4d0, 0xae19, 0xdc10, 0x39f4, 0x5b5d, 0x75a7, 0x1, 0x1);
        gbc.writeMem(0xb4d0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xae19, gbc.sp());
        EXPECT(0xb4d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4d0));
        EXPECT(0x6f, gbc.readMem(0xb4d1));
        // CB 6F 00B2
        gbc.setState(0xb068, 0x6e7d, 0x7770, 0x1de, 0xe6d0, 0x39de, 0x1, 0x1);
        gbc.writeMem(0xb068, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x6e7d, gbc.sp());
        EXPECT(0xb06a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb068));
        EXPECT(0x6f, gbc.readMem(0xb069));
        // CB 6F 00B3
        gbc.setState(0x7b1e, 0xc357, 0x1ba0, 0x6c12, 0x8f75, 0x7596, 0x0, 0x1);
        gbc.writeMem(0x7b1e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xc357, gbc.sp());
        EXPECT(0x7b20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00B4
        gbc.setState(0xdb3, 0x1aef, 0x5bb0, 0x7e7c, 0x5f24, 0xda06, 0x0, 0x0);
        gbc.writeMem(0xdb3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x1aef, gbc.sp());
        EXPECT(0xdb5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00B5
        gbc.setState(0xdcf4, 0x72ba, 0xdfe0, 0x66d1, 0xe068, 0xde81, 0x1, 0x1);
        gbc.writeMem(0xdcf4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x72ba, gbc.sp());
        EXPECT(0xdcf6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcf4));
        EXPECT(0x6f, gbc.readMem(0xdcf5));
        // CB 6F 00B7
        gbc.setState(0xd968, 0xc01b, 0x97a0, 0x49b4, 0x4ec2, 0x6d3b, 0x1, 0x0);
        gbc.writeMem(0xd968, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xc01b, gbc.sp());
        EXPECT(0xd96a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd968));
        EXPECT(0x6f, gbc.readMem(0xd969));
        // CB 6F 00B8
        gbc.setState(0x7078, 0xb36f, 0x1040, 0xc900, 0xd2b6, 0xac9b, 0x1, 0x0);
        gbc.writeMem(0x7078, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xb36f, gbc.sp());
        EXPECT(0x707a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00B9
        gbc.setState(0x7a84, 0x4cc0, 0x7b20, 0xb8df, 0x9d38, 0x79cf, 0x0, 0x1);
        gbc.writeMem(0x7a84, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x4cc0, gbc.sp());
        EXPECT(0x7a86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00BA
        gbc.setState(0xb3de, 0x2f7d, 0x5ef0, 0x6b21, 0xe9, 0x1516, 0x1, 0x0);
        gbc.writeMem(0xb3de, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x2f7d, gbc.sp());
        EXPECT(0xb3e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3de));
        EXPECT(0x6f, gbc.readMem(0xb3df));
        // CB 6F 00BB
        gbc.setState(0xce50, 0x6963, 0x55b0, 0xc2e4, 0x2a59, 0x700d, 0x0, 0x0);
        gbc.writeMem(0xce50, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x6963, gbc.sp());
        EXPECT(0xce52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce50));
        EXPECT(0x6f, gbc.readMem(0xce51));
        // CB 6F 00BC
        gbc.setState(0x719f, 0xcb15, 0xa100, 0x70ed, 0x982, 0xeab4, 0x1, 0x0);
        gbc.writeMem(0x719f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xcb15, gbc.sp());
        EXPECT(0x71a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00BD
        gbc.setState(0xa81e, 0x34c0, 0x8de0, 0xedbf, 0xc37f, 0x5246, 0x1, 0x1);
        gbc.writeMem(0xa81e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x34c0, gbc.sp());
        EXPECT(0xa820, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa81e));
        EXPECT(0x6f, gbc.readMem(0xa81f));
        // CB 6F 00BE
        gbc.setState(0x6b27, 0xdf23, 0xd7d0, 0x8c64, 0x2544, 0x8918, 0x1, 0x1);
        gbc.writeMem(0x6b27, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xdf23, gbc.sp());
        EXPECT(0x6b29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00BF
        gbc.setState(0xc507, 0xf9ce, 0x66a0, 0xcfb3, 0x7af8, 0x3ae8, 0x1, 0x0);
        gbc.writeMem(0xc507, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xf9ce, gbc.sp());
        EXPECT(0xc509, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc507));
        EXPECT(0x6f, gbc.readMem(0xc508));
        // CB 6F 00C0
        gbc.setState(0xdba3, 0x6ab1, 0xdef0, 0xe287, 0x5b7, 0xb62, 0x0, 0x0);
        gbc.writeMem(0xdba3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x6ab1, gbc.sp());
        EXPECT(0xdba5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdba3));
        EXPECT(0x6f, gbc.readMem(0xdba4));
        // CB 6F 00C1
        gbc.setState(0xb2c8, 0x233d, 0xdaa0, 0xaf01, 0x766e, 0x45e5, 0x0, 0x1);
        gbc.writeMem(0xb2c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x233d, gbc.sp());
        EXPECT(0xb2ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2c8));
        EXPECT(0x6f, gbc.readMem(0xb2c9));
        // CB 6F 00C2
        gbc.setState(0x569d, 0xd003, 0x9520, 0x39f6, 0xdd4c, 0x998d, 0x1, 0x1);
        gbc.writeMem(0x569d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xd003, gbc.sp());
        EXPECT(0x569f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00C3
        gbc.setState(0xb3b, 0x74c8, 0xf760, 0xfde3, 0x7208, 0x11e3, 0x0, 0x0);
        gbc.writeMem(0xb3b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x74c8, gbc.sp());
        EXPECT(0xb3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00C4
        gbc.setState(0x9afd, 0xad95, 0xc4c0, 0xa1ae, 0x9afa, 0x5b19, 0x0, 0x0);
        gbc.writeMem(0x9afd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xad95, gbc.sp());
        EXPECT(0x9aff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9afd));
        EXPECT(0x6f, gbc.readMem(0x9afe));
        // CB 6F 00C5
        gbc.setState(0xdabf, 0x980e, 0x25a0, 0x788c, 0x35db, 0x4ce5, 0x0, 0x0);
        gbc.writeMem(0xdabf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x980e, gbc.sp());
        EXPECT(0xdac1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdabf));
        EXPECT(0x6f, gbc.readMem(0xdac0));
        // CB 6F 00C6
        gbc.setState(0x5b7f, 0x6f0a, 0x6d40, 0xd796, 0x87c7, 0xf323, 0x0, 0x0);
        gbc.writeMem(0x5b7f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x6f0a, gbc.sp());
        EXPECT(0x5b81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00C7
        gbc.setState(0xa99a, 0x27d6, 0x55a0, 0x715c, 0x5a4b, 0x3327, 0x1, 0x0);
        gbc.writeMem(0xa99a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x27d6, gbc.sp());
        EXPECT(0xa99c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa99a));
        EXPECT(0x6f, gbc.readMem(0xa99b));
        // CB 6F 00C8
        gbc.setState(0x5c5f, 0x7083, 0x79f0, 0xa607, 0x4983, 0xed33, 0x0, 0x0);
        gbc.writeMem(0x5c5f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x7083, gbc.sp());
        EXPECT(0x5c61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00C9
        gbc.setState(0x8036, 0x7203, 0xe6f0, 0xe486, 0xd7a1, 0xc6d5, 0x0, 0x1);
        gbc.writeMem(0x8036, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x7203, gbc.sp());
        EXPECT(0x8038, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8036));
        EXPECT(0x6f, gbc.readMem(0x8037));
        // CB 6F 00CA
        gbc.setState(0xdd00, 0x2336, 0x9510, 0xebb2, 0x6eb9, 0x7ec8, 0x0, 0x1);
        gbc.writeMem(0xdd00, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x2336, gbc.sp());
        EXPECT(0xdd02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd00));
        EXPECT(0x6f, gbc.readMem(0xdd01));
        // CB 6F 00CB
        gbc.setState(0xea3c, 0xc40b, 0x770, 0xaee1, 0x96a3, 0x5d59, 0x0, 0x1);
        gbc.writeMem(0xea3c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xc40b, gbc.sp());
        EXPECT(0xea3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea3c));
        EXPECT(0x6f, gbc.readMem(0xea3d));
        // CB 6F 00CC
        gbc.setState(0x24e7, 0x3231, 0x2f00, 0xe3cb, 0xa2af, 0xd574, 0x1, 0x0);
        gbc.writeMem(0x24e7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x3231, gbc.sp());
        EXPECT(0x24e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00CD
        gbc.setState(0x7398, 0x21fa, 0x19e0, 0x2ffe, 0x3f25, 0x7cb2, 0x1, 0x1);
        gbc.writeMem(0x7398, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x21fa, gbc.sp());
        EXPECT(0x739a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00CE
        gbc.setState(0x4185, 0xc095, 0x9a00, 0x7c59, 0xfd58, 0x3c1a, 0x0, 0x0);
        gbc.writeMem(0x4185, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xc095, gbc.sp());
        EXPECT(0x4187, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00CF
        gbc.setState(0x3815, 0xe6b5, 0x4060, 0xa261, 0xf2f4, 0xeaae, 0x1, 0x1);
        gbc.writeMem(0x3815, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xe6b5, gbc.sp());
        EXPECT(0x3817, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00D0
        gbc.setState(0xde0f, 0xd079, 0xa130, 0xf159, 0x63d8, 0x67b1, 0x0, 0x1);
        gbc.writeMem(0xde0f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xd079, gbc.sp());
        EXPECT(0xde11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde0f));
        EXPECT(0x6f, gbc.readMem(0xde10));
        // CB 6F 00D1
        gbc.setState(0x9211, 0x4355, 0xd8d0, 0xecb0, 0xf6e0, 0x83b5, 0x0, 0x1);
        gbc.writeMem(0x9211, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x4355, gbc.sp());
        EXPECT(0x9213, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9211));
        EXPECT(0x6f, gbc.readMem(0x9212));
        // CB 6F 00D2
        gbc.setState(0x5184, 0xae0e, 0x7e20, 0x8e91, 0xc82a, 0x34dc, 0x1, 0x1);
        gbc.writeMem(0x5184, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xae0e, gbc.sp());
        EXPECT(0x5186, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00D4
        gbc.setState(0x5a0f, 0x52c7, 0x9c40, 0xf9b5, 0xe70e, 0x452b, 0x1, 0x1);
        gbc.writeMem(0x5a0f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x52c7, gbc.sp());
        EXPECT(0x5a11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00D5
        gbc.setState(0x6bb9, 0x343, 0x4af0, 0x5516, 0x85c0, 0xfdf4, 0x0, 0x0);
        gbc.writeMem(0x6bb9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x343, gbc.sp());
        EXPECT(0x6bbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00D6
        gbc.setState(0xde5e, 0x2305, 0x3810, 0xed7d, 0x8d51, 0xaf43, 0x1, 0x1);
        gbc.writeMem(0xde5e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x2305, gbc.sp());
        EXPECT(0xde60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde5e));
        EXPECT(0x6f, gbc.readMem(0xde5f));
        // CB 6F 00D7
        gbc.setState(0x1cda, 0x93b4, 0x2a00, 0x2b6b, 0xe81e, 0x864, 0x1, 0x1);
        gbc.writeMem(0x1cda, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x93b4, gbc.sp());
        EXPECT(0x1cdc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00D8
        gbc.setState(0x8cf, 0xbbbd, 0x3600, 0xf6d3, 0x676c, 0xb99c, 0x1, 0x0);
        gbc.writeMem(0x8cf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xbbbd, gbc.sp());
        EXPECT(0x8d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00D9
        gbc.setState(0xbc96, 0x568a, 0x590, 0x605b, 0xbd06, 0xe186, 0x0, 0x1);
        gbc.writeMem(0xbc96, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x568a, gbc.sp());
        EXPECT(0xbc98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc96));
        EXPECT(0x6f, gbc.readMem(0xbc97));
        // CB 6F 00DB
        gbc.setState(0xe2bc, 0x857, 0x3330, 0x3c1f, 0xb578, 0x5b14, 0x1, 0x1);
        gbc.writeMem(0xe2bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x857, gbc.sp());
        EXPECT(0xe2be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2bc));
        EXPECT(0x6f, gbc.readMem(0xe2bd));
        // CB 6F 00DD
        gbc.setState(0xe536, 0x36f0, 0x2ac0, 0x2e4d, 0xa625, 0x6801, 0x0, 0x0);
        gbc.writeMem(0xe536, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x36f0, gbc.sp());
        EXPECT(0xe538, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe536));
        EXPECT(0x6f, gbc.readMem(0xe537));
        // CB 6F 00DE
        gbc.setState(0x15ee, 0x5f8, 0x9260, 0xc0aa, 0x3587, 0xba73, 0x1, 0x0);
        gbc.writeMem(0x15ee, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x5f8, gbc.sp());
        EXPECT(0x15f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00DF
        gbc.setState(0x7d8b, 0x8afc, 0xaaf0, 0xe9aa, 0x64d1, 0xab10, 0x1, 0x0);
        gbc.writeMem(0x7d8b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x8afc, gbc.sp());
        EXPECT(0x7d8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00E0
        gbc.setState(0xbbb5, 0x302a, 0x4300, 0xd21d, 0xfa4f, 0xae5e, 0x1, 0x0);
        gbc.writeMem(0xbbb5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x302a, gbc.sp());
        EXPECT(0xbbb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbb5));
        EXPECT(0x6f, gbc.readMem(0xbbb6));
        // CB 6F 00E1
        gbc.setState(0x4794, 0x30ec, 0x9590, 0xb1b6, 0xf28c, 0x5af4, 0x0, 0x0);
        gbc.writeMem(0x4794, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x30ec, gbc.sp());
        EXPECT(0x4796, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00E2
        gbc.setState(0xcbfb, 0x1642, 0xbb0, 0xbda4, 0x3118, 0x75b0, 0x1, 0x1);
        gbc.writeMem(0xcbfb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x1642, gbc.sp());
        EXPECT(0xcbfd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbfb));
        EXPECT(0x6f, gbc.readMem(0xcbfc));
        // CB 6F 00E3
        gbc.setState(0x6e7a, 0xa86f, 0xfaa0, 0x2423, 0x5512, 0x88f2, 0x1, 0x0);
        gbc.writeMem(0x6e7a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xa86f, gbc.sp());
        EXPECT(0x6e7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00E5
        gbc.setState(0x54c8, 0x835f, 0xe0, 0xe29f, 0x10f3, 0xbe3b, 0x1, 0x0);
        gbc.writeMem(0x54c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x835f, gbc.sp());
        EXPECT(0x54ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00E6
        gbc.setState(0x5121, 0x12e7, 0xfc60, 0x1f55, 0xd5f8, 0x322f, 0x0, 0x1);
        gbc.writeMem(0x5121, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x12e7, gbc.sp());
        EXPECT(0x5123, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00E7
        gbc.setState(0x7c7c, 0xbbf3, 0x8210, 0x859a, 0xc0e6, 0xe540, 0x0, 0x1);
        gbc.writeMem(0x7c7c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xbbf3, gbc.sp());
        EXPECT(0x7c7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00E8
        gbc.setState(0x3271, 0x295b, 0xf320, 0x98aa, 0x45b6, 0xf934, 0x0, 0x1);
        gbc.writeMem(0x3271, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x295b, gbc.sp());
        EXPECT(0x3273, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00E9
        gbc.setState(0x8ed2, 0xcc8d, 0x34d0, 0x60c7, 0xc0ed, 0xe384, 0x1, 0x1);
        gbc.writeMem(0x8ed2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xcc8d, gbc.sp());
        EXPECT(0x8ed4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ed2));
        EXPECT(0x6f, gbc.readMem(0x8ed3));
        // CB 6F 00EA
        gbc.setState(0xa91d, 0x8b99, 0x5690, 0x70c, 0x208, 0x74e4, 0x0, 0x1);
        gbc.writeMem(0xa91d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x8b99, gbc.sp());
        EXPECT(0xa91f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa91d));
        EXPECT(0x6f, gbc.readMem(0xa91e));
        // CB 6F 00EB
        gbc.setState(0x9e22, 0x6a5d, 0x4220, 0x39ec, 0x6521, 0x2c84, 0x0, 0x0);
        gbc.writeMem(0x9e22, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6a5d, gbc.sp());
        EXPECT(0x9e24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e22));
        EXPECT(0x6f, gbc.readMem(0x9e23));
        // CB 6F 00EC
        gbc.setState(0x5beb, 0x2dd8, 0xa390, 0x7e50, 0x3dcc, 0x6994, 0x1, 0x0);
        gbc.writeMem(0x5beb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x2dd8, gbc.sp());
        EXPECT(0x5bed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00ED
        gbc.setState(0xb618, 0xae4a, 0x1de0, 0x590e, 0x1fbf, 0x2e98, 0x0, 0x0);
        gbc.writeMem(0xb618, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xae4a, gbc.sp());
        EXPECT(0xb61a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb618));
        EXPECT(0x6f, gbc.readMem(0xb619));
        // CB 6F 00EF
        gbc.setState(0xc9d, 0x3869, 0x4930, 0xe222, 0x683, 0x2f8a, 0x1, 0x1);
        gbc.writeMem(0xc9d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x3869, gbc.sp());
        EXPECT(0xc9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00F0
        gbc.setState(0x3dac, 0x6d88, 0xf010, 0xbdd5, 0x8570, 0xc0d, 0x0, 0x0);
        gbc.writeMem(0x3dac, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x6d88, gbc.sp());
        EXPECT(0x3dae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00F1
        gbc.setState(0xa831, 0x436e, 0x28e0, 0xa197, 0xc0da, 0xae55, 0x1, 0x1);
        gbc.writeMem(0xa831, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x436e, gbc.sp());
        EXPECT(0xa833, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa831));
        EXPECT(0x6f, gbc.readMem(0xa832));
        // CB 6F 00F2
        gbc.setState(0xa020, 0x5315, 0x2810, 0x3376, 0xf7b2, 0x933, 0x0, 0x1);
        gbc.writeMem(0xa020, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x5315, gbc.sp());
        EXPECT(0xa022, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa020));
        EXPECT(0x6f, gbc.readMem(0xa021));
        // CB 6F 00F3
        gbc.setState(0xcb7c, 0x97a5, 0x3c70, 0xca9d, 0x655, 0x1226, 0x1, 0x0);
        gbc.writeMem(0xcb7c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x97a5, gbc.sp());
        EXPECT(0xcb7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb7c));
        EXPECT(0x6f, gbc.readMem(0xcb7d));
        // CB 6F 00F4
        gbc.setState(0x54be, 0xa3f0, 0xeac0, 0x1eaa, 0x2e4, 0x2d6f, 0x0, 0x0);
        gbc.writeMem(0x54be, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xa3f0, gbc.sp());
        EXPECT(0x54c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00F5
        gbc.setState(0x6257, 0x70ea, 0x1f0, 0xf6f1, 0x581e, 0x1833, 0x1, 0x1);
        gbc.writeMem(0x6257, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x70ea, gbc.sp());
        EXPECT(0x6259, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00F6
        gbc.setState(0x688b, 0x9a81, 0x9d70, 0xa389, 0xf1e8, 0x9b7f, 0x0, 0x0);
        gbc.writeMem(0x688b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x9a81, gbc.sp());
        EXPECT(0x688d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00F7
        gbc.setState(0x3055, 0xc071, 0xa6f0, 0x3a87, 0xb819, 0x914b, 0x0, 0x1);
        gbc.writeMem(0x3055, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xc071, gbc.sp());
        EXPECT(0x3057, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00F8
        gbc.setState(0x4651, 0x2d6a, 0x2810, 0x28fb, 0xb5cb, 0x3fd5, 0x0, 0x0);
        gbc.writeMem(0x4651, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x2d6a, gbc.sp());
        EXPECT(0x4653, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00F9
        gbc.setState(0x92b6, 0x483e, 0xc480, 0xc397, 0xa22, 0x7345, 0x0, 0x1);
        gbc.writeMem(0x92b6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x483e, gbc.sp());
        EXPECT(0x92b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92b6));
        EXPECT(0x6f, gbc.readMem(0x92b7));
        // CB 6F 00FA
        gbc.setState(0x7cd8, 0x34bd, 0x4e40, 0xf9e5, 0x8240, 0x39b8, 0x1, 0x0);
        gbc.writeMem(0x7cd8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x34bd, gbc.sp());
        EXPECT(0x7cda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00FB
        gbc.setState(0xc62f, 0xddfa, 0x9c70, 0xb902, 0xf3c9, 0x1f5e, 0x0, 0x1);
        gbc.writeMem(0xc62f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xddfa, gbc.sp());
        EXPECT(0xc631, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc62f));
        EXPECT(0x6f, gbc.readMem(0xc630));
        // CB 6F 00FC
        gbc.setState(0xcbb0, 0x8ac1, 0x41e0, 0xbd1f, 0x6019, 0x69a, 0x1, 0x0);
        gbc.writeMem(0xcbb0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x8ac1, gbc.sp());
        EXPECT(0xcbb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbb0));
        EXPECT(0x6f, gbc.readMem(0xcbb1));
        // CB 6F 00FD
        gbc.setState(0x357d, 0xa653, 0x4980, 0x6284, 0x8e47, 0x7fd4, 0x1, 0x1);
        gbc.writeMem(0x357d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xa653, gbc.sp());
        EXPECT(0x357f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 00FE
        gbc.setState(0x5914, 0xe493, 0x67d0, 0x888a, 0x359, 0x59e6, 0x0, 0x1);
        gbc.writeMem(0x5914, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xe493, gbc.sp());
        EXPECT(0x5916, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 00FF
        gbc.setState(0x9fee, 0x6282, 0xcc80, 0xe86a, 0xea4, 0x788a, 0x0, 0x0);
        gbc.writeMem(0x9fee, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x6282, gbc.sp());
        EXPECT(0x9ff0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fee));
        EXPECT(0x6f, gbc.readMem(0x9fef));
        // CB 6F 0100
        gbc.setState(0x352d, 0xa6ff, 0xb260, 0x307a, 0x5a93, 0xce10, 0x1, 0x0);
        gbc.writeMem(0x352d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xa6ff, gbc.sp());
        EXPECT(0x352f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0101
        gbc.setState(0x6e, 0xa628, 0xdfa0, 0x3846, 0x9e36, 0x54c9, 0x0, 0x0);
        gbc.writeMem(0x6e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xa628, gbc.sp());
        EXPECT(0x70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0102
        gbc.setState(0x3c32, 0x3d65, 0xedf0, 0xcdbe, 0xe61e, 0x924b, 0x0, 0x1);
        gbc.writeMem(0x3c32, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x3d65, gbc.sp());
        EXPECT(0x3c34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0103
        gbc.setState(0x167a, 0x34f2, 0x5270, 0x5a34, 0x244d, 0xdb49, 0x1, 0x1);
        gbc.writeMem(0x167a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x34f2, gbc.sp());
        EXPECT(0x167c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0104
        gbc.setState(0xc4a2, 0xb8ae, 0xd290, 0x88d5, 0x34a0, 0x1e5, 0x1, 0x0);
        gbc.writeMem(0xc4a2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xb8ae, gbc.sp());
        EXPECT(0xc4a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4a2));
        EXPECT(0x6f, gbc.readMem(0xc4a3));
        // CB 6F 0105
        gbc.setState(0x9166, 0xf346, 0x8540, 0x8c70, 0xf6c7, 0xcb82, 0x0, 0x0);
        gbc.writeMem(0x9166, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xf346, gbc.sp());
        EXPECT(0x9168, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9166));
        EXPECT(0x6f, gbc.readMem(0x9167));
        // CB 6F 0106
        gbc.setState(0x2be7, 0xd447, 0xbf60, 0xcf74, 0x990, 0x6b67, 0x1, 0x1);
        gbc.writeMem(0x2be7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xd447, gbc.sp());
        EXPECT(0x2be9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0107
        gbc.setState(0xc24f, 0x49d5, 0xba90, 0xcee9, 0x6c35, 0xa6f6, 0x0, 0x0);
        gbc.writeMem(0xc24f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x49d5, gbc.sp());
        EXPECT(0xc251, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc24f));
        EXPECT(0x6f, gbc.readMem(0xc250));
        // CB 6F 0109
        gbc.setState(0xd057, 0xda3, 0x9a20, 0xf5d7, 0xdcd7, 0x4a5, 0x1, 0x1);
        gbc.writeMem(0xd057, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xda3, gbc.sp());
        EXPECT(0xd059, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd057));
        EXPECT(0x6f, gbc.readMem(0xd058));
        // CB 6F 010A
        gbc.setState(0x9b09, 0xd5ad, 0x9300, 0x2521, 0x9af4, 0x70cd, 0x0, 0x0);
        gbc.writeMem(0x9b09, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xd5ad, gbc.sp());
        EXPECT(0x9b0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b09));
        EXPECT(0x6f, gbc.readMem(0x9b0a));
        // CB 6F 010B
        gbc.setState(0x8688, 0xfcc2, 0x6210, 0x3d54, 0xf0f, 0x15ec, 0x0, 0x0);
        gbc.writeMem(0x8688, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xfcc2, gbc.sp());
        EXPECT(0x868a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8688));
        EXPECT(0x6f, gbc.readMem(0x8689));
        // CB 6F 010C
        gbc.setState(0xa6d0, 0xaeb6, 0xafd0, 0x57af, 0xc386, 0xe2a3, 0x0, 0x1);
        gbc.writeMem(0xa6d0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xaeb6, gbc.sp());
        EXPECT(0xa6d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6d0));
        EXPECT(0x6f, gbc.readMem(0xa6d1));
        // CB 6F 010D
        gbc.setState(0x88c5, 0xa15b, 0xec00, 0xdf5f, 0xb60d, 0x3ce2, 0x0, 0x1);
        gbc.writeMem(0x88c5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xa15b, gbc.sp());
        EXPECT(0x88c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88c5));
        EXPECT(0x6f, gbc.readMem(0x88c6));
        // CB 6F 010E
        gbc.setState(0xb71f, 0xc4fb, 0xf6e0, 0xe729, 0x6d64, 0xfd8e, 0x0, 0x1);
        gbc.writeMem(0xb71f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xc4fb, gbc.sp());
        EXPECT(0xb721, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb71f));
        EXPECT(0x6f, gbc.readMem(0xb720));
        // CB 6F 010F
        gbc.setState(0x18f9, 0x40bd, 0x9530, 0xb8c7, 0x5666, 0xfa3c, 0x1, 0x0);
        gbc.writeMem(0x18f9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x40bd, gbc.sp());
        EXPECT(0x18fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0110
        gbc.setState(0xca5e, 0x987b, 0x99f0, 0xface, 0x459b, 0xeb9, 0x1, 0x0);
        gbc.writeMem(0xca5e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x987b, gbc.sp());
        EXPECT(0xca60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca5e));
        EXPECT(0x6f, gbc.readMem(0xca5f));
        // CB 6F 0111
        gbc.setState(0x7383, 0xdb07, 0x2060, 0x8166, 0xb733, 0xca8b, 0x0, 0x1);
        gbc.writeMem(0x7383, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xdb07, gbc.sp());
        EXPECT(0x7385, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0112
        gbc.setState(0xad94, 0xc468, 0xd050, 0xb85f, 0xf348, 0x149b, 0x1, 0x0);
        gbc.writeMem(0xad94, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xc468, gbc.sp());
        EXPECT(0xad96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad94));
        EXPECT(0x6f, gbc.readMem(0xad95));
        // CB 6F 0113
        gbc.setState(0x4e1f, 0x509c, 0x4870, 0xa696, 0x8ca3, 0x646f, 0x1, 0x1);
        gbc.writeMem(0x4e1f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x509c, gbc.sp());
        EXPECT(0x4e21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0114
        gbc.setState(0x7a9d, 0x352b, 0x9450, 0x3d3c, 0x2e72, 0x6b49, 0x0, 0x1);
        gbc.writeMem(0x7a9d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x352b, gbc.sp());
        EXPECT(0x7a9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0115
        gbc.setState(0x824a, 0x2377, 0xf790, 0xf834, 0x4bb4, 0xbff7, 0x1, 0x0);
        gbc.writeMem(0x824a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x2377, gbc.sp());
        EXPECT(0x824c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x824a));
        EXPECT(0x6f, gbc.readMem(0x824b));
        // CB 6F 0116
        gbc.setState(0xc203, 0xd3aa, 0xec0, 0x34c7, 0x51d0, 0x2eea, 0x0, 0x1);
        gbc.writeMem(0xc203, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xd3aa, gbc.sp());
        EXPECT(0xc205, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc203));
        EXPECT(0x6f, gbc.readMem(0xc204));
        // CB 6F 0117
        gbc.setState(0x9b00, 0x5f5d, 0x6e20, 0x89cd, 0x6572, 0x78d6, 0x1, 0x0);
        gbc.writeMem(0x9b00, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x5f5d, gbc.sp());
        EXPECT(0x9b02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b00));
        EXPECT(0x6f, gbc.readMem(0x9b01));
        // CB 6F 0118
        gbc.setState(0xb787, 0x1830, 0x97d0, 0xe555, 0x3330, 0xd45c, 0x1, 0x1);
        gbc.writeMem(0xb787, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x1830, gbc.sp());
        EXPECT(0xb789, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb787));
        EXPECT(0x6f, gbc.readMem(0xb788));
        // CB 6F 0119
        gbc.setState(0x870c, 0x10d6, 0x3700, 0x1543, 0x1b52, 0x742c, 0x1, 0x0);
        gbc.writeMem(0x870c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x10d6, gbc.sp());
        EXPECT(0x870e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x870c));
        EXPECT(0x6f, gbc.readMem(0x870d));
        // CB 6F 011A
        gbc.setState(0x7bf1, 0xefa, 0xf0d0, 0xcea6, 0x5333, 0x7841, 0x0, 0x1);
        gbc.writeMem(0x7bf1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xefa, gbc.sp());
        EXPECT(0x7bf3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 011B
        gbc.setState(0x95f6, 0x8c4e, 0xbaf0, 0xb2c5, 0x707c, 0x1172, 0x0, 0x0);
        gbc.writeMem(0x95f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x8c4e, gbc.sp());
        EXPECT(0x95f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95f6));
        EXPECT(0x6f, gbc.readMem(0x95f7));
        // CB 6F 011C
        gbc.setState(0xd703, 0x3b98, 0xe730, 0x6ac7, 0xdd6f, 0xe084, 0x1, 0x0);
        gbc.writeMem(0xd703, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x3b98, gbc.sp());
        EXPECT(0xd705, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd703));
        EXPECT(0x6f, gbc.readMem(0xd704));
        // CB 6F 011D
        gbc.setState(0x268c, 0xff81, 0x4800, 0xb007, 0x1ef7, 0xaaf3, 0x0, 0x1);
        gbc.writeMem(0x268c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xff81, gbc.sp());
        EXPECT(0x268e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 011E
        gbc.setState(0x888a, 0xd322, 0xda10, 0xe555, 0x6807, 0x3af8, 0x0, 0x1);
        gbc.writeMem(0x888a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xd322, gbc.sp());
        EXPECT(0x888c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x888a));
        EXPECT(0x6f, gbc.readMem(0x888b));
        // CB 6F 011F
        gbc.setState(0xb8de, 0x82dd, 0xb250, 0x9774, 0x11bb, 0x1ce6, 0x0, 0x1);
        gbc.writeMem(0xb8de, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x82dd, gbc.sp());
        EXPECT(0xb8e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb8de));
        EXPECT(0x6f, gbc.readMem(0xb8df));
        // CB 6F 0120
        gbc.setState(0xee5c, 0x8318, 0x1f10, 0x6db5, 0x3cb1, 0x37e4, 0x1, 0x0);
        gbc.writeMem(0xee5c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x8318, gbc.sp());
        EXPECT(0xee5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee5c));
        EXPECT(0x6f, gbc.readMem(0xee5d));
        // CB 6F 0122
        gbc.setState(0xb5b9, 0x54b1, 0x2f40, 0x6ad0, 0x4336, 0xf730, 0x0, 0x0);
        gbc.writeMem(0xb5b9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x54b1, gbc.sp());
        EXPECT(0xb5bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5b9));
        EXPECT(0x6f, gbc.readMem(0xb5ba));
        // CB 6F 0123
        gbc.setState(0x7b2c, 0xc9c8, 0xc440, 0xaffd, 0x29ff, 0x830b, 0x0, 0x1);
        gbc.writeMem(0x7b2c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xc9c8, gbc.sp());
        EXPECT(0x7b2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0124
        gbc.setState(0x9cf8, 0x4f8, 0xb1a0, 0x43eb, 0xff92, 0x2520, 0x0, 0x1);
        gbc.writeMem(0x9cf8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x4f8, gbc.sp());
        EXPECT(0x9cfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cf8));
        EXPECT(0x6f, gbc.readMem(0x9cf9));
        // CB 6F 0125
        gbc.setState(0xa680, 0xa5d3, 0x3130, 0xeaed, 0xef71, 0x7fc3, 0x0, 0x0);
        gbc.writeMem(0xa680, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xa5d3, gbc.sp());
        EXPECT(0xa682, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa680));
        EXPECT(0x6f, gbc.readMem(0xa681));
        // CB 6F 0126
        gbc.setState(0xe69d, 0x8b4c, 0xfed0, 0x5c6c, 0x2d96, 0xd066, 0x0, 0x1);
        gbc.writeMem(0xe69d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x8b4c, gbc.sp());
        EXPECT(0xe69f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe69d));
        EXPECT(0x6f, gbc.readMem(0xe69e));
        // CB 6F 0127
        gbc.setState(0x679e, 0xd0f1, 0xb0d0, 0xc5c1, 0xb5bc, 0x770a, 0x0, 0x0);
        gbc.writeMem(0x679e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xd0f1, gbc.sp());
        EXPECT(0x67a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0128
        gbc.setState(0x7394, 0x38aa, 0x18a0, 0x7108, 0xb963, 0xdfe8, 0x0, 0x0);
        gbc.writeMem(0x7394, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x38aa, gbc.sp());
        EXPECT(0x7396, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0129
        gbc.setState(0xc981, 0xa354, 0xfe20, 0x97f0, 0xaf1d, 0x9876, 0x1, 0x0);
        gbc.writeMem(0xc981, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xa354, gbc.sp());
        EXPECT(0xc983, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc981));
        EXPECT(0x6f, gbc.readMem(0xc982));
        // CB 6F 012A
        gbc.setState(0xff1, 0xb227, 0x6440, 0x631c, 0x95f0, 0x654f, 0x1, 0x1);
        gbc.writeMem(0xff1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xb227, gbc.sp());
        EXPECT(0xff3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 012B
        gbc.setState(0x8b5d, 0x6620, 0x3ed0, 0x90c7, 0x36ad, 0x8ac5, 0x0, 0x0);
        gbc.writeMem(0x8b5d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x6620, gbc.sp());
        EXPECT(0x8b5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b5d));
        EXPECT(0x6f, gbc.readMem(0x8b5e));
        // CB 6F 012C
        gbc.setState(0x1473, 0x7a01, 0x6c90, 0xacf9, 0x1256, 0x8a6b, 0x1, 0x0);
        gbc.writeMem(0x1473, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x7a01, gbc.sp());
        EXPECT(0x1475, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 012D
        gbc.setState(0x40a8, 0xc5c4, 0xf780, 0xb5b7, 0x411c, 0xbe1e, 0x1, 0x0);
        gbc.writeMem(0x40a8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xc5c4, gbc.sp());
        EXPECT(0x40aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 012E
        gbc.setState(0xd715, 0xf88a, 0xd860, 0xf326, 0xf379, 0x6a9b, 0x0, 0x1);
        gbc.writeMem(0xd715, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xf88a, gbc.sp());
        EXPECT(0xd717, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd715));
        EXPECT(0x6f, gbc.readMem(0xd716));
        // CB 6F 012F
        gbc.setState(0x4b2c, 0xf0d5, 0xc6d0, 0xefc9, 0xe6d2, 0x6243, 0x1, 0x1);
        gbc.writeMem(0x4b2c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf0d5, gbc.sp());
        EXPECT(0x4b2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0130
        gbc.setState(0x9997, 0x932a, 0x2880, 0xe3e, 0x10e8, 0xb5ff, 0x0, 0x0);
        gbc.writeMem(0x9997, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x932a, gbc.sp());
        EXPECT(0x9999, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9997));
        EXPECT(0x6f, gbc.readMem(0x9998));
        // CB 6F 0131
        gbc.setState(0x1cbc, 0xd465, 0xce90, 0xe8e9, 0x5435, 0xefe0, 0x1, 0x0);
        gbc.writeMem(0x1cbc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xd465, gbc.sp());
        EXPECT(0x1cbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0132
        gbc.setState(0x77fa, 0x9841, 0x4a90, 0xd0bd, 0x4d36, 0xe578, 0x1, 0x0);
        gbc.writeMem(0x77fa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x9841, gbc.sp());
        EXPECT(0x77fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0133
        gbc.setState(0x9bfe, 0x3b3e, 0xe730, 0xea7f, 0x158, 0x6a66, 0x1, 0x0);
        gbc.writeMem(0x9bfe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x3b3e, gbc.sp());
        EXPECT(0x9c00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bfe));
        EXPECT(0x6f, gbc.readMem(0x9bff));
        // CB 6F 0134
        gbc.setState(0x95ed, 0xd92c, 0x9610, 0x3f4b, 0xc427, 0xc7e5, 0x0, 0x1);
        gbc.writeMem(0x95ed, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xd92c, gbc.sp());
        EXPECT(0x95ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95ed));
        EXPECT(0x6f, gbc.readMem(0x95ee));
        // CB 6F 0135
        gbc.setState(0xea76, 0xfefa, 0x7860, 0x6f42, 0x31a2, 0xda56, 0x0, 0x1);
        gbc.writeMem(0xea76, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xfefa, gbc.sp());
        EXPECT(0xea78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea76));
        EXPECT(0x6f, gbc.readMem(0xea77));
        // CB 6F 0136
        gbc.setState(0xbf4f, 0xc7f0, 0x3000, 0x5f8f, 0xb836, 0x746a, 0x1, 0x0);
        gbc.writeMem(0xbf4f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xc7f0, gbc.sp());
        EXPECT(0xbf51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf4f));
        EXPECT(0x6f, gbc.readMem(0xbf50));
        // CB 6F 0137
        gbc.setState(0x328e, 0x8fbb, 0x86a0, 0x2993, 0x9f3f, 0xb082, 0x0, 0x0);
        gbc.writeMem(0x328e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x8fbb, gbc.sp());
        EXPECT(0x3290, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0138
        gbc.setState(0xc69e, 0xe4b, 0xf8e0, 0xe71d, 0x54f5, 0x7d68, 0x1, 0x1);
        gbc.writeMem(0xc69e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xe4b, gbc.sp());
        EXPECT(0xc6a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc69e));
        EXPECT(0x6f, gbc.readMem(0xc69f));
        // CB 6F 0139
        gbc.setState(0x6f6d, 0xc2c3, 0x8c00, 0xb771, 0xd9fb, 0xedd, 0x1, 0x0);
        gbc.writeMem(0x6f6d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xc2c3, gbc.sp());
        EXPECT(0x6f6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 013A
        gbc.setState(0xe93, 0x27c0, 0xfc50, 0xfc95, 0xe261, 0x96b6, 0x1, 0x1);
        gbc.writeMem(0xe93, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x27c0, gbc.sp());
        EXPECT(0xe95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 013B
        gbc.setState(0xe3cf, 0xa601, 0x81b0, 0x9606, 0x2d59, 0x3f1b, 0x1, 0x0);
        gbc.writeMem(0xe3cf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xa601, gbc.sp());
        EXPECT(0xe3d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3cf));
        EXPECT(0x6f, gbc.readMem(0xe3d0));
        // CB 6F 013C
        gbc.setState(0xc4df, 0x900a, 0xf960, 0x5e71, 0x94d2, 0xa411, 0x0, 0x1);
        gbc.writeMem(0xc4df, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x900a, gbc.sp());
        EXPECT(0xc4e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4df));
        EXPECT(0x6f, gbc.readMem(0xc4e0));
        // CB 6F 013D
        gbc.setState(0x7c75, 0x97f0, 0xead0, 0xa1bb, 0xeb29, 0xdf7b, 0x1, 0x0);
        gbc.writeMem(0x7c75, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x97f0, gbc.sp());
        EXPECT(0x7c77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 013E
        gbc.setState(0xa199, 0x35ef, 0xee30, 0x6e0a, 0x5726, 0x97e1, 0x1, 0x1);
        gbc.writeMem(0xa199, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x35ef, gbc.sp());
        EXPECT(0xa19b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa199));
        EXPECT(0x6f, gbc.readMem(0xa19a));
        // CB 6F 0140
        gbc.setState(0xe829, 0x7d6d, 0x5510, 0xd9d4, 0x7ea2, 0x82a6, 0x1, 0x1);
        gbc.writeMem(0xe829, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x7d6d, gbc.sp());
        EXPECT(0xe82b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe829));
        EXPECT(0x6f, gbc.readMem(0xe82a));
        // CB 6F 0141
        gbc.setState(0xce42, 0x892b, 0x1270, 0x6293, 0xb9f6, 0x1af9, 0x1, 0x0);
        gbc.writeMem(0xce42, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x892b, gbc.sp());
        EXPECT(0xce44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce42));
        EXPECT(0x6f, gbc.readMem(0xce43));
        // CB 6F 0142
        gbc.setState(0x23e7, 0x491e, 0x3e70, 0x6d98, 0x3e31, 0x1b82, 0x1, 0x0);
        gbc.writeMem(0x23e7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x491e, gbc.sp());
        EXPECT(0x23e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0143
        gbc.setState(0xb459, 0x3dc4, 0x4e0, 0x2fd8, 0x9e51, 0xf268, 0x0, 0x1);
        gbc.writeMem(0xb459, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x3dc4, gbc.sp());
        EXPECT(0xb45b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb459));
        EXPECT(0x6f, gbc.readMem(0xb45a));
        // CB 6F 0144
        gbc.setState(0x2245, 0xc043, 0x150, 0xcf04, 0x8460, 0xe638, 0x1, 0x0);
        gbc.writeMem(0x2245, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xc043, gbc.sp());
        EXPECT(0x2247, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0145
        gbc.setState(0xd9a3, 0x8c65, 0x5390, 0x526f, 0xe3f5, 0x1da3, 0x1, 0x0);
        gbc.writeMem(0xd9a3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x8c65, gbc.sp());
        EXPECT(0xd9a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9a3));
        EXPECT(0x6f, gbc.readMem(0xd9a4));
        // CB 6F 0146
        gbc.setState(0x1e8, 0xb4ba, 0x1240, 0xf67, 0x40aa, 0x19f0, 0x0, 0x0);
        gbc.writeMem(0x1e8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xb4ba, gbc.sp());
        EXPECT(0x1ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0147
        gbc.setState(0xaaf0, 0x1a3e, 0x15e0, 0x4174, 0xf7d9, 0x8067, 0x0, 0x1);
        gbc.writeMem(0xaaf0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x1a3e, gbc.sp());
        EXPECT(0xaaf2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaaf0));
        EXPECT(0x6f, gbc.readMem(0xaaf1));
        // CB 6F 0148
        gbc.setState(0xcbcd, 0x8199, 0xd6f0, 0xa236, 0x896, 0xc022, 0x0, 0x1);
        gbc.writeMem(0xcbcd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x8199, gbc.sp());
        EXPECT(0xcbcf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbcd));
        EXPECT(0x6f, gbc.readMem(0xcbce));
        // CB 6F 0149
        gbc.setState(0x9dbf, 0x38a8, 0x8f70, 0x53f0, 0x8526, 0xc2c2, 0x1, 0x1);
        gbc.writeMem(0x9dbf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x38a8, gbc.sp());
        EXPECT(0x9dc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9dbf));
        EXPECT(0x6f, gbc.readMem(0x9dc0));
        // CB 6F 014A
        gbc.setState(0x69b3, 0xb423, 0xf3b0, 0x4d50, 0xe92a, 0xc7c0, 0x1, 0x0);
        gbc.writeMem(0x69b3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xb423, gbc.sp());
        EXPECT(0x69b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 014B
        gbc.setState(0xdc45, 0x95cc, 0x16e0, 0x3392, 0x57ec, 0x8b80, 0x1, 0x1);
        gbc.writeMem(0xdc45, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x95cc, gbc.sp());
        EXPECT(0xdc47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc45));
        EXPECT(0x6f, gbc.readMem(0xdc46));
        // CB 6F 014C
        gbc.setState(0x4c56, 0xb4f1, 0xf7d0, 0x3531, 0x881c, 0x7355, 0x1, 0x0);
        gbc.writeMem(0x4c56, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xb4f1, gbc.sp());
        EXPECT(0x4c58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 014D
        gbc.setState(0xb196, 0x1e0c, 0xfec0, 0x82f5, 0x3c61, 0x235, 0x0, 0x0);
        gbc.writeMem(0xb196, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x1e0c, gbc.sp());
        EXPECT(0xb198, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb196));
        EXPECT(0x6f, gbc.readMem(0xb197));
        // CB 6F 014E
        gbc.setState(0x7064, 0xb8f7, 0xe6e0, 0xf988, 0x759f, 0xc156, 0x0, 0x1);
        gbc.writeMem(0x7064, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xb8f7, gbc.sp());
        EXPECT(0x7066, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 014F
        gbc.setState(0x2f1d, 0x9912, 0x7d20, 0xd355, 0xff29, 0x899d, 0x0, 0x1);
        gbc.writeMem(0x2f1d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x9912, gbc.sp());
        EXPECT(0x2f1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0150
        gbc.setState(0x33eb, 0xc294, 0xa310, 0x5423, 0x7615, 0xe463, 0x1, 0x0);
        gbc.writeMem(0x33eb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xc294, gbc.sp());
        EXPECT(0x33ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0151
        gbc.setState(0x419e, 0x605d, 0x79d0, 0xc814, 0x5518, 0x685c, 0x0, 0x0);
        gbc.writeMem(0x419e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x605d, gbc.sp());
        EXPECT(0x41a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0152
        gbc.setState(0xdd79, 0x7b9d, 0x5820, 0x6a44, 0x99f0, 0x1c4e, 0x0, 0x0);
        gbc.writeMem(0xdd79, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x7b9d, gbc.sp());
        EXPECT(0xdd7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd79));
        EXPECT(0x6f, gbc.readMem(0xdd7a));
        // CB 6F 0153
        gbc.setState(0xb15, 0xb0b7, 0x91d0, 0x2f8a, 0x320, 0xe826, 0x1, 0x0);
        gbc.writeMem(0xb15, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xb0b7, gbc.sp());
        EXPECT(0xb17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0154
        gbc.setState(0x51d0, 0xd06, 0x89f0, 0xd152, 0x8c98, 0xa39c, 0x1, 0x1);
        gbc.writeMem(0x51d0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xd06, gbc.sp());
        EXPECT(0x51d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0155
        gbc.setState(0x4be2, 0xd102, 0x5b90, 0x7d90, 0x2970, 0xcfa9, 0x0, 0x0);
        gbc.writeMem(0x4be2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xd102, gbc.sp());
        EXPECT(0x4be4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0156
        gbc.setState(0xe8c5, 0x4a6, 0x1fe0, 0x9ac9, 0x8a92, 0xc464, 0x0, 0x1);
        gbc.writeMem(0xe8c5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x4a6, gbc.sp());
        EXPECT(0xe8c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8c5));
        EXPECT(0x6f, gbc.readMem(0xe8c6));
        // CB 6F 0157
        gbc.setState(0x2fe3, 0xe0be, 0xc520, 0x2fd, 0x8ba5, 0x556, 0x0, 0x1);
        gbc.writeMem(0x2fe3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xe0be, gbc.sp());
        EXPECT(0x2fe5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 015A
        gbc.setState(0x9700, 0x9546, 0x21b0, 0x971b, 0x59d4, 0x9957, 0x1, 0x1);
        gbc.writeMem(0x9700, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x9546, gbc.sp());
        EXPECT(0x9702, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9700));
        EXPECT(0x6f, gbc.readMem(0x9701));
        // CB 6F 015B
        gbc.setState(0xbce6, 0xe8a7, 0xfa30, 0x710d, 0x6a6a, 0xeb39, 0x1, 0x1);
        gbc.writeMem(0xbce6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xe8a7, gbc.sp());
        EXPECT(0xbce8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbce6));
        EXPECT(0x6f, gbc.readMem(0xbce7));
        // CB 6F 015C
        gbc.setState(0x11fa, 0x1209, 0x5480, 0x7557, 0x21a6, 0x7d46, 0x0, 0x1);
        gbc.writeMem(0x11fa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x1209, gbc.sp());
        EXPECT(0x11fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 015D
        gbc.setState(0xe925, 0xc1d8, 0xffa0, 0x99d4, 0x3c98, 0xcc12, 0x1, 0x0);
        gbc.writeMem(0xe925, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xc1d8, gbc.sp());
        EXPECT(0xe927, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe925));
        EXPECT(0x6f, gbc.readMem(0xe926));
        // CB 6F 015E
        gbc.setState(0xab65, 0x3cda, 0x9320, 0xf6f6, 0x89e8, 0x5fee, 0x1, 0x0);
        gbc.writeMem(0xab65, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x3cda, gbc.sp());
        EXPECT(0xab67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab65));
        EXPECT(0x6f, gbc.readMem(0xab66));
        // CB 6F 015F
        gbc.setState(0xdefe, 0x937f, 0x30d0, 0x603a, 0x4a2b, 0x2dcf, 0x0, 0x0);
        gbc.writeMem(0xdefe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x937f, gbc.sp());
        EXPECT(0xdf00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdefe));
        EXPECT(0x6f, gbc.readMem(0xdeff));
        // CB 6F 0160
        gbc.setState(0x6819, 0xc9de, 0x4ca0, 0x3bcb, 0xb917, 0x9b2e, 0x0, 0x0);
        gbc.writeMem(0x6819, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xc9de, gbc.sp());
        EXPECT(0x681b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0161
        gbc.setState(0xa64c, 0xcbb0, 0x16f0, 0x5602, 0xc710, 0x3926, 0x0, 0x1);
        gbc.writeMem(0xa64c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xcbb0, gbc.sp());
        EXPECT(0xa64e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa64c));
        EXPECT(0x6f, gbc.readMem(0xa64d));
        // CB 6F 0162
        gbc.setState(0x7954, 0x874f, 0x4810, 0xfa52, 0xc452, 0xfe72, 0x1, 0x1);
        gbc.writeMem(0x7954, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x874f, gbc.sp());
        EXPECT(0x7956, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0163
        gbc.setState(0x29fa, 0x94, 0x8410, 0x6640, 0xbe12, 0xc837, 0x0, 0x0);
        gbc.writeMem(0x29fa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x94, gbc.sp());
        EXPECT(0x29fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0164
        gbc.setState(0x1562, 0xe103, 0xcd40, 0x2bae, 0xadc2, 0x1122, 0x1, 0x0);
        gbc.writeMem(0x1562, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xe103, gbc.sp());
        EXPECT(0x1564, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0166
        gbc.setState(0xdc46, 0xea28, 0x7380, 0x6ee3, 0xd3, 0xf320, 0x1, 0x1);
        gbc.writeMem(0xdc46, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xea28, gbc.sp());
        EXPECT(0xdc48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc46));
        EXPECT(0x6f, gbc.readMem(0xdc47));
        // CB 6F 0168
        gbc.setState(0xdc8f, 0xc140, 0x8bf0, 0x515e, 0x70dd, 0x4cfd, 0x1, 0x1);
        gbc.writeMem(0xdc8f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xc140, gbc.sp());
        EXPECT(0xdc91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc8f));
        EXPECT(0x6f, gbc.readMem(0xdc90));
        // CB 6F 0169
        gbc.setState(0xb9fc, 0xa220, 0x8370, 0xbd2c, 0x9095, 0x465a, 0x0, 0x0);
        gbc.writeMem(0xb9fc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xa220, gbc.sp());
        EXPECT(0xb9fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9fc));
        EXPECT(0x6f, gbc.readMem(0xb9fd));
        // CB 6F 016A
        gbc.setState(0x8739, 0xd981, 0x3d20, 0x7707, 0x1918, 0x2305, 0x0, 0x1);
        gbc.writeMem(0x8739, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xd981, gbc.sp());
        EXPECT(0x873b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8739));
        EXPECT(0x6f, gbc.readMem(0x873a));
        // CB 6F 016B
        gbc.setState(0xa3e2, 0x577c, 0x6c10, 0xc024, 0x4ef6, 0x4cc4, 0x0, 0x1);
        gbc.writeMem(0xa3e2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x577c, gbc.sp());
        EXPECT(0xa3e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3e2));
        EXPECT(0x6f, gbc.readMem(0xa3e3));
        // CB 6F 016C
        gbc.setState(0x5c7, 0xd952, 0xa950, 0x23d8, 0x3795, 0x394b, 0x0, 0x1);
        gbc.writeMem(0x5c7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xd952, gbc.sp());
        EXPECT(0x5c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 016D
        gbc.setState(0x8fa4, 0x13f2, 0xc910, 0x407f, 0x446d, 0xae54, 0x0, 0x1);
        gbc.writeMem(0x8fa4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x13f2, gbc.sp());
        EXPECT(0x8fa6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8fa4));
        EXPECT(0x6f, gbc.readMem(0x8fa5));
        // CB 6F 016E
        gbc.setState(0x7429, 0xe91f, 0xbad0, 0xca7f, 0x5f19, 0x7cae, 0x0, 0x0);
        gbc.writeMem(0x7429, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xe91f, gbc.sp());
        EXPECT(0x742b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 016F
        gbc.setState(0xa9b2, 0x19bd, 0x3080, 0x3d17, 0x803e, 0xcd78, 0x0, 0x0);
        gbc.writeMem(0xa9b2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x19bd, gbc.sp());
        EXPECT(0xa9b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9b2));
        EXPECT(0x6f, gbc.readMem(0xa9b3));
        // CB 6F 0171
        gbc.setState(0x1fc, 0x61ad, 0x230, 0xbc17, 0x921a, 0xe984, 0x0, 0x1);
        gbc.writeMem(0x1fc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x61ad, gbc.sp());
        EXPECT(0x1fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0172
        gbc.setState(0x8a1b, 0xd9d, 0x4790, 0x7363, 0x22a3, 0xf978, 0x0, 0x1);
        gbc.writeMem(0x8a1b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xd9d, gbc.sp());
        EXPECT(0x8a1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a1b));
        EXPECT(0x6f, gbc.readMem(0x8a1c));
        // CB 6F 0173
        gbc.setState(0xe08, 0x4aae, 0xb8f0, 0x8ee9, 0x9d31, 0xde98, 0x0, 0x0);
        gbc.writeMem(0xe08, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x4aae, gbc.sp());
        EXPECT(0xe0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0174
        gbc.setState(0xb66f, 0xd370, 0xe3e0, 0xf683, 0xe2ce, 0x8cef, 0x1, 0x0);
        gbc.writeMem(0xb66f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xd370, gbc.sp());
        EXPECT(0xb671, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb66f));
        EXPECT(0x6f, gbc.readMem(0xb670));
        // CB 6F 0175
        gbc.setState(0xd3c1, 0xa216, 0x5cb0, 0x82e5, 0x9822, 0x9634, 0x1, 0x1);
        gbc.writeMem(0xd3c1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xa216, gbc.sp());
        EXPECT(0xd3c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3c1));
        EXPECT(0x6f, gbc.readMem(0xd3c2));
        // CB 6F 0176
        gbc.setState(0xe810, 0x44a3, 0x8450, 0x7c97, 0x961, 0x4428, 0x1, 0x1);
        gbc.writeMem(0xe810, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x44a3, gbc.sp());
        EXPECT(0xe812, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe810));
        EXPECT(0x6f, gbc.readMem(0xe811));
        // CB 6F 0177
        gbc.setState(0x7abe, 0xa659, 0xffc0, 0x3cdd, 0xbc4f, 0xbbe7, 0x0, 0x0);
        gbc.writeMem(0x7abe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xa659, gbc.sp());
        EXPECT(0x7ac0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0178
        gbc.setState(0xce6c, 0x513b, 0xbcd0, 0xc2b4, 0x3854, 0x9942, 0x1, 0x1);
        gbc.writeMem(0xce6c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x513b, gbc.sp());
        EXPECT(0xce6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce6c));
        EXPECT(0x6f, gbc.readMem(0xce6d));
        // CB 6F 0179
        gbc.setState(0x933f, 0xa6e4, 0x3e0, 0x5008, 0x4cb8, 0xbca6, 0x0, 0x0);
        gbc.writeMem(0x933f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xa6e4, gbc.sp());
        EXPECT(0x9341, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x933f));
        EXPECT(0x6f, gbc.readMem(0x9340));
        // CB 6F 017A
        gbc.setState(0x79c, 0x86c, 0xb450, 0xb5d5, 0x3c49, 0xaa97, 0x0, 0x0);
        gbc.writeMem(0x79c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x86c, gbc.sp());
        EXPECT(0x79e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 017B
        gbc.setState(0x59ce, 0x3500, 0xfa90, 0x2967, 0x6d0a, 0x1caa, 0x1, 0x1);
        gbc.writeMem(0x59ce, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x3500, gbc.sp());
        EXPECT(0x59d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 017D
        gbc.setState(0xc87e, 0xfcc1, 0x94e0, 0xf5c2, 0xef43, 0x3dbc, 0x0, 0x0);
        gbc.writeMem(0xc87e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xfcc1, gbc.sp());
        EXPECT(0xc880, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc87e));
        EXPECT(0x6f, gbc.readMem(0xc87f));
        // CB 6F 017E
        gbc.setState(0x8dc6, 0x7964, 0xce10, 0xba32, 0x553, 0xa58e, 0x1, 0x1);
        gbc.writeMem(0x8dc6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x7964, gbc.sp());
        EXPECT(0x8dc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8dc6));
        EXPECT(0x6f, gbc.readMem(0x8dc7));
        // CB 6F 017F
        gbc.setState(0x6b34, 0x10c3, 0xe000, 0x6f81, 0x482e, 0x99c5, 0x0, 0x0);
        gbc.writeMem(0x6b34, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x10c3, gbc.sp());
        EXPECT(0x6b36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0180
        gbc.setState(0x6ccd, 0x8d56, 0xb560, 0x3853, 0x65a3, 0x77b6, 0x1, 0x0);
        gbc.writeMem(0x6ccd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x8d56, gbc.sp());
        EXPECT(0x6ccf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0181
        gbc.setState(0x1298, 0x37ad, 0xb740, 0x900f, 0xecba, 0x40a1, 0x1, 0x1);
        gbc.writeMem(0x1298, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x37ad, gbc.sp());
        EXPECT(0x129a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0182
        gbc.setState(0x2e8f, 0x2a1a, 0x2b50, 0x636b, 0x4dad, 0xa98b, 0x0, 0x1);
        gbc.writeMem(0x2e8f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x2a1a, gbc.sp());
        EXPECT(0x2e91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0183
        gbc.setState(0xd7e6, 0xe0bc, 0xdc60, 0x985b, 0x5765, 0x37f, 0x1, 0x0);
        gbc.writeMem(0xd7e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xe0bc, gbc.sp());
        EXPECT(0xd7e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7e6));
        EXPECT(0x6f, gbc.readMem(0xd7e7));
        // CB 6F 0185
        gbc.setState(0x7e64, 0x201c, 0x45f0, 0x9e54, 0xed68, 0x2e16, 0x0, 0x0);
        gbc.writeMem(0x7e64, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x201c, gbc.sp());
        EXPECT(0x7e66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0186
        gbc.setState(0x9396, 0x103, 0x12c0, 0x6709, 0x501, 0xfc9c, 0x0, 0x1);
        gbc.writeMem(0x9396, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x103, gbc.sp());
        EXPECT(0x9398, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9396));
        EXPECT(0x6f, gbc.readMem(0x9397));
        // CB 6F 0187
        gbc.setState(0x8a6, 0xa5cf, 0xf560, 0xd063, 0x22c1, 0x2612, 0x0, 0x1);
        gbc.writeMem(0x8a6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xa5cf, gbc.sp());
        EXPECT(0x8a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0188
        gbc.setState(0x7233, 0x285d, 0xd850, 0xd6c4, 0x7e03, 0xbbb2, 0x1, 0x0);
        gbc.writeMem(0x7233, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x285d, gbc.sp());
        EXPECT(0x7235, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0189
        gbc.setState(0x366f, 0xf3f5, 0x8d80, 0x56d, 0x9d85, 0xab49, 0x1, 0x1);
        gbc.writeMem(0x366f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xf3f5, gbc.sp());
        EXPECT(0x3671, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 018A
        gbc.setState(0x9954, 0x7081, 0xaee0, 0x467, 0x2461, 0x4568, 0x0, 0x0);
        gbc.writeMem(0x9954, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x7081, gbc.sp());
        EXPECT(0x9956, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9954));
        EXPECT(0x6f, gbc.readMem(0x9955));
        // CB 6F 018B
        gbc.setState(0x22bc, 0xa10c, 0xf580, 0xa06e, 0x4516, 0xa516, 0x1, 0x0);
        gbc.writeMem(0x22bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xa10c, gbc.sp());
        EXPECT(0x22be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 018C
        gbc.setState(0x348d, 0xc912, 0xfa70, 0x8e30, 0xfcd8, 0xcbfe, 0x1, 0x1);
        gbc.writeMem(0x348d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xc912, gbc.sp());
        EXPECT(0x348f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 018D
        gbc.setState(0x3ed9, 0x3c7c, 0x40f0, 0x1108, 0xd5ab, 0xcbf8, 0x0, 0x1);
        gbc.writeMem(0x3ed9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x3c7c, gbc.sp());
        EXPECT(0x3edb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 018E
        gbc.setState(0x9e32, 0x7206, 0x13d0, 0x7ffb, 0xd57d, 0xaf09, 0x1, 0x1);
        gbc.writeMem(0x9e32, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x7206, gbc.sp());
        EXPECT(0x9e34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e32));
        EXPECT(0x6f, gbc.readMem(0x9e33));
        // CB 6F 018F
        gbc.setState(0xa33, 0xf030, 0xec20, 0x74b3, 0x54ea, 0xb297, 0x1, 0x0);
        gbc.writeMem(0xa33, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xf030, gbc.sp());
        EXPECT(0xa35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0190
        gbc.setState(0x738a, 0xde44, 0xb500, 0xb5b5, 0xce45, 0xb2c1, 0x0, 0x1);
        gbc.writeMem(0x738a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xde44, gbc.sp());
        EXPECT(0x738c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0191
        gbc.setState(0x42f6, 0x207e, 0x8490, 0xae50, 0xa429, 0xdcf0, 0x1, 0x1);
        gbc.writeMem(0x42f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x207e, gbc.sp());
        EXPECT(0x42f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0192
        gbc.setState(0xc34d, 0x4b4b, 0x150, 0xcfa2, 0x22df, 0x44ec, 0x1, 0x0);
        gbc.writeMem(0xc34d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x4b4b, gbc.sp());
        EXPECT(0xc34f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc34d));
        EXPECT(0x6f, gbc.readMem(0xc34e));
        // CB 6F 0193
        gbc.setState(0xbd13, 0x1c1, 0xf6a0, 0x690a, 0xf4db, 0xedb5, 0x0, 0x0);
        gbc.writeMem(0xbd13, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x1c1, gbc.sp());
        EXPECT(0xbd15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd13));
        EXPECT(0x6f, gbc.readMem(0xbd14));
        // CB 6F 0195
        gbc.setState(0xccd9, 0x4931, 0xa3b0, 0x6328, 0xb828, 0x2742, 0x0, 0x0);
        gbc.writeMem(0xccd9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x4931, gbc.sp());
        EXPECT(0xccdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccd9));
        EXPECT(0x6f, gbc.readMem(0xccda));
        // CB 6F 0196
        gbc.setState(0xd271, 0xf1a8, 0xa650, 0x3ae0, 0xb71, 0xf917, 0x0, 0x0);
        gbc.writeMem(0xd271, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xf1a8, gbc.sp());
        EXPECT(0xd273, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd271));
        EXPECT(0x6f, gbc.readMem(0xd272));
        // CB 6F 0197
        gbc.setState(0x2f97, 0xd560, 0xa420, 0xd0fd, 0x8e41, 0xad4d, 0x1, 0x0);
        gbc.writeMem(0x2f97, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xd560, gbc.sp());
        EXPECT(0x2f99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0198
        gbc.setState(0x16ee, 0x738d, 0xe100, 0xa01b, 0xe194, 0xe3a6, 0x1, 0x0);
        gbc.writeMem(0x16ee, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x738d, gbc.sp());
        EXPECT(0x16f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0199
        gbc.setState(0xd0e5, 0x3ee5, 0xb470, 0x6a15, 0x1755, 0x9605, 0x0, 0x1);
        gbc.writeMem(0xd0e5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x3ee5, gbc.sp());
        EXPECT(0xd0e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0e5));
        EXPECT(0x6f, gbc.readMem(0xd0e6));
        // CB 6F 019A
        gbc.setState(0x3072, 0x6e93, 0xbad0, 0x7368, 0x7ded, 0xb386, 0x1, 0x0);
        gbc.writeMem(0x3072, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x6e93, gbc.sp());
        EXPECT(0x3074, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 019B
        gbc.setState(0xd40b, 0xe1b5, 0xa10, 0x3085, 0xedd9, 0x205c, 0x0, 0x0);
        gbc.writeMem(0xd40b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xe1b5, gbc.sp());
        EXPECT(0xd40d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd40b));
        EXPECT(0x6f, gbc.readMem(0xd40c));
        // CB 6F 019C
        gbc.setState(0xc3f6, 0xa637, 0x34e0, 0x861, 0x7fd9, 0x5deb, 0x1, 0x0);
        gbc.writeMem(0xc3f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xa637, gbc.sp());
        EXPECT(0xc3f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3f6));
        EXPECT(0x6f, gbc.readMem(0xc3f7));
        // CB 6F 019D
        gbc.setState(0xcad3, 0x79d5, 0x50f0, 0xeb95, 0x889f, 0xb9b9, 0x0, 0x0);
        gbc.writeMem(0xcad3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x79d5, gbc.sp());
        EXPECT(0xcad5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcad3));
        EXPECT(0x6f, gbc.readMem(0xcad4));
        // CB 6F 019E
        gbc.setState(0xaf7a, 0x668f, 0x6c10, 0xa30, 0x532d, 0xd96, 0x1, 0x1);
        gbc.writeMem(0xaf7a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x668f, gbc.sp());
        EXPECT(0xaf7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf7a));
        EXPECT(0x6f, gbc.readMem(0xaf7b));
        // CB 6F 019F
        gbc.setState(0x86c4, 0x4d4d, 0xc020, 0x78fb, 0xf40, 0xe49e, 0x0, 0x1);
        gbc.writeMem(0x86c4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x4d4d, gbc.sp());
        EXPECT(0x86c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x86c4));
        EXPECT(0x6f, gbc.readMem(0x86c5));
        // CB 6F 01A0
        gbc.setState(0x95f6, 0x8248, 0x5fc0, 0x401, 0xc9ec, 0xe738, 0x1, 0x1);
        gbc.writeMem(0x95f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x8248, gbc.sp());
        EXPECT(0x95f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95f6));
        EXPECT(0x6f, gbc.readMem(0x95f7));
        // CB 6F 01A1
        gbc.setState(0xad7d, 0xa9c1, 0x8bc0, 0xc494, 0xe27, 0x35d7, 0x1, 0x1);
        gbc.writeMem(0xad7d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xa9c1, gbc.sp());
        EXPECT(0xad7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad7d));
        EXPECT(0x6f, gbc.readMem(0xad7e));
        // CB 6F 01A2
        gbc.setState(0x19bb, 0x89f6, 0xf7d0, 0x20d9, 0x5569, 0x3fbb, 0x0, 0x0);
        gbc.writeMem(0x19bb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x89f6, gbc.sp());
        EXPECT(0x19bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01A3
        gbc.setState(0x1667, 0x9d75, 0x6ff0, 0x1191, 0x41aa, 0x8e2e, 0x1, 0x0);
        gbc.writeMem(0x1667, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x9d75, gbc.sp());
        EXPECT(0x1669, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01A4
        gbc.setState(0x3d10, 0x7748, 0x4590, 0x5f0d, 0x7254, 0x728b, 0x0, 0x1);
        gbc.writeMem(0x3d10, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x7748, gbc.sp());
        EXPECT(0x3d12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01A5
        gbc.setState(0x9a56, 0x8d7c, 0x2d00, 0x2a5e, 0xa607, 0x86ae, 0x1, 0x0);
        gbc.writeMem(0x9a56, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x8d7c, gbc.sp());
        EXPECT(0x9a58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a56));
        EXPECT(0x6f, gbc.readMem(0x9a57));
        // CB 6F 01A6
        gbc.setState(0x770e, 0xcea0, 0xe200, 0x50ce, 0xbe93, 0xd657, 0x1, 0x1);
        gbc.writeMem(0x770e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xcea0, gbc.sp());
        EXPECT(0x7710, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01A7
        gbc.setState(0x10ba, 0xbe99, 0x4140, 0xc964, 0x77c0, 0x75c1, 0x1, 0x1);
        gbc.writeMem(0x10ba, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xbe99, gbc.sp());
        EXPECT(0x10bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01A8
        gbc.setState(0xc7dd, 0xa164, 0x2a70, 0x24e5, 0x1e62, 0xd2c6, 0x0, 0x1);
        gbc.writeMem(0xc7dd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xa164, gbc.sp());
        EXPECT(0xc7df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7dd));
        EXPECT(0x6f, gbc.readMem(0xc7de));
        // CB 6F 01AA
        gbc.setState(0x1a1b, 0xfb04, 0xf40, 0x49b0, 0xbdd0, 0x31bf, 0x0, 0x0);
        gbc.writeMem(0x1a1b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xfb04, gbc.sp());
        EXPECT(0x1a1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01AB
        gbc.setState(0x8196, 0x82ad, 0xd90, 0x26e1, 0x881c, 0x74f5, 0x1, 0x1);
        gbc.writeMem(0x8196, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x82ad, gbc.sp());
        EXPECT(0x8198, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8196));
        EXPECT(0x6f, gbc.readMem(0x8197));
        // CB 6F 01AC
        gbc.setState(0x28d6, 0xb3fa, 0xc40, 0x10f2, 0x9754, 0xfde1, 0x0, 0x1);
        gbc.writeMem(0x28d6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xb3fa, gbc.sp());
        EXPECT(0x28d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01AE
        gbc.setState(0x3047, 0x26b7, 0x5480, 0xb598, 0xabb3, 0xf099, 0x0, 0x0);
        gbc.writeMem(0x3047, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x26b7, gbc.sp());
        EXPECT(0x3049, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01AF
        gbc.setState(0x968d, 0x40ec, 0x8540, 0x1882, 0xd254, 0x2a72, 0x1, 0x0);
        gbc.writeMem(0x968d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x40ec, gbc.sp());
        EXPECT(0x968f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x968d));
        EXPECT(0x6f, gbc.readMem(0x968e));
        // CB 6F 01B0
        gbc.setState(0x9b33, 0x756c, 0xc5c0, 0xaac0, 0xa933, 0x9e9c, 0x1, 0x0);
        gbc.writeMem(0x9b33, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x756c, gbc.sp());
        EXPECT(0x9b35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b33));
        EXPECT(0x6f, gbc.readMem(0x9b34));
        // CB 6F 01B1
        gbc.setState(0xd694, 0x7b9, 0x8490, 0xfae5, 0x4701, 0xeffa, 0x1, 0x0);
        gbc.writeMem(0xd694, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x7b9, gbc.sp());
        EXPECT(0xd696, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd694));
        EXPECT(0x6f, gbc.readMem(0xd695));
        // CB 6F 01B2
        gbc.setState(0x807e, 0x9daa, 0xb020, 0x6338, 0xae0b, 0x6831, 0x0, 0x1);
        gbc.writeMem(0x807e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x9daa, gbc.sp());
        EXPECT(0x8080, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x807e));
        EXPECT(0x6f, gbc.readMem(0x807f));
        // CB 6F 01B3
        gbc.setState(0x2119, 0x5125, 0xe950, 0x5609, 0x424, 0xa448, 0x0, 0x1);
        gbc.writeMem(0x2119, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x5125, gbc.sp());
        EXPECT(0x211b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01B5
        gbc.setState(0x5a2c, 0x149f, 0x9f00, 0x422e, 0x785, 0x1016, 0x0, 0x1);
        gbc.writeMem(0x5a2c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x149f, gbc.sp());
        EXPECT(0x5a2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01B8
        gbc.setState(0xa8c3, 0xe9f0, 0x9ca0, 0x129d, 0x294d, 0x5e83, 0x0, 0x1);
        gbc.writeMem(0xa8c3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xe9f0, gbc.sp());
        EXPECT(0xa8c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8c3));
        EXPECT(0x6f, gbc.readMem(0xa8c4));
        // CB 6F 01B9
        gbc.setState(0x12c2, 0xa77a, 0xf910, 0x5855, 0x12b9, 0x8656, 0x1, 0x0);
        gbc.writeMem(0x12c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xa77a, gbc.sp());
        EXPECT(0x12c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01BA
        gbc.setState(0xb46c, 0x5153, 0xb180, 0xc392, 0xd742, 0x3932, 0x1, 0x1);
        gbc.writeMem(0xb46c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x5153, gbc.sp());
        EXPECT(0xb46e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb46c));
        EXPECT(0x6f, gbc.readMem(0xb46d));
        // CB 6F 01BB
        gbc.setState(0x98e, 0x919a, 0x61f0, 0xeddc, 0xc3f7, 0xb1ca, 0x0, 0x0);
        gbc.writeMem(0x98e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x919a, gbc.sp());
        EXPECT(0x990, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01BC
        gbc.setState(0x5f62, 0xb550, 0x9f50, 0x79d2, 0x91c9, 0x616d, 0x1, 0x1);
        gbc.writeMem(0x5f62, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xb550, gbc.sp());
        EXPECT(0x5f64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01BD
        gbc.setState(0xced6, 0x2478, 0x3b40, 0x3d98, 0x5d93, 0x89c, 0x1, 0x1);
        gbc.writeMem(0xced6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x2478, gbc.sp());
        EXPECT(0xced8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xced6));
        EXPECT(0x6f, gbc.readMem(0xced7));
        // CB 6F 01BE
        gbc.setState(0xa436, 0xe82e, 0xb4b0, 0xed79, 0x2277, 0x9212, 0x1, 0x1);
        gbc.writeMem(0xa436, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xe82e, gbc.sp());
        EXPECT(0xa438, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa436));
        EXPECT(0x6f, gbc.readMem(0xa437));
        // CB 6F 01BF
        gbc.setState(0x10c8, 0xf802, 0x6720, 0xc978, 0xb969, 0xafce, 0x1, 0x1);
        gbc.writeMem(0x10c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xf802, gbc.sp());
        EXPECT(0x10ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01C0
        gbc.setState(0x2bb2, 0xc1a6, 0xb060, 0xfccd, 0x3323, 0xea56, 0x0, 0x1);
        gbc.writeMem(0x2bb2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xc1a6, gbc.sp());
        EXPECT(0x2bb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01C1
        gbc.setState(0x993d, 0xb518, 0xf3e0, 0x200c, 0x22a9, 0xf312, 0x1, 0x0);
        gbc.writeMem(0x993d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xb518, gbc.sp());
        EXPECT(0x993f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x993d));
        EXPECT(0x6f, gbc.readMem(0x993e));
        // CB 6F 01C3
        gbc.setState(0xb99a, 0x37cc, 0xd7a0, 0x5b06, 0x296c, 0xba0e, 0x1, 0x0);
        gbc.writeMem(0xb99a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x37cc, gbc.sp());
        EXPECT(0xb99c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb99a));
        EXPECT(0x6f, gbc.readMem(0xb99b));
        // CB 6F 01C4
        gbc.setState(0x280, 0xeca6, 0x93d0, 0x8764, 0x43dd, 0xeb8f, 0x1, 0x1);
        gbc.writeMem(0x280, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xeca6, gbc.sp());
        EXPECT(0x282, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01C5
        gbc.setState(0xc57a, 0xae4f, 0x1980, 0x223f, 0x3900, 0x4541, 0x0, 0x0);
        gbc.writeMem(0xc57a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xae4f, gbc.sp());
        EXPECT(0xc57c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc57a));
        EXPECT(0x6f, gbc.readMem(0xc57b));
        // CB 6F 01C6
        gbc.setState(0xb667, 0x89fa, 0x7b30, 0x9851, 0x734b, 0x39e5, 0x0, 0x0);
        gbc.writeMem(0xb667, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x89fa, gbc.sp());
        EXPECT(0xb669, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb667));
        EXPECT(0x6f, gbc.readMem(0xb668));
        // CB 6F 01C7
        gbc.setState(0xcfb2, 0x787f, 0xee10, 0x3902, 0xa6b9, 0x752c, 0x1, 0x0);
        gbc.writeMem(0xcfb2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x787f, gbc.sp());
        EXPECT(0xcfb4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfb2));
        EXPECT(0x6f, gbc.readMem(0xcfb3));
        // CB 6F 01C8
        gbc.setState(0xba2b, 0x72ad, 0x4880, 0x5866, 0xfd66, 0xd3d8, 0x1, 0x1);
        gbc.writeMem(0xba2b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x72ad, gbc.sp());
        EXPECT(0xba2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba2b));
        EXPECT(0x6f, gbc.readMem(0xba2c));
        // CB 6F 01C9
        gbc.setState(0xcf6a, 0xad11, 0x1710, 0x2c58, 0x9569, 0xc139, 0x0, 0x1);
        gbc.writeMem(0xcf6a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xad11, gbc.sp());
        EXPECT(0xcf6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf6a));
        EXPECT(0x6f, gbc.readMem(0xcf6b));
        // CB 6F 01CA
        gbc.setState(0xa604, 0x4e59, 0x28f0, 0xd102, 0xfd68, 0xe5c4, 0x1, 0x1);
        gbc.writeMem(0xa604, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x4e59, gbc.sp());
        EXPECT(0xa606, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa604));
        EXPECT(0x6f, gbc.readMem(0xa605));
        // CB 6F 01CB
        gbc.setState(0x2e28, 0x2f21, 0x1d50, 0xefb2, 0x77dd, 0x3a04, 0x0, 0x0);
        gbc.writeMem(0x2e28, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x2f21, gbc.sp());
        EXPECT(0x2e2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01CC
        gbc.setState(0x49ff, 0x565c, 0x8fb0, 0x60f9, 0xeb62, 0x2311, 0x1, 0x1);
        gbc.writeMem(0x49ff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x565c, gbc.sp());
        EXPECT(0x4a01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01CD
        gbc.setState(0xcf22, 0xa323, 0xdba0, 0x5ee2, 0xbcd4, 0xb645, 0x1, 0x1);
        gbc.writeMem(0xcf22, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xa323, gbc.sp());
        EXPECT(0xcf24, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf22));
        EXPECT(0x6f, gbc.readMem(0xcf23));
        // CB 6F 01CF
        gbc.setState(0x6c38, 0x319e, 0xc7d0, 0x3364, 0x499f, 0x7fb2, 0x1, 0x1);
        gbc.writeMem(0x6c38, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x319e, gbc.sp());
        EXPECT(0x6c3a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01D0
        gbc.setState(0x2c59, 0x3a4c, 0x7fb0, 0xf518, 0xc685, 0x391f, 0x0, 0x1);
        gbc.writeMem(0x2c59, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x3a4c, gbc.sp());
        EXPECT(0x2c5b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01D1
        gbc.setState(0x1aa9, 0xe254, 0xc7e0, 0x21f7, 0x1bbb, 0x808f, 0x1, 0x0);
        gbc.writeMem(0x1aa9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xe254, gbc.sp());
        EXPECT(0x1aab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01D2
        gbc.setState(0x8fba, 0x8ac4, 0x90b0, 0xdaa1, 0x7c1d, 0xf662, 0x1, 0x0);
        gbc.writeMem(0x8fba, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x8ac4, gbc.sp());
        EXPECT(0x8fbc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8fba));
        EXPECT(0x6f, gbc.readMem(0x8fbb));
        // CB 6F 01D3
        gbc.setState(0x264f, 0xff8f, 0xda0, 0xb3a5, 0x8d98, 0x4996, 0x1, 0x1);
        gbc.writeMem(0x264f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xff8f, gbc.sp());
        EXPECT(0x2651, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01D4
        gbc.setState(0x187d, 0xbb4d, 0xae20, 0xe730, 0x75bc, 0x2df1, 0x0, 0x1);
        gbc.writeMem(0x187d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xbb4d, gbc.sp());
        EXPECT(0x187f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01D5
        gbc.setState(0x3c63, 0xbc10, 0x8950, 0xb568, 0x4e2d, 0x8992, 0x1, 0x1);
        gbc.writeMem(0x3c63, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xbc10, gbc.sp());
        EXPECT(0x3c65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01D6
        gbc.setState(0x32ba, 0x8859, 0x99b0, 0xe17f, 0x2682, 0xcc1b, 0x0, 0x0);
        gbc.writeMem(0x32ba, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x8859, gbc.sp());
        EXPECT(0x32bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01D7
        gbc.setState(0x128c, 0x31b7, 0x14e0, 0xbdd2, 0xdac5, 0x179c, 0x0, 0x1);
        gbc.writeMem(0x128c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x31b7, gbc.sp());
        EXPECT(0x128e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01D8
        gbc.setState(0x8320, 0x9816, 0x2340, 0xd52b, 0xae, 0x6d03, 0x0, 0x1);
        gbc.writeMem(0x8320, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x9816, gbc.sp());
        EXPECT(0x8322, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8320));
        EXPECT(0x6f, gbc.readMem(0x8321));
        // CB 6F 01D9
        gbc.setState(0x63c8, 0x707, 0x5af0, 0x783d, 0xc9f, 0xe9da, 0x0, 0x1);
        gbc.writeMem(0x63c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x707, gbc.sp());
        EXPECT(0x63ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01DA
        gbc.setState(0xddfa, 0xc416, 0x35c0, 0x5a09, 0xba3c, 0xfde7, 0x1, 0x1);
        gbc.writeMem(0xddfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xc416, gbc.sp());
        EXPECT(0xddfc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddfa));
        EXPECT(0x6f, gbc.readMem(0xddfb));
        // CB 6F 01DB
        gbc.setState(0x7b20, 0x7fba, 0x5f10, 0xa138, 0xdb7e, 0x67d0, 0x1, 0x0);
        gbc.writeMem(0x7b20, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x7fba, gbc.sp());
        EXPECT(0x7b22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01DC
        gbc.setState(0xaca3, 0xdaf9, 0x8210, 0x3f55, 0xe5c2, 0xaf66, 0x0, 0x1);
        gbc.writeMem(0xaca3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xdaf9, gbc.sp());
        EXPECT(0xaca5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaca3));
        EXPECT(0x6f, gbc.readMem(0xaca4));
        // CB 6F 01DD
        gbc.setState(0x7e3b, 0x2b83, 0x1420, 0xda29, 0x1f05, 0xe36b, 0x0, 0x1);
        gbc.writeMem(0x7e3b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x2b83, gbc.sp());
        EXPECT(0x7e3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01DE
        gbc.setState(0x7d15, 0x1880, 0x6a50, 0xca53, 0xe6ae, 0x72e4, 0x1, 0x1);
        gbc.writeMem(0x7d15, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x1880, gbc.sp());
        EXPECT(0x7d17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01DF
        gbc.setState(0xda59, 0xf5d7, 0x7440, 0x19b9, 0xdf9a, 0x2662, 0x1, 0x1);
        gbc.writeMem(0xda59, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xf5d7, gbc.sp());
        EXPECT(0xda5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda59));
        EXPECT(0x6f, gbc.readMem(0xda5a));
        // CB 6F 01E0
        gbc.setState(0x959d, 0x9fe5, 0x93f0, 0x2644, 0x9804, 0x93d7, 0x1, 0x0);
        gbc.writeMem(0x959d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x9fe5, gbc.sp());
        EXPECT(0x959f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x959d));
        EXPECT(0x6f, gbc.readMem(0x959e));
        // CB 6F 01E1
        gbc.setState(0xadff, 0xd2b9, 0x7dc0, 0xa1, 0x17a3, 0xe66, 0x0, 0x0);
        gbc.writeMem(0xadff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xd2b9, gbc.sp());
        EXPECT(0xae01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadff));
        EXPECT(0x6f, gbc.readMem(0xae00));
        // CB 6F 01E2
        gbc.setState(0x768a, 0x9612, 0x2da0, 0x9552, 0x9b07, 0xeefe, 0x0, 0x0);
        gbc.writeMem(0x768a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x9612, gbc.sp());
        EXPECT(0x768c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01E3
        gbc.setState(0x4185, 0x1ff6, 0xcd60, 0x6928, 0xec4f, 0x6706, 0x0, 0x1);
        gbc.writeMem(0x4185, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x1ff6, gbc.sp());
        EXPECT(0x4187, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01E4
        gbc.setState(0xebea, 0x602a, 0xb930, 0x15c9, 0xa0c2, 0x4a53, 0x1, 0x0);
        gbc.writeMem(0xebea, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x602a, gbc.sp());
        EXPECT(0xebec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xebea));
        EXPECT(0x6f, gbc.readMem(0xebeb));
        // CB 6F 01E5
        gbc.setState(0x34df, 0xcc1c, 0x3ef0, 0x711, 0xa42a, 0xe7aa, 0x0, 0x1);
        gbc.writeMem(0x34df, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xcc1c, gbc.sp());
        EXPECT(0x34e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01E6
        gbc.setState(0x2cb3, 0x8089, 0x6930, 0x2663, 0x2dff, 0x5179, 0x1, 0x1);
        gbc.writeMem(0x2cb3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x8089, gbc.sp());
        EXPECT(0x2cb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01E7
        gbc.setState(0x2d82, 0xf9ec, 0x9b40, 0xf34f, 0xcafe, 0x47b6, 0x0, 0x0);
        gbc.writeMem(0x2d82, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xf9ec, gbc.sp());
        EXPECT(0x2d84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01E8
        gbc.setState(0xdbd9, 0xca5e, 0x2420, 0x6cd2, 0x410a, 0x7275, 0x0, 0x0);
        gbc.writeMem(0xdbd9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xca5e, gbc.sp());
        EXPECT(0xdbdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbd9));
        EXPECT(0x6f, gbc.readMem(0xdbda));
        // CB 6F 01E9
        gbc.setState(0x859d, 0xcbc1, 0xfdb0, 0xa1f7, 0xf5c5, 0x432, 0x0, 0x1);
        gbc.writeMem(0x859d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xcbc1, gbc.sp());
        EXPECT(0x859f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x859d));
        EXPECT(0x6f, gbc.readMem(0x859e));
        // CB 6F 01EA
        gbc.setState(0xd2bd, 0xed53, 0x2600, 0x207d, 0x46f8, 0x7a36, 0x0, 0x0);
        gbc.writeMem(0xd2bd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xed53, gbc.sp());
        EXPECT(0xd2bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2bd));
        EXPECT(0x6f, gbc.readMem(0xd2be));
        // CB 6F 01EB
        gbc.setState(0xa6f3, 0xfe14, 0x1bd0, 0x91a, 0xa1a7, 0x5ec8, 0x1, 0x0);
        gbc.writeMem(0xa6f3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xfe14, gbc.sp());
        EXPECT(0xa6f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6f3));
        EXPECT(0x6f, gbc.readMem(0xa6f4));
        // CB 6F 01EC
        gbc.setState(0x1d04, 0x70b4, 0xf150, 0x84b4, 0x7d83, 0xef7f, 0x0, 0x1);
        gbc.writeMem(0x1d04, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x70b4, gbc.sp());
        EXPECT(0x1d06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01ED
        gbc.setState(0xdc55, 0x4b8e, 0xe2b0, 0x1530, 0x603b, 0x8bd4, 0x1, 0x1);
        gbc.writeMem(0xdc55, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x4b8e, gbc.sp());
        EXPECT(0xdc57, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc55));
        EXPECT(0x6f, gbc.readMem(0xdc56));
        // CB 6F 01EE
        gbc.setState(0xa2e1, 0x31cb, 0x2750, 0x729c, 0x3112, 0x585c, 0x0, 0x0);
        gbc.writeMem(0xa2e1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x31cb, gbc.sp());
        EXPECT(0xa2e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2e1));
        EXPECT(0x6f, gbc.readMem(0xa2e2));
        // CB 6F 01EF
        gbc.setState(0xca98, 0xf565, 0xcda0, 0xeda9, 0xbbf2, 0xd097, 0x0, 0x1);
        gbc.writeMem(0xca98, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xf565, gbc.sp());
        EXPECT(0xca9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca98));
        EXPECT(0x6f, gbc.readMem(0xca99));
        // CB 6F 01F0
        gbc.setState(0xa180, 0xc355, 0xfc30, 0xbfcd, 0xa27b, 0x9bdf, 0x1, 0x1);
        gbc.writeMem(0xa180, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xc355, gbc.sp());
        EXPECT(0xa182, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa180));
        EXPECT(0x6f, gbc.readMem(0xa181));
        // CB 6F 01F1
        gbc.setState(0xd8f6, 0xc837, 0x5ff0, 0xb12, 0x506a, 0xc71d, 0x1, 0x0);
        gbc.writeMem(0xd8f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xc837, gbc.sp());
        EXPECT(0xd8f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8f6));
        EXPECT(0x6f, gbc.readMem(0xd8f7));
        // CB 6F 01F2
        gbc.setState(0x538e, 0x47f3, 0x45a0, 0xb9a0, 0x98ff, 0xfb97, 0x0, 0x1);
        gbc.writeMem(0x538e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x47f3, gbc.sp());
        EXPECT(0x5390, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01F3
        gbc.setState(0xcc9a, 0xa22e, 0x4b30, 0x2f1f, 0x2b59, 0x5c60, 0x0, 0x1);
        gbc.writeMem(0xcc9a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xa22e, gbc.sp());
        EXPECT(0xcc9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc9a));
        EXPECT(0x6f, gbc.readMem(0xcc9b));
        // CB 6F 01F4
        gbc.setState(0x5064, 0x238a, 0x940, 0x8b33, 0xd7ad, 0xd173, 0x1, 0x1);
        gbc.writeMem(0x5064, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x238a, gbc.sp());
        EXPECT(0x5066, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 01F5
        gbc.setState(0x9a4f, 0x8e20, 0xe960, 0xf773, 0xbe96, 0xb04e, 0x1, 0x1);
        gbc.writeMem(0x9a4f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x8e20, gbc.sp());
        EXPECT(0x9a51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a4f));
        EXPECT(0x6f, gbc.readMem(0x9a50));
        // CB 6F 01F6
        gbc.setState(0xe137, 0x5250, 0xd480, 0x61ef, 0x7c06, 0x4e0b, 0x0, 0x0);
        gbc.writeMem(0xe137, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x5250, gbc.sp());
        EXPECT(0xe139, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe137));
        EXPECT(0x6f, gbc.readMem(0xe138));
        // CB 6F 01F7
        gbc.setState(0xef5d, 0xbea2, 0x6850, 0xd860, 0x9bd1, 0x5680, 0x1, 0x1);
        gbc.writeMem(0xef5d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xbea2, gbc.sp());
        EXPECT(0xef5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef5d));
        EXPECT(0x6f, gbc.readMem(0xef5e));
        // CB 6F 01F8
        gbc.setState(0xb719, 0xdc39, 0xa750, 0x1351, 0xcfb9, 0x13a5, 0x1, 0x1);
        gbc.writeMem(0xb719, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xdc39, gbc.sp());
        EXPECT(0xb71b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb719));
        EXPECT(0x6f, gbc.readMem(0xb71a));
        // CB 6F 01F9
        gbc.setState(0x467d, 0x3d8a, 0x2690, 0xe946, 0x420, 0x4073, 0x0, 0x0);
        gbc.writeMem(0x467d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x3d8a, gbc.sp());
        EXPECT(0x467f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01FB
        gbc.setState(0xe89, 0xc5aa, 0x8670, 0xea2a, 0xbf16, 0x2f8d, 0x0, 0x0);
        gbc.writeMem(0xe89, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xc5aa, gbc.sp());
        EXPECT(0xe8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01FC
        gbc.setState(0x2da3, 0xb660, 0x4af0, 0xa9ee, 0xa60f, 0x147f, 0x0, 0x0);
        gbc.writeMem(0x2da3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xb660, gbc.sp());
        EXPECT(0x2da5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01FD
        gbc.setState(0x4b5b, 0x4e07, 0xd450, 0x2bc5, 0xe6b, 0x9a1a, 0x1, 0x1);
        gbc.writeMem(0x4b5b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x4e07, gbc.sp());
        EXPECT(0x4b5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 01FE
        gbc.setState(0x97bd, 0xcdb4, 0x58c0, 0x9e83, 0x975e, 0xf351, 0x1, 0x0);
        gbc.writeMem(0x97bd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xcdb4, gbc.sp());
        EXPECT(0x97bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97bd));
        EXPECT(0x6f, gbc.readMem(0x97be));
        // CB 6F 01FF
        gbc.setState(0x1ecd, 0x352a, 0x3ee0, 0x80da, 0x29a8, 0x6991, 0x0, 0x1);
        gbc.writeMem(0x1ecd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x352a, gbc.sp());
        EXPECT(0x1ecf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0200
        gbc.setState(0xaa7a, 0x9336, 0xc0e0, 0xae66, 0xf318, 0xf657, 0x0, 0x1);
        gbc.writeMem(0xaa7a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x9336, gbc.sp());
        EXPECT(0xaa7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa7a));
        EXPECT(0x6f, gbc.readMem(0xaa7b));
        // CB 6F 0201
        gbc.setState(0x1abd, 0x5af6, 0x81a0, 0x9c5b, 0x6665, 0x6dea, 0x0, 0x0);
        gbc.writeMem(0x1abd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x5af6, gbc.sp());
        EXPECT(0x1abf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0202
        gbc.setState(0xb16b, 0x7e3a, 0xfc70, 0x20e2, 0x6aa9, 0x34dd, 0x1, 0x0);
        gbc.writeMem(0xb16b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x7e3a, gbc.sp());
        EXPECT(0xb16d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb16b));
        EXPECT(0x6f, gbc.readMem(0xb16c));
        // CB 6F 0203
        gbc.setState(0xa268, 0x3acb, 0x8d40, 0xe893, 0x7e4c, 0x390d, 0x0, 0x1);
        gbc.writeMem(0xa268, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x3acb, gbc.sp());
        EXPECT(0xa26a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa268));
        EXPECT(0x6f, gbc.readMem(0xa269));
        // CB 6F 0204
        gbc.setState(0x5787, 0xa9c7, 0xc00, 0x78cd, 0x301e, 0xa144, 0x0, 0x1);
        gbc.writeMem(0x5787, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xa9c7, gbc.sp());
        EXPECT(0x5789, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0205
        gbc.setState(0x4ba1, 0x512e, 0xefe0, 0x825e, 0x3f5a, 0x3287, 0x1, 0x1);
        gbc.writeMem(0x4ba1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x512e, gbc.sp());
        EXPECT(0x4ba3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0206
        gbc.setState(0xd90f, 0x6214, 0xda30, 0x51c6, 0x8a5c, 0x49c4, 0x0, 0x1);
        gbc.writeMem(0xd90f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x6214, gbc.sp());
        EXPECT(0xd911, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd90f));
        EXPECT(0x6f, gbc.readMem(0xd910));
        // CB 6F 0207
        gbc.setState(0x6e0, 0x520e, 0x3070, 0xbd93, 0x606c, 0x4fb, 0x1, 0x0);
        gbc.writeMem(0x6e0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x520e, gbc.sp());
        EXPECT(0x6e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0208
        gbc.setState(0x9119, 0x4154, 0xbf60, 0x6093, 0x4822, 0x8fcc, 0x0, 0x0);
        gbc.writeMem(0x9119, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x4154, gbc.sp());
        EXPECT(0x911b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9119));
        EXPECT(0x6f, gbc.readMem(0x911a));
        // CB 6F 0209
        gbc.setState(0xa055, 0x80a0, 0x8400, 0x333, 0xaff0, 0x2aeb, 0x0, 0x0);
        gbc.writeMem(0xa055, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x80a0, gbc.sp());
        EXPECT(0xa057, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa055));
        EXPECT(0x6f, gbc.readMem(0xa056));
        // CB 6F 020B
        gbc.setState(0x7c0b, 0x2ee8, 0xa240, 0x2a2, 0x8ba9, 0x54c0, 0x1, 0x0);
        gbc.writeMem(0x7c0b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x2ee8, gbc.sp());
        EXPECT(0x7c0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 020C
        gbc.setState(0x647e, 0xb1a0, 0xb100, 0x801a, 0xe079, 0x1f05, 0x1, 0x1);
        gbc.writeMem(0x647e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xb1a0, gbc.sp());
        EXPECT(0x6480, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 020D
        gbc.setState(0x5fcf, 0x62d3, 0xbde0, 0x8ff0, 0x8a94, 0x7b2d, 0x0, 0x1);
        gbc.writeMem(0x5fcf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x62d3, gbc.sp());
        EXPECT(0x5fd1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 020E
        gbc.setState(0x5e94, 0x12a8, 0xf120, 0xa891, 0x3d02, 0x2237, 0x1, 0x0);
        gbc.writeMem(0x5e94, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x12a8, gbc.sp());
        EXPECT(0x5e96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 020F
        gbc.setState(0xd691, 0xc3be, 0x2550, 0x7ac8, 0x5b8c, 0x96bd, 0x1, 0x0);
        gbc.writeMem(0xd691, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xc3be, gbc.sp());
        EXPECT(0xd693, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd691));
        EXPECT(0x6f, gbc.readMem(0xd692));
        // CB 6F 0210
        gbc.setState(0x17ec, 0x2da2, 0xecc0, 0x2a36, 0xcff, 0x886b, 0x1, 0x0);
        gbc.writeMem(0x17ec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x2da2, gbc.sp());
        EXPECT(0x17ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0211
        gbc.setState(0xd457, 0xb5d1, 0xcd70, 0xa8c4, 0xbaf1, 0xddc9, 0x0, 0x1);
        gbc.writeMem(0xd457, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xb5d1, gbc.sp());
        EXPECT(0xd459, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd457));
        EXPECT(0x6f, gbc.readMem(0xd458));
        // CB 6F 0212
        gbc.setState(0xd1f2, 0xa3bd, 0xba20, 0xd79e, 0x715d, 0x5086, 0x1, 0x1);
        gbc.writeMem(0xd1f2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xa3bd, gbc.sp());
        EXPECT(0xd1f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1f2));
        EXPECT(0x6f, gbc.readMem(0xd1f3));
        // CB 6F 0213
        gbc.setState(0x43c, 0xc5d0, 0x4df0, 0xc5c, 0x3a51, 0xe544, 0x0, 0x1);
        gbc.writeMem(0x43c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xc5d0, gbc.sp());
        EXPECT(0x43e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0214
        gbc.setState(0x57c, 0x2447, 0x3b80, 0xce5b, 0x633e, 0xef6d, 0x1, 0x1);
        gbc.writeMem(0x57c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x2447, gbc.sp());
        EXPECT(0x57e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0215
        gbc.setState(0x80b3, 0x68fb, 0x1fd0, 0x9312, 0xde84, 0x9b19, 0x0, 0x1);
        gbc.writeMem(0x80b3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x68fb, gbc.sp());
        EXPECT(0x80b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80b3));
        EXPECT(0x6f, gbc.readMem(0x80b4));
        // CB 6F 0216
        gbc.setState(0xa41b, 0x5563, 0x1f30, 0x6b48, 0xbd2, 0xbb57, 0x0, 0x0);
        gbc.writeMem(0xa41b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x5563, gbc.sp());
        EXPECT(0xa41d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa41b));
        EXPECT(0x6f, gbc.readMem(0xa41c));
        // CB 6F 0217
        gbc.setState(0xd3b4, 0xa522, 0x3710, 0x2c43, 0x3301, 0xe2d2, 0x1, 0x0);
        gbc.writeMem(0xd3b4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xa522, gbc.sp());
        EXPECT(0xd3b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3b4));
        EXPECT(0x6f, gbc.readMem(0xd3b5));
        // CB 6F 0218
        gbc.setState(0x2235, 0xd383, 0x6fb0, 0xd145, 0x25d8, 0xb841, 0x1, 0x1);
        gbc.writeMem(0x2235, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xd383, gbc.sp());
        EXPECT(0x2237, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0219
        gbc.setState(0x3e29, 0x6272, 0x82a0, 0xa9d1, 0x10da, 0x9ddf, 0x0, 0x1);
        gbc.writeMem(0x3e29, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x6272, gbc.sp());
        EXPECT(0x3e2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 021A
        gbc.setState(0x7b79, 0xb7a7, 0xe8e0, 0x190f, 0x2f0e, 0x7307, 0x1, 0x0);
        gbc.writeMem(0x7b79, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xb7a7, gbc.sp());
        EXPECT(0x7b7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 021B
        gbc.setState(0x2c9b, 0xe170, 0x6b10, 0xa065, 0x6303, 0x55f2, 0x0, 0x1);
        gbc.writeMem(0x2c9b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xe170, gbc.sp());
        EXPECT(0x2c9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 021C
        gbc.setState(0x4bc5, 0xf1d4, 0x37e0, 0xef59, 0x8e0d, 0x970d, 0x0, 0x0);
        gbc.writeMem(0x4bc5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xf1d4, gbc.sp());
        EXPECT(0x4bc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 021D
        gbc.setState(0xd295, 0x2a4e, 0xea40, 0x58b0, 0x38f3, 0x5a2a, 0x0, 0x0);
        gbc.writeMem(0xd295, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x2a4e, gbc.sp());
        EXPECT(0xd297, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd295));
        EXPECT(0x6f, gbc.readMem(0xd296));
        // CB 6F 021E
        gbc.setState(0x182e, 0xfda3, 0x93e0, 0x489, 0x3663, 0xa14c, 0x0, 0x1);
        gbc.writeMem(0x182e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xfda3, gbc.sp());
        EXPECT(0x1830, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 021F
        gbc.setState(0xf05, 0x823, 0x5bb0, 0xa842, 0xa427, 0x44bb, 0x0, 0x1);
        gbc.writeMem(0xf05, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x823, gbc.sp());
        EXPECT(0xf07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0220
        gbc.setState(0xdd3a, 0xc3f6, 0x3f0, 0x8d8a, 0xb4ab, 0xcca4, 0x1, 0x1);
        gbc.writeMem(0xdd3a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xc3f6, gbc.sp());
        EXPECT(0xdd3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd3a));
        EXPECT(0x6f, gbc.readMem(0xdd3b));
        // CB 6F 0221
        gbc.setState(0xaa27, 0x2d1c, 0xf470, 0x7499, 0x6d1a, 0xea27, 0x1, 0x0);
        gbc.writeMem(0xaa27, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x2d1c, gbc.sp());
        EXPECT(0xaa29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa27));
        EXPECT(0x6f, gbc.readMem(0xaa28));
        // CB 6F 0222
        gbc.setState(0x79d3, 0x37b4, 0xb7e0, 0xd48c, 0x334f, 0x59bb, 0x1, 0x1);
        gbc.writeMem(0x79d3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x37b4, gbc.sp());
        EXPECT(0x79d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0223
        gbc.setState(0x3f4f, 0xa6c9, 0xe0c0, 0xaa84, 0x6bbe, 0x914d, 0x1, 0x0);
        gbc.writeMem(0x3f4f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xa6c9, gbc.sp());
        EXPECT(0x3f51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0224
        gbc.setState(0x492a, 0xe8aa, 0x1c10, 0x58f3, 0xaf2f, 0xb64a, 0x1, 0x1);
        gbc.writeMem(0x492a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xe8aa, gbc.sp());
        EXPECT(0x492c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0225
        gbc.setState(0x8b10, 0x945d, 0x8560, 0x34c0, 0xf01b, 0x3444, 0x0, 0x0);
        gbc.writeMem(0x8b10, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x945d, gbc.sp());
        EXPECT(0x8b12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b10));
        EXPECT(0x6f, gbc.readMem(0x8b11));
        // CB 6F 0226
        gbc.setState(0xcc5, 0xacf1, 0xe390, 0x25be, 0xce43, 0x4dc2, 0x1, 0x1);
        gbc.writeMem(0xcc5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xacf1, gbc.sp());
        EXPECT(0xcc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0227
        gbc.setState(0xd065, 0x62a5, 0x7170, 0x3690, 0xd38e, 0xc326, 0x0, 0x1);
        gbc.writeMem(0xd065, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x62a5, gbc.sp());
        EXPECT(0xd067, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd065));
        EXPECT(0x6f, gbc.readMem(0xd066));
        // CB 6F 0228
        gbc.setState(0x542f, 0xed8e, 0x9f30, 0x1c95, 0x2701, 0xf110, 0x1, 0x1);
        gbc.writeMem(0x542f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xed8e, gbc.sp());
        EXPECT(0x5431, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0229
        gbc.setState(0x4f29, 0x2475, 0xe370, 0x7305, 0xfed4, 0x47f2, 0x0, 0x1);
        gbc.writeMem(0x4f29, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x2475, gbc.sp());
        EXPECT(0x4f2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 022A
        gbc.setState(0xce1c, 0x2656, 0x3e10, 0xa7d7, 0x68d5, 0x3706, 0x1, 0x1);
        gbc.writeMem(0xce1c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x2656, gbc.sp());
        EXPECT(0xce1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce1c));
        EXPECT(0x6f, gbc.readMem(0xce1d));
        // CB 6F 022C
        gbc.setState(0xeb81, 0xa60e, 0xd0, 0x5937, 0x3d4, 0x75be, 0x1, 0x0);
        gbc.writeMem(0xeb81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xa60e, gbc.sp());
        EXPECT(0xeb83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb81));
        EXPECT(0x6f, gbc.readMem(0xeb82));
        // CB 6F 022D
        gbc.setState(0xb998, 0x7d2c, 0xbd90, 0xfe9d, 0xbf5e, 0x2e53, 0x0, 0x1);
        gbc.writeMem(0xb998, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x7d2c, gbc.sp());
        EXPECT(0xb99a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb998));
        EXPECT(0x6f, gbc.readMem(0xb999));
        // CB 6F 022E
        gbc.setState(0x67c9, 0xb2d3, 0x6c0, 0x5b8c, 0x53e3, 0x2067, 0x0, 0x0);
        gbc.writeMem(0x67c9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xb2d3, gbc.sp());
        EXPECT(0x67cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 022F
        gbc.setState(0x44b2, 0xd3b, 0x8920, 0xb149, 0x50b5, 0x204a, 0x1, 0x0);
        gbc.writeMem(0x44b2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xd3b, gbc.sp());
        EXPECT(0x44b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0230
        gbc.setState(0x60, 0xac48, 0x1d20, 0x4d58, 0x662a, 0xf4fb, 0x1, 0x0);
        gbc.writeMem(0x60, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xac48, gbc.sp());
        EXPECT(0x62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0231
        gbc.setState(0x97d7, 0x2715, 0xe4a0, 0x52e5, 0x58bf, 0x3dee, 0x1, 0x1);
        gbc.writeMem(0x97d7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x2715, gbc.sp());
        EXPECT(0x97d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97d7));
        EXPECT(0x6f, gbc.readMem(0x97d8));
        // CB 6F 0232
        gbc.setState(0xc8d, 0x95c4, 0x24b0, 0xf89e, 0x7eb2, 0x910c, 0x1, 0x0);
        gbc.writeMem(0xc8d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x95c4, gbc.sp());
        EXPECT(0xc8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0233
        gbc.setState(0x569e, 0x255c, 0x8410, 0x19ef, 0xf20, 0xd6e3, 0x1, 0x0);
        gbc.writeMem(0x569e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x255c, gbc.sp());
        EXPECT(0x56a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0234
        gbc.setState(0x4a12, 0xf913, 0xf560, 0xe238, 0xb335, 0x8dd1, 0x1, 0x0);
        gbc.writeMem(0x4a12, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xf913, gbc.sp());
        EXPECT(0x4a14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0235
        gbc.setState(0x3d7a, 0xa9d3, 0x3a80, 0x78b0, 0x86f3, 0xaeb7, 0x0, 0x0);
        gbc.writeMem(0x3d7a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xa9d3, gbc.sp());
        EXPECT(0x3d7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0236
        gbc.setState(0x9737, 0x6631, 0xfff0, 0x72d2, 0x76ae, 0xb7c8, 0x1, 0x1);
        gbc.writeMem(0x9737, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x6631, gbc.sp());
        EXPECT(0x9739, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9737));
        EXPECT(0x6f, gbc.readMem(0x9738));
        // CB 6F 0237
        gbc.setState(0xd3a1, 0xf713, 0x89f0, 0x969c, 0x13e6, 0xafd5, 0x0, 0x0);
        gbc.writeMem(0xd3a1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xf713, gbc.sp());
        EXPECT(0xd3a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3a1));
        EXPECT(0x6f, gbc.readMem(0xd3a2));
        // CB 6F 0238
        gbc.setState(0xb145, 0xc3f1, 0x9c60, 0x2f98, 0x5264, 0x381d, 0x0, 0x0);
        gbc.writeMem(0xb145, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xc3f1, gbc.sp());
        EXPECT(0xb147, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb145));
        EXPECT(0x6f, gbc.readMem(0xb146));
        // CB 6F 0239
        gbc.setState(0x9aa0, 0xff94, 0x2570, 0xd881, 0x9e80, 0xc30b, 0x1, 0x0);
        gbc.writeMem(0x9aa0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xff94, gbc.sp());
        EXPECT(0x9aa2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9aa0));
        EXPECT(0x6f, gbc.readMem(0x9aa1));
        // CB 6F 023A
        gbc.setState(0xa234, 0x3a21, 0x94b0, 0x39df, 0x1592, 0x611f, 0x0, 0x1);
        gbc.writeMem(0xa234, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x3a21, gbc.sp());
        EXPECT(0xa236, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa234));
        EXPECT(0x6f, gbc.readMem(0xa235));
        // CB 6F 023B
        gbc.setState(0xb77a, 0xba1, 0xea80, 0xacad, 0xfdd6, 0x8921, 0x0, 0x1);
        gbc.writeMem(0xb77a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xba1, gbc.sp());
        EXPECT(0xb77c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb77a));
        EXPECT(0x6f, gbc.readMem(0xb77b));
        // CB 6F 023C
        gbc.setState(0xe6ab, 0xf27e, 0x3d10, 0xa401, 0x8638, 0xf11b, 0x0, 0x0);
        gbc.writeMem(0xe6ab, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xf27e, gbc.sp());
        EXPECT(0xe6ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6ab));
        EXPECT(0x6f, gbc.readMem(0xe6ac));
        // CB 6F 023D
        gbc.setState(0xcd40, 0x8413, 0x1000, 0xc0bb, 0xfa10, 0xac5a, 0x1, 0x1);
        gbc.writeMem(0xcd40, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x8413, gbc.sp());
        EXPECT(0xcd42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd40));
        EXPECT(0x6f, gbc.readMem(0xcd41));
        // CB 6F 023E
        gbc.setState(0xc3fe, 0xfe3e, 0xebc0, 0x877a, 0x3b69, 0x9e1f, 0x1, 0x0);
        gbc.writeMem(0xc3fe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xfe3e, gbc.sp());
        EXPECT(0xc400, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3fe));
        EXPECT(0x6f, gbc.readMem(0xc3ff));
        // CB 6F 023F
        gbc.setState(0x6d8f, 0xa98a, 0x5400, 0x14e1, 0x9fda, 0x4f7, 0x1, 0x1);
        gbc.writeMem(0x6d8f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xa98a, gbc.sp());
        EXPECT(0x6d91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0240
        gbc.setState(0x8e63, 0xa81a, 0xa850, 0x9457, 0x777a, 0xee78, 0x0, 0x0);
        gbc.writeMem(0x8e63, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xa81a, gbc.sp());
        EXPECT(0x8e65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e63));
        EXPECT(0x6f, gbc.readMem(0x8e64));
        // CB 6F 0241
        gbc.setState(0x2f33, 0x6a0f, 0x46f0, 0xeed7, 0x3a06, 0xc8bd, 0x0, 0x0);
        gbc.writeMem(0x2f33, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x6a0f, gbc.sp());
        EXPECT(0x2f35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0242
        gbc.setState(0x36a6, 0xcb40, 0x2fd0, 0x8022, 0x78c3, 0xc3cd, 0x1, 0x0);
        gbc.writeMem(0x36a6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xcb40, gbc.sp());
        EXPECT(0x36a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0243
        gbc.setState(0x8925, 0x4244, 0x5fe0, 0xf37c, 0x30f2, 0x55f4, 0x0, 0x0);
        gbc.writeMem(0x8925, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x4244, gbc.sp());
        EXPECT(0x8927, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8925));
        EXPECT(0x6f, gbc.readMem(0x8926));
        // CB 6F 0244
        gbc.setState(0xcc1d, 0x6dba, 0x3ba0, 0xfbe3, 0x6594, 0x7397, 0x0, 0x1);
        gbc.writeMem(0xcc1d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x6dba, gbc.sp());
        EXPECT(0xcc1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc1d));
        EXPECT(0x6f, gbc.readMem(0xcc1e));
        // CB 6F 0245
        gbc.setState(0x47a2, 0x59ec, 0xb370, 0x4e33, 0xeca2, 0xb3c1, 0x1, 0x1);
        gbc.writeMem(0x47a2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x59ec, gbc.sp());
        EXPECT(0x47a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0246
        gbc.setState(0xd72, 0x9834, 0x4680, 0x2372, 0xa73b, 0x59cb, 0x0, 0x1);
        gbc.writeMem(0xd72, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x9834, gbc.sp());
        EXPECT(0xd74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0247
        gbc.setState(0x4b0e, 0xf954, 0x6630, 0x640c, 0xbbbb, 0xe81a, 0x1, 0x1);
        gbc.writeMem(0x4b0e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xf954, gbc.sp());
        EXPECT(0x4b10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0248
        gbc.setState(0x8c59, 0xb6e0, 0x1bd0, 0x3937, 0x80bb, 0x500e, 0x1, 0x0);
        gbc.writeMem(0x8c59, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xb6e0, gbc.sp());
        EXPECT(0x8c5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c59));
        EXPECT(0x6f, gbc.readMem(0x8c5a));
        // CB 6F 0249
        gbc.setState(0x3709, 0xa9a0, 0x6cc0, 0x490c, 0x9811, 0xfef5, 0x0, 0x0);
        gbc.writeMem(0x3709, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xa9a0, gbc.sp());
        EXPECT(0x370b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 024A
        gbc.setState(0x197, 0xe9fd, 0x3c0, 0xff96, 0x6621, 0xaef3, 0x0, 0x0);
        gbc.writeMem(0x197, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xe9fd, gbc.sp());
        EXPECT(0x199, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 024B
        gbc.setState(0x704f, 0xf675, 0x1050, 0x4389, 0x409f, 0xcaa4, 0x1, 0x1);
        gbc.writeMem(0x704f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xf675, gbc.sp());
        EXPECT(0x7051, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 024C
        gbc.setState(0xc389, 0x9d1f, 0x3f60, 0xec10, 0x681e, 0xc928, 0x0, 0x1);
        gbc.writeMem(0xc389, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x9d1f, gbc.sp());
        EXPECT(0xc38b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc389));
        EXPECT(0x6f, gbc.readMem(0xc38a));
        // CB 6F 024D
        gbc.setState(0xafc8, 0xc87e, 0xcd40, 0x44c, 0xbd05, 0xe811, 0x0, 0x0);
        gbc.writeMem(0xafc8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xc87e, gbc.sp());
        EXPECT(0xafca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafc8));
        EXPECT(0x6f, gbc.readMem(0xafc9));
        // CB 6F 024E
        gbc.setState(0x13d7, 0x397f, 0xced0, 0x4f2, 0xae18, 0xee86, 0x1, 0x0);
        gbc.writeMem(0x13d7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x397f, gbc.sp());
        EXPECT(0x13d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 024F
        gbc.setState(0xb6dd, 0x4d6e, 0x6ad0, 0x49f, 0x8402, 0xd8e9, 0x1, 0x0);
        gbc.writeMem(0xb6dd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x4d6e, gbc.sp());
        EXPECT(0xb6df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6dd));
        EXPECT(0x6f, gbc.readMem(0xb6de));
        // CB 6F 0251
        gbc.setState(0x5e89, 0x6b99, 0x5e10, 0x7bd6, 0x2cf0, 0xc976, 0x0, 0x0);
        gbc.writeMem(0x5e89, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x6b99, gbc.sp());
        EXPECT(0x5e8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0252
        gbc.setState(0xc14c, 0x7f3d, 0x80a0, 0x9751, 0x38be, 0x2a93, 0x1, 0x1);
        gbc.writeMem(0xc14c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x7f3d, gbc.sp());
        EXPECT(0xc14e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc14c));
        EXPECT(0x6f, gbc.readMem(0xc14d));
        // CB 6F 0253
        gbc.setState(0x1d7f, 0x548d, 0xa430, 0xfbb8, 0xfa3d, 0x9c5, 0x1, 0x1);
        gbc.writeMem(0x1d7f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x548d, gbc.sp());
        EXPECT(0x1d81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0254
        gbc.setState(0xca5b, 0x87ad, 0x9070, 0xb649, 0x9040, 0x853b, 0x1, 0x1);
        gbc.writeMem(0xca5b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x87ad, gbc.sp());
        EXPECT(0xca5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca5b));
        EXPECT(0x6f, gbc.readMem(0xca5c));
        // CB 6F 0255
        gbc.setState(0x999, 0x572f, 0xb240, 0x739b, 0xbef4, 0x2f24, 0x0, 0x0);
        gbc.writeMem(0x999, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x572f, gbc.sp());
        EXPECT(0x99b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0256
        gbc.setState(0x50d, 0x5e4e, 0xd8c0, 0x4803, 0xe7a0, 0x3473, 0x0, 0x1);
        gbc.writeMem(0x50d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x5e4e, gbc.sp());
        EXPECT(0x50f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0257
        gbc.setState(0xb1f4, 0x7546, 0x4d50, 0x5165, 0x3cc6, 0x892, 0x1, 0x0);
        gbc.writeMem(0xb1f4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x7546, gbc.sp());
        EXPECT(0xb1f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1f4));
        EXPECT(0x6f, gbc.readMem(0xb1f5));
        // CB 6F 0259
        gbc.setState(0xdd53, 0x646b, 0x9320, 0x383d, 0x8f13, 0x8782, 0x1, 0x0);
        gbc.writeMem(0xdd53, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x646b, gbc.sp());
        EXPECT(0xdd55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd53));
        EXPECT(0x6f, gbc.readMem(0xdd54));
        // CB 6F 025A
        gbc.setState(0xec6d, 0xe15a, 0xf550, 0x898b, 0xf6b, 0x3188, 0x1, 0x1);
        gbc.writeMem(0xec6d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xe15a, gbc.sp());
        EXPECT(0xec6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec6d));
        EXPECT(0x6f, gbc.readMem(0xec6e));
        // CB 6F 025B
        gbc.setState(0xdbb9, 0x876a, 0x40a0, 0xedd1, 0x54bd, 0xeded, 0x0, 0x0);
        gbc.writeMem(0xdbb9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x876a, gbc.sp());
        EXPECT(0xdbbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbb9));
        EXPECT(0x6f, gbc.readMem(0xdbba));
        // CB 6F 025C
        gbc.setState(0x73f6, 0x3649, 0xdff0, 0xde86, 0xfa62, 0x66d2, 0x0, 0x1);
        gbc.writeMem(0x73f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x3649, gbc.sp());
        EXPECT(0x73f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 025D
        gbc.setState(0xcb86, 0x6aed, 0xccc0, 0x66cb, 0x94a2, 0x3f85, 0x1, 0x1);
        gbc.writeMem(0xcb86, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x6aed, gbc.sp());
        EXPECT(0xcb88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb86));
        EXPECT(0x6f, gbc.readMem(0xcb87));
        // CB 6F 025E
        gbc.setState(0x14ec, 0x2c4d, 0xc4c0, 0x3bac, 0xc6f2, 0x7e4c, 0x1, 0x1);
        gbc.writeMem(0x14ec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x2c4d, gbc.sp());
        EXPECT(0x14ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 025F
        gbc.setState(0x37ae, 0x9617, 0x8c90, 0xb48, 0xa9bb, 0xc3cb, 0x0, 0x0);
        gbc.writeMem(0x37ae, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x9617, gbc.sp());
        EXPECT(0x37b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0260
        gbc.setState(0xbf71, 0xc0e1, 0x1cd0, 0xaf2d, 0x5dc0, 0x8a88, 0x1, 0x0);
        gbc.writeMem(0xbf71, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xc0e1, gbc.sp());
        EXPECT(0xbf73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf71));
        EXPECT(0x6f, gbc.readMem(0xbf72));
        // CB 6F 0261
        gbc.setState(0x2b11, 0xda03, 0x39a0, 0xca6c, 0x1220, 0xe369, 0x1, 0x0);
        gbc.writeMem(0x2b11, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xda03, gbc.sp());
        EXPECT(0x2b13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0262
        gbc.setState(0xd953, 0x9751, 0x3e60, 0x4cf6, 0xe050, 0xa053, 0x0, 0x0);
        gbc.writeMem(0xd953, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x9751, gbc.sp());
        EXPECT(0xd955, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd953));
        EXPECT(0x6f, gbc.readMem(0xd954));
        // CB 6F 0263
        gbc.setState(0x16bc, 0xb327, 0xea30, 0x1ef5, 0x9eee, 0x595f, 0x0, 0x0);
        gbc.writeMem(0x16bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xb327, gbc.sp());
        EXPECT(0x16be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0264
        gbc.setState(0x69d7, 0xbe78, 0xd980, 0x886c, 0x6259, 0x4bd8, 0x1, 0x0);
        gbc.writeMem(0x69d7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xbe78, gbc.sp());
        EXPECT(0x69d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0265
        gbc.setState(0x212e, 0xb391, 0x4aa0, 0x2c03, 0x762c, 0x62f6, 0x0, 0x0);
        gbc.writeMem(0x212e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xb391, gbc.sp());
        EXPECT(0x2130, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0266
        gbc.setState(0x35fd, 0x41b5, 0xdfc0, 0x6ff6, 0x9670, 0x2adb, 0x1, 0x0);
        gbc.writeMem(0x35fd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x41b5, gbc.sp());
        EXPECT(0x35ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0267
        gbc.setState(0x30db, 0x7cb4, 0x3290, 0x1354, 0x2351, 0x7, 0x0, 0x0);
        gbc.writeMem(0x30db, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x7cb4, gbc.sp());
        EXPECT(0x30dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0268
        gbc.setState(0x69c, 0x5354, 0xf1b0, 0xb3ec, 0xec9c, 0x6200, 0x0, 0x1);
        gbc.writeMem(0x69c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x5354, gbc.sp());
        EXPECT(0x69e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0269
        gbc.setState(0x2ca0, 0xf089, 0x9770, 0xfe79, 0x98b7, 0x68e1, 0x1, 0x0);
        gbc.writeMem(0x2ca0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xf089, gbc.sp());
        EXPECT(0x2ca2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 026A
        gbc.setState(0x1997, 0x3df2, 0xe8a0, 0x44eb, 0xd370, 0xb6d5, 0x0, 0x1);
        gbc.writeMem(0x1997, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x3df2, gbc.sp());
        EXPECT(0x1999, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 026B
        gbc.setState(0x7cc5, 0xd92d, 0xa470, 0xccc3, 0xef, 0xeba7, 0x1, 0x0);
        gbc.writeMem(0x7cc5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xd92d, gbc.sp());
        EXPECT(0x7cc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 026C
        gbc.setState(0x45aa, 0xa36, 0xb550, 0x95ff, 0x8556, 0x86ab, 0x0, 0x1);
        gbc.writeMem(0x45aa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xa36, gbc.sp());
        EXPECT(0x45ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 026D
        gbc.setState(0x71df, 0xe903, 0x6ca0, 0xfdff, 0xc8d2, 0x4def, 0x0, 0x0);
        gbc.writeMem(0x71df, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xe903, gbc.sp());
        EXPECT(0x71e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 026E
        gbc.setState(0x9c35, 0x7c68, 0xc0d0, 0xf293, 0x523d, 0x88c1, 0x1, 0x1);
        gbc.writeMem(0x9c35, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x7c68, gbc.sp());
        EXPECT(0x9c37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c35));
        EXPECT(0x6f, gbc.readMem(0x9c36));
        // CB 6F 026F
        gbc.setState(0x3d66, 0xb7ea, 0xde70, 0xe32a, 0x2bcd, 0x121f, 0x0, 0x0);
        gbc.writeMem(0x3d66, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xb7ea, gbc.sp());
        EXPECT(0x3d68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0270
        gbc.setState(0x6c0e, 0x702, 0x8600, 0xe692, 0xfad, 0x6735, 0x0, 0x0);
        gbc.writeMem(0x6c0e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x702, gbc.sp());
        EXPECT(0x6c10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0271
        gbc.setState(0xb11b, 0x8432, 0x7e90, 0x49a0, 0x627d, 0xd86d, 0x1, 0x0);
        gbc.writeMem(0xb11b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x8432, gbc.sp());
        EXPECT(0xb11d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb11b));
        EXPECT(0x6f, gbc.readMem(0xb11c));
        // CB 6F 0272
        gbc.setState(0x6f68, 0xafa0, 0x3ed0, 0x2d8b, 0xc0cb, 0x2845, 0x1, 0x0);
        gbc.writeMem(0x6f68, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xafa0, gbc.sp());
        EXPECT(0x6f6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0273
        gbc.setState(0x3857, 0xd3c8, 0xfb40, 0x13aa, 0x679e, 0xdd5d, 0x1, 0x0);
        gbc.writeMem(0x3857, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xd3c8, gbc.sp());
        EXPECT(0x3859, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0274
        gbc.setState(0x372e, 0x1ae9, 0x2e40, 0x2ddb, 0xd6e6, 0xe08f, 0x0, 0x0);
        gbc.writeMem(0x372e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x1ae9, gbc.sp());
        EXPECT(0x3730, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0275
        gbc.setState(0x2536, 0x9a15, 0x28c0, 0x7c57, 0x8f71, 0x7f19, 0x1, 0x1);
        gbc.writeMem(0x2536, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x9a15, gbc.sp());
        EXPECT(0x2538, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0276
        gbc.setState(0x7ed5, 0x52d2, 0xa280, 0x9cda, 0xe206, 0xc755, 0x1, 0x1);
        gbc.writeMem(0x7ed5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x52d2, gbc.sp());
        EXPECT(0x7ed7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0277
        gbc.setState(0xa7d3, 0xed63, 0xc840, 0xef20, 0x7df3, 0xcbb1, 0x0, 0x0);
        gbc.writeMem(0xa7d3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xed63, gbc.sp());
        EXPECT(0xa7d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7d3));
        EXPECT(0x6f, gbc.readMem(0xa7d4));
        // CB 6F 0278
        gbc.setState(0xc8cd, 0x7b61, 0x8510, 0x9428, 0x7fb8, 0xfc5d, 0x1, 0x1);
        gbc.writeMem(0xc8cd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x7b61, gbc.sp());
        EXPECT(0xc8cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8cd));
        EXPECT(0x6f, gbc.readMem(0xc8ce));
        // CB 6F 0279
        gbc.setState(0xb05d, 0x74a6, 0xef10, 0xb290, 0x560d, 0x34c8, 0x0, 0x0);
        gbc.writeMem(0xb05d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x74a6, gbc.sp());
        EXPECT(0xb05f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb05d));
        EXPECT(0x6f, gbc.readMem(0xb05e));
        // CB 6F 027A
        gbc.setState(0xaf81, 0xd583, 0x8270, 0x1c98, 0x62b5, 0xd575, 0x1, 0x1);
        gbc.writeMem(0xaf81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xd583, gbc.sp());
        EXPECT(0xaf83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf81));
        EXPECT(0x6f, gbc.readMem(0xaf82));
        // CB 6F 027B
        gbc.setState(0x53ae, 0xaad2, 0xc2b0, 0xff61, 0xa268, 0xae68, 0x1, 0x1);
        gbc.writeMem(0x53ae, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xaad2, gbc.sp());
        EXPECT(0x53b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 027C
        gbc.setState(0x5eb1, 0x8aa5, 0xe720, 0x4557, 0x28f1, 0x80cb, 0x0, 0x1);
        gbc.writeMem(0x5eb1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x8aa5, gbc.sp());
        EXPECT(0x5eb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 027E
        gbc.setState(0x7817, 0x8184, 0x44b0, 0x9ec6, 0x968e, 0xd1b4, 0x1, 0x0);
        gbc.writeMem(0x7817, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x8184, gbc.sp());
        EXPECT(0x7819, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 027F
        gbc.setState(0x3353, 0xf43c, 0xaea0, 0x7adb, 0xd605, 0xd4b6, 0x1, 0x0);
        gbc.writeMem(0x3353, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xf43c, gbc.sp());
        EXPECT(0x3355, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0281
        gbc.setState(0x7891, 0x2691, 0x7e10, 0x44b2, 0xede5, 0x8d90, 0x0, 0x1);
        gbc.writeMem(0x7891, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x2691, gbc.sp());
        EXPECT(0x7893, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0282
        gbc.setState(0x38e6, 0x90e9, 0xf6e0, 0x4d41, 0x38fb, 0xbda6, 0x1, 0x0);
        gbc.writeMem(0x38e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x90e9, gbc.sp());
        EXPECT(0x38e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0283
        gbc.setState(0xd25b, 0xcba6, 0x14e0, 0xe64d, 0x8ad8, 0x3822, 0x1, 0x1);
        gbc.writeMem(0xd25b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xcba6, gbc.sp());
        EXPECT(0xd25d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd25b));
        EXPECT(0x6f, gbc.readMem(0xd25c));
        // CB 6F 0286
        gbc.setState(0x8ae1, 0x3a57, 0x3540, 0x9c04, 0x81dc, 0x3980, 0x1, 0x0);
        gbc.writeMem(0x8ae1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x3a57, gbc.sp());
        EXPECT(0x8ae3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ae1));
        EXPECT(0x6f, gbc.readMem(0x8ae2));
        // CB 6F 0287
        gbc.setState(0xe395, 0xc46d, 0x53a0, 0x9934, 0x70f, 0xdfb5, 0x0, 0x0);
        gbc.writeMem(0xe395, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xc46d, gbc.sp());
        EXPECT(0xe397, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe395));
        EXPECT(0x6f, gbc.readMem(0xe396));
        // CB 6F 0288
        gbc.setState(0x213e, 0x6026, 0x5230, 0xf8e3, 0xbde0, 0xb9ca, 0x0, 0x0);
        gbc.writeMem(0x213e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x6026, gbc.sp());
        EXPECT(0x2140, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0289
        gbc.setState(0x4cf1, 0xbe4f, 0x700, 0xef68, 0xf9fe, 0x74df, 0x0, 0x0);
        gbc.writeMem(0x4cf1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xbe4f, gbc.sp());
        EXPECT(0x4cf3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 028D
        gbc.setState(0xc5c4, 0x5df, 0xbdd0, 0x4c7a, 0x7d04, 0xcf4c, 0x1, 0x0);
        gbc.writeMem(0xc5c4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x5df, gbc.sp());
        EXPECT(0xc5c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5c4));
        EXPECT(0x6f, gbc.readMem(0xc5c5));
        // CB 6F 028E
        gbc.setState(0xcd37, 0x54f0, 0xe170, 0xbf05, 0x9ad3, 0x7b7a, 0x1, 0x0);
        gbc.writeMem(0xcd37, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x54f0, gbc.sp());
        EXPECT(0xcd39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd37));
        EXPECT(0x6f, gbc.readMem(0xcd38));
        // CB 6F 028F
        gbc.setState(0x2eff, 0x4258, 0xacd0, 0xec4a, 0xda4, 0x8e56, 0x0, 0x1);
        gbc.writeMem(0x2eff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x4258, gbc.sp());
        EXPECT(0x2f01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0290
        gbc.setState(0x773f, 0x4b5a, 0x9d10, 0x78fd, 0x4125, 0xa743, 0x1, 0x0);
        gbc.writeMem(0x773f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x4b5a, gbc.sp());
        EXPECT(0x7741, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0291
        gbc.setState(0xea05, 0x4279, 0x4550, 0x767, 0xb731, 0x2dba, 0x0, 0x1);
        gbc.writeMem(0xea05, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x4279, gbc.sp());
        EXPECT(0xea07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea05));
        EXPECT(0x6f, gbc.readMem(0xea06));
        // CB 6F 0292
        gbc.setState(0xd95c, 0x6d37, 0x75e0, 0x4412, 0xa16e, 0xe39, 0x0, 0x0);
        gbc.writeMem(0xd95c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x6d37, gbc.sp());
        EXPECT(0xd95e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd95c));
        EXPECT(0x6f, gbc.readMem(0xd95d));
        // CB 6F 0293
        gbc.setState(0x2b1, 0xe5cb, 0x91c0, 0xad3b, 0xb16a, 0xacd3, 0x0, 0x0);
        gbc.writeMem(0x2b1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xe5cb, gbc.sp());
        EXPECT(0x2b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0294
        gbc.setState(0x8b39, 0xed5f, 0x3820, 0xb0e2, 0xcdcf, 0xc424, 0x1, 0x1);
        gbc.writeMem(0x8b39, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xed5f, gbc.sp());
        EXPECT(0x8b3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b39));
        EXPECT(0x6f, gbc.readMem(0x8b3a));
        // CB 6F 0295
        gbc.setState(0xb5b4, 0x588, 0x17c0, 0x4436, 0x52f5, 0xc52c, 0x1, 0x1);
        gbc.writeMem(0xb5b4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x588, gbc.sp());
        EXPECT(0xb5b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5b4));
        EXPECT(0x6f, gbc.readMem(0xb5b5));
        // CB 6F 0296
        gbc.setState(0x2cfa, 0x9f25, 0x90, 0x4e22, 0x6b1, 0xb3d, 0x0, 0x1);
        gbc.writeMem(0x2cfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x9f25, gbc.sp());
        EXPECT(0x2cfc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0298
        gbc.setState(0xb5dd, 0xd730, 0xe670, 0xda38, 0x3ab0, 0xd567, 0x0, 0x0);
        gbc.writeMem(0xb5dd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xd730, gbc.sp());
        EXPECT(0xb5df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5dd));
        EXPECT(0x6f, gbc.readMem(0xb5de));
        // CB 6F 0299
        gbc.setState(0x485c, 0x65d0, 0x49d0, 0xd653, 0x711e, 0x888e, 0x0, 0x1);
        gbc.writeMem(0x485c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x65d0, gbc.sp());
        EXPECT(0x485e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 029A
        gbc.setState(0x37bb, 0x23cb, 0x13d0, 0xf263, 0x810b, 0xe023, 0x0, 0x1);
        gbc.writeMem(0x37bb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x23cb, gbc.sp());
        EXPECT(0x37bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 029B
        gbc.setState(0xfc2, 0x6a46, 0x3660, 0x6634, 0xb781, 0xe398, 0x0, 0x1);
        gbc.writeMem(0xfc2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x6a46, gbc.sp());
        EXPECT(0xfc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 029C
        gbc.setState(0x1ef3, 0x5d3e, 0xa560, 0xfe41, 0x6806, 0x75b9, 0x1, 0x0);
        gbc.writeMem(0x1ef3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x5d3e, gbc.sp());
        EXPECT(0x1ef5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 029D
        gbc.setState(0x5605, 0x3028, 0xff50, 0x31f2, 0xa6ec, 0x2837, 0x1, 0x1);
        gbc.writeMem(0x5605, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x3028, gbc.sp());
        EXPECT(0x5607, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 029E
        gbc.setState(0x4ef7, 0x5cf, 0xe5f0, 0x29cf, 0x6002, 0x1107, 0x0, 0x1);
        gbc.writeMem(0x4ef7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x5cf, gbc.sp());
        EXPECT(0x4ef9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02A0
        gbc.setState(0x2ae0, 0xd700, 0x110, 0xb3a7, 0xe3d8, 0xbffe, 0x1, 0x1);
        gbc.writeMem(0x2ae0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xd700, gbc.sp());
        EXPECT(0x2ae2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02A1
        gbc.setState(0xc143, 0xb907, 0xa410, 0xc3b7, 0x2dd1, 0x62b9, 0x0, 0x1);
        gbc.writeMem(0xc143, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xb907, gbc.sp());
        EXPECT(0xc145, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc143));
        EXPECT(0x6f, gbc.readMem(0xc144));
        // CB 6F 02A4
        gbc.setState(0x75b6, 0xecd4, 0x5360, 0x6cf7, 0x713b, 0xe77, 0x1, 0x0);
        gbc.writeMem(0x75b6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xecd4, gbc.sp());
        EXPECT(0x75b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02A5
        gbc.setState(0x9eda, 0xc818, 0x5dd0, 0xfb83, 0xd7c0, 0x478b, 0x1, 0x0);
        gbc.writeMem(0x9eda, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xc818, gbc.sp());
        EXPECT(0x9edc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9eda));
        EXPECT(0x6f, gbc.readMem(0x9edb));
        // CB 6F 02A6
        gbc.setState(0x930, 0x922c, 0x8ee0, 0xca75, 0x3fcd, 0xbe88, 0x1, 0x0);
        gbc.writeMem(0x930, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x922c, gbc.sp());
        EXPECT(0x932, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02A7
        gbc.setState(0xcd15, 0x9810, 0xc860, 0x393, 0x8d23, 0xb14b, 0x0, 0x0);
        gbc.writeMem(0xcd15, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x9810, gbc.sp());
        EXPECT(0xcd17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd15));
        EXPECT(0x6f, gbc.readMem(0xcd16));
        // CB 6F 02A9
        gbc.setState(0x3776, 0x5f8a, 0xe70, 0xe0d2, 0x9c01, 0x7f00, 0x0, 0x1);
        gbc.writeMem(0x3776, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x5f8a, gbc.sp());
        EXPECT(0x3778, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02AA
        gbc.setState(0x7d9e, 0x32d, 0x4f00, 0x306f, 0x8a6e, 0xe23a, 0x0, 0x0);
        gbc.writeMem(0x7d9e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x32d, gbc.sp());
        EXPECT(0x7da0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02AB
        gbc.setState(0x9cfa, 0x2d7, 0xea90, 0x5439, 0x76fc, 0x76ff, 0x1, 0x1);
        gbc.writeMem(0x9cfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x2d7, gbc.sp());
        EXPECT(0x9cfc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cfa));
        EXPECT(0x6f, gbc.readMem(0x9cfb));
        // CB 6F 02AC
        gbc.setState(0xe0a7, 0x6627, 0xb420, 0x9b24, 0x3c25, 0x5697, 0x1, 0x1);
        gbc.writeMem(0xe0a7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x6627, gbc.sp());
        EXPECT(0xe0a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0a7));
        EXPECT(0x6f, gbc.readMem(0xe0a8));
        // CB 6F 02AD
        gbc.setState(0xac6f, 0xa18e, 0x78f0, 0xb4ec, 0xddcf, 0x5c44, 0x0, 0x1);
        gbc.writeMem(0xac6f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xa18e, gbc.sp());
        EXPECT(0xac71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac6f));
        EXPECT(0x6f, gbc.readMem(0xac70));
        // CB 6F 02AE
        gbc.setState(0x85c9, 0x3bb3, 0x97b0, 0xe2da, 0x33c4, 0x7f80, 0x0, 0x1);
        gbc.writeMem(0x85c9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x3bb3, gbc.sp());
        EXPECT(0x85cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85c9));
        EXPECT(0x6f, gbc.readMem(0x85ca));
        // CB 6F 02AF
        gbc.setState(0x4eb0, 0x2c4a, 0x7e90, 0x12f, 0x300, 0x7f3a, 0x0, 0x0);
        gbc.writeMem(0x4eb0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x2c4a, gbc.sp());
        EXPECT(0x4eb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02B0
        gbc.setState(0xde81, 0x43eb, 0x4c10, 0xb7b8, 0x2b8b, 0xcb73, 0x0, 0x0);
        gbc.writeMem(0xde81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x43eb, gbc.sp());
        EXPECT(0xde83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde81));
        EXPECT(0x6f, gbc.readMem(0xde82));
        // CB 6F 02B2
        gbc.setState(0x909b, 0xc85, 0xb5e0, 0xe547, 0x26d0, 0x4fc2, 0x1, 0x0);
        gbc.writeMem(0x909b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xc85, gbc.sp());
        EXPECT(0x909d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x909b));
        EXPECT(0x6f, gbc.readMem(0x909c));
        // CB 6F 02B3
        gbc.setState(0xd74d, 0x4728, 0x1f10, 0x9a4e, 0x4d4d, 0x3c1a, 0x0, 0x0);
        gbc.writeMem(0xd74d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x4728, gbc.sp());
        EXPECT(0xd74f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd74d));
        EXPECT(0x6f, gbc.readMem(0xd74e));
        // CB 6F 02B4
        gbc.setState(0x16c2, 0xab52, 0x4420, 0x99e5, 0x7, 0x5c97, 0x1, 0x1);
        gbc.writeMem(0x16c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xab52, gbc.sp());
        EXPECT(0x16c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02B5
        gbc.setState(0x7c62, 0x8cfd, 0x6dd0, 0xd5ad, 0x2b3, 0x7929, 0x1, 0x0);
        gbc.writeMem(0x7c62, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x8cfd, gbc.sp());
        EXPECT(0x7c64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02B6
        gbc.setState(0xd6e4, 0xdbb6, 0x9ce0, 0x3f07, 0xc317, 0x27ea, 0x0, 0x0);
        gbc.writeMem(0xd6e4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xdbb6, gbc.sp());
        EXPECT(0xd6e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6e4));
        EXPECT(0x6f, gbc.readMem(0xd6e5));
        // CB 6F 02B7
        gbc.setState(0x1a0b, 0x49b8, 0xa1f0, 0x1706, 0x1c81, 0xbb0b, 0x1, 0x1);
        gbc.writeMem(0x1a0b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x49b8, gbc.sp());
        EXPECT(0x1a0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02B8
        gbc.setState(0x6bdc, 0x6836, 0xcc00, 0x7c06, 0x323a, 0x89b1, 0x1, 0x1);
        gbc.writeMem(0x6bdc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x6836, gbc.sp());
        EXPECT(0x6bde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02B9
        gbc.setState(0xdf3d, 0xc421, 0x7870, 0x8905, 0x6ea6, 0x1e96, 0x0, 0x1);
        gbc.writeMem(0xdf3d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xc421, gbc.sp());
        EXPECT(0xdf3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf3d));
        EXPECT(0x6f, gbc.readMem(0xdf3e));
        // CB 6F 02BA
        gbc.setState(0x957, 0x7903, 0xd840, 0xb306, 0xecdf, 0x5318, 0x0, 0x0);
        gbc.writeMem(0x957, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x7903, gbc.sp());
        EXPECT(0x959, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02BB
        gbc.setState(0xd73a, 0x866f, 0xfa70, 0x7d7e, 0xfc49, 0x76a5, 0x1, 0x1);
        gbc.writeMem(0xd73a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x866f, gbc.sp());
        EXPECT(0xd73c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd73a));
        EXPECT(0x6f, gbc.readMem(0xd73b));
        // CB 6F 02BC
        gbc.setState(0x3e81, 0xb96d, 0x9cf0, 0x5705, 0x84ac, 0x8e58, 0x1, 0x0);
        gbc.writeMem(0x3e81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xb96d, gbc.sp());
        EXPECT(0x3e83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02BD
        gbc.setState(0xbd84, 0x50b1, 0x1a30, 0x2875, 0xf01d, 0xf04b, 0x0, 0x0);
        gbc.writeMem(0xbd84, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x50b1, gbc.sp());
        EXPECT(0xbd86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd84));
        EXPECT(0x6f, gbc.readMem(0xbd85));
        // CB 6F 02BE
        gbc.setState(0x4264, 0xa411, 0x1de0, 0x4e7b, 0x96af, 0xd0dd, 0x1, 0x1);
        gbc.writeMem(0x4264, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xa411, gbc.sp());
        EXPECT(0x4266, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02BF
        gbc.setState(0x6d7d, 0x5a0e, 0x4400, 0x17e0, 0x63c4, 0x3f45, 0x0, 0x1);
        gbc.writeMem(0x6d7d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x5a0e, gbc.sp());
        EXPECT(0x6d7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02C0
        gbc.setState(0x57c0, 0xde91, 0x9690, 0x3209, 0xcca0, 0x9250, 0x1, 0x1);
        gbc.writeMem(0x57c0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xde91, gbc.sp());
        EXPECT(0x57c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02C1
        gbc.setState(0x4c8e, 0x5931, 0xcde0, 0x1347, 0xa999, 0x51ac, 0x1, 0x1);
        gbc.writeMem(0x4c8e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x5931, gbc.sp());
        EXPECT(0x4c90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02C2
        gbc.setState(0x9bd0, 0xdcde, 0x4e0, 0x3cb7, 0x59d0, 0xcffc, 0x0, 0x1);
        gbc.writeMem(0x9bd0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xdcde, gbc.sp());
        EXPECT(0x9bd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bd0));
        EXPECT(0x6f, gbc.readMem(0x9bd1));
        // CB 6F 02C3
        gbc.setState(0x37a1, 0x5642, 0xce00, 0xf2ae, 0x7af6, 0xddf4, 0x0, 0x0);
        gbc.writeMem(0x37a1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x5642, gbc.sp());
        EXPECT(0x37a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02C4
        gbc.setState(0xc755, 0x9fc, 0x5d60, 0x41d4, 0x9507, 0x4a59, 0x1, 0x1);
        gbc.writeMem(0xc755, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x9fc, gbc.sp());
        EXPECT(0xc757, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc755));
        EXPECT(0x6f, gbc.readMem(0xc756));
        // CB 6F 02C5
        gbc.setState(0xc36d, 0x2fac, 0x2670, 0x8028, 0x1657, 0x9f7c, 0x1, 0x1);
        gbc.writeMem(0xc36d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x2fac, gbc.sp());
        EXPECT(0xc36f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc36d));
        EXPECT(0x6f, gbc.readMem(0xc36e));
        // CB 6F 02C6
        gbc.setState(0xc8f2, 0xcdf8, 0x7680, 0x7394, 0x7936, 0xfd54, 0x0, 0x1);
        gbc.writeMem(0xc8f2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xcdf8, gbc.sp());
        EXPECT(0xc8f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8f2));
        EXPECT(0x6f, gbc.readMem(0xc8f3));
        // CB 6F 02C7
        gbc.setState(0xb1e6, 0xb28e, 0xc550, 0x48d4, 0x95e7, 0x1f9a, 0x1, 0x0);
        gbc.writeMem(0xb1e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xb28e, gbc.sp());
        EXPECT(0xb1e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1e6));
        EXPECT(0x6f, gbc.readMem(0xb1e7));
        // CB 6F 02C8
        gbc.setState(0x28ec, 0x2148, 0xced0, 0x8bf4, 0x7ea4, 0x30e3, 0x1, 0x0);
        gbc.writeMem(0x28ec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x2148, gbc.sp());
        EXPECT(0x28ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02C9
        gbc.setState(0x294f, 0x5b49, 0xaa10, 0x350a, 0xdca9, 0x896e, 0x1, 0x1);
        gbc.writeMem(0x294f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x5b49, gbc.sp());
        EXPECT(0x2951, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02CA
        gbc.setState(0xbde4, 0xca3d, 0xc600, 0xdd0c, 0xd349, 0x97ad, 0x0, 0x0);
        gbc.writeMem(0xbde4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xca3d, gbc.sp());
        EXPECT(0xbde6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbde4));
        EXPECT(0x6f, gbc.readMem(0xbde5));
        // CB 6F 02CB
        gbc.setState(0x29e0, 0xd695, 0x82d0, 0xfe6b, 0xbf99, 0xa45c, 0x1, 0x1);
        gbc.writeMem(0x29e0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xd695, gbc.sp());
        EXPECT(0x29e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02CC
        gbc.setState(0xb45e, 0x2ea5, 0x1cc0, 0x58d7, 0xd49f, 0x41d, 0x0, 0x0);
        gbc.writeMem(0xb45e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x2ea5, gbc.sp());
        EXPECT(0xb460, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb45e));
        EXPECT(0x6f, gbc.readMem(0xb45f));
        // CB 6F 02CD
        gbc.setState(0x8abc, 0xac85, 0xaf80, 0x390e, 0x7d11, 0xa608, 0x1, 0x1);
        gbc.writeMem(0x8abc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xac85, gbc.sp());
        EXPECT(0x8abe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8abc));
        EXPECT(0x6f, gbc.readMem(0x8abd));
        // CB 6F 02CE
        gbc.setState(0x6224, 0x776b, 0x88b0, 0x6c9f, 0xc12b, 0xcc39, 0x1, 0x1);
        gbc.writeMem(0x6224, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x776b, gbc.sp());
        EXPECT(0x6226, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02CF
        gbc.setState(0x1372, 0xa14f, 0x1ee0, 0x2a0a, 0xbe3e, 0x3aa1, 0x0, 0x1);
        gbc.writeMem(0x1372, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xa14f, gbc.sp());
        EXPECT(0x1374, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02D0
        gbc.setState(0x3f88, 0xe593, 0xb120, 0xb586, 0xc41d, 0x50e0, 0x1, 0x0);
        gbc.writeMem(0x3f88, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xe593, gbc.sp());
        EXPECT(0x3f8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02D1
        gbc.setState(0x5b1e, 0xb18b, 0xc440, 0xe0dc, 0xbb38, 0x7276, 0x1, 0x0);
        gbc.writeMem(0x5b1e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xb18b, gbc.sp());
        EXPECT(0x5b20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02D2
        gbc.setState(0x8dc4, 0xd70d, 0x83b0, 0xf73b, 0x46ed, 0x8ea2, 0x1, 0x1);
        gbc.writeMem(0x8dc4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xd70d, gbc.sp());
        EXPECT(0x8dc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8dc4));
        EXPECT(0x6f, gbc.readMem(0x8dc5));
        // CB 6F 02D3
        gbc.setState(0x5442, 0x91b1, 0x79d0, 0xee18, 0x8c23, 0x6cd9, 0x0, 0x0);
        gbc.writeMem(0x5442, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x91b1, gbc.sp());
        EXPECT(0x5444, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02D4
        gbc.setState(0xbbd9, 0x5823, 0x5060, 0xdec, 0x2376, 0x5ba5, 0x0, 0x1);
        gbc.writeMem(0xbbd9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x5823, gbc.sp());
        EXPECT(0xbbdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbd9));
        EXPECT(0x6f, gbc.readMem(0xbbda));
        // CB 6F 02D5
        gbc.setState(0x4c24, 0x5671, 0xb0d0, 0x2e4b, 0x76d5, 0xe044, 0x1, 0x0);
        gbc.writeMem(0x4c24, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x5671, gbc.sp());
        EXPECT(0x4c26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02D6
        gbc.setState(0x7f8e, 0xe225, 0x3d80, 0x681a, 0xd63e, 0xe3f1, 0x1, 0x1);
        gbc.writeMem(0x7f8e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xe225, gbc.sp());
        EXPECT(0x7f90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02D8
        gbc.setState(0x7e0f, 0x7ad2, 0x1030, 0xf751, 0xd30d, 0xa37f, 0x1, 0x0);
        gbc.writeMem(0x7e0f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x7ad2, gbc.sp());
        EXPECT(0x7e11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02D9
        gbc.setState(0xb2d0, 0x6704, 0x4520, 0xc27e, 0xa93c, 0xcb8d, 0x1, 0x0);
        gbc.writeMem(0xb2d0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x6704, gbc.sp());
        EXPECT(0xb2d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2d0));
        EXPECT(0x6f, gbc.readMem(0xb2d1));
        // CB 6F 02DA
        gbc.setState(0x27a0, 0x1fc7, 0x1450, 0xd937, 0xa117, 0x506a, 0x0, 0x0);
        gbc.writeMem(0x27a0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x1fc7, gbc.sp());
        EXPECT(0x27a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02DB
        gbc.setState(0x3fff, 0x547e, 0x7fd0, 0x4f36, 0xfa9c, 0x2475, 0x0, 0x1);
        gbc.writeMem(0x3fff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x547e, gbc.sp());
        EXPECT(0x4001, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02DC
        gbc.setState(0x3ad1, 0x22e1, 0xbe80, 0xf0fa, 0x15de, 0xc1e2, 0x0, 0x1);
        gbc.writeMem(0x3ad1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x22e1, gbc.sp());
        EXPECT(0x3ad3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02DD
        gbc.setState(0x8b8c, 0x2ede, 0xbbd0, 0x4ce8, 0x1c1f, 0x835b, 0x0, 0x0);
        gbc.writeMem(0x8b8c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x2ede, gbc.sp());
        EXPECT(0x8b8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b8c));
        EXPECT(0x6f, gbc.readMem(0x8b8d));
        // CB 6F 02DE
        gbc.setState(0xc370, 0xb56e, 0x6e70, 0x2638, 0x31c4, 0x3215, 0x0, 0x1);
        gbc.writeMem(0xc370, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xb56e, gbc.sp());
        EXPECT(0xc372, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc370));
        EXPECT(0x6f, gbc.readMem(0xc371));
        // CB 6F 02DF
        gbc.setState(0xa9cc, 0xc654, 0xae10, 0x4d32, 0xc0d2, 0xcfbd, 0x0, 0x0);
        gbc.writeMem(0xa9cc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xc654, gbc.sp());
        EXPECT(0xa9ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9cc));
        EXPECT(0x6f, gbc.readMem(0xa9cd));
        // CB 6F 02E0
        gbc.setState(0x8b1a, 0x8b94, 0x7c70, 0x3849, 0x3570, 0x7856, 0x0, 0x0);
        gbc.writeMem(0x8b1a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x8b94, gbc.sp());
        EXPECT(0x8b1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b1a));
        EXPECT(0x6f, gbc.readMem(0x8b1b));
        // CB 6F 02E1
        gbc.setState(0x9aa8, 0xc16d, 0xde00, 0xf182, 0xf970, 0xbfb4, 0x0, 0x1);
        gbc.writeMem(0x9aa8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xc16d, gbc.sp());
        EXPECT(0x9aaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9aa8));
        EXPECT(0x6f, gbc.readMem(0x9aa9));
        // CB 6F 02E2
        gbc.setState(0xd410, 0x2749, 0x7cd0, 0x7d63, 0x1c6f, 0xac0a, 0x0, 0x0);
        gbc.writeMem(0xd410, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x2749, gbc.sp());
        EXPECT(0xd412, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd410));
        EXPECT(0x6f, gbc.readMem(0xd411));
        // CB 6F 02E3
        gbc.setState(0x6308, 0x8e50, 0xea70, 0x16eb, 0x3f42, 0x4fbc, 0x0, 0x1);
        gbc.writeMem(0x6308, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x8e50, gbc.sp());
        EXPECT(0x630a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02E4
        gbc.setState(0x21b0, 0xdb08, 0xec50, 0x8a8, 0xe9f3, 0xe363, 0x1, 0x1);
        gbc.writeMem(0x21b0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xdb08, gbc.sp());
        EXPECT(0x21b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02E5
        gbc.setState(0x157f, 0x5047, 0xe7f0, 0x838e, 0x3603, 0x8373, 0x0, 0x1);
        gbc.writeMem(0x157f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x5047, gbc.sp());
        EXPECT(0x1581, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02E6
        gbc.setState(0xdcfa, 0x8e2b, 0xe150, 0x1e0c, 0xd9be, 0xf4b7, 0x1, 0x1);
        gbc.writeMem(0xdcfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x8e2b, gbc.sp());
        EXPECT(0xdcfc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcfa));
        EXPECT(0x6f, gbc.readMem(0xdcfb));
        // CB 6F 02E7
        gbc.setState(0x6bd6, 0x6a3c, 0xd110, 0x42d0, 0x4fab, 0x2013, 0x1, 0x0);
        gbc.writeMem(0x6bd6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x6a3c, gbc.sp());
        EXPECT(0x6bd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02E8
        gbc.setState(0x2017, 0x1d6e, 0x7660, 0xba56, 0x1569, 0xd1f2, 0x1, 0x0);
        gbc.writeMem(0x2017, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x1d6e, gbc.sp());
        EXPECT(0x2019, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02E9
        gbc.setState(0x6f61, 0xc80b, 0xd4c0, 0x25de, 0xc8f1, 0x6c81, 0x0, 0x0);
        gbc.writeMem(0x6f61, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xc80b, gbc.sp());
        EXPECT(0x6f63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02EA
        gbc.setState(0xd0a2, 0x11cc, 0x8c80, 0x3b39, 0x5c90, 0x7821, 0x0, 0x0);
        gbc.writeMem(0xd0a2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x11cc, gbc.sp());
        EXPECT(0xd0a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0a2));
        EXPECT(0x6f, gbc.readMem(0xd0a3));
        // CB 6F 02EB
        gbc.setState(0x998a, 0xc1cb, 0xa690, 0xd9de, 0x5b95, 0x451d, 0x0, 0x1);
        gbc.writeMem(0x998a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xc1cb, gbc.sp());
        EXPECT(0x998c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x998a));
        EXPECT(0x6f, gbc.readMem(0x998b));
        // CB 6F 02EC
        gbc.setState(0x26cb, 0x77, 0xe0a0, 0x7a91, 0x7318, 0xbef1, 0x1, 0x1);
        gbc.writeMem(0x26cb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x77, gbc.sp());
        EXPECT(0x26cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02ED
        gbc.setState(0xbb89, 0x6fa1, 0x56a0, 0xf5e2, 0x4415, 0x3b66, 0x0, 0x0);
        gbc.writeMem(0xbb89, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x6fa1, gbc.sp());
        EXPECT(0xbb8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb89));
        EXPECT(0x6f, gbc.readMem(0xbb8a));
        // CB 6F 02EE
        gbc.setState(0xecb9, 0xfe6b, 0x5610, 0x3584, 0x16e0, 0x2b10, 0x0, 0x1);
        gbc.writeMem(0xecb9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xfe6b, gbc.sp());
        EXPECT(0xecbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xecb9));
        EXPECT(0x6f, gbc.readMem(0xecba));
        // CB 6F 02EF
        gbc.setState(0x6fb, 0xcb05, 0x6280, 0x9ce7, 0x6ca0, 0x16c3, 0x1, 0x0);
        gbc.writeMem(0x6fb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xcb05, gbc.sp());
        EXPECT(0x6fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02F0
        gbc.setState(0x9e02, 0x3cd3, 0xf0f0, 0xcf68, 0xce49, 0xe7a6, 0x0, 0x0);
        gbc.writeMem(0x9e02, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x3cd3, gbc.sp());
        EXPECT(0x9e04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e02));
        EXPECT(0x6f, gbc.readMem(0x9e03));
        // CB 6F 02F1
        gbc.setState(0x3ae1, 0xfe59, 0x62b0, 0x4dd6, 0x7771, 0x5031, 0x1, 0x1);
        gbc.writeMem(0x3ae1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xfe59, gbc.sp());
        EXPECT(0x3ae3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02F2
        gbc.setState(0xa38b, 0xfef0, 0x1f50, 0xdec7, 0x731, 0xc1f3, 0x1, 0x0);
        gbc.writeMem(0xa38b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xfef0, gbc.sp());
        EXPECT(0xa38d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa38b));
        EXPECT(0x6f, gbc.readMem(0xa38c));
        // CB 6F 02F3
        gbc.setState(0x242d, 0x71e2, 0x12d0, 0xccb8, 0x27b8, 0xf896, 0x0, 0x0);
        gbc.writeMem(0x242d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x71e2, gbc.sp());
        EXPECT(0x242f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02F4
        gbc.setState(0x29a3, 0x9a29, 0x7b90, 0xe07e, 0xd2db, 0xf79b, 0x1, 0x1);
        gbc.writeMem(0x29a3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x9a29, gbc.sp());
        EXPECT(0x29a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02F5
        gbc.setState(0x480, 0x4471, 0x75f0, 0x2e8c, 0x5f28, 0xa312, 0x0, 0x0);
        gbc.writeMem(0x480, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x4471, gbc.sp());
        EXPECT(0x482, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02F6
        gbc.setState(0xa1f3, 0x1109, 0xc4f0, 0xc2d1, 0x9e06, 0x16d1, 0x1, 0x1);
        gbc.writeMem(0xa1f3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x1109, gbc.sp());
        EXPECT(0xa1f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1f3));
        EXPECT(0x6f, gbc.readMem(0xa1f4));
        // CB 6F 02F7
        gbc.setState(0x20d9, 0x90b5, 0x5340, 0xe05c, 0xd3a, 0x6492, 0x1, 0x0);
        gbc.writeMem(0x20d9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x90b5, gbc.sp());
        EXPECT(0x20db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02F8
        gbc.setState(0xe93, 0x231, 0xd9e0, 0xd102, 0xdedb, 0xd065, 0x1, 0x1);
        gbc.writeMem(0xe93, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x231, gbc.sp());
        EXPECT(0xe95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02F9
        gbc.setState(0xce0f, 0xc01f, 0xccd0, 0x66df, 0x2751, 0xf09, 0x0, 0x0);
        gbc.writeMem(0xce0f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xc01f, gbc.sp());
        EXPECT(0xce11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce0f));
        EXPECT(0x6f, gbc.readMem(0xce10));
        // CB 6F 02FA
        gbc.setState(0x20bc, 0x8c08, 0x260, 0xeab7, 0xcc53, 0xf29, 0x1, 0x0);
        gbc.writeMem(0x20bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x8c08, gbc.sp());
        EXPECT(0x20be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 02FB
        gbc.setState(0x89f5, 0x5a12, 0x7c50, 0xc1f1, 0xd072, 0x7723, 0x0, 0x0);
        gbc.writeMem(0x89f5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x5a12, gbc.sp());
        EXPECT(0x89f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89f5));
        EXPECT(0x6f, gbc.readMem(0x89f6));
        // CB 6F 02FC
        gbc.setState(0xe145, 0x26b9, 0x780, 0x336c, 0x7228, 0x771b, 0x0, 0x0);
        gbc.writeMem(0xe145, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x26b9, gbc.sp());
        EXPECT(0xe147, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe145));
        EXPECT(0x6f, gbc.readMem(0xe146));
        // CB 6F 02FD
        gbc.setState(0x4a, 0x1bd3, 0xf1b0, 0x8367, 0x9536, 0x1ab8, 0x1, 0x0);
        gbc.writeMem(0x4a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x1bd3, gbc.sp());
        EXPECT(0x4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 02FF
        gbc.setState(0x1fb0, 0x2295, 0x2330, 0x32a4, 0xcb28, 0x56a7, 0x1, 0x1);
        gbc.writeMem(0x1fb0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x2295, gbc.sp());
        EXPECT(0x1fb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0300
        gbc.setState(0x7ff, 0xee96, 0x2410, 0x8fc, 0x3069, 0x6841, 0x1, 0x1);
        gbc.writeMem(0x7ff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xee96, gbc.sp());
        EXPECT(0x801, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0301
        gbc.setState(0xea76, 0xd462, 0x990, 0x73ec, 0x1102, 0xc218, 0x0, 0x0);
        gbc.writeMem(0xea76, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xd462, gbc.sp());
        EXPECT(0xea78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea76));
        EXPECT(0x6f, gbc.readMem(0xea77));
        // CB 6F 0302
        gbc.setState(0x7e4c, 0x5fca, 0x94a0, 0x4e67, 0xef26, 0x43fd, 0x0, 0x1);
        gbc.writeMem(0x7e4c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x5fca, gbc.sp());
        EXPECT(0x7e4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0303
        gbc.setState(0x1d26, 0x6d3d, 0xf050, 0x956, 0xa3ee, 0x6790, 0x1, 0x0);
        gbc.writeMem(0x1d26, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x6d3d, gbc.sp());
        EXPECT(0x1d28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0304
        gbc.setState(0x40a, 0xb778, 0x8320, 0x60a2, 0x54f, 0x6b2f, 0x1, 0x0);
        gbc.writeMem(0x40a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xb778, gbc.sp());
        EXPECT(0x40c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0305
        gbc.setState(0x3e35, 0xfccc, 0x8c60, 0xec41, 0xb832, 0xd6c0, 0x1, 0x0);
        gbc.writeMem(0x3e35, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xfccc, gbc.sp());
        EXPECT(0x3e37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0306
        gbc.setState(0x3212, 0x9f79, 0x8920, 0xad28, 0xe1c9, 0x4a1a, 0x1, 0x0);
        gbc.writeMem(0x3212, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x9f79, gbc.sp());
        EXPECT(0x3214, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0307
        gbc.setState(0x6622, 0x2cab, 0x30a0, 0x9a61, 0x15e8, 0x2aaf, 0x0, 0x0);
        gbc.writeMem(0x6622, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x2cab, gbc.sp());
        EXPECT(0x6624, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0308
        gbc.setState(0x5dee, 0x85fe, 0xf840, 0x5a21, 0xce8d, 0xd2c2, 0x0, 0x1);
        gbc.writeMem(0x5dee, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x85fe, gbc.sp());
        EXPECT(0x5df0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0309
        gbc.setState(0x5de3, 0xd95b, 0xb180, 0xec4, 0x3482, 0x873f, 0x1, 0x1);
        gbc.writeMem(0x5de3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xd95b, gbc.sp());
        EXPECT(0x5de5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 030A
        gbc.setState(0xeead, 0xfb7f, 0x21e0, 0x3dd9, 0x1c93, 0xe36f, 0x0, 0x0);
        gbc.writeMem(0xeead, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xfb7f, gbc.sp());
        EXPECT(0xeeaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeead));
        EXPECT(0x6f, gbc.readMem(0xeeae));
        // CB 6F 030B
        gbc.setState(0x1854, 0xfff5, 0xe390, 0xad0, 0xc98c, 0xfc1, 0x0, 0x0);
        gbc.writeMem(0x1854, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xfff5, gbc.sp());
        EXPECT(0x1856, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 030C
        gbc.setState(0x9705, 0xa759, 0xbd40, 0x1e89, 0xcd3f, 0x4eea, 0x1, 0x0);
        gbc.writeMem(0x9705, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xa759, gbc.sp());
        EXPECT(0x9707, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9705));
        EXPECT(0x6f, gbc.readMem(0x9706));
        // CB 6F 030D
        gbc.setState(0x2c2e, 0x7ed6, 0x6280, 0xbeb1, 0x3061, 0x3ac0, 0x0, 0x0);
        gbc.writeMem(0x2c2e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x7ed6, gbc.sp());
        EXPECT(0x2c30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 030E
        gbc.setState(0x6eec, 0x3671, 0x6560, 0x7c97, 0xfcd2, 0x79a0, 0x0, 0x1);
        gbc.writeMem(0x6eec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x3671, gbc.sp());
        EXPECT(0x6eee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 030F
        gbc.setState(0x68ed, 0xd62, 0xd080, 0x532d, 0xfd9d, 0xccfb, 0x1, 0x0);
        gbc.writeMem(0x68ed, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xd62, gbc.sp());
        EXPECT(0x68ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0310
        gbc.setState(0x850e, 0x2c96, 0x5790, 0xa39e, 0xceb3, 0xfd04, 0x0, 0x1);
        gbc.writeMem(0x850e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x2c96, gbc.sp());
        EXPECT(0x8510, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x850e));
        EXPECT(0x6f, gbc.readMem(0x850f));
        // CB 6F 0311
        gbc.setState(0xb41d, 0xeea3, 0xdcd0, 0x8a87, 0xa80, 0xd1c6, 0x0, 0x0);
        gbc.writeMem(0xb41d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xeea3, gbc.sp());
        EXPECT(0xb41f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb41d));
        EXPECT(0x6f, gbc.readMem(0xb41e));
        // CB 6F 0312
        gbc.setState(0x90db, 0x6221, 0x3810, 0xdf32, 0x5287, 0xc4c0, 0x1, 0x1);
        gbc.writeMem(0x90db, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x6221, gbc.sp());
        EXPECT(0x90dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x90db));
        EXPECT(0x6f, gbc.readMem(0x90dc));
        // CB 6F 0313
        gbc.setState(0xcecd, 0x8e1d, 0xcf40, 0x25a7, 0xd6e, 0x81c0, 0x0, 0x1);
        gbc.writeMem(0xcecd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x8e1d, gbc.sp());
        EXPECT(0xcecf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcecd));
        EXPECT(0x6f, gbc.readMem(0xcece));
        // CB 6F 0315
        gbc.setState(0x1353, 0xa8, 0x45a0, 0xdd26, 0x4821, 0xcb70, 0x0, 0x0);
        gbc.writeMem(0x1353, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xa8, gbc.sp());
        EXPECT(0x1355, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0317
        gbc.setState(0x6852, 0xd98b, 0x8cc0, 0x370, 0x9c06, 0x7ae3, 0x0, 0x0);
        gbc.writeMem(0x6852, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xd98b, gbc.sp());
        EXPECT(0x6854, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0318
        gbc.setState(0xde5d, 0x174b, 0x8540, 0x4ffe, 0xbca2, 0x12a6, 0x0, 0x1);
        gbc.writeMem(0xde5d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x174b, gbc.sp());
        EXPECT(0xde5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde5d));
        EXPECT(0x6f, gbc.readMem(0xde5e));
        // CB 6F 0319
        gbc.setState(0x7ab4, 0xcfac, 0xed70, 0x9def, 0x1b32, 0x410b, 0x1, 0x0);
        gbc.writeMem(0x7ab4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xcfac, gbc.sp());
        EXPECT(0x7ab6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 031A
        gbc.setState(0xd741, 0xc49f, 0xef50, 0x411e, 0x848b, 0xe072, 0x1, 0x1);
        gbc.writeMem(0xd741, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xc49f, gbc.sp());
        EXPECT(0xd743, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd741));
        EXPECT(0x6f, gbc.readMem(0xd742));
        // CB 6F 031B
        gbc.setState(0xcde1, 0x8406, 0xd950, 0xdb0b, 0x9d3, 0x96c0, 0x0, 0x1);
        gbc.writeMem(0xcde1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x8406, gbc.sp());
        EXPECT(0xcde3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcde1));
        EXPECT(0x6f, gbc.readMem(0xcde2));
        // CB 6F 031C
        gbc.setState(0x2835, 0xcfbd, 0x6780, 0xdc42, 0x2f6f, 0xc63e, 0x1, 0x0);
        gbc.writeMem(0x2835, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xcfbd, gbc.sp());
        EXPECT(0x2837, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 031E
        gbc.setState(0xabf3, 0xbae0, 0x4440, 0x6b4f, 0xbd4a, 0xd91, 0x0, 0x1);
        gbc.writeMem(0xabf3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xbae0, gbc.sp());
        EXPECT(0xabf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabf3));
        EXPECT(0x6f, gbc.readMem(0xabf4));
        // CB 6F 0320
        gbc.setState(0x6204, 0x4f54, 0x3270, 0xefc5, 0x3bfe, 0x8a90, 0x1, 0x0);
        gbc.writeMem(0x6204, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x4f54, gbc.sp());
        EXPECT(0x6206, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0321
        gbc.setState(0xe14, 0xe715, 0x5860, 0xbf50, 0xae8e, 0x29da, 0x1, 0x0);
        gbc.writeMem(0xe14, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xe715, gbc.sp());
        EXPECT(0xe16, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0322
        gbc.setState(0x4dd, 0x4e0b, 0xb520, 0x601b, 0x408c, 0x15fd, 0x1, 0x0);
        gbc.writeMem(0x4dd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x4e0b, gbc.sp());
        EXPECT(0x4df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0323
        gbc.setState(0xceb, 0xf9e2, 0xaff0, 0xd942, 0x1d73, 0x184, 0x1, 0x0);
        gbc.writeMem(0xceb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xf9e2, gbc.sp());
        EXPECT(0xced, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0324
        gbc.setState(0x53e0, 0xc67e, 0xc710, 0x4515, 0x48f1, 0xfb3a, 0x1, 0x0);
        gbc.writeMem(0x53e0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xc67e, gbc.sp());
        EXPECT(0x53e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0325
        gbc.setState(0x7778, 0x51ee, 0x39e0, 0x83df, 0x6909, 0x4e2, 0x1, 0x1);
        gbc.writeMem(0x7778, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x51ee, gbc.sp());
        EXPECT(0x777a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0326
        gbc.setState(0x5f6c, 0x9981, 0x6f80, 0xc72e, 0x9178, 0x42f3, 0x1, 0x0);
        gbc.writeMem(0x5f6c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x9981, gbc.sp());
        EXPECT(0x5f6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0327
        gbc.setState(0xb120, 0x2698, 0xc80, 0x4555, 0x73b1, 0x2740, 0x0, 0x1);
        gbc.writeMem(0xb120, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x2698, gbc.sp());
        EXPECT(0xb122, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb120));
        EXPECT(0x6f, gbc.readMem(0xb121));
        // CB 6F 0328
        gbc.setState(0x7865, 0x2605, 0x5100, 0x4585, 0x5d, 0xd56b, 0x1, 0x1);
        gbc.writeMem(0x7865, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x2605, gbc.sp());
        EXPECT(0x7867, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0329
        gbc.setState(0xdcb5, 0x2d78, 0xe200, 0x3e86, 0x1fb9, 0x3c8b, 0x0, 0x1);
        gbc.writeMem(0xdcb5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x2d78, gbc.sp());
        EXPECT(0xdcb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcb5));
        EXPECT(0x6f, gbc.readMem(0xdcb6));
        // CB 6F 032A
        gbc.setState(0x9153, 0xd10a, 0x9510, 0x476b, 0xd26b, 0x2cbf, 0x1, 0x0);
        gbc.writeMem(0x9153, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xd10a, gbc.sp());
        EXPECT(0x9155, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9153));
        EXPECT(0x6f, gbc.readMem(0x9154));
        // CB 6F 032B
        gbc.setState(0x68a6, 0x6bb1, 0xf780, 0x770a, 0x24af, 0x4bda, 0x1, 0x0);
        gbc.writeMem(0x68a6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x6bb1, gbc.sp());
        EXPECT(0x68a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 032C
        gbc.setState(0xba1, 0xf7d3, 0x6af0, 0x318a, 0x4ff2, 0x1286, 0x0, 0x1);
        gbc.writeMem(0xba1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xf7d3, gbc.sp());
        EXPECT(0xba3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 032D
        gbc.setState(0xbe64, 0xd1b3, 0x4cb0, 0xb5a, 0xe58c, 0x2fbe, 0x1, 0x0);
        gbc.writeMem(0xbe64, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xd1b3, gbc.sp());
        EXPECT(0xbe66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe64));
        EXPECT(0x6f, gbc.readMem(0xbe65));
        // CB 6F 032E
        gbc.setState(0x2d4c, 0x4608, 0x45a0, 0xacb7, 0xef7d, 0xad5e, 0x1, 0x1);
        gbc.writeMem(0x2d4c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x4608, gbc.sp());
        EXPECT(0x2d4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 032F
        gbc.setState(0x2d30, 0x436f, 0x9760, 0x70d3, 0xd5a1, 0xac60, 0x1, 0x1);
        gbc.writeMem(0x2d30, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x436f, gbc.sp());
        EXPECT(0x2d32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0330
        gbc.setState(0x1d56, 0x1823, 0x9000, 0xd25, 0x64d5, 0x3296, 0x1, 0x1);
        gbc.writeMem(0x1d56, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x1823, gbc.sp());
        EXPECT(0x1d58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0331
        gbc.setState(0x899f, 0x31d2, 0x9720, 0x1b8c, 0x6320, 0x737d, 0x1, 0x0);
        gbc.writeMem(0x899f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x31d2, gbc.sp());
        EXPECT(0x89a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x899f));
        EXPECT(0x6f, gbc.readMem(0x89a0));
        // CB 6F 0332
        gbc.setState(0xe878, 0xe8fc, 0x9a30, 0xf461, 0xaec8, 0xc4f7, 0x0, 0x0);
        gbc.writeMem(0xe878, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xe8fc, gbc.sp());
        EXPECT(0xe87a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe878));
        EXPECT(0x6f, gbc.readMem(0xe879));
        // CB 6F 0333
        gbc.setState(0x7cdc, 0xb7ca, 0x4d10, 0x7f01, 0xa1f9, 0xdd6, 0x0, 0x1);
        gbc.writeMem(0x7cdc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xb7ca, gbc.sp());
        EXPECT(0x7cde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0334
        gbc.setState(0xc5b7, 0x25c7, 0xb010, 0xfbb5, 0x57f4, 0xe3b, 0x1, 0x0);
        gbc.writeMem(0xc5b7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x25c7, gbc.sp());
        EXPECT(0xc5b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5b7));
        EXPECT(0x6f, gbc.readMem(0xc5b8));
        // CB 6F 0335
        gbc.setState(0x8449, 0x3df5, 0x7ce0, 0xaf0a, 0x680, 0xb14e, 0x1, 0x1);
        gbc.writeMem(0x8449, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x3df5, gbc.sp());
        EXPECT(0x844b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8449));
        EXPECT(0x6f, gbc.readMem(0x844a));
        // CB 6F 0336
        gbc.setState(0xbe13, 0xd692, 0xa8f0, 0x3842, 0x6082, 0x2360, 0x1, 0x1);
        gbc.writeMem(0xbe13, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xd692, gbc.sp());
        EXPECT(0xbe15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe13));
        EXPECT(0x6f, gbc.readMem(0xbe14));
        // CB 6F 0337
        gbc.setState(0x4213, 0x29fc, 0x3b10, 0x86fd, 0x491c, 0xb958, 0x0, 0x0);
        gbc.writeMem(0x4213, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x29fc, gbc.sp());
        EXPECT(0x4215, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0338
        gbc.setState(0x40a4, 0xa1d6, 0x7510, 0x9df7, 0x9802, 0xfe4b, 0x1, 0x0);
        gbc.writeMem(0x40a4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xa1d6, gbc.sp());
        EXPECT(0x40a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0339
        gbc.setState(0xaa2d, 0xeb5c, 0x5030, 0xd4e, 0xa041, 0x5608, 0x1, 0x1);
        gbc.writeMem(0xaa2d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xeb5c, gbc.sp());
        EXPECT(0xaa2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa2d));
        EXPECT(0x6f, gbc.readMem(0xaa2e));
        // CB 6F 033A
        gbc.setState(0x1e15, 0x7f15, 0xe160, 0x6f03, 0xc63b, 0x64aa, 0x1, 0x1);
        gbc.writeMem(0x1e15, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x7f15, gbc.sp());
        EXPECT(0x1e17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 033B
        gbc.setState(0xdab, 0x4e93, 0xc280, 0xcb63, 0x908b, 0x5af3, 0x0, 0x0);
        gbc.writeMem(0xdab, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x4e93, gbc.sp());
        EXPECT(0xdad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 033C
        gbc.setState(0x5e5c, 0xe085, 0x6a80, 0x8167, 0x30a8, 0xdfe7, 0x0, 0x0);
        gbc.writeMem(0x5e5c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xe085, gbc.sp());
        EXPECT(0x5e5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 033D
        gbc.setState(0x422a, 0xd357, 0xacb0, 0x9468, 0xff43, 0xc59b, 0x1, 0x1);
        gbc.writeMem(0x422a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xd357, gbc.sp());
        EXPECT(0x422c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 033E
        gbc.setState(0x6ded, 0xbb79, 0xf910, 0xe818, 0xb9af, 0xd9ac, 0x1, 0x1);
        gbc.writeMem(0x6ded, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xbb79, gbc.sp());
        EXPECT(0x6def, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 033F
        gbc.setState(0x90ec, 0xb086, 0x3c40, 0xddf8, 0x9855, 0x93b0, 0x0, 0x1);
        gbc.writeMem(0x90ec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xb086, gbc.sp());
        EXPECT(0x90ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x90ec));
        EXPECT(0x6f, gbc.readMem(0x90ed));
        // CB 6F 0340
        gbc.setState(0xda4d, 0x887f, 0x3460, 0x9ff6, 0x5dbb, 0xbe85, 0x1, 0x1);
        gbc.writeMem(0xda4d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x887f, gbc.sp());
        EXPECT(0xda4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda4d));
        EXPECT(0x6f, gbc.readMem(0xda4e));
        // CB 6F 0342
        gbc.setState(0x61e6, 0x119b, 0x7c50, 0x5f15, 0xbc29, 0xdc60, 0x1, 0x1);
        gbc.writeMem(0x61e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x119b, gbc.sp());
        EXPECT(0x61e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0343
        gbc.setState(0xae94, 0xaed4, 0x62d0, 0x846d, 0xb542, 0x9d7f, 0x0, 0x0);
        gbc.writeMem(0xae94, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xaed4, gbc.sp());
        EXPECT(0xae96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae94));
        EXPECT(0x6f, gbc.readMem(0xae95));
        // CB 6F 0344
        gbc.setState(0xf37, 0xce12, 0xa880, 0x26b2, 0x5824, 0x9678, 0x0, 0x1);
        gbc.writeMem(0xf37, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xce12, gbc.sp());
        EXPECT(0xf39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0345
        gbc.setState(0x7e73, 0xd764, 0xcda0, 0x707c, 0xd863, 0x511d, 0x0, 0x0);
        gbc.writeMem(0x7e73, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xd764, gbc.sp());
        EXPECT(0x7e75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0346
        gbc.setState(0x2f01, 0xf01c, 0x3b10, 0xf079, 0x5658, 0xeb0a, 0x0, 0x1);
        gbc.writeMem(0x2f01, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xf01c, gbc.sp());
        EXPECT(0x2f03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0347
        gbc.setState(0xbeb2, 0x6f2, 0x87c0, 0x8470, 0xc5c8, 0x9af0, 0x0, 0x0);
        gbc.writeMem(0xbeb2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x6f2, gbc.sp());
        EXPECT(0xbeb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbeb2));
        EXPECT(0x6f, gbc.readMem(0xbeb3));
        // CB 6F 0348
        gbc.setState(0x31f9, 0x6700, 0x3a30, 0x525, 0xea77, 0x27e5, 0x1, 0x0);
        gbc.writeMem(0x31f9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x6700, gbc.sp());
        EXPECT(0x31fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0349
        gbc.setState(0x7c98, 0x9c25, 0x2e60, 0xde4b, 0x177e, 0x35a4, 0x1, 0x0);
        gbc.writeMem(0x7c98, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x9c25, gbc.sp());
        EXPECT(0x7c9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 034A
        gbc.setState(0xdf6, 0x691b, 0xe790, 0xf9a5, 0xa355, 0x8800, 0x1, 0x0);
        gbc.writeMem(0xdf6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x691b, gbc.sp());
        EXPECT(0xdf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 034B
        gbc.setState(0x27ce, 0xc779, 0xad90, 0x7169, 0x304a, 0xffbf, 0x1, 0x1);
        gbc.writeMem(0x27ce, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xc779, gbc.sp());
        EXPECT(0x27d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 034C
        gbc.setState(0x9f34, 0x1fc3, 0x7c50, 0x41f0, 0x4671, 0x4c64, 0x1, 0x1);
        gbc.writeMem(0x9f34, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x1fc3, gbc.sp());
        EXPECT(0x9f36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f34));
        EXPECT(0x6f, gbc.readMem(0x9f35));
        // CB 6F 034D
        gbc.setState(0xea6c, 0x608d, 0xf060, 0x6305, 0x99bb, 0x5bf, 0x1, 0x0);
        gbc.writeMem(0xea6c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x608d, gbc.sp());
        EXPECT(0xea6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea6c));
        EXPECT(0x6f, gbc.readMem(0xea6d));
        // CB 6F 034F
        gbc.setState(0xb2e9, 0xddd6, 0xc130, 0xd65, 0xd112, 0x6c32, 0x1, 0x0);
        gbc.writeMem(0xb2e9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xddd6, gbc.sp());
        EXPECT(0xb2eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2e9));
        EXPECT(0x6f, gbc.readMem(0xb2ea));
        // CB 6F 0350
        gbc.setState(0x8edb, 0x8511, 0x8ec0, 0x6547, 0x646e, 0x5e80, 0x1, 0x1);
        gbc.writeMem(0x8edb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x8511, gbc.sp());
        EXPECT(0x8edd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8edb));
        EXPECT(0x6f, gbc.readMem(0x8edc));
        // CB 6F 0351
        gbc.setState(0x9f1c, 0xfd5f, 0x8700, 0xc478, 0x7dde, 0xc60, 0x0, 0x1);
        gbc.writeMem(0x9f1c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xfd5f, gbc.sp());
        EXPECT(0x9f1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f1c));
        EXPECT(0x6f, gbc.readMem(0x9f1d));
        // CB 6F 0352
        gbc.setState(0x73fb, 0x4c63, 0x2290, 0x778c, 0x6d9a, 0x14dd, 0x0, 0x1);
        gbc.writeMem(0x73fb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x4c63, gbc.sp());
        EXPECT(0x73fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0353
        gbc.setState(0xafec, 0x30ce, 0xf4d0, 0xeca2, 0xed81, 0x6a84, 0x0, 0x0);
        gbc.writeMem(0xafec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x30ce, gbc.sp());
        EXPECT(0xafee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafec));
        EXPECT(0x6f, gbc.readMem(0xafed));
        // CB 6F 0354
        gbc.setState(0x7a31, 0x2102, 0x3f20, 0xe6b7, 0x32fd, 0x870d, 0x1, 0x1);
        gbc.writeMem(0x7a31, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x2102, gbc.sp());
        EXPECT(0x7a33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0355
        gbc.setState(0x86b0, 0x3e72, 0x8650, 0x931a, 0x3950, 0x89c, 0x0, 0x1);
        gbc.writeMem(0x86b0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x3e72, gbc.sp());
        EXPECT(0x86b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x86b0));
        EXPECT(0x6f, gbc.readMem(0x86b1));
        // CB 6F 0356
        gbc.setState(0xc570, 0x53d4, 0x9ef0, 0x1bbb, 0x51e7, 0x7a60, 0x1, 0x1);
        gbc.writeMem(0xc570, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x53d4, gbc.sp());
        EXPECT(0xc572, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc570));
        EXPECT(0x6f, gbc.readMem(0xc571));
        // CB 6F 0357
        gbc.setState(0x569d, 0x169d, 0x7650, 0x9639, 0xd389, 0x9caa, 0x0, 0x1);
        gbc.writeMem(0x569d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x169d, gbc.sp());
        EXPECT(0x569f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0358
        gbc.setState(0x481b, 0x23be, 0xf360, 0x754f, 0x2b60, 0xe4b3, 0x1, 0x0);
        gbc.writeMem(0x481b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x23be, gbc.sp());
        EXPECT(0x481d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0359
        gbc.setState(0xb6a9, 0x58f, 0x2bd0, 0xc0fa, 0xb6e2, 0xcab0, 0x0, 0x1);
        gbc.writeMem(0xb6a9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x58f, gbc.sp());
        EXPECT(0xb6ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6a9));
        EXPECT(0x6f, gbc.readMem(0xb6aa));
        // CB 6F 035A
        gbc.setState(0x3b08, 0xbf93, 0xafb0, 0xee6e, 0x67df, 0x6477, 0x0, 0x0);
        gbc.writeMem(0x3b08, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xbf93, gbc.sp());
        EXPECT(0x3b0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 035B
        gbc.setState(0xe997, 0x5ac7, 0xe0d0, 0x52c7, 0xd878, 0x4b49, 0x0, 0x0);
        gbc.writeMem(0xe997, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x5ac7, gbc.sp());
        EXPECT(0xe999, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe997));
        EXPECT(0x6f, gbc.readMem(0xe998));
        // CB 6F 035C
        gbc.setState(0xa40c, 0x3177, 0xc3f0, 0x8a78, 0x3102, 0xf06b, 0x1, 0x0);
        gbc.writeMem(0xa40c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x3177, gbc.sp());
        EXPECT(0xa40e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa40c));
        EXPECT(0x6f, gbc.readMem(0xa40d));
        // CB 6F 035D
        gbc.setState(0xb0af, 0xab4b, 0xe0d0, 0x5cf9, 0xbdce, 0x9126, 0x1, 0x1);
        gbc.writeMem(0xb0af, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xab4b, gbc.sp());
        EXPECT(0xb0b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0af));
        EXPECT(0x6f, gbc.readMem(0xb0b0));
        // CB 6F 035E
        gbc.setState(0x4f1, 0x2322, 0x7e50, 0x8dd2, 0x4c44, 0x719a, 0x1, 0x0);
        gbc.writeMem(0x4f1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x2322, gbc.sp());
        EXPECT(0x4f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 035F
        gbc.setState(0xa1d5, 0x6abd, 0x1c00, 0x5ad1, 0xb40c, 0xdaa3, 0x0, 0x1);
        gbc.writeMem(0xa1d5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x6abd, gbc.sp());
        EXPECT(0xa1d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1d5));
        EXPECT(0x6f, gbc.readMem(0xa1d6));
        // CB 6F 0360
        gbc.setState(0xd2d, 0xa8ee, 0xd8a0, 0xaf4f, 0xd843, 0xd83a, 0x1, 0x0);
        gbc.writeMem(0xd2d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xa8ee, gbc.sp());
        EXPECT(0xd2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0362
        gbc.setState(0xe45a, 0x57fb, 0x49f0, 0x48d, 0x5e26, 0xab5e, 0x0, 0x1);
        gbc.writeMem(0xe45a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x57fb, gbc.sp());
        EXPECT(0xe45c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe45a));
        EXPECT(0x6f, gbc.readMem(0xe45b));
        // CB 6F 0363
        gbc.setState(0x3dcd, 0xae07, 0x4270, 0x8a86, 0xaa1c, 0x28d9, 0x1, 0x0);
        gbc.writeMem(0x3dcd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xae07, gbc.sp());
        EXPECT(0x3dcf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0364
        gbc.setState(0x41d1, 0xd7f4, 0x56c0, 0x28fd, 0x3914, 0x90b6, 0x0, 0x1);
        gbc.writeMem(0x41d1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xd7f4, gbc.sp());
        EXPECT(0x41d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0366
        gbc.setState(0xcab0, 0xadf4, 0xc1d0, 0x728e, 0x9b4, 0xcac0, 0x1, 0x0);
        gbc.writeMem(0xcab0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xadf4, gbc.sp());
        EXPECT(0xcab2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcab0));
        EXPECT(0x6f, gbc.readMem(0xcab1));
        // CB 6F 0367
        gbc.setState(0xb0fb, 0x671d, 0xc4e0, 0x119d, 0x5cf2, 0xaabf, 0x0, 0x0);
        gbc.writeMem(0xb0fb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x671d, gbc.sp());
        EXPECT(0xb0fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0fb));
        EXPECT(0x6f, gbc.readMem(0xb0fc));
        // CB 6F 0368
        gbc.setState(0x8d6e, 0xcfd5, 0x7c80, 0x9261, 0xb86f, 0x461d, 0x0, 0x1);
        gbc.writeMem(0x8d6e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xcfd5, gbc.sp());
        EXPECT(0x8d70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d6e));
        EXPECT(0x6f, gbc.readMem(0x8d6f));
        // CB 6F 0369
        gbc.setState(0x4805, 0x1802, 0x99a0, 0x4f9f, 0x809f, 0x507e, 0x0, 0x1);
        gbc.writeMem(0x4805, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x1802, gbc.sp());
        EXPECT(0x4807, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 036A
        gbc.setState(0xe7bc, 0x7dbd, 0x1590, 0x431b, 0xdcfb, 0x8d8e, 0x0, 0x0);
        gbc.writeMem(0xe7bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x7dbd, gbc.sp());
        EXPECT(0xe7be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7bc));
        EXPECT(0x6f, gbc.readMem(0xe7bd));
        // CB 6F 036B
        gbc.setState(0x8da1, 0xb1e8, 0x200, 0x4f57, 0xad4b, 0x1c4, 0x0, 0x1);
        gbc.writeMem(0x8da1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xb1e8, gbc.sp());
        EXPECT(0x8da3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8da1));
        EXPECT(0x6f, gbc.readMem(0x8da2));
        // CB 6F 036C
        gbc.setState(0xb94a, 0x326b, 0x1110, 0xc89d, 0x9b60, 0xe89e, 0x0, 0x0);
        gbc.writeMem(0xb94a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x326b, gbc.sp());
        EXPECT(0xb94c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb94a));
        EXPECT(0x6f, gbc.readMem(0xb94b));
        // CB 6F 036D
        gbc.setState(0x31c8, 0xf915, 0xb5e0, 0xbee1, 0xaf59, 0xe28f, 0x0, 0x0);
        gbc.writeMem(0x31c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xf915, gbc.sp());
        EXPECT(0x31ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 036E
        gbc.setState(0x45f9, 0xae62, 0xf590, 0xf9dd, 0x3b41, 0x96c6, 0x1, 0x0);
        gbc.writeMem(0x45f9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xae62, gbc.sp());
        EXPECT(0x45fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 036F
        gbc.setState(0xa8d6, 0xf0a2, 0x2ac0, 0xc14b, 0xbe41, 0xcf8d, 0x1, 0x1);
        gbc.writeMem(0xa8d6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xf0a2, gbc.sp());
        EXPECT(0xa8d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8d6));
        EXPECT(0x6f, gbc.readMem(0xa8d7));
        // CB 6F 0370
        gbc.setState(0x335c, 0x142e, 0x2d50, 0x7ff, 0xabe7, 0x7976, 0x1, 0x1);
        gbc.writeMem(0x335c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x142e, gbc.sp());
        EXPECT(0x335e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0371
        gbc.setState(0xaad4, 0xd4c0, 0xf850, 0xfa53, 0xcb2, 0x4ba5, 0x0, 0x1);
        gbc.writeMem(0xaad4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xd4c0, gbc.sp());
        EXPECT(0xaad6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaad4));
        EXPECT(0x6f, gbc.readMem(0xaad5));
        // CB 6F 0372
        gbc.setState(0x491b, 0x5d12, 0x9bb0, 0x165, 0x99b9, 0x1a7a, 0x1, 0x1);
        gbc.writeMem(0x491b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x5d12, gbc.sp());
        EXPECT(0x491d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0373
        gbc.setState(0x8315, 0x3e91, 0xb4f0, 0xc3fa, 0xf5a6, 0x9afa, 0x1, 0x0);
        gbc.writeMem(0x8315, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x3e91, gbc.sp());
        EXPECT(0x8317, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8315));
        EXPECT(0x6f, gbc.readMem(0x8316));
        // CB 6F 0374
        gbc.setState(0x96fa, 0x643f, 0xcf0, 0x19be, 0x6103, 0xf30f, 0x1, 0x0);
        gbc.writeMem(0x96fa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x643f, gbc.sp());
        EXPECT(0x96fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96fa));
        EXPECT(0x6f, gbc.readMem(0x96fb));
        // CB 6F 0375
        gbc.setState(0x33bc, 0x4961, 0xd550, 0xa100, 0xf7d6, 0xb1f2, 0x1, 0x1);
        gbc.writeMem(0x33bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x4961, gbc.sp());
        EXPECT(0x33be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0376
        gbc.setState(0x18ab, 0x4282, 0xf970, 0x5cfb, 0x99b6, 0xd6d4, 0x0, 0x1);
        gbc.writeMem(0x18ab, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x4282, gbc.sp());
        EXPECT(0x18ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0378
        gbc.setState(0xbc58, 0xb577, 0x5c20, 0xc8b2, 0x8aee, 0x5eb8, 0x0, 0x0);
        gbc.writeMem(0xbc58, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xb577, gbc.sp());
        EXPECT(0xbc5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc58));
        EXPECT(0x6f, gbc.readMem(0xbc59));
        // CB 6F 0379
        gbc.setState(0x6420, 0x798c, 0x4320, 0x790, 0x33fe, 0xe2a0, 0x1, 0x1);
        gbc.writeMem(0x6420, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x798c, gbc.sp());
        EXPECT(0x6422, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 037A
        gbc.setState(0x2375, 0xebdd, 0x8430, 0xb7f7, 0x4557, 0xbbdc, 0x0, 0x1);
        gbc.writeMem(0x2375, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xebdd, gbc.sp());
        EXPECT(0x2377, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 037B
        gbc.setState(0x2910, 0x47a6, 0x2520, 0x133c, 0xe211, 0x4a51, 0x0, 0x1);
        gbc.writeMem(0x2910, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x47a6, gbc.sp());
        EXPECT(0x2912, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 037C
        gbc.setState(0x3f9d, 0xdd40, 0xa2f0, 0xca87, 0x539a, 0x9a63, 0x0, 0x0);
        gbc.writeMem(0x3f9d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xdd40, gbc.sp());
        EXPECT(0x3f9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 037D
        gbc.setState(0xa101, 0xc91b, 0x1100, 0x1c64, 0xcd07, 0xbe46, 0x0, 0x0);
        gbc.writeMem(0xa101, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xc91b, gbc.sp());
        EXPECT(0xa103, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa101));
        EXPECT(0x6f, gbc.readMem(0xa102));
        // CB 6F 037E
        gbc.setState(0x9af5, 0x1db2, 0x31a0, 0x3dde, 0x59eb, 0x8a1b, 0x1, 0x0);
        gbc.writeMem(0x9af5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x1db2, gbc.sp());
        EXPECT(0x9af7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9af5));
        EXPECT(0x6f, gbc.readMem(0x9af6));
        // CB 6F 0380
        gbc.setState(0xd62c, 0x3066, 0xec60, 0x8f3d, 0x7397, 0x5eac, 0x0, 0x0);
        gbc.writeMem(0xd62c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x3066, gbc.sp());
        EXPECT(0xd62e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd62c));
        EXPECT(0x6f, gbc.readMem(0xd62d));
        // CB 6F 0382
        gbc.setState(0x2b83, 0xeb07, 0x5fd0, 0x14, 0x9b96, 0x7655, 0x1, 0x1);
        gbc.writeMem(0x2b83, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xeb07, gbc.sp());
        EXPECT(0x2b85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0383
        gbc.setState(0xd954, 0xfb68, 0x6980, 0xfeb0, 0xba07, 0xb78c, 0x0, 0x1);
        gbc.writeMem(0xd954, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xfb68, gbc.sp());
        EXPECT(0xd956, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd954));
        EXPECT(0x6f, gbc.readMem(0xd955));
        // CB 6F 0384
        gbc.setState(0xba35, 0x8300, 0x7130, 0xc18c, 0xe79a, 0x26b8, 0x0, 0x1);
        gbc.writeMem(0xba35, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x8300, gbc.sp());
        EXPECT(0xba37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba35));
        EXPECT(0x6f, gbc.readMem(0xba36));
        // CB 6F 0385
        gbc.setState(0x279f, 0x2b1d, 0xa0f0, 0x4f09, 0x51db, 0x1c3d, 0x1, 0x1);
        gbc.writeMem(0x279f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x2b1d, gbc.sp());
        EXPECT(0x27a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0386
        gbc.setState(0x75b0, 0xda60, 0x8b10, 0x681b, 0xc749, 0xe6aa, 0x0, 0x1);
        gbc.writeMem(0x75b0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xda60, gbc.sp());
        EXPECT(0x75b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0387
        gbc.setState(0x5af7, 0xcd14, 0x6820, 0x4ba, 0x9c52, 0x17a0, 0x0, 0x1);
        gbc.writeMem(0x5af7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xcd14, gbc.sp());
        EXPECT(0x5af9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0388
        gbc.setState(0xa031, 0x8394, 0xa320, 0xbe5a, 0xaeb6, 0x85b5, 0x1, 0x1);
        gbc.writeMem(0xa031, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x8394, gbc.sp());
        EXPECT(0xa033, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa031));
        EXPECT(0x6f, gbc.readMem(0xa032));
        // CB 6F 0389
        gbc.setState(0xd490, 0xc974, 0xe7d0, 0x328b, 0x9d29, 0xcc09, 0x1, 0x1);
        gbc.writeMem(0xd490, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xc974, gbc.sp());
        EXPECT(0xd492, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd490));
        EXPECT(0x6f, gbc.readMem(0xd491));
        // CB 6F 038A
        gbc.setState(0xad67, 0x98b0, 0x47d0, 0xbd5f, 0xb637, 0x3f16, 0x1, 0x0);
        gbc.writeMem(0xad67, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x98b0, gbc.sp());
        EXPECT(0xad69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad67));
        EXPECT(0x6f, gbc.readMem(0xad68));
        // CB 6F 038B
        gbc.setState(0xae8, 0x2e3c, 0x7850, 0xfdc1, 0x294f, 0x43de, 0x0, 0x0);
        gbc.writeMem(0xae8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x2e3c, gbc.sp());
        EXPECT(0xaea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 038C
        gbc.setState(0x56e5, 0x4e7f, 0x13d0, 0x9579, 0xb825, 0x8ffd, 0x0, 0x0);
        gbc.writeMem(0x56e5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x4e7f, gbc.sp());
        EXPECT(0x56e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 038D
        gbc.setState(0xd2c2, 0x589f, 0x2dd0, 0x683f, 0x8d7c, 0x83aa, 0x0, 0x0);
        gbc.writeMem(0xd2c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x589f, gbc.sp());
        EXPECT(0xd2c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2c2));
        EXPECT(0x6f, gbc.readMem(0xd2c3));
        // CB 6F 038F
        gbc.setState(0x41ac, 0x2ac4, 0x5880, 0x4269, 0xd20c, 0x723c, 0x1, 0x1);
        gbc.writeMem(0x41ac, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x2ac4, gbc.sp());
        EXPECT(0x41ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 0390
        gbc.setState(0x14bb, 0x4866, 0x18d0, 0x7e14, 0xe41b, 0x34df, 0x1, 0x0);
        gbc.writeMem(0x14bb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x4866, gbc.sp());
        EXPECT(0x14bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 0391
        gbc.setState(0x8350, 0xa966, 0x2ac0, 0x58dd, 0x4340, 0x87f, 0x1, 0x1);
        gbc.writeMem(0x8350, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xa966, gbc.sp());
        EXPECT(0x8352, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8350));
        EXPECT(0x6f, gbc.readMem(0x8351));
        // CB 6F 0392
        gbc.setState(0xe6e3, 0x3824, 0xa7b0, 0xe77d, 0x9f21, 0xb6b4, 0x1, 0x1);
        gbc.writeMem(0xe6e3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x3824, gbc.sp());
        EXPECT(0xe6e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6e3));
        EXPECT(0x6f, gbc.readMem(0xe6e4));
        // CB 6F 0393
        gbc.setState(0xca4e, 0x6e8e, 0xa8c0, 0x2ec7, 0xd66e, 0x784, 0x0, 0x0);
        gbc.writeMem(0xca4e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6e8e, gbc.sp());
        EXPECT(0xca50, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca4e));
        EXPECT(0x6f, gbc.readMem(0xca4f));
        // CB 6F 0396
        gbc.setState(0xc09f, 0xe3ca, 0x2670, 0xea24, 0xb680, 0x5c7b, 0x0, 0x0);
        gbc.writeMem(0xc09f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xe3ca, gbc.sp());
        EXPECT(0xc0a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc09f));
        EXPECT(0x6f, gbc.readMem(0xc0a0));
        // CB 6F 0397
        gbc.setState(0xd972, 0x2b1b, 0xd2c0, 0xdfc5, 0x16c0, 0x5fe9, 0x0, 0x1);
        gbc.writeMem(0xd972, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x2b1b, gbc.sp());
        EXPECT(0xd974, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd972));
        EXPECT(0x6f, gbc.readMem(0xd973));
        // CB 6F 0399
        gbc.setState(0x1f1e, 0xb7fd, 0x5360, 0x6ce2, 0x43, 0x90c0, 0x0, 0x0);
        gbc.writeMem(0x1f1e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xb7fd, gbc.sp());
        EXPECT(0x1f20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 039B
        gbc.setState(0xaffe, 0x706e, 0x87a0, 0x1134, 0x33d5, 0x9ab4, 0x1, 0x0);
        gbc.writeMem(0xaffe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x706e, gbc.sp());
        EXPECT(0xb000, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaffe));
        EXPECT(0x6f, gbc.readMem(0xafff));
        // CB 6F 039C
        gbc.setState(0x7f43, 0xc228, 0xd2f0, 0x6981, 0xc472, 0xdee8, 0x0, 0x1);
        gbc.writeMem(0x7f43, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xc228, gbc.sp());
        EXPECT(0x7f45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 039D
        gbc.setState(0x5173, 0xb313, 0x85d0, 0x3e35, 0xac60, 0xfdf1, 0x1, 0x0);
        gbc.writeMem(0x5173, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xb313, gbc.sp());
        EXPECT(0x5175, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 039E
        gbc.setState(0x3395, 0x850a, 0xbf60, 0x94bb, 0x1355, 0x9a31, 0x1, 0x0);
        gbc.writeMem(0x3395, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x850a, gbc.sp());
        EXPECT(0x3397, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 039F
        gbc.setState(0xc646, 0x1782, 0x7350, 0xf71e, 0x1d41, 0xebd5, 0x1, 0x1);
        gbc.writeMem(0xc646, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x1782, gbc.sp());
        EXPECT(0xc648, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc646));
        EXPECT(0x6f, gbc.readMem(0xc647));
        // CB 6F 03A0
        gbc.setState(0xbf56, 0x7ce6, 0xc690, 0xece6, 0x9a6e, 0x2f, 0x0, 0x1);
        gbc.writeMem(0xbf56, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x7ce6, gbc.sp());
        EXPECT(0xbf58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf56));
        EXPECT(0x6f, gbc.readMem(0xbf57));
        // CB 6F 03A1
        gbc.setState(0x33e3, 0xfce, 0x8410, 0xbce0, 0x9395, 0xa673, 0x0, 0x1);
        gbc.writeMem(0x33e3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xfce, gbc.sp());
        EXPECT(0x33e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03A2
        gbc.setState(0xb90f, 0xb4a7, 0xd570, 0x4d68, 0x3dd8, 0x4250, 0x1, 0x0);
        gbc.writeMem(0xb90f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xb4a7, gbc.sp());
        EXPECT(0xb911, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb90f));
        EXPECT(0x6f, gbc.readMem(0xb910));
        // CB 6F 03A3
        gbc.setState(0x6eb9, 0x4506, 0xfb00, 0xcc8f, 0xf40f, 0x4fab, 0x0, 0x1);
        gbc.writeMem(0x6eb9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x4506, gbc.sp());
        EXPECT(0x6ebb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03A4
        gbc.setState(0xb4a4, 0x9e47, 0x81b0, 0xab7, 0xa1eb, 0xac62, 0x0, 0x0);
        gbc.writeMem(0xb4a4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9e47, gbc.sp());
        EXPECT(0xb4a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4a4));
        EXPECT(0x6f, gbc.readMem(0xb4a5));
        // CB 6F 03A5
        gbc.setState(0x9669, 0x592c, 0x4830, 0x74bf, 0x9d28, 0x61e4, 0x0, 0x0);
        gbc.writeMem(0x9669, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x592c, gbc.sp());
        EXPECT(0x966b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9669));
        EXPECT(0x6f, gbc.readMem(0x966a));
        // CB 6F 03A6
        gbc.setState(0x8d78, 0x933e, 0x4af0, 0xe2b8, 0x1d3a, 0x378b, 0x1, 0x0);
        gbc.writeMem(0x8d78, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x933e, gbc.sp());
        EXPECT(0x8d7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d78));
        EXPECT(0x6f, gbc.readMem(0x8d79));
        // CB 6F 03A7
        gbc.setState(0x576a, 0x1ab3, 0xc370, 0xc828, 0x9ef0, 0x93b3, 0x0, 0x0);
        gbc.writeMem(0x576a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x1ab3, gbc.sp());
        EXPECT(0x576c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03A8
        gbc.setState(0xe6b, 0x1f95, 0x8fb0, 0xebd7, 0xde0e, 0x51ff, 0x1, 0x1);
        gbc.writeMem(0xe6b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x1f95, gbc.sp());
        EXPECT(0xe6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03A9
        gbc.setState(0x1cf4, 0x7da5, 0x5d40, 0x5fda, 0x3ed6, 0x93fa, 0x1, 0x0);
        gbc.writeMem(0x1cf4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x7da5, gbc.sp());
        EXPECT(0x1cf6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03AA
        gbc.setState(0x9b1, 0x555f, 0xc760, 0xc6d3, 0x82e7, 0xdb10, 0x1, 0x1);
        gbc.writeMem(0x9b1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x555f, gbc.sp());
        EXPECT(0x9b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03AB
        gbc.setState(0xaea6, 0x52ee, 0x8160, 0x9535, 0x1a4d, 0xf048, 0x0, 0x1);
        gbc.writeMem(0xaea6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x52ee, gbc.sp());
        EXPECT(0xaea8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaea6));
        EXPECT(0x6f, gbc.readMem(0xaea7));
        // CB 6F 03AC
        gbc.setState(0xdd49, 0x64d2, 0x4dd0, 0x6f5b, 0xa239, 0x44dc, 0x1, 0x0);
        gbc.writeMem(0xdd49, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x64d2, gbc.sp());
        EXPECT(0xdd4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd49));
        EXPECT(0x6f, gbc.readMem(0xdd4a));
        // CB 6F 03AD
        gbc.setState(0x7ed1, 0xb773, 0xcc40, 0x8c77, 0x586e, 0xb7b4, 0x1, 0x1);
        gbc.writeMem(0x7ed1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xb773, gbc.sp());
        EXPECT(0x7ed3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03AE
        gbc.setState(0x343f, 0x2782, 0xb6f0, 0x1d34, 0x11ba, 0x8287, 0x1, 0x1);
        gbc.writeMem(0x343f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x2782, gbc.sp());
        EXPECT(0x3441, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03AF
        gbc.setState(0x4a0a, 0x30f5, 0xd6c0, 0x6b01, 0x800f, 0x4397, 0x1, 0x1);
        gbc.writeMem(0x4a0a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x30f5, gbc.sp());
        EXPECT(0x4a0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03B0
        gbc.setState(0xbbfb, 0xf56e, 0x62e0, 0x4f0a, 0x62b1, 0x163e, 0x1, 0x1);
        gbc.writeMem(0xbbfb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xf56e, gbc.sp());
        EXPECT(0xbbfd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbfb));
        EXPECT(0x6f, gbc.readMem(0xbbfc));
        // CB 6F 03B1
        gbc.setState(0xd899, 0x6047, 0x730, 0x26dd, 0xa3d2, 0x4128, 0x0, 0x0);
        gbc.writeMem(0xd899, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x6047, gbc.sp());
        EXPECT(0xd89b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd899));
        EXPECT(0x6f, gbc.readMem(0xd89a));
        // CB 6F 03B2
        gbc.setState(0xa9cc, 0x938f, 0xcfd0, 0xbc89, 0x26f2, 0xa118, 0x0, 0x1);
        gbc.writeMem(0xa9cc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x938f, gbc.sp());
        EXPECT(0xa9ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9cc));
        EXPECT(0x6f, gbc.readMem(0xa9cd));
        // CB 6F 03B3
        gbc.setState(0xb58a, 0x947d, 0x2f20, 0x4a2a, 0xff3e, 0x1e0d, 0x0, 0x0);
        gbc.writeMem(0xb58a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x947d, gbc.sp());
        EXPECT(0xb58c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb58a));
        EXPECT(0x6f, gbc.readMem(0xb58b));
        // CB 6F 03B4
        gbc.setState(0x92c2, 0x6d3e, 0x5710, 0xc032, 0xa601, 0x966d, 0x1, 0x1);
        gbc.writeMem(0x92c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x6d3e, gbc.sp());
        EXPECT(0x92c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92c2));
        EXPECT(0x6f, gbc.readMem(0x92c3));
        // CB 6F 03B5
        gbc.setState(0xda85, 0xb040, 0x4b00, 0xc50a, 0x5d6c, 0x51a4, 0x0, 0x1);
        gbc.writeMem(0xda85, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xb040, gbc.sp());
        EXPECT(0xda87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda85));
        EXPECT(0x6f, gbc.readMem(0xda86));
        // CB 6F 03B6
        gbc.setState(0x1f7, 0x7e04, 0x33c0, 0xfd95, 0xfe11, 0xcf80, 0x0, 0x0);
        gbc.writeMem(0x1f7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x7e04, gbc.sp());
        EXPECT(0x1f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03B7
        gbc.setState(0x975c, 0x4ec3, 0x9d60, 0xd53b, 0xbcd9, 0xb2ce, 0x0, 0x1);
        gbc.writeMem(0x975c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x4ec3, gbc.sp());
        EXPECT(0x975e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x975c));
        EXPECT(0x6f, gbc.readMem(0x975d));
        // CB 6F 03B8
        gbc.setState(0x8c47, 0x5c5f, 0x5ff0, 0x1473, 0xb245, 0x9180, 0x1, 0x1);
        gbc.writeMem(0x8c47, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x5c5f, gbc.sp());
        EXPECT(0x8c49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c47));
        EXPECT(0x6f, gbc.readMem(0x8c48));
        // CB 6F 03B9
        gbc.setState(0xdb6b, 0x909d, 0x6140, 0x1566, 0x3a91, 0x60c7, 0x1, 0x0);
        gbc.writeMem(0xdb6b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x909d, gbc.sp());
        EXPECT(0xdb6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb6b));
        EXPECT(0x6f, gbc.readMem(0xdb6c));
        // CB 6F 03BB
        gbc.setState(0x38af, 0x9393, 0xa560, 0x6338, 0xf064, 0x6100, 0x0, 0x1);
        gbc.writeMem(0x38af, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x9393, gbc.sp());
        EXPECT(0x38b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03BC
        gbc.setState(0x52a9, 0x5e59, 0x8cc0, 0x7348, 0x35f4, 0x6e2, 0x1, 0x0);
        gbc.writeMem(0x52a9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x5e59, gbc.sp());
        EXPECT(0x52ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03BE
        gbc.setState(0x99bb, 0xfb79, 0x45b0, 0xf5d2, 0xa1e5, 0xb4c3, 0x0, 0x1);
        gbc.writeMem(0x99bb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xfb79, gbc.sp());
        EXPECT(0x99bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99bb));
        EXPECT(0x6f, gbc.readMem(0x99bc));
        // CB 6F 03BF
        gbc.setState(0x7ddf, 0xb57b, 0x7d60, 0xfce0, 0xbdd3, 0x9985, 0x1, 0x1);
        gbc.writeMem(0x7ddf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb57b, gbc.sp());
        EXPECT(0x7de1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03C1
        gbc.setState(0x70cc, 0x39b0, 0x2340, 0x438a, 0xe527, 0xacb9, 0x0, 0x1);
        gbc.writeMem(0x70cc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x39b0, gbc.sp());
        EXPECT(0x70ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03C2
        gbc.setState(0x4a92, 0xaf64, 0x9490, 0x97da, 0x4e73, 0x69c, 0x0, 0x1);
        gbc.writeMem(0x4a92, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xaf64, gbc.sp());
        EXPECT(0x4a94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03C3
        gbc.setState(0x6f68, 0x476d, 0x3b90, 0xb236, 0x3720, 0xc630, 0x1, 0x0);
        gbc.writeMem(0x6f68, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x476d, gbc.sp());
        EXPECT(0x6f6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03C4
        gbc.setState(0xb192, 0xc836, 0xe670, 0xbc79, 0x9edc, 0xc604, 0x0, 0x0);
        gbc.writeMem(0xb192, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xc836, gbc.sp());
        EXPECT(0xb194, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb192));
        EXPECT(0x6f, gbc.readMem(0xb193));
        // CB 6F 03C5
        gbc.setState(0xa0c2, 0xf617, 0x5a50, 0xa5a6, 0xa399, 0xb043, 0x1, 0x1);
        gbc.writeMem(0xa0c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf617, gbc.sp());
        EXPECT(0xa0c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0c2));
        EXPECT(0x6f, gbc.readMem(0xa0c3));
        // CB 6F 03C6
        gbc.setState(0x1d20, 0x3473, 0x8730, 0xdec8, 0x2436, 0xf264, 0x1, 0x0);
        gbc.writeMem(0x1d20, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x3473, gbc.sp());
        EXPECT(0x1d22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03C7
        gbc.setState(0xc1fc, 0x9fe8, 0x6720, 0x5690, 0xf8af, 0xd88a, 0x1, 0x0);
        gbc.writeMem(0xc1fc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x9fe8, gbc.sp());
        EXPECT(0xc1fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1fc));
        EXPECT(0x6f, gbc.readMem(0xc1fd));
        // CB 6F 03C8
        gbc.setState(0x5a28, 0x90fd, 0x1d00, 0x4b05, 0x45ed, 0xe7cc, 0x1, 0x0);
        gbc.writeMem(0x5a28, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x90fd, gbc.sp());
        EXPECT(0x5a2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03C9
        gbc.setState(0x19d6, 0xd113, 0xbb00, 0xf585, 0x5fd, 0x68bf, 0x1, 0x1);
        gbc.writeMem(0x19d6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xd113, gbc.sp());
        EXPECT(0x19d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03CA
        gbc.setState(0x7e75, 0x12d2, 0x2c90, 0x7288, 0x757a, 0xeb96, 0x0, 0x0);
        gbc.writeMem(0x7e75, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x12d2, gbc.sp());
        EXPECT(0x7e77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03CB
        gbc.setState(0x7284, 0xe07c, 0xdde0, 0xd54c, 0x81a9, 0x300f, 0x0, 0x0);
        gbc.writeMem(0x7284, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xe07c, gbc.sp());
        EXPECT(0x7286, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03CC
        gbc.setState(0x2d7c, 0xe822, 0x4dc0, 0x2329, 0x1119, 0xd579, 0x0, 0x1);
        gbc.writeMem(0x2d7c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xe822, gbc.sp());
        EXPECT(0x2d7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03CD
        gbc.setState(0x3b81, 0x6e74, 0xd480, 0x6762, 0x3294, 0x949f, 0x0, 0x1);
        gbc.writeMem(0x3b81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x6e74, gbc.sp());
        EXPECT(0x3b83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03CE
        gbc.setState(0xa8fd, 0x5261, 0x1b00, 0x7449, 0xe47d, 0x75c8, 0x1, 0x0);
        gbc.writeMem(0xa8fd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x5261, gbc.sp());
        EXPECT(0xa8ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8fd));
        EXPECT(0x6f, gbc.readMem(0xa8fe));
        // CB 6F 03CF
        gbc.setState(0x9bc6, 0x99bf, 0x1f0, 0x439, 0x3300, 0x7d36, 0x0, 0x0);
        gbc.writeMem(0x9bc6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x99bf, gbc.sp());
        EXPECT(0x9bc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bc6));
        EXPECT(0x6f, gbc.readMem(0x9bc7));
        // CB 6F 03D1
        gbc.setState(0xad96, 0x564f, 0xf520, 0x9176, 0xa76f, 0x52ed, 0x0, 0x1);
        gbc.writeMem(0xad96, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x564f, gbc.sp());
        EXPECT(0xad98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad96));
        EXPECT(0x6f, gbc.readMem(0xad97));
        // CB 6F 03D2
        gbc.setState(0x9c3b, 0xb79f, 0x1940, 0x4488, 0x68df, 0x7e6d, 0x1, 0x0);
        gbc.writeMem(0x9c3b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xb79f, gbc.sp());
        EXPECT(0x9c3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c3b));
        EXPECT(0x6f, gbc.readMem(0x9c3c));
        // CB 6F 03D3
        gbc.setState(0xbeea, 0xbd6d, 0x9810, 0x46ed, 0xfa75, 0x5acb, 0x1, 0x1);
        gbc.writeMem(0xbeea, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xbd6d, gbc.sp());
        EXPECT(0xbeec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbeea));
        EXPECT(0x6f, gbc.readMem(0xbeeb));
        // CB 6F 03D4
        gbc.setState(0xd204, 0x52e3, 0x8d90, 0xc8b6, 0x1482, 0x8dcd, 0x1, 0x1);
        gbc.writeMem(0xd204, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x52e3, gbc.sp());
        EXPECT(0xd206, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd204));
        EXPECT(0x6f, gbc.readMem(0xd205));
        // CB 6F 03D6
        gbc.setState(0xdff7, 0x2429, 0x7aa0, 0xe0f3, 0x51ca, 0x7032, 0x0, 0x1);
        gbc.writeMem(0xdff7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x2429, gbc.sp());
        EXPECT(0xdff9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdff7));
        EXPECT(0x6f, gbc.readMem(0xdff8));
        // CB 6F 03D7
        gbc.setState(0x1d9a, 0xb7e3, 0xb960, 0xa4ea, 0x6765, 0xde40, 0x1, 0x0);
        gbc.writeMem(0x1d9a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xb7e3, gbc.sp());
        EXPECT(0x1d9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03D8
        gbc.setState(0x4d78, 0xfd1b, 0x3c50, 0x86b0, 0xc77b, 0xdf9e, 0x1, 0x1);
        gbc.writeMem(0x4d78, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xfd1b, gbc.sp());
        EXPECT(0x4d7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03D9
        gbc.setState(0xdeb4, 0xd4c4, 0xe7d0, 0x238b, 0x43d1, 0xf943, 0x0, 0x0);
        gbc.writeMem(0xdeb4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xd4c4, gbc.sp());
        EXPECT(0xdeb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdeb4));
        EXPECT(0x6f, gbc.readMem(0xdeb5));
        // CB 6F 03DA
        gbc.setState(0x3cd7, 0x80a8, 0xdd20, 0xfbca, 0xb84f, 0xa5ec, 0x0, 0x0);
        gbc.writeMem(0x3cd7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x80a8, gbc.sp());
        EXPECT(0x3cd9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03DB
        gbc.setState(0x2fb3, 0x7382, 0xf3f0, 0x3849, 0xb2ce, 0xbac8, 0x1, 0x1);
        gbc.writeMem(0x2fb3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x7382, gbc.sp());
        EXPECT(0x2fb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 6F 03DC
        gbc.setState(0xe1c, 0x15ac, 0xaa0, 0xbf33, 0xaf4f, 0x6df3, 0x1, 0x0);
        gbc.writeMem(0xe1c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x15ac, gbc.sp());
        EXPECT(0xe1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03DD
        gbc.setState(0xa74a, 0x807a, 0x2090, 0x94c2, 0x71cd, 0xe10d, 0x1, 0x0);
        gbc.writeMem(0xa74a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x807a, gbc.sp());
        EXPECT(0xa74c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa74a));
        EXPECT(0x6f, gbc.readMem(0xa74b));
        // CB 6F 03DE
        gbc.setState(0x918a, 0xb81e, 0x160, 0xd71f, 0xcd9f, 0x765c, 0x0, 0x0);
        gbc.writeMem(0x918a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xb81e, gbc.sp());
        EXPECT(0x918c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x918a));
        EXPECT(0x6f, gbc.readMem(0x918b));
        // CB 6F 03DF
        gbc.setState(0x987a, 0x347e, 0x5740, 0xe902, 0x58c9, 0x2bfc, 0x0, 0x0);
        gbc.writeMem(0x987a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x347e, gbc.sp());
        EXPECT(0x987c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x987a));
        EXPECT(0x6f, gbc.readMem(0x987b));
        // CB 6F 03E0
        gbc.setState(0xe899, 0x8b6c, 0x95c0, 0x4118, 0x244, 0xb76e, 0x1, 0x1);
        gbc.writeMem(0xe899, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x8b6c, gbc.sp());
        EXPECT(0xe89b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe899));
        EXPECT(0x6f, gbc.readMem(0xe89a));
        // CB 6F 03E1
        gbc.setState(0xeaab, 0x5e79, 0xee00, 0x4091, 0xfbce, 0x812d, 0x0, 0x1);
        gbc.writeMem(0xeaab, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x5e79, gbc.sp());
        EXPECT(0xeaad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeaab));
        EXPECT(0x6f, gbc.readMem(0xeaac));
        // CB 6F 03E2
        gbc.setState(0xef1b, 0x493, 0x9030, 0xaa6a, 0x672d, 0x9d6a, 0x0, 0x0);
        gbc.writeMem(0xef1b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x493, gbc.sp());
        EXPECT(0xef1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef1b));
        EXPECT(0x6f, gbc.readMem(0xef1c));
        // CB 6F 03E3
        gbc.setState(0x4dfa, 0xe766, 0x1640, 0x3a95, 0xa956, 0xfcc5, 0x0, 0x0);
        gbc.writeMem(0x4dfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xe766, gbc.sp());
        EXPECT(0x4dfc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03E4
        gbc.setState(0xc730, 0x77a5, 0xa0a0, 0xfc2f, 0x168e, 0xb18, 0x0, 0x0);
        gbc.writeMem(0xc730, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x77a5, gbc.sp());
        EXPECT(0xc732, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc730));
        EXPECT(0x6f, gbc.readMem(0xc731));
        // CB 6F 03E5
        gbc.setState(0xda3e, 0x21b3, 0x24e0, 0x1fec, 0x4273, 0x9bd1, 0x1, 0x0);
        gbc.writeMem(0xda3e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x21b3, gbc.sp());
        EXPECT(0xda40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda3e));
        EXPECT(0x6f, gbc.readMem(0xda3f));
        // CB 6F 03E6
        gbc.setState(0x7313, 0xaa8f, 0xa900, 0x64c5, 0x57c0, 0x9bbd, 0x0, 0x0);
        gbc.writeMem(0x7313, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xaa8f, gbc.sp());
        EXPECT(0x7315, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 6F 03E7
        gbc.setState(0xda00, 0x26cb, 0xd830, 0x9ab9, 0xe0d3, 0x913c, 0x1, 0x1);
        gbc.writeMem(0xda00, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x26cb, gbc.sp());
        EXPECT(0xda02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda00));
        EXPECT(0x6f, gbc.readMem(0xda01));
    }
