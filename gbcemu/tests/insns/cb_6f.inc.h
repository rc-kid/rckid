    TEST(gbcemu, opcode_cb_6f) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 6F 0000
        gbc.setState(0xd810, 0xfaed, 0xb9c0, 0xe1d, 0xa1c8, 0x6d0e, 0x0, 0x0);
        gbc.writeMem(0xd810, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xfaed);
        EXPECT(gbc.pc(), 0xd812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd810), 0xcb);
        EXPECT(gbc.readMem(0xd811), 0x6f);
        // CB 6F 0001
        gbc.setState(0xa572, 0x85ff, 0x1720, 0xbb7b, 0x3e44, 0xe346, 0x1, 0x0);
        gbc.writeMem(0xa572, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x85ff);
        EXPECT(gbc.pc(), 0xa574);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa572), 0xcb);
        EXPECT(gbc.readMem(0xa573), 0x6f);
        // CB 6F 0002
        gbc.setState(0x432d, 0x7e00, 0xc8d0, 0x3e15, 0xde21, 0x1e2c, 0x1, 0x1);
        gbc.writeMem(0x432d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x7e00);
        EXPECT(gbc.pc(), 0x432f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0003
        gbc.setState(0xb796, 0x6ede, 0xef90, 0x802a, 0x7ec, 0xb22, 0x1, 0x1);
        gbc.writeMem(0xb796, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x6ede);
        EXPECT(gbc.pc(), 0xb798);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb796), 0xcb);
        EXPECT(gbc.readMem(0xb797), 0x6f);
        // CB 6F 0006
        gbc.setState(0x9d6a, 0x755e, 0xaa70, 0x5a16, 0xae56, 0x8e8d, 0x1, 0x0);
        gbc.writeMem(0x9d6a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x755e);
        EXPECT(gbc.pc(), 0x9d6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d6a), 0xcb);
        EXPECT(gbc.readMem(0x9d6b), 0x6f);
        // CB 6F 0007
        gbc.setState(0x6b16, 0x7ae3, 0xc630, 0xb8e1, 0xf746, 0xc3f5, 0x1, 0x1);
        gbc.writeMem(0x6b16, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x7ae3);
        EXPECT(gbc.pc(), 0x6b18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0008
        gbc.setState(0x6736, 0x9b5c, 0xe250, 0x1a0f, 0x2b22, 0x3b9e, 0x0, 0x1);
        gbc.writeMem(0x6736, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9b5c);
        EXPECT(gbc.pc(), 0x6738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0009
        gbc.setState(0x36e8, 0xc583, 0x1770, 0x1043, 0x6c12, 0xc955, 0x0, 0x0);
        gbc.writeMem(0x36e8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xc583);
        EXPECT(gbc.pc(), 0x36ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 000B
        gbc.setState(0x544e, 0x97be, 0xac20, 0xa8b, 0x10b3, 0x2ced, 0x0, 0x1);
        gbc.writeMem(0x544e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x97be);
        EXPECT(gbc.pc(), 0x5450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 000C
        gbc.setState(0x7f42, 0x74a3, 0xfe20, 0x1a08, 0x482c, 0xfca9, 0x1, 0x1);
        gbc.writeMem(0x7f42, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x74a3);
        EXPECT(gbc.pc(), 0x7f44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 000D
        gbc.setState(0xe44e, 0x7caf, 0x6cf0, 0xaaa0, 0x2b04, 0x87bc, 0x0, 0x0);
        gbc.writeMem(0xe44e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7caf);
        EXPECT(gbc.pc(), 0xe450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe44e), 0xcb);
        EXPECT(gbc.readMem(0xe44f), 0x6f);
        // CB 6F 000E
        gbc.setState(0x5f1a, 0xf733, 0x8b0, 0xc721, 0xca25, 0x17c3, 0x1, 0x0);
        gbc.writeMem(0x5f1a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xf733);
        EXPECT(gbc.pc(), 0x5f1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 000F
        gbc.setState(0x88d7, 0x3a5f, 0x8350, 0x92d3, 0x8332, 0x70f, 0x1, 0x0);
        gbc.writeMem(0x88d7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3a5f);
        EXPECT(gbc.pc(), 0x88d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88d7), 0xcb);
        EXPECT(gbc.readMem(0x88d8), 0x6f);
        // CB 6F 0010
        gbc.setState(0x4515, 0x2ec7, 0x11f0, 0x2177, 0x3757, 0x4c6b, 0x1, 0x1);
        gbc.writeMem(0x4515, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2ec7);
        EXPECT(gbc.pc(), 0x4517);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0011
        gbc.setState(0x3f6e, 0x1a1b, 0x7800, 0x7e69, 0xae56, 0x2ec1, 0x1, 0x1);
        gbc.writeMem(0x3f6e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x1a1b);
        EXPECT(gbc.pc(), 0x3f70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0012
        gbc.setState(0xaec, 0x456c, 0xd1b0, 0xc4d5, 0x2b0a, 0x7795, 0x1, 0x1);
        gbc.writeMem(0xaec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x456c);
        EXPECT(gbc.pc(), 0xaee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0013
        gbc.setState(0xafa7, 0xbd54, 0xcd60, 0x2c3a, 0xfb7d, 0x1edf, 0x0, 0x1);
        gbc.writeMem(0xafa7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xbd54);
        EXPECT(gbc.pc(), 0xafa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafa7), 0xcb);
        EXPECT(gbc.readMem(0xafa8), 0x6f);
        // CB 6F 0014
        gbc.setState(0xb74d, 0x4901, 0x5940, 0x3433, 0x1d7, 0x3e98, 0x1, 0x1);
        gbc.writeMem(0xb74d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4901);
        EXPECT(gbc.pc(), 0xb74f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb74d), 0xcb);
        EXPECT(gbc.readMem(0xb74e), 0x6f);
        // CB 6F 0015
        gbc.setState(0xbc79, 0x25bf, 0x4b0, 0x8e9, 0x5971, 0xcc00, 0x1, 0x0);
        gbc.writeMem(0xbc79, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x25bf);
        EXPECT(gbc.pc(), 0xbc7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc79), 0xcb);
        EXPECT(gbc.readMem(0xbc7a), 0x6f);
        // CB 6F 0016
        gbc.setState(0xdae7, 0x7ba2, 0xf90, 0x34c4, 0xe6d4, 0xe770, 0x1, 0x1);
        gbc.writeMem(0xdae7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7ba2);
        EXPECT(gbc.pc(), 0xdae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdae7), 0xcb);
        EXPECT(gbc.readMem(0xdae8), 0x6f);
        // CB 6F 0017
        gbc.setState(0x6b6a, 0xad4b, 0x8000, 0x259e, 0xe36, 0x2584, 0x0, 0x0);
        gbc.writeMem(0x6b6a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xad4b);
        EXPECT(gbc.pc(), 0x6b6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0018
        gbc.setState(0xa4d8, 0xc952, 0xcf20, 0x73e, 0x512d, 0x88fe, 0x0, 0x1);
        gbc.writeMem(0xa4d8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc952);
        EXPECT(gbc.pc(), 0xa4da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4d8), 0xcb);
        EXPECT(gbc.readMem(0xa4d9), 0x6f);
        // CB 6F 0019
        gbc.setState(0x63d6, 0x38cb, 0xad0, 0x38dc, 0xfd8e, 0xb404, 0x1, 0x0);
        gbc.writeMem(0x63d6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x38cb);
        EXPECT(gbc.pc(), 0x63d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 001A
        gbc.setState(0x8ef6, 0xb3d5, 0xe30, 0xb024, 0xe51d, 0xd04d, 0x0, 0x0);
        gbc.writeMem(0x8ef6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb3d5);
        EXPECT(gbc.pc(), 0x8ef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ef6), 0xcb);
        EXPECT(gbc.readMem(0x8ef7), 0x6f);
        // CB 6F 001B
        gbc.setState(0xcefd, 0xf112, 0xc60, 0xf1f0, 0x954f, 0xf1e3, 0x1, 0x0);
        gbc.writeMem(0xcefd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xf112);
        EXPECT(gbc.pc(), 0xceff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcefd), 0xcb);
        EXPECT(gbc.readMem(0xcefe), 0x6f);
        // CB 6F 001C
        gbc.setState(0x40a7, 0x4f9b, 0xc630, 0x1752, 0x7cd7, 0x75f0, 0x0, 0x1);
        gbc.writeMem(0x40a7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x4f9b);
        EXPECT(gbc.pc(), 0x40a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 001D
        gbc.setState(0x8dfd, 0x78f8, 0x8bc0, 0x953d, 0x3b79, 0x999c, 0x0, 0x1);
        gbc.writeMem(0x8dfd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x78f8);
        EXPECT(gbc.pc(), 0x8dff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dfd), 0xcb);
        EXPECT(gbc.readMem(0x8dfe), 0x6f);
        // CB 6F 001E
        gbc.setState(0xdd5e, 0x3b3c, 0xceb0, 0xc676, 0x3d85, 0xa6a9, 0x0, 0x1);
        gbc.writeMem(0xdd5e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x3b3c);
        EXPECT(gbc.pc(), 0xdd60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd5e), 0xcb);
        EXPECT(gbc.readMem(0xdd5f), 0x6f);
        // CB 6F 001F
        gbc.setState(0x672d, 0xb3f3, 0x5250, 0xb834, 0x1c60, 0x70fa, 0x0, 0x0);
        gbc.writeMem(0x672d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb3f3);
        EXPECT(gbc.pc(), 0x672f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0020
        gbc.setState(0x38f7, 0x295, 0x3cd0, 0xe820, 0x4a4a, 0x8e06, 0x1, 0x1);
        gbc.writeMem(0x38f7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x295);
        EXPECT(gbc.pc(), 0x38f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0021
        gbc.setState(0x404b, 0xdedb, 0xbce0, 0x2dd8, 0x1a29, 0x72c6, 0x1, 0x1);
        gbc.writeMem(0x404b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xdedb);
        EXPECT(gbc.pc(), 0x404d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0022
        gbc.setState(0x2890, 0x7970, 0x69a0, 0x6b8b, 0xcd6d, 0x6cd2, 0x0, 0x1);
        gbc.writeMem(0x2890, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x7970);
        EXPECT(gbc.pc(), 0x2892);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0023
        gbc.setState(0x9e3c, 0xc34c, 0x3400, 0x7142, 0x7371, 0x4166, 0x0, 0x1);
        gbc.writeMem(0x9e3c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xc34c);
        EXPECT(gbc.pc(), 0x9e3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e3c), 0xcb);
        EXPECT(gbc.readMem(0x9e3d), 0x6f);
        // CB 6F 0024
        gbc.setState(0xaa61, 0x5dad, 0x80, 0xe8b4, 0x159, 0xa91f, 0x1, 0x1);
        gbc.writeMem(0xaa61, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5dad);
        EXPECT(gbc.pc(), 0xaa63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa61), 0xcb);
        EXPECT(gbc.readMem(0xaa62), 0x6f);
        // CB 6F 0025
        gbc.setState(0x7059, 0x884c, 0x40b0, 0xccf, 0xa209, 0x6286, 0x0, 0x1);
        gbc.writeMem(0x7059, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x884c);
        EXPECT(gbc.pc(), 0x705b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0026
        gbc.setState(0xcf7d, 0xa7e7, 0x68f0, 0xcf6f, 0xdb27, 0x9cb, 0x1, 0x0);
        gbc.writeMem(0xcf7d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa7e7);
        EXPECT(gbc.pc(), 0xcf7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf7d), 0xcb);
        EXPECT(gbc.readMem(0xcf7e), 0x6f);
        // CB 6F 0027
        gbc.setState(0xe102, 0x5056, 0x7e00, 0x1ea9, 0xa295, 0x7afe, 0x1, 0x1);
        gbc.writeMem(0xe102, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x5056);
        EXPECT(gbc.pc(), 0xe104);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe102), 0xcb);
        EXPECT(gbc.readMem(0xe103), 0x6f);
        // CB 6F 0028
        gbc.setState(0x2ec8, 0xb916, 0x5fd0, 0xbda6, 0xaf36, 0x7eea, 0x0, 0x1);
        gbc.writeMem(0x2ec8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb916);
        EXPECT(gbc.pc(), 0x2eca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0029
        gbc.setState(0x823f, 0x542d, 0x82c0, 0x4e5a, 0x4900, 0x82fc, 0x1, 0x1);
        gbc.writeMem(0x823f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x542d);
        EXPECT(gbc.pc(), 0x8241);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x823f), 0xcb);
        EXPECT(gbc.readMem(0x8240), 0x6f);
        // CB 6F 002A
        gbc.setState(0x163a, 0x3c18, 0x7600, 0xce60, 0x1ddd, 0x56ff, 0x1, 0x1);
        gbc.writeMem(0x163a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3c18);
        EXPECT(gbc.pc(), 0x163c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 002B
        gbc.setState(0x1e25, 0x6698, 0x34d0, 0x6304, 0x6522, 0x1c97, 0x1, 0x0);
        gbc.writeMem(0x1e25, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6698);
        EXPECT(gbc.pc(), 0x1e27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 002C
        gbc.setState(0x3dff, 0x1c6f, 0x7950, 0xd398, 0x7037, 0xf1fb, 0x0, 0x0);
        gbc.writeMem(0x3dff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1c6f);
        EXPECT(gbc.pc(), 0x3e01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 002D
        gbc.setState(0xd368, 0xe14d, 0xc550, 0xa5b8, 0xf368, 0x3854, 0x1, 0x1);
        gbc.writeMem(0xd368, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xe14d);
        EXPECT(gbc.pc(), 0xd36a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd368), 0xcb);
        EXPECT(gbc.readMem(0xd369), 0x6f);
        // CB 6F 002E
        gbc.setState(0x4d23, 0x9cd6, 0x800, 0x67ab, 0x9d1d, 0x8bd8, 0x0, 0x1);
        gbc.writeMem(0x4d23, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x9cd6);
        EXPECT(gbc.pc(), 0x4d25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 002F
        gbc.setState(0xb53a, 0xfc89, 0x3100, 0xc79c, 0x2c8b, 0xc09b, 0x0, 0x0);
        gbc.writeMem(0xb53a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xfc89);
        EXPECT(gbc.pc(), 0xb53c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb53a), 0xcb);
        EXPECT(gbc.readMem(0xb53b), 0x6f);
        // CB 6F 0031
        gbc.setState(0x3f03, 0xee3f, 0x2bc0, 0x3bbb, 0xc978, 0xe070, 0x0, 0x1);
        gbc.writeMem(0x3f03, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xee3f);
        EXPECT(gbc.pc(), 0x3f05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0032
        gbc.setState(0x5f31, 0xf5b3, 0xc400, 0xac9d, 0xb2ed, 0x5948, 0x1, 0x1);
        gbc.writeMem(0x5f31, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xf5b3);
        EXPECT(gbc.pc(), 0x5f33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0033
        gbc.setState(0x8568, 0x80db, 0x990, 0x300e, 0x22a1, 0x4d05, 0x0, 0x0);
        gbc.writeMem(0x8568, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x80db);
        EXPECT(gbc.pc(), 0x856a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8568), 0xcb);
        EXPECT(gbc.readMem(0x8569), 0x6f);
        // CB 6F 0034
        gbc.setState(0xc79f, 0x5b9f, 0x2b10, 0xc0bb, 0x2be0, 0x5538, 0x1, 0x1);
        gbc.writeMem(0xc79f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5b9f);
        EXPECT(gbc.pc(), 0xc7a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc79f), 0xcb);
        EXPECT(gbc.readMem(0xc7a0), 0x6f);
        // CB 6F 0035
        gbc.setState(0xee62, 0xe7dc, 0xf070, 0xe97, 0x6aab, 0xe102, 0x1, 0x1);
        gbc.writeMem(0xee62, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe7dc);
        EXPECT(gbc.pc(), 0xee64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee62), 0xcb);
        EXPECT(gbc.readMem(0xee63), 0x6f);
        // CB 6F 0036
        gbc.setState(0xae05, 0x3561, 0xac10, 0xac93, 0xda4e, 0x92ee, 0x1, 0x0);
        gbc.writeMem(0xae05, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3561);
        EXPECT(gbc.pc(), 0xae07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae05), 0xcb);
        EXPECT(gbc.readMem(0xae06), 0x6f);
        // CB 6F 0037
        gbc.setState(0xe9f3, 0x588a, 0xd470, 0xb0f7, 0x118f, 0x2837, 0x1, 0x0);
        gbc.writeMem(0xe9f3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x588a);
        EXPECT(gbc.pc(), 0xe9f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9f3), 0xcb);
        EXPECT(gbc.readMem(0xe9f4), 0x6f);
        // CB 6F 0039
        gbc.setState(0x908e, 0xcf80, 0xb60, 0x6d96, 0xaf95, 0x4fc1, 0x1, 0x1);
        gbc.writeMem(0x908e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xcf80);
        EXPECT(gbc.pc(), 0x9090);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x908e), 0xcb);
        EXPECT(gbc.readMem(0x908f), 0x6f);
        // CB 6F 003A
        gbc.setState(0xa6ef, 0xe46, 0x6890, 0xcd79, 0x4bd6, 0x72ff, 0x1, 0x0);
        gbc.writeMem(0xa6ef, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe46);
        EXPECT(gbc.pc(), 0xa6f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6ef), 0xcb);
        EXPECT(gbc.readMem(0xa6f0), 0x6f);
        // CB 6F 003B
        gbc.setState(0xbb48, 0xb342, 0xea60, 0xecc2, 0x7522, 0xfb9d, 0x1, 0x0);
        gbc.writeMem(0xbb48, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb342);
        EXPECT(gbc.pc(), 0xbb4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb48), 0xcb);
        EXPECT(gbc.readMem(0xbb49), 0x6f);
        // CB 6F 003C
        gbc.setState(0x835d, 0x9a47, 0xcd00, 0x25b0, 0x37d1, 0x5503, 0x1, 0x0);
        gbc.writeMem(0x835d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9a47);
        EXPECT(gbc.pc(), 0x835f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x835d), 0xcb);
        EXPECT(gbc.readMem(0x835e), 0x6f);
        // CB 6F 003D
        gbc.setState(0xc265, 0xfbae, 0x6f10, 0x909, 0x1e69, 0xbcbd, 0x0, 0x1);
        gbc.writeMem(0xc265, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xfbae);
        EXPECT(gbc.pc(), 0xc267);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc265), 0xcb);
        EXPECT(gbc.readMem(0xc266), 0x6f);
        // CB 6F 003E
        gbc.setState(0xb8ef, 0x4d92, 0x5f70, 0xecc3, 0xceae, 0xec55, 0x1, 0x1);
        gbc.writeMem(0xb8ef, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x4d92);
        EXPECT(gbc.pc(), 0xb8f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8ef), 0xcb);
        EXPECT(gbc.readMem(0xb8f0), 0x6f);
        // CB 6F 003F
        gbc.setState(0xb70b, 0xa2d4, 0x720, 0x184a, 0xe90b, 0x5403, 0x1, 0x1);
        gbc.writeMem(0xb70b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa2d4);
        EXPECT(gbc.pc(), 0xb70d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb70b), 0xcb);
        EXPECT(gbc.readMem(0xb70c), 0x6f);
        // CB 6F 0040
        gbc.setState(0x7721, 0x9ff2, 0xb970, 0xef0d, 0x2ef0, 0xcb9c, 0x1, 0x1);
        gbc.writeMem(0x7721, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9ff2);
        EXPECT(gbc.pc(), 0x7723);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0042
        gbc.setState(0x8ddf, 0xa8f, 0xe2a0, 0x5cb1, 0xecdd, 0xd0f0, 0x0, 0x1);
        gbc.writeMem(0x8ddf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa8f);
        EXPECT(gbc.pc(), 0x8de1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ddf), 0xcb);
        EXPECT(gbc.readMem(0x8de0), 0x6f);
        // CB 6F 0043
        gbc.setState(0xc26d, 0x6c91, 0x6430, 0x25c2, 0x9e96, 0x233, 0x1, 0x1);
        gbc.writeMem(0xc26d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x6c91);
        EXPECT(gbc.pc(), 0xc26f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc26d), 0xcb);
        EXPECT(gbc.readMem(0xc26e), 0x6f);
        // CB 6F 0044
        gbc.setState(0x793d, 0x7b66, 0x6e60, 0x783b, 0x3723, 0x313e, 0x0, 0x0);
        gbc.writeMem(0x793d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7b66);
        EXPECT(gbc.pc(), 0x793f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0045
        gbc.setState(0x4c7, 0x9b2d, 0xa320, 0x76e7, 0x75a4, 0xab6e, 0x0, 0x0);
        gbc.writeMem(0x4c7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9b2d);
        EXPECT(gbc.pc(), 0x4c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0046
        gbc.setState(0x5e03, 0xa1cd, 0x33e0, 0xdb89, 0x5400, 0x9559, 0x1, 0x0);
        gbc.writeMem(0x5e03, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa1cd);
        EXPECT(gbc.pc(), 0x5e05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0047
        gbc.setState(0x6bd7, 0xd42a, 0x640, 0xfc03, 0xdbca, 0x8eaf, 0x0, 0x1);
        gbc.writeMem(0x6bd7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xd42a);
        EXPECT(gbc.pc(), 0x6bd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0049
        gbc.setState(0x66c8, 0xcffe, 0xcad0, 0x60a6, 0x287a, 0xdc8a, 0x1, 0x0);
        gbc.writeMem(0x66c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xcffe);
        EXPECT(gbc.pc(), 0x66ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 004A
        gbc.setState(0xe789, 0x3a40, 0xe920, 0xe311, 0xb399, 0x46a7, 0x0, 0x0);
        gbc.writeMem(0xe789, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x3a40);
        EXPECT(gbc.pc(), 0xe78b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe789), 0xcb);
        EXPECT(gbc.readMem(0xe78a), 0x6f);
        // CB 6F 004B
        gbc.setState(0x4ce, 0x4c09, 0xa2d0, 0xf061, 0xc79d, 0x236, 0x1, 0x0);
        gbc.writeMem(0x4ce, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x4c09);
        EXPECT(gbc.pc(), 0x4d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 004C
        gbc.setState(0x70bc, 0x506b, 0x6ac0, 0xa598, 0xa901, 0x7d3e, 0x1, 0x0);
        gbc.writeMem(0x70bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x506b);
        EXPECT(gbc.pc(), 0x70be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 004D
        gbc.setState(0x44f7, 0x4449, 0xdba0, 0x9ba4, 0x6eb1, 0x52, 0x0, 0x1);
        gbc.writeMem(0x44f7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x4449);
        EXPECT(gbc.pc(), 0x44f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 004E
        gbc.setState(0xcc8c, 0x3f4, 0x7d00, 0x5409, 0x5f8c, 0x4e28, 0x1, 0x1);
        gbc.writeMem(0xcc8c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3f4);
        EXPECT(gbc.pc(), 0xcc8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc8c), 0xcb);
        EXPECT(gbc.readMem(0xcc8d), 0x6f);
        // CB 6F 004F
        gbc.setState(0x5e76, 0x53f6, 0xca30, 0x460c, 0x31b1, 0x33d8, 0x0, 0x0);
        gbc.writeMem(0x5e76, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x53f6);
        EXPECT(gbc.pc(), 0x5e78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0050
        gbc.setState(0xa2d8, 0xcec3, 0x9530, 0x8fc4, 0xb53e, 0x895d, 0x0, 0x1);
        gbc.writeMem(0xa2d8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcec3);
        EXPECT(gbc.pc(), 0xa2da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2d8), 0xcb);
        EXPECT(gbc.readMem(0xa2d9), 0x6f);
        // CB 6F 0052
        gbc.setState(0x94b9, 0xe8bc, 0xa650, 0xf0dc, 0xde18, 0x5f4, 0x1, 0x1);
        gbc.writeMem(0x94b9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xe8bc);
        EXPECT(gbc.pc(), 0x94bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94b9), 0xcb);
        EXPECT(gbc.readMem(0x94ba), 0x6f);
        // CB 6F 0053
        gbc.setState(0xc8d1, 0xd70e, 0xe560, 0x6677, 0xa944, 0x5b31, 0x1, 0x1);
        gbc.writeMem(0xc8d1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd70e);
        EXPECT(gbc.pc(), 0xc8d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8d1), 0xcb);
        EXPECT(gbc.readMem(0xc8d2), 0x6f);
        // CB 6F 0054
        gbc.setState(0x6dd1, 0xefa0, 0x8c90, 0x4427, 0x8406, 0x457, 0x0, 0x1);
        gbc.writeMem(0x6dd1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xefa0);
        EXPECT(gbc.pc(), 0x6dd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0055
        gbc.setState(0x42a9, 0x3a51, 0xbc50, 0xfbf5, 0xd22c, 0x6027, 0x0, 0x1);
        gbc.writeMem(0x42a9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3a51);
        EXPECT(gbc.pc(), 0x42ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0057
        gbc.setState(0xc1a8, 0x6418, 0xb730, 0xc5f8, 0x17c2, 0xa826, 0x1, 0x1);
        gbc.writeMem(0xc1a8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x6418);
        EXPECT(gbc.pc(), 0xc1aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1a8), 0xcb);
        EXPECT(gbc.readMem(0xc1a9), 0x6f);
        // CB 6F 0058
        gbc.setState(0x7d0a, 0x81c9, 0xb7d0, 0x4727, 0x9714, 0x3083, 0x1, 0x1);
        gbc.writeMem(0x7d0a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x81c9);
        EXPECT(gbc.pc(), 0x7d0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0059
        gbc.setState(0x96f4, 0xbb5d, 0x3510, 0x8bc9, 0x9e7a, 0x2afd, 0x1, 0x0);
        gbc.writeMem(0x96f4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xbb5d);
        EXPECT(gbc.pc(), 0x96f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96f4), 0xcb);
        EXPECT(gbc.readMem(0x96f5), 0x6f);
        // CB 6F 005A
        gbc.setState(0x819c, 0x4540, 0xa170, 0x7955, 0x4edc, 0x8dbf, 0x1, 0x1);
        gbc.writeMem(0x819c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x4540);
        EXPECT(gbc.pc(), 0x819e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x819c), 0xcb);
        EXPECT(gbc.readMem(0x819d), 0x6f);
        // CB 6F 005B
        gbc.setState(0xe67b, 0x176, 0xcda0, 0x27b9, 0x465d, 0xc2c, 0x1, 0x1);
        gbc.writeMem(0xe67b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x176);
        EXPECT(gbc.pc(), 0xe67d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe67b), 0xcb);
        EXPECT(gbc.readMem(0xe67c), 0x6f);
        // CB 6F 005C
        gbc.setState(0x4eec, 0xed1b, 0x4c90, 0x5d24, 0xbd43, 0xd49c, 0x1, 0x1);
        gbc.writeMem(0x4eec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xed1b);
        EXPECT(gbc.pc(), 0x4eee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 005D
        gbc.setState(0xced, 0x48b8, 0xb0d0, 0x4e63, 0xbb49, 0x9cd8, 0x1, 0x0);
        gbc.writeMem(0xced, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x48b8);
        EXPECT(gbc.pc(), 0xcef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 005E
        gbc.setState(0x73d4, 0x8cee, 0x80b0, 0x8b9b, 0xa464, 0x24ea, 0x1, 0x0);
        gbc.writeMem(0x73d4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8cee);
        EXPECT(gbc.pc(), 0x73d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 005F
        gbc.setState(0xb239, 0x40d5, 0x38f0, 0x3281, 0x45bd, 0x240e, 0x0, 0x0);
        gbc.writeMem(0xb239, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x40d5);
        EXPECT(gbc.pc(), 0xb23b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb239), 0xcb);
        EXPECT(gbc.readMem(0xb23a), 0x6f);
        // CB 6F 0060
        gbc.setState(0x3b36, 0x1396, 0x8720, 0xea20, 0x8fed, 0x680f, 0x1, 0x1);
        gbc.writeMem(0x3b36, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x1396);
        EXPECT(gbc.pc(), 0x3b38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0061
        gbc.setState(0x84b7, 0x169b, 0x7520, 0x35e7, 0xfd67, 0xc438, 0x0, 0x1);
        gbc.writeMem(0x84b7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x169b);
        EXPECT(gbc.pc(), 0x84b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84b7), 0xcb);
        EXPECT(gbc.readMem(0x84b8), 0x6f);
        // CB 6F 0062
        gbc.setState(0x4296, 0x3c02, 0xb490, 0x6d58, 0x4822, 0xf589, 0x1, 0x1);
        gbc.writeMem(0x4296, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3c02);
        EXPECT(gbc.pc(), 0x4298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0063
        gbc.setState(0x677e, 0xe10a, 0x20c0, 0x8839, 0x9f44, 0x30df, 0x0, 0x0);
        gbc.writeMem(0x677e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xe10a);
        EXPECT(gbc.pc(), 0x6780);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0064
        gbc.setState(0xd437, 0x92f0, 0x1f50, 0x6d15, 0x3a4f, 0x4fce, 0x0, 0x1);
        gbc.writeMem(0xd437, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x92f0);
        EXPECT(gbc.pc(), 0xd439);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd437), 0xcb);
        EXPECT(gbc.readMem(0xd438), 0x6f);
        // CB 6F 0065
        gbc.setState(0xae32, 0xe541, 0x8e80, 0x98f2, 0xb70f, 0xd661, 0x0, 0x1);
        gbc.writeMem(0xae32, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe541);
        EXPECT(gbc.pc(), 0xae34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae32), 0xcb);
        EXPECT(gbc.readMem(0xae33), 0x6f);
        // CB 6F 0066
        gbc.setState(0xc917, 0x4069, 0x5a00, 0x1256, 0x64b7, 0x65e1, 0x0, 0x0);
        gbc.writeMem(0xc917, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x4069);
        EXPECT(gbc.pc(), 0xc919);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc917), 0xcb);
        EXPECT(gbc.readMem(0xc918), 0x6f);
        // CB 6F 0067
        gbc.setState(0x3a00, 0xa4b4, 0x7450, 0xf6a, 0xf574, 0xb26b, 0x0, 0x0);
        gbc.writeMem(0x3a00, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa4b4);
        EXPECT(gbc.pc(), 0x3a02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0068
        gbc.setState(0x160b, 0x8e02, 0x2b10, 0xfed8, 0x2d31, 0xf1db, 0x0, 0x1);
        gbc.writeMem(0x160b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x8e02);
        EXPECT(gbc.pc(), 0x160d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0069
        gbc.setState(0x6c0c, 0xdc55, 0x2fa0, 0x3064, 0xa690, 0xd9e, 0x1, 0x0);
        gbc.writeMem(0x6c0c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xdc55);
        EXPECT(gbc.pc(), 0x6c0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 006A
        gbc.setState(0x4c5f, 0x3119, 0x8330, 0x163, 0x8f3c, 0xe02e, 0x0, 0x1);
        gbc.writeMem(0x4c5f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3119);
        EXPECT(gbc.pc(), 0x4c61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 006B
        gbc.setState(0x45de, 0xeb17, 0x6690, 0x9299, 0x2e6c, 0x7aec, 0x1, 0x1);
        gbc.writeMem(0x45de, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xeb17);
        EXPECT(gbc.pc(), 0x45e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 006C
        gbc.setState(0x54a5, 0xadaf, 0x5dd0, 0x76ee, 0xbc37, 0xd945, 0x1, 0x0);
        gbc.writeMem(0x54a5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xadaf);
        EXPECT(gbc.pc(), 0x54a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 006D
        gbc.setState(0x30e7, 0x769e, 0xf920, 0x3844, 0xa1e5, 0xb715, 0x0, 0x0);
        gbc.writeMem(0x30e7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x769e);
        EXPECT(gbc.pc(), 0x30e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 006E
        gbc.setState(0x3f7f, 0x1fa1, 0x8730, 0x3de1, 0xc392, 0xb63b, 0x1, 0x1);
        gbc.writeMem(0x3f7f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1fa1);
        EXPECT(gbc.pc(), 0x3f81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 006F
        gbc.setState(0x347c, 0x1e6f, 0x910, 0xd070, 0x36c2, 0xebc9, 0x0, 0x0);
        gbc.writeMem(0x347c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x1e6f);
        EXPECT(gbc.pc(), 0x347e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0070
        gbc.setState(0x2990, 0xa82e, 0xfaf0, 0x4420, 0xb442, 0x7732, 0x1, 0x0);
        gbc.writeMem(0x2990, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xa82e);
        EXPECT(gbc.pc(), 0x2992);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0071
        gbc.setState(0x4ba2, 0x1522, 0x1f60, 0x164e, 0x4623, 0x50d8, 0x1, 0x1);
        gbc.writeMem(0x4ba2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x1522);
        EXPECT(gbc.pc(), 0x4ba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0072
        gbc.setState(0x5139, 0xa8af, 0x4f10, 0x7d6c, 0x382c, 0x9fef, 0x0, 0x1);
        gbc.writeMem(0x5139, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa8af);
        EXPECT(gbc.pc(), 0x513b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0073
        gbc.setState(0x384d, 0x6f0f, 0xa100, 0xca11, 0x8a3e, 0x5a2, 0x1, 0x1);
        gbc.writeMem(0x384d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x6f0f);
        EXPECT(gbc.pc(), 0x384f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0074
        gbc.setState(0x1c8d, 0x12af, 0x1480, 0x24e5, 0xb621, 0x48e1, 0x1, 0x0);
        gbc.writeMem(0x1c8d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x12af);
        EXPECT(gbc.pc(), 0x1c8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0075
        gbc.setState(0xd7f7, 0x658a, 0x4c20, 0x3ef8, 0x47cd, 0x5cf8, 0x0, 0x0);
        gbc.writeMem(0xd7f7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x658a);
        EXPECT(gbc.pc(), 0xd7f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7f7), 0xcb);
        EXPECT(gbc.readMem(0xd7f8), 0x6f);
        // CB 6F 0076
        gbc.setState(0x6ad6, 0x2fa2, 0xd530, 0x7030, 0xfe5, 0xa6b4, 0x1, 0x0);
        gbc.writeMem(0x6ad6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x2fa2);
        EXPECT(gbc.pc(), 0x6ad8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0077
        gbc.setState(0x9e6d, 0xd725, 0x7c80, 0x5f05, 0xa539, 0x9bfe, 0x0, 0x1);
        gbc.writeMem(0x9e6d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd725);
        EXPECT(gbc.pc(), 0x9e6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e6d), 0xcb);
        EXPECT(gbc.readMem(0x9e6e), 0x6f);
        // CB 6F 0078
        gbc.setState(0x444a, 0x4b2d, 0xdf20, 0x68d2, 0x5537, 0x6808, 0x0, 0x1);
        gbc.writeMem(0x444a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4b2d);
        EXPECT(gbc.pc(), 0x444c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 007A
        gbc.setState(0x8233, 0x6ddd, 0x3c0, 0xa336, 0x62ee, 0xecd, 0x1, 0x0);
        gbc.writeMem(0x8233, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x6ddd);
        EXPECT(gbc.pc(), 0x8235);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8233), 0xcb);
        EXPECT(gbc.readMem(0x8234), 0x6f);
        // CB 6F 007B
        gbc.setState(0x3f5, 0x1e79, 0x9d60, 0x11e4, 0x1172, 0xefc3, 0x0, 0x1);
        gbc.writeMem(0x3f5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1e79);
        EXPECT(gbc.pc(), 0x3f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 007C
        gbc.setState(0x8cb2, 0xf19, 0xa360, 0x5f8a, 0x9f7f, 0x8f4a, 0x1, 0x1);
        gbc.writeMem(0x8cb2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xf19);
        EXPECT(gbc.pc(), 0x8cb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cb2), 0xcb);
        EXPECT(gbc.readMem(0x8cb3), 0x6f);
        // CB 6F 007D
        gbc.setState(0x6591, 0xc98d, 0x1f10, 0xf3e1, 0xe732, 0x577c, 0x1, 0x0);
        gbc.writeMem(0x6591, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xc98d);
        EXPECT(gbc.pc(), 0x6593);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 007E
        gbc.setState(0xa49c, 0xf08c, 0x2710, 0x389d, 0xd248, 0x3219, 0x0, 0x1);
        gbc.writeMem(0xa49c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xf08c);
        EXPECT(gbc.pc(), 0xa49e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa49c), 0xcb);
        EXPECT(gbc.readMem(0xa49d), 0x6f);
        // CB 6F 007F
        gbc.setState(0x4960, 0xc6e5, 0x8a40, 0x4a7, 0x8c31, 0xa9c, 0x0, 0x1);
        gbc.writeMem(0x4960, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc6e5);
        EXPECT(gbc.pc(), 0x4962);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0080
        gbc.setState(0x30ed, 0xed1, 0x3c60, 0xcd42, 0xe7a4, 0x4106, 0x1, 0x0);
        gbc.writeMem(0x30ed, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xed1);
        EXPECT(gbc.pc(), 0x30ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0083
        gbc.setState(0xeb3, 0xc031, 0xbdb0, 0x2913, 0x3218, 0xd848, 0x1, 0x0);
        gbc.writeMem(0xeb3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xc031);
        EXPECT(gbc.pc(), 0xeb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0084
        gbc.setState(0x876e, 0x2f4d, 0x3510, 0x5a8c, 0xb418, 0xe23, 0x1, 0x1);
        gbc.writeMem(0x876e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x2f4d);
        EXPECT(gbc.pc(), 0x8770);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x876e), 0xcb);
        EXPECT(gbc.readMem(0x876f), 0x6f);
        // CB 6F 0085
        gbc.setState(0xaad5, 0x9d92, 0xf6f0, 0x5291, 0x9c61, 0xe770, 0x1, 0x0);
        gbc.writeMem(0xaad5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x9d92);
        EXPECT(gbc.pc(), 0xaad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaad5), 0xcb);
        EXPECT(gbc.readMem(0xaad6), 0x6f);
        // CB 6F 0086
        gbc.setState(0x4ca5, 0x853, 0xaef0, 0xe870, 0xd37d, 0x4d7c, 0x0, 0x1);
        gbc.writeMem(0x4ca5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x853);
        EXPECT(gbc.pc(), 0x4ca7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0087
        gbc.setState(0x5f67, 0xb2c5, 0x43f0, 0x5642, 0xaf07, 0xc9a, 0x0, 0x0);
        gbc.writeMem(0x5f67, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb2c5);
        EXPECT(gbc.pc(), 0x5f69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0088
        gbc.setState(0x58e4, 0xb12f, 0x4a10, 0x4e5a, 0x3c80, 0xa717, 0x1, 0x0);
        gbc.writeMem(0x58e4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb12f);
        EXPECT(gbc.pc(), 0x58e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0089
        gbc.setState(0xced4, 0x1e13, 0x8df0, 0xd06a, 0x26fe, 0xd8aa, 0x1, 0x0);
        gbc.writeMem(0xced4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1e13);
        EXPECT(gbc.pc(), 0xced6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xced4), 0xcb);
        EXPECT(gbc.readMem(0xced5), 0x6f);
        // CB 6F 008A
        gbc.setState(0xc89a, 0xdcff, 0xea0, 0xbd97, 0xb69d, 0xeea5, 0x0, 0x0);
        gbc.writeMem(0xc89a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xdcff);
        EXPECT(gbc.pc(), 0xc89c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc89a), 0xcb);
        EXPECT(gbc.readMem(0xc89b), 0x6f);
        // CB 6F 008B
        gbc.setState(0x3d66, 0xb10f, 0xf610, 0x7cd0, 0xb8c6, 0xd2d7, 0x0, 0x1);
        gbc.writeMem(0x3d66, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb10f);
        EXPECT(gbc.pc(), 0x3d68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 008C
        gbc.setState(0xe82c, 0xd13b, 0xd20, 0xd754, 0xe614, 0x8e6e, 0x0, 0x1);
        gbc.writeMem(0xe82c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xd13b);
        EXPECT(gbc.pc(), 0xe82e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe82c), 0xcb);
        EXPECT(gbc.readMem(0xe82d), 0x6f);
        // CB 6F 008D
        gbc.setState(0x119a, 0x60df, 0xae10, 0x4acc, 0x7c44, 0x385d, 0x1, 0x1);
        gbc.writeMem(0x119a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x60df);
        EXPECT(gbc.pc(), 0x119c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 008E
        gbc.setState(0x1c7d, 0x1bcc, 0x4d20, 0xf6e2, 0xf751, 0x5d5a, 0x0, 0x0);
        gbc.writeMem(0x1c7d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1bcc);
        EXPECT(gbc.pc(), 0x1c7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 008F
        gbc.setState(0x63ce, 0xf736, 0x6aa0, 0xfb1a, 0x3cc0, 0xeeb7, 0x1, 0x0);
        gbc.writeMem(0x63ce, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xf736);
        EXPECT(gbc.pc(), 0x63d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0090
        gbc.setState(0xb40c, 0xc7a6, 0xf100, 0x8bf0, 0xfd05, 0x3b1, 0x0, 0x1);
        gbc.writeMem(0xb40c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc7a6);
        EXPECT(gbc.pc(), 0xb40e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb40c), 0xcb);
        EXPECT(gbc.readMem(0xb40d), 0x6f);
        // CB 6F 0091
        gbc.setState(0xefdb, 0xe921, 0x8fe0, 0x4693, 0x6808, 0x580d, 0x0, 0x1);
        gbc.writeMem(0xefdb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe921);
        EXPECT(gbc.pc(), 0xefdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefdb), 0xcb);
        EXPECT(gbc.readMem(0xefdc), 0x6f);
        // CB 6F 0092
        gbc.setState(0x6ff9, 0x4d70, 0x2b60, 0x6d14, 0xafbd, 0xd6d1, 0x1, 0x1);
        gbc.writeMem(0x6ff9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x4d70);
        EXPECT(gbc.pc(), 0x6ffb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0093
        gbc.setState(0xb3f8, 0xe8ec, 0x3820, 0xf300, 0xf378, 0x75ac, 0x0, 0x1);
        gbc.writeMem(0xb3f8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xe8ec);
        EXPECT(gbc.pc(), 0xb3fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3f8), 0xcb);
        EXPECT(gbc.readMem(0xb3f9), 0x6f);
        // CB 6F 0094
        gbc.setState(0xdd25, 0xe76c, 0x4e60, 0x5f51, 0x9cd6, 0xafc6, 0x1, 0x1);
        gbc.writeMem(0xdd25, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xe76c);
        EXPECT(gbc.pc(), 0xdd27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd25), 0xcb);
        EXPECT(gbc.readMem(0xdd26), 0x6f);
        // CB 6F 0095
        gbc.setState(0x8c3f, 0xad6d, 0xaf10, 0x12ad, 0x83fd, 0x261a, 0x1, 0x1);
        gbc.writeMem(0x8c3f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xad6d);
        EXPECT(gbc.pc(), 0x8c41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c3f), 0xcb);
        EXPECT(gbc.readMem(0x8c40), 0x6f);
        // CB 6F 0096
        gbc.setState(0x7798, 0x4ebd, 0xfae0, 0x5b95, 0x7ddf, 0xbd4f, 0x1, 0x1);
        gbc.writeMem(0x7798, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x4ebd);
        EXPECT(gbc.pc(), 0x779a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0097
        gbc.setState(0xb296, 0xd5f4, 0x89b0, 0x2887, 0x8aa, 0x7d76, 0x0, 0x0);
        gbc.writeMem(0xb296, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd5f4);
        EXPECT(gbc.pc(), 0xb298);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb296), 0xcb);
        EXPECT(gbc.readMem(0xb297), 0x6f);
        // CB 6F 0098
        gbc.setState(0x982b, 0x7735, 0xbc0, 0xd037, 0xcff6, 0x46b5, 0x1, 0x1);
        gbc.writeMem(0x982b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7735);
        EXPECT(gbc.pc(), 0x982d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x982b), 0xcb);
        EXPECT(gbc.readMem(0x982c), 0x6f);
        // CB 6F 0099
        gbc.setState(0x79d2, 0xfd4b, 0x49f0, 0x1042, 0x3101, 0x3d94, 0x0, 0x1);
        gbc.writeMem(0x79d2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xfd4b);
        EXPECT(gbc.pc(), 0x79d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 009A
        gbc.setState(0xee8d, 0x3420, 0xb3d0, 0xf366, 0x7b91, 0xb860, 0x0, 0x1);
        gbc.writeMem(0xee8d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x3420);
        EXPECT(gbc.pc(), 0xee8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee8d), 0xcb);
        EXPECT(gbc.readMem(0xee8e), 0x6f);
        // CB 6F 009B
        gbc.setState(0xaa2d, 0xea27, 0x1210, 0x6eaa, 0xfed4, 0xd1f1, 0x0, 0x1);
        gbc.writeMem(0xaa2d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xea27);
        EXPECT(gbc.pc(), 0xaa2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa2d), 0xcb);
        EXPECT(gbc.readMem(0xaa2e), 0x6f);
        // CB 6F 009C
        gbc.setState(0x4e87, 0x2a15, 0xe3c0, 0x30b0, 0x6692, 0x5a7, 0x0, 0x0);
        gbc.writeMem(0x4e87, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2a15);
        EXPECT(gbc.pc(), 0x4e89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 009D
        gbc.setState(0xc5f5, 0x7092, 0x5e30, 0x6854, 0xb406, 0x98be, 0x0, 0x0);
        gbc.writeMem(0xc5f5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7092);
        EXPECT(gbc.pc(), 0xc5f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5f5), 0xcb);
        EXPECT(gbc.readMem(0xc5f6), 0x6f);
        // CB 6F 009E
        gbc.setState(0x7b75, 0x2d71, 0x2850, 0x9ada, 0x978d, 0xe7db, 0x0, 0x0);
        gbc.writeMem(0x7b75, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x2d71);
        EXPECT(gbc.pc(), 0x7b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 009F
        gbc.setState(0x4596, 0xac71, 0xa510, 0x1feb, 0x3eb0, 0xed6d, 0x0, 0x0);
        gbc.writeMem(0x4596, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xac71);
        EXPECT(gbc.pc(), 0x4598);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00A0
        gbc.setState(0x2034, 0x73a1, 0xa350, 0x3376, 0x1d90, 0x4a4b, 0x0, 0x0);
        gbc.writeMem(0x2034, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x73a1);
        EXPECT(gbc.pc(), 0x2036);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00A1
        gbc.setState(0xbecd, 0xf2b6, 0x7140, 0x11cc, 0xc7b8, 0x3756, 0x1, 0x0);
        gbc.writeMem(0xbecd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf2b6);
        EXPECT(gbc.pc(), 0xbecf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbecd), 0xcb);
        EXPECT(gbc.readMem(0xbece), 0x6f);
        // CB 6F 00A2
        gbc.setState(0xe8e6, 0x44a5, 0x3fd0, 0x7ea5, 0x43d8, 0xc9da, 0x1, 0x0);
        gbc.writeMem(0xe8e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x44a5);
        EXPECT(gbc.pc(), 0xe8e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8e6), 0xcb);
        EXPECT(gbc.readMem(0xe8e7), 0x6f);
        // CB 6F 00A3
        gbc.setState(0x4d85, 0x410e, 0x2990, 0xd691, 0x6542, 0xf705, 0x0, 0x0);
        gbc.writeMem(0x4d85, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x410e);
        EXPECT(gbc.pc(), 0x4d87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00A4
        gbc.setState(0x7a7c, 0xa343, 0x2190, 0xeef1, 0x4f9c, 0x4ae2, 0x1, 0x1);
        gbc.writeMem(0x7a7c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xa343);
        EXPECT(gbc.pc(), 0x7a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00A5
        gbc.setState(0xca5, 0x8a41, 0xe9b0, 0x4d75, 0x3f3f, 0x2804, 0x0, 0x1);
        gbc.writeMem(0xca5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8a41);
        EXPECT(gbc.pc(), 0xca7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00A6
        gbc.setState(0x5ba8, 0xe7d7, 0x9340, 0x70c, 0x6cdb, 0x2ccb, 0x0, 0x0);
        gbc.writeMem(0x5ba8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe7d7);
        EXPECT(gbc.pc(), 0x5baa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00A7
        gbc.setState(0xa8d8, 0x65f8, 0x9250, 0x2437, 0x3c52, 0x8ba3, 0x1, 0x1);
        gbc.writeMem(0xa8d8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x65f8);
        EXPECT(gbc.pc(), 0xa8da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8d8), 0xcb);
        EXPECT(gbc.readMem(0xa8d9), 0x6f);
        // CB 6F 00A8
        gbc.setState(0xeda8, 0xdd9b, 0xb530, 0xb7d4, 0xa6e0, 0x9364, 0x1, 0x0);
        gbc.writeMem(0xeda8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xdd9b);
        EXPECT(gbc.pc(), 0xedaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeda8), 0xcb);
        EXPECT(gbc.readMem(0xeda9), 0x6f);
        // CB 6F 00A9
        gbc.setState(0x2189, 0x2671, 0xff0, 0x3328, 0x90e8, 0xa8c3, 0x1, 0x1);
        gbc.writeMem(0x2189, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x2671);
        EXPECT(gbc.pc(), 0x218b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00AA
        gbc.setState(0x44b0, 0xbfde, 0xfb10, 0xcf2e, 0xc3ae, 0x3910, 0x1, 0x1);
        gbc.writeMem(0x44b0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xbfde);
        EXPECT(gbc.pc(), 0x44b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00AB
        gbc.setState(0x1074, 0xf6d, 0xc470, 0xcccd, 0x7459, 0x1081, 0x0, 0x0);
        gbc.writeMem(0x1074, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf6d);
        EXPECT(gbc.pc(), 0x1076);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00AC
        gbc.setState(0xd30c, 0x7841, 0x9790, 0xf696, 0x3678, 0xa834, 0x1, 0x1);
        gbc.writeMem(0xd30c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7841);
        EXPECT(gbc.pc(), 0xd30e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd30c), 0xcb);
        EXPECT(gbc.readMem(0xd30d), 0x6f);
        // CB 6F 00AD
        gbc.setState(0xeef0, 0xc7c, 0x3ef0, 0x29f3, 0x919f, 0xf7f0, 0x1, 0x0);
        gbc.writeMem(0xeef0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xc7c);
        EXPECT(gbc.pc(), 0xeef2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeef0), 0xcb);
        EXPECT(gbc.readMem(0xeef1), 0x6f);
        // CB 6F 00AE
        gbc.setState(0x53b6, 0x5ff9, 0x2760, 0x5e1e, 0x4c44, 0x14e8, 0x0, 0x0);
        gbc.writeMem(0x53b6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x5ff9);
        EXPECT(gbc.pc(), 0x53b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00AF
        gbc.setState(0x651c, 0x4f54, 0x63c0, 0x5d4c, 0x1e91, 0x9130, 0x0, 0x1);
        gbc.writeMem(0x651c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4f54);
        EXPECT(gbc.pc(), 0x651e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00B0
        gbc.setState(0x206b, 0x812a, 0x66c0, 0xd256, 0x9d6c, 0xecbd, 0x0, 0x0);
        gbc.writeMem(0x206b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x812a);
        EXPECT(gbc.pc(), 0x206d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00B1
        gbc.setState(0xb4d0, 0xae19, 0xdc10, 0x39f4, 0x5b5d, 0x75a7, 0x1, 0x1);
        gbc.writeMem(0xb4d0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xae19);
        EXPECT(gbc.pc(), 0xb4d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4d0), 0xcb);
        EXPECT(gbc.readMem(0xb4d1), 0x6f);
        // CB 6F 00B2
        gbc.setState(0xb068, 0x6e7d, 0x7770, 0x1de, 0xe6d0, 0x39de, 0x1, 0x1);
        gbc.writeMem(0xb068, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6e7d);
        EXPECT(gbc.pc(), 0xb06a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb068), 0xcb);
        EXPECT(gbc.readMem(0xb069), 0x6f);
        // CB 6F 00B3
        gbc.setState(0x7b1e, 0xc357, 0x1ba0, 0x6c12, 0x8f75, 0x7596, 0x0, 0x1);
        gbc.writeMem(0x7b1e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc357);
        EXPECT(gbc.pc(), 0x7b20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00B4
        gbc.setState(0xdb3, 0x1aef, 0x5bb0, 0x7e7c, 0x5f24, 0xda06, 0x0, 0x0);
        gbc.writeMem(0xdb3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1aef);
        EXPECT(gbc.pc(), 0xdb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00B5
        gbc.setState(0xdcf4, 0x72ba, 0xdfe0, 0x66d1, 0xe068, 0xde81, 0x1, 0x1);
        gbc.writeMem(0xdcf4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x72ba);
        EXPECT(gbc.pc(), 0xdcf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcf4), 0xcb);
        EXPECT(gbc.readMem(0xdcf5), 0x6f);
        // CB 6F 00B7
        gbc.setState(0xd968, 0xc01b, 0x97a0, 0x49b4, 0x4ec2, 0x6d3b, 0x1, 0x0);
        gbc.writeMem(0xd968, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc01b);
        EXPECT(gbc.pc(), 0xd96a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd968), 0xcb);
        EXPECT(gbc.readMem(0xd969), 0x6f);
        // CB 6F 00B8
        gbc.setState(0x7078, 0xb36f, 0x1040, 0xc900, 0xd2b6, 0xac9b, 0x1, 0x0);
        gbc.writeMem(0x7078, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb36f);
        EXPECT(gbc.pc(), 0x707a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00B9
        gbc.setState(0x7a84, 0x4cc0, 0x7b20, 0xb8df, 0x9d38, 0x79cf, 0x0, 0x1);
        gbc.writeMem(0x7a84, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4cc0);
        EXPECT(gbc.pc(), 0x7a86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00BA
        gbc.setState(0xb3de, 0x2f7d, 0x5ef0, 0x6b21, 0xe9, 0x1516, 0x1, 0x0);
        gbc.writeMem(0xb3de, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x2f7d);
        EXPECT(gbc.pc(), 0xb3e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3de), 0xcb);
        EXPECT(gbc.readMem(0xb3df), 0x6f);
        // CB 6F 00BB
        gbc.setState(0xce50, 0x6963, 0x55b0, 0xc2e4, 0x2a59, 0x700d, 0x0, 0x0);
        gbc.writeMem(0xce50, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6963);
        EXPECT(gbc.pc(), 0xce52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce50), 0xcb);
        EXPECT(gbc.readMem(0xce51), 0x6f);
        // CB 6F 00BC
        gbc.setState(0x719f, 0xcb15, 0xa100, 0x70ed, 0x982, 0xeab4, 0x1, 0x0);
        gbc.writeMem(0x719f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xcb15);
        EXPECT(gbc.pc(), 0x71a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00BD
        gbc.setState(0xa81e, 0x34c0, 0x8de0, 0xedbf, 0xc37f, 0x5246, 0x1, 0x1);
        gbc.writeMem(0xa81e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x34c0);
        EXPECT(gbc.pc(), 0xa820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa81e), 0xcb);
        EXPECT(gbc.readMem(0xa81f), 0x6f);
        // CB 6F 00BE
        gbc.setState(0x6b27, 0xdf23, 0xd7d0, 0x8c64, 0x2544, 0x8918, 0x1, 0x1);
        gbc.writeMem(0x6b27, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xdf23);
        EXPECT(gbc.pc(), 0x6b29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00BF
        gbc.setState(0xc507, 0xf9ce, 0x66a0, 0xcfb3, 0x7af8, 0x3ae8, 0x1, 0x0);
        gbc.writeMem(0xc507, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xf9ce);
        EXPECT(gbc.pc(), 0xc509);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc507), 0xcb);
        EXPECT(gbc.readMem(0xc508), 0x6f);
        // CB 6F 00C0
        gbc.setState(0xdba3, 0x6ab1, 0xdef0, 0xe287, 0x5b7, 0xb62, 0x0, 0x0);
        gbc.writeMem(0xdba3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x6ab1);
        EXPECT(gbc.pc(), 0xdba5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdba3), 0xcb);
        EXPECT(gbc.readMem(0xdba4), 0x6f);
        // CB 6F 00C1
        gbc.setState(0xb2c8, 0x233d, 0xdaa0, 0xaf01, 0x766e, 0x45e5, 0x0, 0x1);
        gbc.writeMem(0xb2c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x233d);
        EXPECT(gbc.pc(), 0xb2ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2c8), 0xcb);
        EXPECT(gbc.readMem(0xb2c9), 0x6f);
        // CB 6F 00C2
        gbc.setState(0x569d, 0xd003, 0x9520, 0x39f6, 0xdd4c, 0x998d, 0x1, 0x1);
        gbc.writeMem(0x569d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xd003);
        EXPECT(gbc.pc(), 0x569f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00C3
        gbc.setState(0xb3b, 0x74c8, 0xf760, 0xfde3, 0x7208, 0x11e3, 0x0, 0x0);
        gbc.writeMem(0xb3b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x74c8);
        EXPECT(gbc.pc(), 0xb3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00C4
        gbc.setState(0x9afd, 0xad95, 0xc4c0, 0xa1ae, 0x9afa, 0x5b19, 0x0, 0x0);
        gbc.writeMem(0x9afd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xad95);
        EXPECT(gbc.pc(), 0x9aff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9afd), 0xcb);
        EXPECT(gbc.readMem(0x9afe), 0x6f);
        // CB 6F 00C5
        gbc.setState(0xdabf, 0x980e, 0x25a0, 0x788c, 0x35db, 0x4ce5, 0x0, 0x0);
        gbc.writeMem(0xdabf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x980e);
        EXPECT(gbc.pc(), 0xdac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdabf), 0xcb);
        EXPECT(gbc.readMem(0xdac0), 0x6f);
        // CB 6F 00C6
        gbc.setState(0x5b7f, 0x6f0a, 0x6d40, 0xd796, 0x87c7, 0xf323, 0x0, 0x0);
        gbc.writeMem(0x5b7f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x6f0a);
        EXPECT(gbc.pc(), 0x5b81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00C7
        gbc.setState(0xa99a, 0x27d6, 0x55a0, 0x715c, 0x5a4b, 0x3327, 0x1, 0x0);
        gbc.writeMem(0xa99a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x27d6);
        EXPECT(gbc.pc(), 0xa99c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa99a), 0xcb);
        EXPECT(gbc.readMem(0xa99b), 0x6f);
        // CB 6F 00C8
        gbc.setState(0x5c5f, 0x7083, 0x79f0, 0xa607, 0x4983, 0xed33, 0x0, 0x0);
        gbc.writeMem(0x5c5f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7083);
        EXPECT(gbc.pc(), 0x5c61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00C9
        gbc.setState(0x8036, 0x7203, 0xe6f0, 0xe486, 0xd7a1, 0xc6d5, 0x0, 0x1);
        gbc.writeMem(0x8036, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x7203);
        EXPECT(gbc.pc(), 0x8038);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8036), 0xcb);
        EXPECT(gbc.readMem(0x8037), 0x6f);
        // CB 6F 00CA
        gbc.setState(0xdd00, 0x2336, 0x9510, 0xebb2, 0x6eb9, 0x7ec8, 0x0, 0x1);
        gbc.writeMem(0xdd00, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2336);
        EXPECT(gbc.pc(), 0xdd02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd00), 0xcb);
        EXPECT(gbc.readMem(0xdd01), 0x6f);
        // CB 6F 00CB
        gbc.setState(0xea3c, 0xc40b, 0x770, 0xaee1, 0x96a3, 0x5d59, 0x0, 0x1);
        gbc.writeMem(0xea3c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc40b);
        EXPECT(gbc.pc(), 0xea3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea3c), 0xcb);
        EXPECT(gbc.readMem(0xea3d), 0x6f);
        // CB 6F 00CC
        gbc.setState(0x24e7, 0x3231, 0x2f00, 0xe3cb, 0xa2af, 0xd574, 0x1, 0x0);
        gbc.writeMem(0x24e7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3231);
        EXPECT(gbc.pc(), 0x24e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00CD
        gbc.setState(0x7398, 0x21fa, 0x19e0, 0x2ffe, 0x3f25, 0x7cb2, 0x1, 0x1);
        gbc.writeMem(0x7398, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x21fa);
        EXPECT(gbc.pc(), 0x739a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00CE
        gbc.setState(0x4185, 0xc095, 0x9a00, 0x7c59, 0xfd58, 0x3c1a, 0x0, 0x0);
        gbc.writeMem(0x4185, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xc095);
        EXPECT(gbc.pc(), 0x4187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00CF
        gbc.setState(0x3815, 0xe6b5, 0x4060, 0xa261, 0xf2f4, 0xeaae, 0x1, 0x1);
        gbc.writeMem(0x3815, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe6b5);
        EXPECT(gbc.pc(), 0x3817);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00D0
        gbc.setState(0xde0f, 0xd079, 0xa130, 0xf159, 0x63d8, 0x67b1, 0x0, 0x1);
        gbc.writeMem(0xde0f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xd079);
        EXPECT(gbc.pc(), 0xde11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde0f), 0xcb);
        EXPECT(gbc.readMem(0xde10), 0x6f);
        // CB 6F 00D1
        gbc.setState(0x9211, 0x4355, 0xd8d0, 0xecb0, 0xf6e0, 0x83b5, 0x0, 0x1);
        gbc.writeMem(0x9211, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4355);
        EXPECT(gbc.pc(), 0x9213);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9211), 0xcb);
        EXPECT(gbc.readMem(0x9212), 0x6f);
        // CB 6F 00D2
        gbc.setState(0x5184, 0xae0e, 0x7e20, 0x8e91, 0xc82a, 0x34dc, 0x1, 0x1);
        gbc.writeMem(0x5184, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xae0e);
        EXPECT(gbc.pc(), 0x5186);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00D4
        gbc.setState(0x5a0f, 0x52c7, 0x9c40, 0xf9b5, 0xe70e, 0x452b, 0x1, 0x1);
        gbc.writeMem(0x5a0f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x52c7);
        EXPECT(gbc.pc(), 0x5a11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00D5
        gbc.setState(0x6bb9, 0x343, 0x4af0, 0x5516, 0x85c0, 0xfdf4, 0x0, 0x0);
        gbc.writeMem(0x6bb9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x343);
        EXPECT(gbc.pc(), 0x6bbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00D6
        gbc.setState(0xde5e, 0x2305, 0x3810, 0xed7d, 0x8d51, 0xaf43, 0x1, 0x1);
        gbc.writeMem(0xde5e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x2305);
        EXPECT(gbc.pc(), 0xde60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde5e), 0xcb);
        EXPECT(gbc.readMem(0xde5f), 0x6f);
        // CB 6F 00D7
        gbc.setState(0x1cda, 0x93b4, 0x2a00, 0x2b6b, 0xe81e, 0x864, 0x1, 0x1);
        gbc.writeMem(0x1cda, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x93b4);
        EXPECT(gbc.pc(), 0x1cdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00D8
        gbc.setState(0x8cf, 0xbbbd, 0x3600, 0xf6d3, 0x676c, 0xb99c, 0x1, 0x0);
        gbc.writeMem(0x8cf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xbbbd);
        EXPECT(gbc.pc(), 0x8d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00D9
        gbc.setState(0xbc96, 0x568a, 0x590, 0x605b, 0xbd06, 0xe186, 0x0, 0x1);
        gbc.writeMem(0xbc96, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x568a);
        EXPECT(gbc.pc(), 0xbc98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc96), 0xcb);
        EXPECT(gbc.readMem(0xbc97), 0x6f);
        // CB 6F 00DB
        gbc.setState(0xe2bc, 0x857, 0x3330, 0x3c1f, 0xb578, 0x5b14, 0x1, 0x1);
        gbc.writeMem(0xe2bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x857);
        EXPECT(gbc.pc(), 0xe2be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2bc), 0xcb);
        EXPECT(gbc.readMem(0xe2bd), 0x6f);
        // CB 6F 00DD
        gbc.setState(0xe536, 0x36f0, 0x2ac0, 0x2e4d, 0xa625, 0x6801, 0x0, 0x0);
        gbc.writeMem(0xe536, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x36f0);
        EXPECT(gbc.pc(), 0xe538);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe536), 0xcb);
        EXPECT(gbc.readMem(0xe537), 0x6f);
        // CB 6F 00DE
        gbc.setState(0x15ee, 0x5f8, 0x9260, 0xc0aa, 0x3587, 0xba73, 0x1, 0x0);
        gbc.writeMem(0x15ee, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5f8);
        EXPECT(gbc.pc(), 0x15f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00DF
        gbc.setState(0x7d8b, 0x8afc, 0xaaf0, 0xe9aa, 0x64d1, 0xab10, 0x1, 0x0);
        gbc.writeMem(0x7d8b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x8afc);
        EXPECT(gbc.pc(), 0x7d8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00E0
        gbc.setState(0xbbb5, 0x302a, 0x4300, 0xd21d, 0xfa4f, 0xae5e, 0x1, 0x0);
        gbc.writeMem(0xbbb5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x302a);
        EXPECT(gbc.pc(), 0xbbb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbb5), 0xcb);
        EXPECT(gbc.readMem(0xbbb6), 0x6f);
        // CB 6F 00E1
        gbc.setState(0x4794, 0x30ec, 0x9590, 0xb1b6, 0xf28c, 0x5af4, 0x0, 0x0);
        gbc.writeMem(0x4794, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x30ec);
        EXPECT(gbc.pc(), 0x4796);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00E2
        gbc.setState(0xcbfb, 0x1642, 0xbb0, 0xbda4, 0x3118, 0x75b0, 0x1, 0x1);
        gbc.writeMem(0xcbfb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x1642);
        EXPECT(gbc.pc(), 0xcbfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbfb), 0xcb);
        EXPECT(gbc.readMem(0xcbfc), 0x6f);
        // CB 6F 00E3
        gbc.setState(0x6e7a, 0xa86f, 0xfaa0, 0x2423, 0x5512, 0x88f2, 0x1, 0x0);
        gbc.writeMem(0x6e7a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa86f);
        EXPECT(gbc.pc(), 0x6e7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00E5
        gbc.setState(0x54c8, 0x835f, 0xe0, 0xe29f, 0x10f3, 0xbe3b, 0x1, 0x0);
        gbc.writeMem(0x54c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x835f);
        EXPECT(gbc.pc(), 0x54ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00E6
        gbc.setState(0x5121, 0x12e7, 0xfc60, 0x1f55, 0xd5f8, 0x322f, 0x0, 0x1);
        gbc.writeMem(0x5121, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x12e7);
        EXPECT(gbc.pc(), 0x5123);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00E7
        gbc.setState(0x7c7c, 0xbbf3, 0x8210, 0x859a, 0xc0e6, 0xe540, 0x0, 0x1);
        gbc.writeMem(0x7c7c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xbbf3);
        EXPECT(gbc.pc(), 0x7c7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00E8
        gbc.setState(0x3271, 0x295b, 0xf320, 0x98aa, 0x45b6, 0xf934, 0x0, 0x1);
        gbc.writeMem(0x3271, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x295b);
        EXPECT(gbc.pc(), 0x3273);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00E9
        gbc.setState(0x8ed2, 0xcc8d, 0x34d0, 0x60c7, 0xc0ed, 0xe384, 0x1, 0x1);
        gbc.writeMem(0x8ed2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xcc8d);
        EXPECT(gbc.pc(), 0x8ed4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ed2), 0xcb);
        EXPECT(gbc.readMem(0x8ed3), 0x6f);
        // CB 6F 00EA
        gbc.setState(0xa91d, 0x8b99, 0x5690, 0x70c, 0x208, 0x74e4, 0x0, 0x1);
        gbc.writeMem(0xa91d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x8b99);
        EXPECT(gbc.pc(), 0xa91f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa91d), 0xcb);
        EXPECT(gbc.readMem(0xa91e), 0x6f);
        // CB 6F 00EB
        gbc.setState(0x9e22, 0x6a5d, 0x4220, 0x39ec, 0x6521, 0x2c84, 0x0, 0x0);
        gbc.writeMem(0x9e22, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6a5d);
        EXPECT(gbc.pc(), 0x9e24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e22), 0xcb);
        EXPECT(gbc.readMem(0x9e23), 0x6f);
        // CB 6F 00EC
        gbc.setState(0x5beb, 0x2dd8, 0xa390, 0x7e50, 0x3dcc, 0x6994, 0x1, 0x0);
        gbc.writeMem(0x5beb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2dd8);
        EXPECT(gbc.pc(), 0x5bed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00ED
        gbc.setState(0xb618, 0xae4a, 0x1de0, 0x590e, 0x1fbf, 0x2e98, 0x0, 0x0);
        gbc.writeMem(0xb618, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xae4a);
        EXPECT(gbc.pc(), 0xb61a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb618), 0xcb);
        EXPECT(gbc.readMem(0xb619), 0x6f);
        // CB 6F 00EF
        gbc.setState(0xc9d, 0x3869, 0x4930, 0xe222, 0x683, 0x2f8a, 0x1, 0x1);
        gbc.writeMem(0xc9d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3869);
        EXPECT(gbc.pc(), 0xc9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00F0
        gbc.setState(0x3dac, 0x6d88, 0xf010, 0xbdd5, 0x8570, 0xc0d, 0x0, 0x0);
        gbc.writeMem(0x3dac, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6d88);
        EXPECT(gbc.pc(), 0x3dae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00F1
        gbc.setState(0xa831, 0x436e, 0x28e0, 0xa197, 0xc0da, 0xae55, 0x1, 0x1);
        gbc.writeMem(0xa831, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x436e);
        EXPECT(gbc.pc(), 0xa833);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa831), 0xcb);
        EXPECT(gbc.readMem(0xa832), 0x6f);
        // CB 6F 00F2
        gbc.setState(0xa020, 0x5315, 0x2810, 0x3376, 0xf7b2, 0x933, 0x0, 0x1);
        gbc.writeMem(0xa020, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5315);
        EXPECT(gbc.pc(), 0xa022);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa020), 0xcb);
        EXPECT(gbc.readMem(0xa021), 0x6f);
        // CB 6F 00F3
        gbc.setState(0xcb7c, 0x97a5, 0x3c70, 0xca9d, 0x655, 0x1226, 0x1, 0x0);
        gbc.writeMem(0xcb7c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x97a5);
        EXPECT(gbc.pc(), 0xcb7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb7c), 0xcb);
        EXPECT(gbc.readMem(0xcb7d), 0x6f);
        // CB 6F 00F4
        gbc.setState(0x54be, 0xa3f0, 0xeac0, 0x1eaa, 0x2e4, 0x2d6f, 0x0, 0x0);
        gbc.writeMem(0x54be, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa3f0);
        EXPECT(gbc.pc(), 0x54c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00F5
        gbc.setState(0x6257, 0x70ea, 0x1f0, 0xf6f1, 0x581e, 0x1833, 0x1, 0x1);
        gbc.writeMem(0x6257, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x70ea);
        EXPECT(gbc.pc(), 0x6259);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00F6
        gbc.setState(0x688b, 0x9a81, 0x9d70, 0xa389, 0xf1e8, 0x9b7f, 0x0, 0x0);
        gbc.writeMem(0x688b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x9a81);
        EXPECT(gbc.pc(), 0x688d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00F7
        gbc.setState(0x3055, 0xc071, 0xa6f0, 0x3a87, 0xb819, 0x914b, 0x0, 0x1);
        gbc.writeMem(0x3055, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc071);
        EXPECT(gbc.pc(), 0x3057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00F8
        gbc.setState(0x4651, 0x2d6a, 0x2810, 0x28fb, 0xb5cb, 0x3fd5, 0x0, 0x0);
        gbc.writeMem(0x4651, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2d6a);
        EXPECT(gbc.pc(), 0x4653);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00F9
        gbc.setState(0x92b6, 0x483e, 0xc480, 0xc397, 0xa22, 0x7345, 0x0, 0x1);
        gbc.writeMem(0x92b6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x483e);
        EXPECT(gbc.pc(), 0x92b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92b6), 0xcb);
        EXPECT(gbc.readMem(0x92b7), 0x6f);
        // CB 6F 00FA
        gbc.setState(0x7cd8, 0x34bd, 0x4e40, 0xf9e5, 0x8240, 0x39b8, 0x1, 0x0);
        gbc.writeMem(0x7cd8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x34bd);
        EXPECT(gbc.pc(), 0x7cda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00FB
        gbc.setState(0xc62f, 0xddfa, 0x9c70, 0xb902, 0xf3c9, 0x1f5e, 0x0, 0x1);
        gbc.writeMem(0xc62f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xddfa);
        EXPECT(gbc.pc(), 0xc631);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc62f), 0xcb);
        EXPECT(gbc.readMem(0xc630), 0x6f);
        // CB 6F 00FC
        gbc.setState(0xcbb0, 0x8ac1, 0x41e0, 0xbd1f, 0x6019, 0x69a, 0x1, 0x0);
        gbc.writeMem(0xcbb0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8ac1);
        EXPECT(gbc.pc(), 0xcbb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbb0), 0xcb);
        EXPECT(gbc.readMem(0xcbb1), 0x6f);
        // CB 6F 00FD
        gbc.setState(0x357d, 0xa653, 0x4980, 0x6284, 0x8e47, 0x7fd4, 0x1, 0x1);
        gbc.writeMem(0x357d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa653);
        EXPECT(gbc.pc(), 0x357f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 00FE
        gbc.setState(0x5914, 0xe493, 0x67d0, 0x888a, 0x359, 0x59e6, 0x0, 0x1);
        gbc.writeMem(0x5914, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xe493);
        EXPECT(gbc.pc(), 0x5916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 00FF
        gbc.setState(0x9fee, 0x6282, 0xcc80, 0xe86a, 0xea4, 0x788a, 0x0, 0x0);
        gbc.writeMem(0x9fee, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6282);
        EXPECT(gbc.pc(), 0x9ff0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fee), 0xcb);
        EXPECT(gbc.readMem(0x9fef), 0x6f);
        // CB 6F 0100
        gbc.setState(0x352d, 0xa6ff, 0xb260, 0x307a, 0x5a93, 0xce10, 0x1, 0x0);
        gbc.writeMem(0x352d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa6ff);
        EXPECT(gbc.pc(), 0x352f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0101
        gbc.setState(0x6e, 0xa628, 0xdfa0, 0x3846, 0x9e36, 0x54c9, 0x0, 0x0);
        gbc.writeMem(0x6e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa628);
        EXPECT(gbc.pc(), 0x70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0102
        gbc.setState(0x3c32, 0x3d65, 0xedf0, 0xcdbe, 0xe61e, 0x924b, 0x0, 0x1);
        gbc.writeMem(0x3c32, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3d65);
        EXPECT(gbc.pc(), 0x3c34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0103
        gbc.setState(0x167a, 0x34f2, 0x5270, 0x5a34, 0x244d, 0xdb49, 0x1, 0x1);
        gbc.writeMem(0x167a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x34f2);
        EXPECT(gbc.pc(), 0x167c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0104
        gbc.setState(0xc4a2, 0xb8ae, 0xd290, 0x88d5, 0x34a0, 0x1e5, 0x1, 0x0);
        gbc.writeMem(0xc4a2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xb8ae);
        EXPECT(gbc.pc(), 0xc4a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4a2), 0xcb);
        EXPECT(gbc.readMem(0xc4a3), 0x6f);
        // CB 6F 0105
        gbc.setState(0x9166, 0xf346, 0x8540, 0x8c70, 0xf6c7, 0xcb82, 0x0, 0x0);
        gbc.writeMem(0x9166, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xf346);
        EXPECT(gbc.pc(), 0x9168);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9166), 0xcb);
        EXPECT(gbc.readMem(0x9167), 0x6f);
        // CB 6F 0106
        gbc.setState(0x2be7, 0xd447, 0xbf60, 0xcf74, 0x990, 0x6b67, 0x1, 0x1);
        gbc.writeMem(0x2be7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd447);
        EXPECT(gbc.pc(), 0x2be9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0107
        gbc.setState(0xc24f, 0x49d5, 0xba90, 0xcee9, 0x6c35, 0xa6f6, 0x0, 0x0);
        gbc.writeMem(0xc24f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x49d5);
        EXPECT(gbc.pc(), 0xc251);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc24f), 0xcb);
        EXPECT(gbc.readMem(0xc250), 0x6f);
        // CB 6F 0109
        gbc.setState(0xd057, 0xda3, 0x9a20, 0xf5d7, 0xdcd7, 0x4a5, 0x1, 0x1);
        gbc.writeMem(0xd057, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xda3);
        EXPECT(gbc.pc(), 0xd059);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd057), 0xcb);
        EXPECT(gbc.readMem(0xd058), 0x6f);
        // CB 6F 010A
        gbc.setState(0x9b09, 0xd5ad, 0x9300, 0x2521, 0x9af4, 0x70cd, 0x0, 0x0);
        gbc.writeMem(0x9b09, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd5ad);
        EXPECT(gbc.pc(), 0x9b0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b09), 0xcb);
        EXPECT(gbc.readMem(0x9b0a), 0x6f);
        // CB 6F 010B
        gbc.setState(0x8688, 0xfcc2, 0x6210, 0x3d54, 0xf0f, 0x15ec, 0x0, 0x0);
        gbc.writeMem(0x8688, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xfcc2);
        EXPECT(gbc.pc(), 0x868a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8688), 0xcb);
        EXPECT(gbc.readMem(0x8689), 0x6f);
        // CB 6F 010C
        gbc.setState(0xa6d0, 0xaeb6, 0xafd0, 0x57af, 0xc386, 0xe2a3, 0x0, 0x1);
        gbc.writeMem(0xa6d0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xaeb6);
        EXPECT(gbc.pc(), 0xa6d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6d0), 0xcb);
        EXPECT(gbc.readMem(0xa6d1), 0x6f);
        // CB 6F 010D
        gbc.setState(0x88c5, 0xa15b, 0xec00, 0xdf5f, 0xb60d, 0x3ce2, 0x0, 0x1);
        gbc.writeMem(0x88c5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xa15b);
        EXPECT(gbc.pc(), 0x88c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88c5), 0xcb);
        EXPECT(gbc.readMem(0x88c6), 0x6f);
        // CB 6F 010E
        gbc.setState(0xb71f, 0xc4fb, 0xf6e0, 0xe729, 0x6d64, 0xfd8e, 0x0, 0x1);
        gbc.writeMem(0xb71f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc4fb);
        EXPECT(gbc.pc(), 0xb721);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb71f), 0xcb);
        EXPECT(gbc.readMem(0xb720), 0x6f);
        // CB 6F 010F
        gbc.setState(0x18f9, 0x40bd, 0x9530, 0xb8c7, 0x5666, 0xfa3c, 0x1, 0x0);
        gbc.writeMem(0x18f9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x40bd);
        EXPECT(gbc.pc(), 0x18fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0110
        gbc.setState(0xca5e, 0x987b, 0x99f0, 0xface, 0x459b, 0xeb9, 0x1, 0x0);
        gbc.writeMem(0xca5e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x987b);
        EXPECT(gbc.pc(), 0xca60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca5e), 0xcb);
        EXPECT(gbc.readMem(0xca5f), 0x6f);
        // CB 6F 0111
        gbc.setState(0x7383, 0xdb07, 0x2060, 0x8166, 0xb733, 0xca8b, 0x0, 0x1);
        gbc.writeMem(0x7383, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xdb07);
        EXPECT(gbc.pc(), 0x7385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0112
        gbc.setState(0xad94, 0xc468, 0xd050, 0xb85f, 0xf348, 0x149b, 0x1, 0x0);
        gbc.writeMem(0xad94, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc468);
        EXPECT(gbc.pc(), 0xad96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad94), 0xcb);
        EXPECT(gbc.readMem(0xad95), 0x6f);
        // CB 6F 0113
        gbc.setState(0x4e1f, 0x509c, 0x4870, 0xa696, 0x8ca3, 0x646f, 0x1, 0x1);
        gbc.writeMem(0x4e1f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x509c);
        EXPECT(gbc.pc(), 0x4e21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0114
        gbc.setState(0x7a9d, 0x352b, 0x9450, 0x3d3c, 0x2e72, 0x6b49, 0x0, 0x1);
        gbc.writeMem(0x7a9d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x352b);
        EXPECT(gbc.pc(), 0x7a9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0115
        gbc.setState(0x824a, 0x2377, 0xf790, 0xf834, 0x4bb4, 0xbff7, 0x1, 0x0);
        gbc.writeMem(0x824a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2377);
        EXPECT(gbc.pc(), 0x824c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x824a), 0xcb);
        EXPECT(gbc.readMem(0x824b), 0x6f);
        // CB 6F 0116
        gbc.setState(0xc203, 0xd3aa, 0xec0, 0x34c7, 0x51d0, 0x2eea, 0x0, 0x1);
        gbc.writeMem(0xc203, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xd3aa);
        EXPECT(gbc.pc(), 0xc205);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc203), 0xcb);
        EXPECT(gbc.readMem(0xc204), 0x6f);
        // CB 6F 0117
        gbc.setState(0x9b00, 0x5f5d, 0x6e20, 0x89cd, 0x6572, 0x78d6, 0x1, 0x0);
        gbc.writeMem(0x9b00, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x5f5d);
        EXPECT(gbc.pc(), 0x9b02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b00), 0xcb);
        EXPECT(gbc.readMem(0x9b01), 0x6f);
        // CB 6F 0118
        gbc.setState(0xb787, 0x1830, 0x97d0, 0xe555, 0x3330, 0xd45c, 0x1, 0x1);
        gbc.writeMem(0xb787, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1830);
        EXPECT(gbc.pc(), 0xb789);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb787), 0xcb);
        EXPECT(gbc.readMem(0xb788), 0x6f);
        // CB 6F 0119
        gbc.setState(0x870c, 0x10d6, 0x3700, 0x1543, 0x1b52, 0x742c, 0x1, 0x0);
        gbc.writeMem(0x870c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x10d6);
        EXPECT(gbc.pc(), 0x870e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x870c), 0xcb);
        EXPECT(gbc.readMem(0x870d), 0x6f);
        // CB 6F 011A
        gbc.setState(0x7bf1, 0xefa, 0xf0d0, 0xcea6, 0x5333, 0x7841, 0x0, 0x1);
        gbc.writeMem(0x7bf1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xefa);
        EXPECT(gbc.pc(), 0x7bf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 011B
        gbc.setState(0x95f6, 0x8c4e, 0xbaf0, 0xb2c5, 0x707c, 0x1172, 0x0, 0x0);
        gbc.writeMem(0x95f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x8c4e);
        EXPECT(gbc.pc(), 0x95f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95f6), 0xcb);
        EXPECT(gbc.readMem(0x95f7), 0x6f);
        // CB 6F 011C
        gbc.setState(0xd703, 0x3b98, 0xe730, 0x6ac7, 0xdd6f, 0xe084, 0x1, 0x0);
        gbc.writeMem(0xd703, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x3b98);
        EXPECT(gbc.pc(), 0xd705);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd703), 0xcb);
        EXPECT(gbc.readMem(0xd704), 0x6f);
        // CB 6F 011D
        gbc.setState(0x268c, 0xff81, 0x4800, 0xb007, 0x1ef7, 0xaaf3, 0x0, 0x1);
        gbc.writeMem(0x268c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xff81);
        EXPECT(gbc.pc(), 0x268e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 011E
        gbc.setState(0x888a, 0xd322, 0xda10, 0xe555, 0x6807, 0x3af8, 0x0, 0x1);
        gbc.writeMem(0x888a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xd322);
        EXPECT(gbc.pc(), 0x888c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x888a), 0xcb);
        EXPECT(gbc.readMem(0x888b), 0x6f);
        // CB 6F 011F
        gbc.setState(0xb8de, 0x82dd, 0xb250, 0x9774, 0x11bb, 0x1ce6, 0x0, 0x1);
        gbc.writeMem(0xb8de, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x82dd);
        EXPECT(gbc.pc(), 0xb8e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8de), 0xcb);
        EXPECT(gbc.readMem(0xb8df), 0x6f);
        // CB 6F 0120
        gbc.setState(0xee5c, 0x8318, 0x1f10, 0x6db5, 0x3cb1, 0x37e4, 0x1, 0x0);
        gbc.writeMem(0xee5c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x8318);
        EXPECT(gbc.pc(), 0xee5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee5c), 0xcb);
        EXPECT(gbc.readMem(0xee5d), 0x6f);
        // CB 6F 0122
        gbc.setState(0xb5b9, 0x54b1, 0x2f40, 0x6ad0, 0x4336, 0xf730, 0x0, 0x0);
        gbc.writeMem(0xb5b9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x54b1);
        EXPECT(gbc.pc(), 0xb5bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5b9), 0xcb);
        EXPECT(gbc.readMem(0xb5ba), 0x6f);
        // CB 6F 0123
        gbc.setState(0x7b2c, 0xc9c8, 0xc440, 0xaffd, 0x29ff, 0x830b, 0x0, 0x1);
        gbc.writeMem(0x7b2c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xc9c8);
        EXPECT(gbc.pc(), 0x7b2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0124
        gbc.setState(0x9cf8, 0x4f8, 0xb1a0, 0x43eb, 0xff92, 0x2520, 0x0, 0x1);
        gbc.writeMem(0x9cf8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x4f8);
        EXPECT(gbc.pc(), 0x9cfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cf8), 0xcb);
        EXPECT(gbc.readMem(0x9cf9), 0x6f);
        // CB 6F 0125
        gbc.setState(0xa680, 0xa5d3, 0x3130, 0xeaed, 0xef71, 0x7fc3, 0x0, 0x0);
        gbc.writeMem(0xa680, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa5d3);
        EXPECT(gbc.pc(), 0xa682);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa680), 0xcb);
        EXPECT(gbc.readMem(0xa681), 0x6f);
        // CB 6F 0126
        gbc.setState(0xe69d, 0x8b4c, 0xfed0, 0x5c6c, 0x2d96, 0xd066, 0x0, 0x1);
        gbc.writeMem(0xe69d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x8b4c);
        EXPECT(gbc.pc(), 0xe69f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe69d), 0xcb);
        EXPECT(gbc.readMem(0xe69e), 0x6f);
        // CB 6F 0127
        gbc.setState(0x679e, 0xd0f1, 0xb0d0, 0xc5c1, 0xb5bc, 0x770a, 0x0, 0x0);
        gbc.writeMem(0x679e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xd0f1);
        EXPECT(gbc.pc(), 0x67a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0128
        gbc.setState(0x7394, 0x38aa, 0x18a0, 0x7108, 0xb963, 0xdfe8, 0x0, 0x0);
        gbc.writeMem(0x7394, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x38aa);
        EXPECT(gbc.pc(), 0x7396);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0129
        gbc.setState(0xc981, 0xa354, 0xfe20, 0x97f0, 0xaf1d, 0x9876, 0x1, 0x0);
        gbc.writeMem(0xc981, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xa354);
        EXPECT(gbc.pc(), 0xc983);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc981), 0xcb);
        EXPECT(gbc.readMem(0xc982), 0x6f);
        // CB 6F 012A
        gbc.setState(0xff1, 0xb227, 0x6440, 0x631c, 0x95f0, 0x654f, 0x1, 0x1);
        gbc.writeMem(0xff1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xb227);
        EXPECT(gbc.pc(), 0xff3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 012B
        gbc.setState(0x8b5d, 0x6620, 0x3ed0, 0x90c7, 0x36ad, 0x8ac5, 0x0, 0x0);
        gbc.writeMem(0x8b5d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6620);
        EXPECT(gbc.pc(), 0x8b5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b5d), 0xcb);
        EXPECT(gbc.readMem(0x8b5e), 0x6f);
        // CB 6F 012C
        gbc.setState(0x1473, 0x7a01, 0x6c90, 0xacf9, 0x1256, 0x8a6b, 0x1, 0x0);
        gbc.writeMem(0x1473, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7a01);
        EXPECT(gbc.pc(), 0x1475);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 012D
        gbc.setState(0x40a8, 0xc5c4, 0xf780, 0xb5b7, 0x411c, 0xbe1e, 0x1, 0x0);
        gbc.writeMem(0x40a8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xc5c4);
        EXPECT(gbc.pc(), 0x40aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 012E
        gbc.setState(0xd715, 0xf88a, 0xd860, 0xf326, 0xf379, 0x6a9b, 0x0, 0x1);
        gbc.writeMem(0xd715, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf88a);
        EXPECT(gbc.pc(), 0xd717);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd715), 0xcb);
        EXPECT(gbc.readMem(0xd716), 0x6f);
        // CB 6F 012F
        gbc.setState(0x4b2c, 0xf0d5, 0xc6d0, 0xefc9, 0xe6d2, 0x6243, 0x1, 0x1);
        gbc.writeMem(0x4b2c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf0d5);
        EXPECT(gbc.pc(), 0x4b2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0130
        gbc.setState(0x9997, 0x932a, 0x2880, 0xe3e, 0x10e8, 0xb5ff, 0x0, 0x0);
        gbc.writeMem(0x9997, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x932a);
        EXPECT(gbc.pc(), 0x9999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9997), 0xcb);
        EXPECT(gbc.readMem(0x9998), 0x6f);
        // CB 6F 0131
        gbc.setState(0x1cbc, 0xd465, 0xce90, 0xe8e9, 0x5435, 0xefe0, 0x1, 0x0);
        gbc.writeMem(0x1cbc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd465);
        EXPECT(gbc.pc(), 0x1cbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0132
        gbc.setState(0x77fa, 0x9841, 0x4a90, 0xd0bd, 0x4d36, 0xe578, 0x1, 0x0);
        gbc.writeMem(0x77fa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9841);
        EXPECT(gbc.pc(), 0x77fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0133
        gbc.setState(0x9bfe, 0x3b3e, 0xe730, 0xea7f, 0x158, 0x6a66, 0x1, 0x0);
        gbc.writeMem(0x9bfe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x3b3e);
        EXPECT(gbc.pc(), 0x9c00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bfe), 0xcb);
        EXPECT(gbc.readMem(0x9bff), 0x6f);
        // CB 6F 0134
        gbc.setState(0x95ed, 0xd92c, 0x9610, 0x3f4b, 0xc427, 0xc7e5, 0x0, 0x1);
        gbc.writeMem(0x95ed, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xd92c);
        EXPECT(gbc.pc(), 0x95ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95ed), 0xcb);
        EXPECT(gbc.readMem(0x95ee), 0x6f);
        // CB 6F 0135
        gbc.setState(0xea76, 0xfefa, 0x7860, 0x6f42, 0x31a2, 0xda56, 0x0, 0x1);
        gbc.writeMem(0xea76, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xfefa);
        EXPECT(gbc.pc(), 0xea78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea76), 0xcb);
        EXPECT(gbc.readMem(0xea77), 0x6f);
        // CB 6F 0136
        gbc.setState(0xbf4f, 0xc7f0, 0x3000, 0x5f8f, 0xb836, 0x746a, 0x1, 0x0);
        gbc.writeMem(0xbf4f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xc7f0);
        EXPECT(gbc.pc(), 0xbf51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf4f), 0xcb);
        EXPECT(gbc.readMem(0xbf50), 0x6f);
        // CB 6F 0137
        gbc.setState(0x328e, 0x8fbb, 0x86a0, 0x2993, 0x9f3f, 0xb082, 0x0, 0x0);
        gbc.writeMem(0x328e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x8fbb);
        EXPECT(gbc.pc(), 0x3290);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0138
        gbc.setState(0xc69e, 0xe4b, 0xf8e0, 0xe71d, 0x54f5, 0x7d68, 0x1, 0x1);
        gbc.writeMem(0xc69e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe4b);
        EXPECT(gbc.pc(), 0xc6a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc69e), 0xcb);
        EXPECT(gbc.readMem(0xc69f), 0x6f);
        // CB 6F 0139
        gbc.setState(0x6f6d, 0xc2c3, 0x8c00, 0xb771, 0xd9fb, 0xedd, 0x1, 0x0);
        gbc.writeMem(0x6f6d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc2c3);
        EXPECT(gbc.pc(), 0x6f6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 013A
        gbc.setState(0xe93, 0x27c0, 0xfc50, 0xfc95, 0xe261, 0x96b6, 0x1, 0x1);
        gbc.writeMem(0xe93, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x27c0);
        EXPECT(gbc.pc(), 0xe95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 013B
        gbc.setState(0xe3cf, 0xa601, 0x81b0, 0x9606, 0x2d59, 0x3f1b, 0x1, 0x0);
        gbc.writeMem(0xe3cf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa601);
        EXPECT(gbc.pc(), 0xe3d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3cf), 0xcb);
        EXPECT(gbc.readMem(0xe3d0), 0x6f);
        // CB 6F 013C
        gbc.setState(0xc4df, 0x900a, 0xf960, 0x5e71, 0x94d2, 0xa411, 0x0, 0x1);
        gbc.writeMem(0xc4df, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x900a);
        EXPECT(gbc.pc(), 0xc4e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4df), 0xcb);
        EXPECT(gbc.readMem(0xc4e0), 0x6f);
        // CB 6F 013D
        gbc.setState(0x7c75, 0x97f0, 0xead0, 0xa1bb, 0xeb29, 0xdf7b, 0x1, 0x0);
        gbc.writeMem(0x7c75, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x97f0);
        EXPECT(gbc.pc(), 0x7c77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 013E
        gbc.setState(0xa199, 0x35ef, 0xee30, 0x6e0a, 0x5726, 0x97e1, 0x1, 0x1);
        gbc.writeMem(0xa199, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x35ef);
        EXPECT(gbc.pc(), 0xa19b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa199), 0xcb);
        EXPECT(gbc.readMem(0xa19a), 0x6f);
        // CB 6F 0140
        gbc.setState(0xe829, 0x7d6d, 0x5510, 0xd9d4, 0x7ea2, 0x82a6, 0x1, 0x1);
        gbc.writeMem(0xe829, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7d6d);
        EXPECT(gbc.pc(), 0xe82b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe829), 0xcb);
        EXPECT(gbc.readMem(0xe82a), 0x6f);
        // CB 6F 0141
        gbc.setState(0xce42, 0x892b, 0x1270, 0x6293, 0xb9f6, 0x1af9, 0x1, 0x0);
        gbc.writeMem(0xce42, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x892b);
        EXPECT(gbc.pc(), 0xce44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce42), 0xcb);
        EXPECT(gbc.readMem(0xce43), 0x6f);
        // CB 6F 0142
        gbc.setState(0x23e7, 0x491e, 0x3e70, 0x6d98, 0x3e31, 0x1b82, 0x1, 0x0);
        gbc.writeMem(0x23e7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x491e);
        EXPECT(gbc.pc(), 0x23e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0143
        gbc.setState(0xb459, 0x3dc4, 0x4e0, 0x2fd8, 0x9e51, 0xf268, 0x0, 0x1);
        gbc.writeMem(0xb459, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x3dc4);
        EXPECT(gbc.pc(), 0xb45b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb459), 0xcb);
        EXPECT(gbc.readMem(0xb45a), 0x6f);
        // CB 6F 0144
        gbc.setState(0x2245, 0xc043, 0x150, 0xcf04, 0x8460, 0xe638, 0x1, 0x0);
        gbc.writeMem(0x2245, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xc043);
        EXPECT(gbc.pc(), 0x2247);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0145
        gbc.setState(0xd9a3, 0x8c65, 0x5390, 0x526f, 0xe3f5, 0x1da3, 0x1, 0x0);
        gbc.writeMem(0xd9a3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x8c65);
        EXPECT(gbc.pc(), 0xd9a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9a3), 0xcb);
        EXPECT(gbc.readMem(0xd9a4), 0x6f);
        // CB 6F 0146
        gbc.setState(0x1e8, 0xb4ba, 0x1240, 0xf67, 0x40aa, 0x19f0, 0x0, 0x0);
        gbc.writeMem(0x1e8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb4ba);
        EXPECT(gbc.pc(), 0x1ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0147
        gbc.setState(0xaaf0, 0x1a3e, 0x15e0, 0x4174, 0xf7d9, 0x8067, 0x0, 0x1);
        gbc.writeMem(0xaaf0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x1a3e);
        EXPECT(gbc.pc(), 0xaaf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaf0), 0xcb);
        EXPECT(gbc.readMem(0xaaf1), 0x6f);
        // CB 6F 0148
        gbc.setState(0xcbcd, 0x8199, 0xd6f0, 0xa236, 0x896, 0xc022, 0x0, 0x1);
        gbc.writeMem(0xcbcd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x8199);
        EXPECT(gbc.pc(), 0xcbcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbcd), 0xcb);
        EXPECT(gbc.readMem(0xcbce), 0x6f);
        // CB 6F 0149
        gbc.setState(0x9dbf, 0x38a8, 0x8f70, 0x53f0, 0x8526, 0xc2c2, 0x1, 0x1);
        gbc.writeMem(0x9dbf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x38a8);
        EXPECT(gbc.pc(), 0x9dc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dbf), 0xcb);
        EXPECT(gbc.readMem(0x9dc0), 0x6f);
        // CB 6F 014A
        gbc.setState(0x69b3, 0xb423, 0xf3b0, 0x4d50, 0xe92a, 0xc7c0, 0x1, 0x0);
        gbc.writeMem(0x69b3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb423);
        EXPECT(gbc.pc(), 0x69b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 014B
        gbc.setState(0xdc45, 0x95cc, 0x16e0, 0x3392, 0x57ec, 0x8b80, 0x1, 0x1);
        gbc.writeMem(0xdc45, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x95cc);
        EXPECT(gbc.pc(), 0xdc47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc45), 0xcb);
        EXPECT(gbc.readMem(0xdc46), 0x6f);
        // CB 6F 014C
        gbc.setState(0x4c56, 0xb4f1, 0xf7d0, 0x3531, 0x881c, 0x7355, 0x1, 0x0);
        gbc.writeMem(0x4c56, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xb4f1);
        EXPECT(gbc.pc(), 0x4c58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 014D
        gbc.setState(0xb196, 0x1e0c, 0xfec0, 0x82f5, 0x3c61, 0x235, 0x0, 0x0);
        gbc.writeMem(0xb196, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x1e0c);
        EXPECT(gbc.pc(), 0xb198);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb196), 0xcb);
        EXPECT(gbc.readMem(0xb197), 0x6f);
        // CB 6F 014E
        gbc.setState(0x7064, 0xb8f7, 0xe6e0, 0xf988, 0x759f, 0xc156, 0x0, 0x1);
        gbc.writeMem(0x7064, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xb8f7);
        EXPECT(gbc.pc(), 0x7066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 014F
        gbc.setState(0x2f1d, 0x9912, 0x7d20, 0xd355, 0xff29, 0x899d, 0x0, 0x1);
        gbc.writeMem(0x2f1d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x9912);
        EXPECT(gbc.pc(), 0x2f1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0150
        gbc.setState(0x33eb, 0xc294, 0xa310, 0x5423, 0x7615, 0xe463, 0x1, 0x0);
        gbc.writeMem(0x33eb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc294);
        EXPECT(gbc.pc(), 0x33ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0151
        gbc.setState(0x419e, 0x605d, 0x79d0, 0xc814, 0x5518, 0x685c, 0x0, 0x0);
        gbc.writeMem(0x419e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x605d);
        EXPECT(gbc.pc(), 0x41a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0152
        gbc.setState(0xdd79, 0x7b9d, 0x5820, 0x6a44, 0x99f0, 0x1c4e, 0x0, 0x0);
        gbc.writeMem(0xdd79, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x7b9d);
        EXPECT(gbc.pc(), 0xdd7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd79), 0xcb);
        EXPECT(gbc.readMem(0xdd7a), 0x6f);
        // CB 6F 0153
        gbc.setState(0xb15, 0xb0b7, 0x91d0, 0x2f8a, 0x320, 0xe826, 0x1, 0x0);
        gbc.writeMem(0xb15, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb0b7);
        EXPECT(gbc.pc(), 0xb17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0154
        gbc.setState(0x51d0, 0xd06, 0x89f0, 0xd152, 0x8c98, 0xa39c, 0x1, 0x1);
        gbc.writeMem(0x51d0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xd06);
        EXPECT(gbc.pc(), 0x51d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0155
        gbc.setState(0x4be2, 0xd102, 0x5b90, 0x7d90, 0x2970, 0xcfa9, 0x0, 0x0);
        gbc.writeMem(0x4be2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xd102);
        EXPECT(gbc.pc(), 0x4be4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0156
        gbc.setState(0xe8c5, 0x4a6, 0x1fe0, 0x9ac9, 0x8a92, 0xc464, 0x0, 0x1);
        gbc.writeMem(0xe8c5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4a6);
        EXPECT(gbc.pc(), 0xe8c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c5), 0xcb);
        EXPECT(gbc.readMem(0xe8c6), 0x6f);
        // CB 6F 0157
        gbc.setState(0x2fe3, 0xe0be, 0xc520, 0x2fd, 0x8ba5, 0x556, 0x0, 0x1);
        gbc.writeMem(0x2fe3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe0be);
        EXPECT(gbc.pc(), 0x2fe5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 015A
        gbc.setState(0x9700, 0x9546, 0x21b0, 0x971b, 0x59d4, 0x9957, 0x1, 0x1);
        gbc.writeMem(0x9700, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9546);
        EXPECT(gbc.pc(), 0x9702);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9700), 0xcb);
        EXPECT(gbc.readMem(0x9701), 0x6f);
        // CB 6F 015B
        gbc.setState(0xbce6, 0xe8a7, 0xfa30, 0x710d, 0x6a6a, 0xeb39, 0x1, 0x1);
        gbc.writeMem(0xbce6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xe8a7);
        EXPECT(gbc.pc(), 0xbce8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbce6), 0xcb);
        EXPECT(gbc.readMem(0xbce7), 0x6f);
        // CB 6F 015C
        gbc.setState(0x11fa, 0x1209, 0x5480, 0x7557, 0x21a6, 0x7d46, 0x0, 0x1);
        gbc.writeMem(0x11fa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x1209);
        EXPECT(gbc.pc(), 0x11fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 015D
        gbc.setState(0xe925, 0xc1d8, 0xffa0, 0x99d4, 0x3c98, 0xcc12, 0x1, 0x0);
        gbc.writeMem(0xe925, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xc1d8);
        EXPECT(gbc.pc(), 0xe927);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe925), 0xcb);
        EXPECT(gbc.readMem(0xe926), 0x6f);
        // CB 6F 015E
        gbc.setState(0xab65, 0x3cda, 0x9320, 0xf6f6, 0x89e8, 0x5fee, 0x1, 0x0);
        gbc.writeMem(0xab65, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3cda);
        EXPECT(gbc.pc(), 0xab67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab65), 0xcb);
        EXPECT(gbc.readMem(0xab66), 0x6f);
        // CB 6F 015F
        gbc.setState(0xdefe, 0x937f, 0x30d0, 0x603a, 0x4a2b, 0x2dcf, 0x0, 0x0);
        gbc.writeMem(0xdefe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x937f);
        EXPECT(gbc.pc(), 0xdf00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdefe), 0xcb);
        EXPECT(gbc.readMem(0xdeff), 0x6f);
        // CB 6F 0160
        gbc.setState(0x6819, 0xc9de, 0x4ca0, 0x3bcb, 0xb917, 0x9b2e, 0x0, 0x0);
        gbc.writeMem(0x6819, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xc9de);
        EXPECT(gbc.pc(), 0x681b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0161
        gbc.setState(0xa64c, 0xcbb0, 0x16f0, 0x5602, 0xc710, 0x3926, 0x0, 0x1);
        gbc.writeMem(0xa64c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xcbb0);
        EXPECT(gbc.pc(), 0xa64e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa64c), 0xcb);
        EXPECT(gbc.readMem(0xa64d), 0x6f);
        // CB 6F 0162
        gbc.setState(0x7954, 0x874f, 0x4810, 0xfa52, 0xc452, 0xfe72, 0x1, 0x1);
        gbc.writeMem(0x7954, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x874f);
        EXPECT(gbc.pc(), 0x7956);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0163
        gbc.setState(0x29fa, 0x94, 0x8410, 0x6640, 0xbe12, 0xc837, 0x0, 0x0);
        gbc.writeMem(0x29fa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x94);
        EXPECT(gbc.pc(), 0x29fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0164
        gbc.setState(0x1562, 0xe103, 0xcd40, 0x2bae, 0xadc2, 0x1122, 0x1, 0x0);
        gbc.writeMem(0x1562, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe103);
        EXPECT(gbc.pc(), 0x1564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0166
        gbc.setState(0xdc46, 0xea28, 0x7380, 0x6ee3, 0xd3, 0xf320, 0x1, 0x1);
        gbc.writeMem(0xdc46, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xea28);
        EXPECT(gbc.pc(), 0xdc48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc46), 0xcb);
        EXPECT(gbc.readMem(0xdc47), 0x6f);
        // CB 6F 0168
        gbc.setState(0xdc8f, 0xc140, 0x8bf0, 0x515e, 0x70dd, 0x4cfd, 0x1, 0x1);
        gbc.writeMem(0xdc8f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc140);
        EXPECT(gbc.pc(), 0xdc91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc8f), 0xcb);
        EXPECT(gbc.readMem(0xdc90), 0x6f);
        // CB 6F 0169
        gbc.setState(0xb9fc, 0xa220, 0x8370, 0xbd2c, 0x9095, 0x465a, 0x0, 0x0);
        gbc.writeMem(0xb9fc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa220);
        EXPECT(gbc.pc(), 0xb9fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9fc), 0xcb);
        EXPECT(gbc.readMem(0xb9fd), 0x6f);
        // CB 6F 016A
        gbc.setState(0x8739, 0xd981, 0x3d20, 0x7707, 0x1918, 0x2305, 0x0, 0x1);
        gbc.writeMem(0x8739, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd981);
        EXPECT(gbc.pc(), 0x873b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8739), 0xcb);
        EXPECT(gbc.readMem(0x873a), 0x6f);
        // CB 6F 016B
        gbc.setState(0xa3e2, 0x577c, 0x6c10, 0xc024, 0x4ef6, 0x4cc4, 0x0, 0x1);
        gbc.writeMem(0xa3e2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x577c);
        EXPECT(gbc.pc(), 0xa3e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3e2), 0xcb);
        EXPECT(gbc.readMem(0xa3e3), 0x6f);
        // CB 6F 016C
        gbc.setState(0x5c7, 0xd952, 0xa950, 0x23d8, 0x3795, 0x394b, 0x0, 0x1);
        gbc.writeMem(0x5c7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd952);
        EXPECT(gbc.pc(), 0x5c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 016D
        gbc.setState(0x8fa4, 0x13f2, 0xc910, 0x407f, 0x446d, 0xae54, 0x0, 0x1);
        gbc.writeMem(0x8fa4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x13f2);
        EXPECT(gbc.pc(), 0x8fa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fa4), 0xcb);
        EXPECT(gbc.readMem(0x8fa5), 0x6f);
        // CB 6F 016E
        gbc.setState(0x7429, 0xe91f, 0xbad0, 0xca7f, 0x5f19, 0x7cae, 0x0, 0x0);
        gbc.writeMem(0x7429, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe91f);
        EXPECT(gbc.pc(), 0x742b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 016F
        gbc.setState(0xa9b2, 0x19bd, 0x3080, 0x3d17, 0x803e, 0xcd78, 0x0, 0x0);
        gbc.writeMem(0xa9b2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x19bd);
        EXPECT(gbc.pc(), 0xa9b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9b2), 0xcb);
        EXPECT(gbc.readMem(0xa9b3), 0x6f);
        // CB 6F 0171
        gbc.setState(0x1fc, 0x61ad, 0x230, 0xbc17, 0x921a, 0xe984, 0x0, 0x1);
        gbc.writeMem(0x1fc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x61ad);
        EXPECT(gbc.pc(), 0x1fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0172
        gbc.setState(0x8a1b, 0xd9d, 0x4790, 0x7363, 0x22a3, 0xf978, 0x0, 0x1);
        gbc.writeMem(0x8a1b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd9d);
        EXPECT(gbc.pc(), 0x8a1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a1b), 0xcb);
        EXPECT(gbc.readMem(0x8a1c), 0x6f);
        // CB 6F 0173
        gbc.setState(0xe08, 0x4aae, 0xb8f0, 0x8ee9, 0x9d31, 0xde98, 0x0, 0x0);
        gbc.writeMem(0xe08, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4aae);
        EXPECT(gbc.pc(), 0xe0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0174
        gbc.setState(0xb66f, 0xd370, 0xe3e0, 0xf683, 0xe2ce, 0x8cef, 0x1, 0x0);
        gbc.writeMem(0xb66f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd370);
        EXPECT(gbc.pc(), 0xb671);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb66f), 0xcb);
        EXPECT(gbc.readMem(0xb670), 0x6f);
        // CB 6F 0175
        gbc.setState(0xd3c1, 0xa216, 0x5cb0, 0x82e5, 0x9822, 0x9634, 0x1, 0x1);
        gbc.writeMem(0xd3c1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa216);
        EXPECT(gbc.pc(), 0xd3c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3c1), 0xcb);
        EXPECT(gbc.readMem(0xd3c2), 0x6f);
        // CB 6F 0176
        gbc.setState(0xe810, 0x44a3, 0x8450, 0x7c97, 0x961, 0x4428, 0x1, 0x1);
        gbc.writeMem(0xe810, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x44a3);
        EXPECT(gbc.pc(), 0xe812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe810), 0xcb);
        EXPECT(gbc.readMem(0xe811), 0x6f);
        // CB 6F 0177
        gbc.setState(0x7abe, 0xa659, 0xffc0, 0x3cdd, 0xbc4f, 0xbbe7, 0x0, 0x0);
        gbc.writeMem(0x7abe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa659);
        EXPECT(gbc.pc(), 0x7ac0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0178
        gbc.setState(0xce6c, 0x513b, 0xbcd0, 0xc2b4, 0x3854, 0x9942, 0x1, 0x1);
        gbc.writeMem(0xce6c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x513b);
        EXPECT(gbc.pc(), 0xce6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce6c), 0xcb);
        EXPECT(gbc.readMem(0xce6d), 0x6f);
        // CB 6F 0179
        gbc.setState(0x933f, 0xa6e4, 0x3e0, 0x5008, 0x4cb8, 0xbca6, 0x0, 0x0);
        gbc.writeMem(0x933f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa6e4);
        EXPECT(gbc.pc(), 0x9341);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933f), 0xcb);
        EXPECT(gbc.readMem(0x9340), 0x6f);
        // CB 6F 017A
        gbc.setState(0x79c, 0x86c, 0xb450, 0xb5d5, 0x3c49, 0xaa97, 0x0, 0x0);
        gbc.writeMem(0x79c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x86c);
        EXPECT(gbc.pc(), 0x79e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 017B
        gbc.setState(0x59ce, 0x3500, 0xfa90, 0x2967, 0x6d0a, 0x1caa, 0x1, 0x1);
        gbc.writeMem(0x59ce, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x3500);
        EXPECT(gbc.pc(), 0x59d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 017D
        gbc.setState(0xc87e, 0xfcc1, 0x94e0, 0xf5c2, 0xef43, 0x3dbc, 0x0, 0x0);
        gbc.writeMem(0xc87e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xfcc1);
        EXPECT(gbc.pc(), 0xc880);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc87e), 0xcb);
        EXPECT(gbc.readMem(0xc87f), 0x6f);
        // CB 6F 017E
        gbc.setState(0x8dc6, 0x7964, 0xce10, 0xba32, 0x553, 0xa58e, 0x1, 0x1);
        gbc.writeMem(0x8dc6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x7964);
        EXPECT(gbc.pc(), 0x8dc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dc6), 0xcb);
        EXPECT(gbc.readMem(0x8dc7), 0x6f);
        // CB 6F 017F
        gbc.setState(0x6b34, 0x10c3, 0xe000, 0x6f81, 0x482e, 0x99c5, 0x0, 0x0);
        gbc.writeMem(0x6b34, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x10c3);
        EXPECT(gbc.pc(), 0x6b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0180
        gbc.setState(0x6ccd, 0x8d56, 0xb560, 0x3853, 0x65a3, 0x77b6, 0x1, 0x0);
        gbc.writeMem(0x6ccd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x8d56);
        EXPECT(gbc.pc(), 0x6ccf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0181
        gbc.setState(0x1298, 0x37ad, 0xb740, 0x900f, 0xecba, 0x40a1, 0x1, 0x1);
        gbc.writeMem(0x1298, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x37ad);
        EXPECT(gbc.pc(), 0x129a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0182
        gbc.setState(0x2e8f, 0x2a1a, 0x2b50, 0x636b, 0x4dad, 0xa98b, 0x0, 0x1);
        gbc.writeMem(0x2e8f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x2a1a);
        EXPECT(gbc.pc(), 0x2e91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0183
        gbc.setState(0xd7e6, 0xe0bc, 0xdc60, 0x985b, 0x5765, 0x37f, 0x1, 0x0);
        gbc.writeMem(0xd7e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe0bc);
        EXPECT(gbc.pc(), 0xd7e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7e6), 0xcb);
        EXPECT(gbc.readMem(0xd7e7), 0x6f);
        // CB 6F 0185
        gbc.setState(0x7e64, 0x201c, 0x45f0, 0x9e54, 0xed68, 0x2e16, 0x0, 0x0);
        gbc.writeMem(0x7e64, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x201c);
        EXPECT(gbc.pc(), 0x7e66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0186
        gbc.setState(0x9396, 0x103, 0x12c0, 0x6709, 0x501, 0xfc9c, 0x0, 0x1);
        gbc.writeMem(0x9396, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x103);
        EXPECT(gbc.pc(), 0x9398);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9396), 0xcb);
        EXPECT(gbc.readMem(0x9397), 0x6f);
        // CB 6F 0187
        gbc.setState(0x8a6, 0xa5cf, 0xf560, 0xd063, 0x22c1, 0x2612, 0x0, 0x1);
        gbc.writeMem(0x8a6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa5cf);
        EXPECT(gbc.pc(), 0x8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0188
        gbc.setState(0x7233, 0x285d, 0xd850, 0xd6c4, 0x7e03, 0xbbb2, 0x1, 0x0);
        gbc.writeMem(0x7233, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x285d);
        EXPECT(gbc.pc(), 0x7235);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0189
        gbc.setState(0x366f, 0xf3f5, 0x8d80, 0x56d, 0x9d85, 0xab49, 0x1, 0x1);
        gbc.writeMem(0x366f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf3f5);
        EXPECT(gbc.pc(), 0x3671);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 018A
        gbc.setState(0x9954, 0x7081, 0xaee0, 0x467, 0x2461, 0x4568, 0x0, 0x0);
        gbc.writeMem(0x9954, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7081);
        EXPECT(gbc.pc(), 0x9956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9954), 0xcb);
        EXPECT(gbc.readMem(0x9955), 0x6f);
        // CB 6F 018B
        gbc.setState(0x22bc, 0xa10c, 0xf580, 0xa06e, 0x4516, 0xa516, 0x1, 0x0);
        gbc.writeMem(0x22bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xa10c);
        EXPECT(gbc.pc(), 0x22be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 018C
        gbc.setState(0x348d, 0xc912, 0xfa70, 0x8e30, 0xfcd8, 0xcbfe, 0x1, 0x1);
        gbc.writeMem(0x348d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc912);
        EXPECT(gbc.pc(), 0x348f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 018D
        gbc.setState(0x3ed9, 0x3c7c, 0x40f0, 0x1108, 0xd5ab, 0xcbf8, 0x0, 0x1);
        gbc.writeMem(0x3ed9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3c7c);
        EXPECT(gbc.pc(), 0x3edb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 018E
        gbc.setState(0x9e32, 0x7206, 0x13d0, 0x7ffb, 0xd57d, 0xaf09, 0x1, 0x1);
        gbc.writeMem(0x9e32, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x7206);
        EXPECT(gbc.pc(), 0x9e34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e32), 0xcb);
        EXPECT(gbc.readMem(0x9e33), 0x6f);
        // CB 6F 018F
        gbc.setState(0xa33, 0xf030, 0xec20, 0x74b3, 0x54ea, 0xb297, 0x1, 0x0);
        gbc.writeMem(0xa33, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xf030);
        EXPECT(gbc.pc(), 0xa35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0190
        gbc.setState(0x738a, 0xde44, 0xb500, 0xb5b5, 0xce45, 0xb2c1, 0x0, 0x1);
        gbc.writeMem(0x738a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xde44);
        EXPECT(gbc.pc(), 0x738c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0191
        gbc.setState(0x42f6, 0x207e, 0x8490, 0xae50, 0xa429, 0xdcf0, 0x1, 0x1);
        gbc.writeMem(0x42f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x207e);
        EXPECT(gbc.pc(), 0x42f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0192
        gbc.setState(0xc34d, 0x4b4b, 0x150, 0xcfa2, 0x22df, 0x44ec, 0x1, 0x0);
        gbc.writeMem(0xc34d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4b4b);
        EXPECT(gbc.pc(), 0xc34f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc34d), 0xcb);
        EXPECT(gbc.readMem(0xc34e), 0x6f);
        // CB 6F 0193
        gbc.setState(0xbd13, 0x1c1, 0xf6a0, 0x690a, 0xf4db, 0xedb5, 0x0, 0x0);
        gbc.writeMem(0xbd13, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1c1);
        EXPECT(gbc.pc(), 0xbd15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd13), 0xcb);
        EXPECT(gbc.readMem(0xbd14), 0x6f);
        // CB 6F 0195
        gbc.setState(0xccd9, 0x4931, 0xa3b0, 0x6328, 0xb828, 0x2742, 0x0, 0x0);
        gbc.writeMem(0xccd9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x4931);
        EXPECT(gbc.pc(), 0xccdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccd9), 0xcb);
        EXPECT(gbc.readMem(0xccda), 0x6f);
        // CB 6F 0196
        gbc.setState(0xd271, 0xf1a8, 0xa650, 0x3ae0, 0xb71, 0xf917, 0x0, 0x0);
        gbc.writeMem(0xd271, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf1a8);
        EXPECT(gbc.pc(), 0xd273);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd271), 0xcb);
        EXPECT(gbc.readMem(0xd272), 0x6f);
        // CB 6F 0197
        gbc.setState(0x2f97, 0xd560, 0xa420, 0xd0fd, 0x8e41, 0xad4d, 0x1, 0x0);
        gbc.writeMem(0x2f97, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xd560);
        EXPECT(gbc.pc(), 0x2f99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0198
        gbc.setState(0x16ee, 0x738d, 0xe100, 0xa01b, 0xe194, 0xe3a6, 0x1, 0x0);
        gbc.writeMem(0x16ee, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x738d);
        EXPECT(gbc.pc(), 0x16f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0199
        gbc.setState(0xd0e5, 0x3ee5, 0xb470, 0x6a15, 0x1755, 0x9605, 0x0, 0x1);
        gbc.writeMem(0xd0e5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x3ee5);
        EXPECT(gbc.pc(), 0xd0e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0e5), 0xcb);
        EXPECT(gbc.readMem(0xd0e6), 0x6f);
        // CB 6F 019A
        gbc.setState(0x3072, 0x6e93, 0xbad0, 0x7368, 0x7ded, 0xb386, 0x1, 0x0);
        gbc.writeMem(0x3072, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x6e93);
        EXPECT(gbc.pc(), 0x3074);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 019B
        gbc.setState(0xd40b, 0xe1b5, 0xa10, 0x3085, 0xedd9, 0x205c, 0x0, 0x0);
        gbc.writeMem(0xd40b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe1b5);
        EXPECT(gbc.pc(), 0xd40d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd40b), 0xcb);
        EXPECT(gbc.readMem(0xd40c), 0x6f);
        // CB 6F 019C
        gbc.setState(0xc3f6, 0xa637, 0x34e0, 0x861, 0x7fd9, 0x5deb, 0x1, 0x0);
        gbc.writeMem(0xc3f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xa637);
        EXPECT(gbc.pc(), 0xc3f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3f6), 0xcb);
        EXPECT(gbc.readMem(0xc3f7), 0x6f);
        // CB 6F 019D
        gbc.setState(0xcad3, 0x79d5, 0x50f0, 0xeb95, 0x889f, 0xb9b9, 0x0, 0x0);
        gbc.writeMem(0xcad3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x79d5);
        EXPECT(gbc.pc(), 0xcad5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcad3), 0xcb);
        EXPECT(gbc.readMem(0xcad4), 0x6f);
        // CB 6F 019E
        gbc.setState(0xaf7a, 0x668f, 0x6c10, 0xa30, 0x532d, 0xd96, 0x1, 0x1);
        gbc.writeMem(0xaf7a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x668f);
        EXPECT(gbc.pc(), 0xaf7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf7a), 0xcb);
        EXPECT(gbc.readMem(0xaf7b), 0x6f);
        // CB 6F 019F
        gbc.setState(0x86c4, 0x4d4d, 0xc020, 0x78fb, 0xf40, 0xe49e, 0x0, 0x1);
        gbc.writeMem(0x86c4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x4d4d);
        EXPECT(gbc.pc(), 0x86c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c4), 0xcb);
        EXPECT(gbc.readMem(0x86c5), 0x6f);
        // CB 6F 01A0
        gbc.setState(0x95f6, 0x8248, 0x5fc0, 0x401, 0xc9ec, 0xe738, 0x1, 0x1);
        gbc.writeMem(0x95f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8248);
        EXPECT(gbc.pc(), 0x95f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95f6), 0xcb);
        EXPECT(gbc.readMem(0x95f7), 0x6f);
        // CB 6F 01A1
        gbc.setState(0xad7d, 0xa9c1, 0x8bc0, 0xc494, 0xe27, 0x35d7, 0x1, 0x1);
        gbc.writeMem(0xad7d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa9c1);
        EXPECT(gbc.pc(), 0xad7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad7d), 0xcb);
        EXPECT(gbc.readMem(0xad7e), 0x6f);
        // CB 6F 01A2
        gbc.setState(0x19bb, 0x89f6, 0xf7d0, 0x20d9, 0x5569, 0x3fbb, 0x0, 0x0);
        gbc.writeMem(0x19bb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x89f6);
        EXPECT(gbc.pc(), 0x19bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01A3
        gbc.setState(0x1667, 0x9d75, 0x6ff0, 0x1191, 0x41aa, 0x8e2e, 0x1, 0x0);
        gbc.writeMem(0x1667, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x9d75);
        EXPECT(gbc.pc(), 0x1669);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01A4
        gbc.setState(0x3d10, 0x7748, 0x4590, 0x5f0d, 0x7254, 0x728b, 0x0, 0x1);
        gbc.writeMem(0x3d10, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x7748);
        EXPECT(gbc.pc(), 0x3d12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01A5
        gbc.setState(0x9a56, 0x8d7c, 0x2d00, 0x2a5e, 0xa607, 0x86ae, 0x1, 0x0);
        gbc.writeMem(0x9a56, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x8d7c);
        EXPECT(gbc.pc(), 0x9a58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a56), 0xcb);
        EXPECT(gbc.readMem(0x9a57), 0x6f);
        // CB 6F 01A6
        gbc.setState(0x770e, 0xcea0, 0xe200, 0x50ce, 0xbe93, 0xd657, 0x1, 0x1);
        gbc.writeMem(0x770e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xcea0);
        EXPECT(gbc.pc(), 0x7710);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01A7
        gbc.setState(0x10ba, 0xbe99, 0x4140, 0xc964, 0x77c0, 0x75c1, 0x1, 0x1);
        gbc.writeMem(0x10ba, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xbe99);
        EXPECT(gbc.pc(), 0x10bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01A8
        gbc.setState(0xc7dd, 0xa164, 0x2a70, 0x24e5, 0x1e62, 0xd2c6, 0x0, 0x1);
        gbc.writeMem(0xc7dd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xa164);
        EXPECT(gbc.pc(), 0xc7df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7dd), 0xcb);
        EXPECT(gbc.readMem(0xc7de), 0x6f);
        // CB 6F 01AA
        gbc.setState(0x1a1b, 0xfb04, 0xf40, 0x49b0, 0xbdd0, 0x31bf, 0x0, 0x0);
        gbc.writeMem(0x1a1b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xfb04);
        EXPECT(gbc.pc(), 0x1a1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01AB
        gbc.setState(0x8196, 0x82ad, 0xd90, 0x26e1, 0x881c, 0x74f5, 0x1, 0x1);
        gbc.writeMem(0x8196, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x82ad);
        EXPECT(gbc.pc(), 0x8198);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8196), 0xcb);
        EXPECT(gbc.readMem(0x8197), 0x6f);
        // CB 6F 01AC
        gbc.setState(0x28d6, 0xb3fa, 0xc40, 0x10f2, 0x9754, 0xfde1, 0x0, 0x1);
        gbc.writeMem(0x28d6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xb3fa);
        EXPECT(gbc.pc(), 0x28d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01AE
        gbc.setState(0x3047, 0x26b7, 0x5480, 0xb598, 0xabb3, 0xf099, 0x0, 0x0);
        gbc.writeMem(0x3047, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x26b7);
        EXPECT(gbc.pc(), 0x3049);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01AF
        gbc.setState(0x968d, 0x40ec, 0x8540, 0x1882, 0xd254, 0x2a72, 0x1, 0x0);
        gbc.writeMem(0x968d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x40ec);
        EXPECT(gbc.pc(), 0x968f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x968d), 0xcb);
        EXPECT(gbc.readMem(0x968e), 0x6f);
        // CB 6F 01B0
        gbc.setState(0x9b33, 0x756c, 0xc5c0, 0xaac0, 0xa933, 0x9e9c, 0x1, 0x0);
        gbc.writeMem(0x9b33, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x756c);
        EXPECT(gbc.pc(), 0x9b35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b33), 0xcb);
        EXPECT(gbc.readMem(0x9b34), 0x6f);
        // CB 6F 01B1
        gbc.setState(0xd694, 0x7b9, 0x8490, 0xfae5, 0x4701, 0xeffa, 0x1, 0x0);
        gbc.writeMem(0xd694, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7b9);
        EXPECT(gbc.pc(), 0xd696);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd694), 0xcb);
        EXPECT(gbc.readMem(0xd695), 0x6f);
        // CB 6F 01B2
        gbc.setState(0x807e, 0x9daa, 0xb020, 0x6338, 0xae0b, 0x6831, 0x0, 0x1);
        gbc.writeMem(0x807e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9daa);
        EXPECT(gbc.pc(), 0x8080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x807e), 0xcb);
        EXPECT(gbc.readMem(0x807f), 0x6f);
        // CB 6F 01B3
        gbc.setState(0x2119, 0x5125, 0xe950, 0x5609, 0x424, 0xa448, 0x0, 0x1);
        gbc.writeMem(0x2119, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5125);
        EXPECT(gbc.pc(), 0x211b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01B5
        gbc.setState(0x5a2c, 0x149f, 0x9f00, 0x422e, 0x785, 0x1016, 0x0, 0x1);
        gbc.writeMem(0x5a2c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x149f);
        EXPECT(gbc.pc(), 0x5a2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01B8
        gbc.setState(0xa8c3, 0xe9f0, 0x9ca0, 0x129d, 0x294d, 0x5e83, 0x0, 0x1);
        gbc.writeMem(0xa8c3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe9f0);
        EXPECT(gbc.pc(), 0xa8c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8c3), 0xcb);
        EXPECT(gbc.readMem(0xa8c4), 0x6f);
        // CB 6F 01B9
        gbc.setState(0x12c2, 0xa77a, 0xf910, 0x5855, 0x12b9, 0x8656, 0x1, 0x0);
        gbc.writeMem(0x12c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xa77a);
        EXPECT(gbc.pc(), 0x12c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01BA
        gbc.setState(0xb46c, 0x5153, 0xb180, 0xc392, 0xd742, 0x3932, 0x1, 0x1);
        gbc.writeMem(0xb46c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5153);
        EXPECT(gbc.pc(), 0xb46e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46c), 0xcb);
        EXPECT(gbc.readMem(0xb46d), 0x6f);
        // CB 6F 01BB
        gbc.setState(0x98e, 0x919a, 0x61f0, 0xeddc, 0xc3f7, 0xb1ca, 0x0, 0x0);
        gbc.writeMem(0x98e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x919a);
        EXPECT(gbc.pc(), 0x990);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01BC
        gbc.setState(0x5f62, 0xb550, 0x9f50, 0x79d2, 0x91c9, 0x616d, 0x1, 0x1);
        gbc.writeMem(0x5f62, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb550);
        EXPECT(gbc.pc(), 0x5f64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01BD
        gbc.setState(0xced6, 0x2478, 0x3b40, 0x3d98, 0x5d93, 0x89c, 0x1, 0x1);
        gbc.writeMem(0xced6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x2478);
        EXPECT(gbc.pc(), 0xced8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xced6), 0xcb);
        EXPECT(gbc.readMem(0xced7), 0x6f);
        // CB 6F 01BE
        gbc.setState(0xa436, 0xe82e, 0xb4b0, 0xed79, 0x2277, 0x9212, 0x1, 0x1);
        gbc.writeMem(0xa436, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe82e);
        EXPECT(gbc.pc(), 0xa438);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa436), 0xcb);
        EXPECT(gbc.readMem(0xa437), 0x6f);
        // CB 6F 01BF
        gbc.setState(0x10c8, 0xf802, 0x6720, 0xc978, 0xb969, 0xafce, 0x1, 0x1);
        gbc.writeMem(0x10c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf802);
        EXPECT(gbc.pc(), 0x10ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01C0
        gbc.setState(0x2bb2, 0xc1a6, 0xb060, 0xfccd, 0x3323, 0xea56, 0x0, 0x1);
        gbc.writeMem(0x2bb2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc1a6);
        EXPECT(gbc.pc(), 0x2bb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01C1
        gbc.setState(0x993d, 0xb518, 0xf3e0, 0x200c, 0x22a9, 0xf312, 0x1, 0x0);
        gbc.writeMem(0x993d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb518);
        EXPECT(gbc.pc(), 0x993f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x993d), 0xcb);
        EXPECT(gbc.readMem(0x993e), 0x6f);
        // CB 6F 01C3
        gbc.setState(0xb99a, 0x37cc, 0xd7a0, 0x5b06, 0x296c, 0xba0e, 0x1, 0x0);
        gbc.writeMem(0xb99a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x37cc);
        EXPECT(gbc.pc(), 0xb99c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb99a), 0xcb);
        EXPECT(gbc.readMem(0xb99b), 0x6f);
        // CB 6F 01C4
        gbc.setState(0x280, 0xeca6, 0x93d0, 0x8764, 0x43dd, 0xeb8f, 0x1, 0x1);
        gbc.writeMem(0x280, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xeca6);
        EXPECT(gbc.pc(), 0x282);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01C5
        gbc.setState(0xc57a, 0xae4f, 0x1980, 0x223f, 0x3900, 0x4541, 0x0, 0x0);
        gbc.writeMem(0xc57a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xae4f);
        EXPECT(gbc.pc(), 0xc57c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc57a), 0xcb);
        EXPECT(gbc.readMem(0xc57b), 0x6f);
        // CB 6F 01C6
        gbc.setState(0xb667, 0x89fa, 0x7b30, 0x9851, 0x734b, 0x39e5, 0x0, 0x0);
        gbc.writeMem(0xb667, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x89fa);
        EXPECT(gbc.pc(), 0xb669);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb667), 0xcb);
        EXPECT(gbc.readMem(0xb668), 0x6f);
        // CB 6F 01C7
        gbc.setState(0xcfb2, 0x787f, 0xee10, 0x3902, 0xa6b9, 0x752c, 0x1, 0x0);
        gbc.writeMem(0xcfb2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x787f);
        EXPECT(gbc.pc(), 0xcfb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfb2), 0xcb);
        EXPECT(gbc.readMem(0xcfb3), 0x6f);
        // CB 6F 01C8
        gbc.setState(0xba2b, 0x72ad, 0x4880, 0x5866, 0xfd66, 0xd3d8, 0x1, 0x1);
        gbc.writeMem(0xba2b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x72ad);
        EXPECT(gbc.pc(), 0xba2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba2b), 0xcb);
        EXPECT(gbc.readMem(0xba2c), 0x6f);
        // CB 6F 01C9
        gbc.setState(0xcf6a, 0xad11, 0x1710, 0x2c58, 0x9569, 0xc139, 0x0, 0x1);
        gbc.writeMem(0xcf6a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xad11);
        EXPECT(gbc.pc(), 0xcf6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf6a), 0xcb);
        EXPECT(gbc.readMem(0xcf6b), 0x6f);
        // CB 6F 01CA
        gbc.setState(0xa604, 0x4e59, 0x28f0, 0xd102, 0xfd68, 0xe5c4, 0x1, 0x1);
        gbc.writeMem(0xa604, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x4e59);
        EXPECT(gbc.pc(), 0xa606);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa604), 0xcb);
        EXPECT(gbc.readMem(0xa605), 0x6f);
        // CB 6F 01CB
        gbc.setState(0x2e28, 0x2f21, 0x1d50, 0xefb2, 0x77dd, 0x3a04, 0x0, 0x0);
        gbc.writeMem(0x2e28, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x2f21);
        EXPECT(gbc.pc(), 0x2e2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01CC
        gbc.setState(0x49ff, 0x565c, 0x8fb0, 0x60f9, 0xeb62, 0x2311, 0x1, 0x1);
        gbc.writeMem(0x49ff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x565c);
        EXPECT(gbc.pc(), 0x4a01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01CD
        gbc.setState(0xcf22, 0xa323, 0xdba0, 0x5ee2, 0xbcd4, 0xb645, 0x1, 0x1);
        gbc.writeMem(0xcf22, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa323);
        EXPECT(gbc.pc(), 0xcf24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf22), 0xcb);
        EXPECT(gbc.readMem(0xcf23), 0x6f);
        // CB 6F 01CF
        gbc.setState(0x6c38, 0x319e, 0xc7d0, 0x3364, 0x499f, 0x7fb2, 0x1, 0x1);
        gbc.writeMem(0x6c38, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x319e);
        EXPECT(gbc.pc(), 0x6c3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01D0
        gbc.setState(0x2c59, 0x3a4c, 0x7fb0, 0xf518, 0xc685, 0x391f, 0x0, 0x1);
        gbc.writeMem(0x2c59, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3a4c);
        EXPECT(gbc.pc(), 0x2c5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01D1
        gbc.setState(0x1aa9, 0xe254, 0xc7e0, 0x21f7, 0x1bbb, 0x808f, 0x1, 0x0);
        gbc.writeMem(0x1aa9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe254);
        EXPECT(gbc.pc(), 0x1aab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01D2
        gbc.setState(0x8fba, 0x8ac4, 0x90b0, 0xdaa1, 0x7c1d, 0xf662, 0x1, 0x0);
        gbc.writeMem(0x8fba, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x8ac4);
        EXPECT(gbc.pc(), 0x8fbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fba), 0xcb);
        EXPECT(gbc.readMem(0x8fbb), 0x6f);
        // CB 6F 01D3
        gbc.setState(0x264f, 0xff8f, 0xda0, 0xb3a5, 0x8d98, 0x4996, 0x1, 0x1);
        gbc.writeMem(0x264f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xff8f);
        EXPECT(gbc.pc(), 0x2651);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01D4
        gbc.setState(0x187d, 0xbb4d, 0xae20, 0xe730, 0x75bc, 0x2df1, 0x0, 0x1);
        gbc.writeMem(0x187d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xbb4d);
        EXPECT(gbc.pc(), 0x187f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01D5
        gbc.setState(0x3c63, 0xbc10, 0x8950, 0xb568, 0x4e2d, 0x8992, 0x1, 0x1);
        gbc.writeMem(0x3c63, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xbc10);
        EXPECT(gbc.pc(), 0x3c65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01D6
        gbc.setState(0x32ba, 0x8859, 0x99b0, 0xe17f, 0x2682, 0xcc1b, 0x0, 0x0);
        gbc.writeMem(0x32ba, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x8859);
        EXPECT(gbc.pc(), 0x32bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01D7
        gbc.setState(0x128c, 0x31b7, 0x14e0, 0xbdd2, 0xdac5, 0x179c, 0x0, 0x1);
        gbc.writeMem(0x128c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x31b7);
        EXPECT(gbc.pc(), 0x128e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01D8
        gbc.setState(0x8320, 0x9816, 0x2340, 0xd52b, 0xae, 0x6d03, 0x0, 0x1);
        gbc.writeMem(0x8320, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9816);
        EXPECT(gbc.pc(), 0x8322);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8320), 0xcb);
        EXPECT(gbc.readMem(0x8321), 0x6f);
        // CB 6F 01D9
        gbc.setState(0x63c8, 0x707, 0x5af0, 0x783d, 0xc9f, 0xe9da, 0x0, 0x1);
        gbc.writeMem(0x63c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x707);
        EXPECT(gbc.pc(), 0x63ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01DA
        gbc.setState(0xddfa, 0xc416, 0x35c0, 0x5a09, 0xba3c, 0xfde7, 0x1, 0x1);
        gbc.writeMem(0xddfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc416);
        EXPECT(gbc.pc(), 0xddfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddfa), 0xcb);
        EXPECT(gbc.readMem(0xddfb), 0x6f);
        // CB 6F 01DB
        gbc.setState(0x7b20, 0x7fba, 0x5f10, 0xa138, 0xdb7e, 0x67d0, 0x1, 0x0);
        gbc.writeMem(0x7b20, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x7fba);
        EXPECT(gbc.pc(), 0x7b22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01DC
        gbc.setState(0xaca3, 0xdaf9, 0x8210, 0x3f55, 0xe5c2, 0xaf66, 0x0, 0x1);
        gbc.writeMem(0xaca3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xdaf9);
        EXPECT(gbc.pc(), 0xaca5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaca3), 0xcb);
        EXPECT(gbc.readMem(0xaca4), 0x6f);
        // CB 6F 01DD
        gbc.setState(0x7e3b, 0x2b83, 0x1420, 0xda29, 0x1f05, 0xe36b, 0x0, 0x1);
        gbc.writeMem(0x7e3b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2b83);
        EXPECT(gbc.pc(), 0x7e3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01DE
        gbc.setState(0x7d15, 0x1880, 0x6a50, 0xca53, 0xe6ae, 0x72e4, 0x1, 0x1);
        gbc.writeMem(0x7d15, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x1880);
        EXPECT(gbc.pc(), 0x7d17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01DF
        gbc.setState(0xda59, 0xf5d7, 0x7440, 0x19b9, 0xdf9a, 0x2662, 0x1, 0x1);
        gbc.writeMem(0xda59, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf5d7);
        EXPECT(gbc.pc(), 0xda5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda59), 0xcb);
        EXPECT(gbc.readMem(0xda5a), 0x6f);
        // CB 6F 01E0
        gbc.setState(0x959d, 0x9fe5, 0x93f0, 0x2644, 0x9804, 0x93d7, 0x1, 0x0);
        gbc.writeMem(0x959d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x9fe5);
        EXPECT(gbc.pc(), 0x959f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x959d), 0xcb);
        EXPECT(gbc.readMem(0x959e), 0x6f);
        // CB 6F 01E1
        gbc.setState(0xadff, 0xd2b9, 0x7dc0, 0xa1, 0x17a3, 0xe66, 0x0, 0x0);
        gbc.writeMem(0xadff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd2b9);
        EXPECT(gbc.pc(), 0xae01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadff), 0xcb);
        EXPECT(gbc.readMem(0xae00), 0x6f);
        // CB 6F 01E2
        gbc.setState(0x768a, 0x9612, 0x2da0, 0x9552, 0x9b07, 0xeefe, 0x0, 0x0);
        gbc.writeMem(0x768a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9612);
        EXPECT(gbc.pc(), 0x768c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01E3
        gbc.setState(0x4185, 0x1ff6, 0xcd60, 0x6928, 0xec4f, 0x6706, 0x0, 0x1);
        gbc.writeMem(0x4185, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1ff6);
        EXPECT(gbc.pc(), 0x4187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01E4
        gbc.setState(0xebea, 0x602a, 0xb930, 0x15c9, 0xa0c2, 0x4a53, 0x1, 0x0);
        gbc.writeMem(0xebea, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x602a);
        EXPECT(gbc.pc(), 0xebec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebea), 0xcb);
        EXPECT(gbc.readMem(0xebeb), 0x6f);
        // CB 6F 01E5
        gbc.setState(0x34df, 0xcc1c, 0x3ef0, 0x711, 0xa42a, 0xe7aa, 0x0, 0x1);
        gbc.writeMem(0x34df, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xcc1c);
        EXPECT(gbc.pc(), 0x34e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01E6
        gbc.setState(0x2cb3, 0x8089, 0x6930, 0x2663, 0x2dff, 0x5179, 0x1, 0x1);
        gbc.writeMem(0x2cb3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8089);
        EXPECT(gbc.pc(), 0x2cb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01E7
        gbc.setState(0x2d82, 0xf9ec, 0x9b40, 0xf34f, 0xcafe, 0x47b6, 0x0, 0x0);
        gbc.writeMem(0x2d82, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf9ec);
        EXPECT(gbc.pc(), 0x2d84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01E8
        gbc.setState(0xdbd9, 0xca5e, 0x2420, 0x6cd2, 0x410a, 0x7275, 0x0, 0x0);
        gbc.writeMem(0xdbd9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xca5e);
        EXPECT(gbc.pc(), 0xdbdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbd9), 0xcb);
        EXPECT(gbc.readMem(0xdbda), 0x6f);
        // CB 6F 01E9
        gbc.setState(0x859d, 0xcbc1, 0xfdb0, 0xa1f7, 0xf5c5, 0x432, 0x0, 0x1);
        gbc.writeMem(0x859d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xcbc1);
        EXPECT(gbc.pc(), 0x859f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x859d), 0xcb);
        EXPECT(gbc.readMem(0x859e), 0x6f);
        // CB 6F 01EA
        gbc.setState(0xd2bd, 0xed53, 0x2600, 0x207d, 0x46f8, 0x7a36, 0x0, 0x0);
        gbc.writeMem(0xd2bd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xed53);
        EXPECT(gbc.pc(), 0xd2bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2bd), 0xcb);
        EXPECT(gbc.readMem(0xd2be), 0x6f);
        // CB 6F 01EB
        gbc.setState(0xa6f3, 0xfe14, 0x1bd0, 0x91a, 0xa1a7, 0x5ec8, 0x1, 0x0);
        gbc.writeMem(0xa6f3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xfe14);
        EXPECT(gbc.pc(), 0xa6f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f3), 0xcb);
        EXPECT(gbc.readMem(0xa6f4), 0x6f);
        // CB 6F 01EC
        gbc.setState(0x1d04, 0x70b4, 0xf150, 0x84b4, 0x7d83, 0xef7f, 0x0, 0x1);
        gbc.writeMem(0x1d04, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x70b4);
        EXPECT(gbc.pc(), 0x1d06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01ED
        gbc.setState(0xdc55, 0x4b8e, 0xe2b0, 0x1530, 0x603b, 0x8bd4, 0x1, 0x1);
        gbc.writeMem(0xdc55, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4b8e);
        EXPECT(gbc.pc(), 0xdc57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc55), 0xcb);
        EXPECT(gbc.readMem(0xdc56), 0x6f);
        // CB 6F 01EE
        gbc.setState(0xa2e1, 0x31cb, 0x2750, 0x729c, 0x3112, 0x585c, 0x0, 0x0);
        gbc.writeMem(0xa2e1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x31cb);
        EXPECT(gbc.pc(), 0xa2e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2e1), 0xcb);
        EXPECT(gbc.readMem(0xa2e2), 0x6f);
        // CB 6F 01EF
        gbc.setState(0xca98, 0xf565, 0xcda0, 0xeda9, 0xbbf2, 0xd097, 0x0, 0x1);
        gbc.writeMem(0xca98, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xf565);
        EXPECT(gbc.pc(), 0xca9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca98), 0xcb);
        EXPECT(gbc.readMem(0xca99), 0x6f);
        // CB 6F 01F0
        gbc.setState(0xa180, 0xc355, 0xfc30, 0xbfcd, 0xa27b, 0x9bdf, 0x1, 0x1);
        gbc.writeMem(0xa180, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc355);
        EXPECT(gbc.pc(), 0xa182);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa180), 0xcb);
        EXPECT(gbc.readMem(0xa181), 0x6f);
        // CB 6F 01F1
        gbc.setState(0xd8f6, 0xc837, 0x5ff0, 0xb12, 0x506a, 0xc71d, 0x1, 0x0);
        gbc.writeMem(0xd8f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc837);
        EXPECT(gbc.pc(), 0xd8f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8f6), 0xcb);
        EXPECT(gbc.readMem(0xd8f7), 0x6f);
        // CB 6F 01F2
        gbc.setState(0x538e, 0x47f3, 0x45a0, 0xb9a0, 0x98ff, 0xfb97, 0x0, 0x1);
        gbc.writeMem(0x538e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x47f3);
        EXPECT(gbc.pc(), 0x5390);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01F3
        gbc.setState(0xcc9a, 0xa22e, 0x4b30, 0x2f1f, 0x2b59, 0x5c60, 0x0, 0x1);
        gbc.writeMem(0xcc9a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa22e);
        EXPECT(gbc.pc(), 0xcc9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc9a), 0xcb);
        EXPECT(gbc.readMem(0xcc9b), 0x6f);
        // CB 6F 01F4
        gbc.setState(0x5064, 0x238a, 0x940, 0x8b33, 0xd7ad, 0xd173, 0x1, 0x1);
        gbc.writeMem(0x5064, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x238a);
        EXPECT(gbc.pc(), 0x5066);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 01F5
        gbc.setState(0x9a4f, 0x8e20, 0xe960, 0xf773, 0xbe96, 0xb04e, 0x1, 0x1);
        gbc.writeMem(0x9a4f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8e20);
        EXPECT(gbc.pc(), 0x9a51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a4f), 0xcb);
        EXPECT(gbc.readMem(0x9a50), 0x6f);
        // CB 6F 01F6
        gbc.setState(0xe137, 0x5250, 0xd480, 0x61ef, 0x7c06, 0x4e0b, 0x0, 0x0);
        gbc.writeMem(0xe137, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x5250);
        EXPECT(gbc.pc(), 0xe139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe137), 0xcb);
        EXPECT(gbc.readMem(0xe138), 0x6f);
        // CB 6F 01F7
        gbc.setState(0xef5d, 0xbea2, 0x6850, 0xd860, 0x9bd1, 0x5680, 0x1, 0x1);
        gbc.writeMem(0xef5d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbea2);
        EXPECT(gbc.pc(), 0xef5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef5d), 0xcb);
        EXPECT(gbc.readMem(0xef5e), 0x6f);
        // CB 6F 01F8
        gbc.setState(0xb719, 0xdc39, 0xa750, 0x1351, 0xcfb9, 0x13a5, 0x1, 0x1);
        gbc.writeMem(0xb719, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xdc39);
        EXPECT(gbc.pc(), 0xb71b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb719), 0xcb);
        EXPECT(gbc.readMem(0xb71a), 0x6f);
        // CB 6F 01F9
        gbc.setState(0x467d, 0x3d8a, 0x2690, 0xe946, 0x420, 0x4073, 0x0, 0x0);
        gbc.writeMem(0x467d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x3d8a);
        EXPECT(gbc.pc(), 0x467f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01FB
        gbc.setState(0xe89, 0xc5aa, 0x8670, 0xea2a, 0xbf16, 0x2f8d, 0x0, 0x0);
        gbc.writeMem(0xe89, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc5aa);
        EXPECT(gbc.pc(), 0xe8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01FC
        gbc.setState(0x2da3, 0xb660, 0x4af0, 0xa9ee, 0xa60f, 0x147f, 0x0, 0x0);
        gbc.writeMem(0x2da3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xb660);
        EXPECT(gbc.pc(), 0x2da5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01FD
        gbc.setState(0x4b5b, 0x4e07, 0xd450, 0x2bc5, 0xe6b, 0x9a1a, 0x1, 0x1);
        gbc.writeMem(0x4b5b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4e07);
        EXPECT(gbc.pc(), 0x4b5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 01FE
        gbc.setState(0x97bd, 0xcdb4, 0x58c0, 0x9e83, 0x975e, 0xf351, 0x1, 0x0);
        gbc.writeMem(0x97bd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xcdb4);
        EXPECT(gbc.pc(), 0x97bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97bd), 0xcb);
        EXPECT(gbc.readMem(0x97be), 0x6f);
        // CB 6F 01FF
        gbc.setState(0x1ecd, 0x352a, 0x3ee0, 0x80da, 0x29a8, 0x6991, 0x0, 0x1);
        gbc.writeMem(0x1ecd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x352a);
        EXPECT(gbc.pc(), 0x1ecf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0200
        gbc.setState(0xaa7a, 0x9336, 0xc0e0, 0xae66, 0xf318, 0xf657, 0x0, 0x1);
        gbc.writeMem(0xaa7a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9336);
        EXPECT(gbc.pc(), 0xaa7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa7a), 0xcb);
        EXPECT(gbc.readMem(0xaa7b), 0x6f);
        // CB 6F 0201
        gbc.setState(0x1abd, 0x5af6, 0x81a0, 0x9c5b, 0x6665, 0x6dea, 0x0, 0x0);
        gbc.writeMem(0x1abd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5af6);
        EXPECT(gbc.pc(), 0x1abf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0202
        gbc.setState(0xb16b, 0x7e3a, 0xfc70, 0x20e2, 0x6aa9, 0x34dd, 0x1, 0x0);
        gbc.writeMem(0xb16b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x7e3a);
        EXPECT(gbc.pc(), 0xb16d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb16b), 0xcb);
        EXPECT(gbc.readMem(0xb16c), 0x6f);
        // CB 6F 0203
        gbc.setState(0xa268, 0x3acb, 0x8d40, 0xe893, 0x7e4c, 0x390d, 0x0, 0x1);
        gbc.writeMem(0xa268, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3acb);
        EXPECT(gbc.pc(), 0xa26a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa268), 0xcb);
        EXPECT(gbc.readMem(0xa269), 0x6f);
        // CB 6F 0204
        gbc.setState(0x5787, 0xa9c7, 0xc00, 0x78cd, 0x301e, 0xa144, 0x0, 0x1);
        gbc.writeMem(0x5787, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa9c7);
        EXPECT(gbc.pc(), 0x5789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0205
        gbc.setState(0x4ba1, 0x512e, 0xefe0, 0x825e, 0x3f5a, 0x3287, 0x1, 0x1);
        gbc.writeMem(0x4ba1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x512e);
        EXPECT(gbc.pc(), 0x4ba3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0206
        gbc.setState(0xd90f, 0x6214, 0xda30, 0x51c6, 0x8a5c, 0x49c4, 0x0, 0x1);
        gbc.writeMem(0xd90f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x6214);
        EXPECT(gbc.pc(), 0xd911);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd90f), 0xcb);
        EXPECT(gbc.readMem(0xd910), 0x6f);
        // CB 6F 0207
        gbc.setState(0x6e0, 0x520e, 0x3070, 0xbd93, 0x606c, 0x4fb, 0x1, 0x0);
        gbc.writeMem(0x6e0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x520e);
        EXPECT(gbc.pc(), 0x6e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0208
        gbc.setState(0x9119, 0x4154, 0xbf60, 0x6093, 0x4822, 0x8fcc, 0x0, 0x0);
        gbc.writeMem(0x9119, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4154);
        EXPECT(gbc.pc(), 0x911b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9119), 0xcb);
        EXPECT(gbc.readMem(0x911a), 0x6f);
        // CB 6F 0209
        gbc.setState(0xa055, 0x80a0, 0x8400, 0x333, 0xaff0, 0x2aeb, 0x0, 0x0);
        gbc.writeMem(0xa055, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x80a0);
        EXPECT(gbc.pc(), 0xa057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa055), 0xcb);
        EXPECT(gbc.readMem(0xa056), 0x6f);
        // CB 6F 020B
        gbc.setState(0x7c0b, 0x2ee8, 0xa240, 0x2a2, 0x8ba9, 0x54c0, 0x1, 0x0);
        gbc.writeMem(0x7c0b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2ee8);
        EXPECT(gbc.pc(), 0x7c0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 020C
        gbc.setState(0x647e, 0xb1a0, 0xb100, 0x801a, 0xe079, 0x1f05, 0x1, 0x1);
        gbc.writeMem(0x647e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb1a0);
        EXPECT(gbc.pc(), 0x6480);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 020D
        gbc.setState(0x5fcf, 0x62d3, 0xbde0, 0x8ff0, 0x8a94, 0x7b2d, 0x0, 0x1);
        gbc.writeMem(0x5fcf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x62d3);
        EXPECT(gbc.pc(), 0x5fd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 020E
        gbc.setState(0x5e94, 0x12a8, 0xf120, 0xa891, 0x3d02, 0x2237, 0x1, 0x0);
        gbc.writeMem(0x5e94, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x12a8);
        EXPECT(gbc.pc(), 0x5e96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 020F
        gbc.setState(0xd691, 0xc3be, 0x2550, 0x7ac8, 0x5b8c, 0x96bd, 0x1, 0x0);
        gbc.writeMem(0xd691, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc3be);
        EXPECT(gbc.pc(), 0xd693);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd691), 0xcb);
        EXPECT(gbc.readMem(0xd692), 0x6f);
        // CB 6F 0210
        gbc.setState(0x17ec, 0x2da2, 0xecc0, 0x2a36, 0xcff, 0x886b, 0x1, 0x0);
        gbc.writeMem(0x17ec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2da2);
        EXPECT(gbc.pc(), 0x17ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0211
        gbc.setState(0xd457, 0xb5d1, 0xcd70, 0xa8c4, 0xbaf1, 0xddc9, 0x0, 0x1);
        gbc.writeMem(0xd457, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xb5d1);
        EXPECT(gbc.pc(), 0xd459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd457), 0xcb);
        EXPECT(gbc.readMem(0xd458), 0x6f);
        // CB 6F 0212
        gbc.setState(0xd1f2, 0xa3bd, 0xba20, 0xd79e, 0x715d, 0x5086, 0x1, 0x1);
        gbc.writeMem(0xd1f2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa3bd);
        EXPECT(gbc.pc(), 0xd1f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1f2), 0xcb);
        EXPECT(gbc.readMem(0xd1f3), 0x6f);
        // CB 6F 0213
        gbc.setState(0x43c, 0xc5d0, 0x4df0, 0xc5c, 0x3a51, 0xe544, 0x0, 0x1);
        gbc.writeMem(0x43c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc5d0);
        EXPECT(gbc.pc(), 0x43e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0214
        gbc.setState(0x57c, 0x2447, 0x3b80, 0xce5b, 0x633e, 0xef6d, 0x1, 0x1);
        gbc.writeMem(0x57c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x2447);
        EXPECT(gbc.pc(), 0x57e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0215
        gbc.setState(0x80b3, 0x68fb, 0x1fd0, 0x9312, 0xde84, 0x9b19, 0x0, 0x1);
        gbc.writeMem(0x80b3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x68fb);
        EXPECT(gbc.pc(), 0x80b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80b3), 0xcb);
        EXPECT(gbc.readMem(0x80b4), 0x6f);
        // CB 6F 0216
        gbc.setState(0xa41b, 0x5563, 0x1f30, 0x6b48, 0xbd2, 0xbb57, 0x0, 0x0);
        gbc.writeMem(0xa41b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5563);
        EXPECT(gbc.pc(), 0xa41d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa41b), 0xcb);
        EXPECT(gbc.readMem(0xa41c), 0x6f);
        // CB 6F 0217
        gbc.setState(0xd3b4, 0xa522, 0x3710, 0x2c43, 0x3301, 0xe2d2, 0x1, 0x0);
        gbc.writeMem(0xd3b4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa522);
        EXPECT(gbc.pc(), 0xd3b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3b4), 0xcb);
        EXPECT(gbc.readMem(0xd3b5), 0x6f);
        // CB 6F 0218
        gbc.setState(0x2235, 0xd383, 0x6fb0, 0xd145, 0x25d8, 0xb841, 0x1, 0x1);
        gbc.writeMem(0x2235, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd383);
        EXPECT(gbc.pc(), 0x2237);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0219
        gbc.setState(0x3e29, 0x6272, 0x82a0, 0xa9d1, 0x10da, 0x9ddf, 0x0, 0x1);
        gbc.writeMem(0x3e29, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x6272);
        EXPECT(gbc.pc(), 0x3e2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 021A
        gbc.setState(0x7b79, 0xb7a7, 0xe8e0, 0x190f, 0x2f0e, 0x7307, 0x1, 0x0);
        gbc.writeMem(0x7b79, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xb7a7);
        EXPECT(gbc.pc(), 0x7b7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 021B
        gbc.setState(0x2c9b, 0xe170, 0x6b10, 0xa065, 0x6303, 0x55f2, 0x0, 0x1);
        gbc.writeMem(0x2c9b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xe170);
        EXPECT(gbc.pc(), 0x2c9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 021C
        gbc.setState(0x4bc5, 0xf1d4, 0x37e0, 0xef59, 0x8e0d, 0x970d, 0x0, 0x0);
        gbc.writeMem(0x4bc5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xf1d4);
        EXPECT(gbc.pc(), 0x4bc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 021D
        gbc.setState(0xd295, 0x2a4e, 0xea40, 0x58b0, 0x38f3, 0x5a2a, 0x0, 0x0);
        gbc.writeMem(0xd295, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x2a4e);
        EXPECT(gbc.pc(), 0xd297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd295), 0xcb);
        EXPECT(gbc.readMem(0xd296), 0x6f);
        // CB 6F 021E
        gbc.setState(0x182e, 0xfda3, 0x93e0, 0x489, 0x3663, 0xa14c, 0x0, 0x1);
        gbc.writeMem(0x182e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xfda3);
        EXPECT(gbc.pc(), 0x1830);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 021F
        gbc.setState(0xf05, 0x823, 0x5bb0, 0xa842, 0xa427, 0x44bb, 0x0, 0x1);
        gbc.writeMem(0xf05, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x823);
        EXPECT(gbc.pc(), 0xf07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0220
        gbc.setState(0xdd3a, 0xc3f6, 0x3f0, 0x8d8a, 0xb4ab, 0xcca4, 0x1, 0x1);
        gbc.writeMem(0xdd3a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc3f6);
        EXPECT(gbc.pc(), 0xdd3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd3a), 0xcb);
        EXPECT(gbc.readMem(0xdd3b), 0x6f);
        // CB 6F 0221
        gbc.setState(0xaa27, 0x2d1c, 0xf470, 0x7499, 0x6d1a, 0xea27, 0x1, 0x0);
        gbc.writeMem(0xaa27, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2d1c);
        EXPECT(gbc.pc(), 0xaa29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa27), 0xcb);
        EXPECT(gbc.readMem(0xaa28), 0x6f);
        // CB 6F 0222
        gbc.setState(0x79d3, 0x37b4, 0xb7e0, 0xd48c, 0x334f, 0x59bb, 0x1, 0x1);
        gbc.writeMem(0x79d3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x37b4);
        EXPECT(gbc.pc(), 0x79d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0223
        gbc.setState(0x3f4f, 0xa6c9, 0xe0c0, 0xaa84, 0x6bbe, 0x914d, 0x1, 0x0);
        gbc.writeMem(0x3f4f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xa6c9);
        EXPECT(gbc.pc(), 0x3f51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0224
        gbc.setState(0x492a, 0xe8aa, 0x1c10, 0x58f3, 0xaf2f, 0xb64a, 0x1, 0x1);
        gbc.writeMem(0x492a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xe8aa);
        EXPECT(gbc.pc(), 0x492c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0225
        gbc.setState(0x8b10, 0x945d, 0x8560, 0x34c0, 0xf01b, 0x3444, 0x0, 0x0);
        gbc.writeMem(0x8b10, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x945d);
        EXPECT(gbc.pc(), 0x8b12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b10), 0xcb);
        EXPECT(gbc.readMem(0x8b11), 0x6f);
        // CB 6F 0226
        gbc.setState(0xcc5, 0xacf1, 0xe390, 0x25be, 0xce43, 0x4dc2, 0x1, 0x1);
        gbc.writeMem(0xcc5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xacf1);
        EXPECT(gbc.pc(), 0xcc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0227
        gbc.setState(0xd065, 0x62a5, 0x7170, 0x3690, 0xd38e, 0xc326, 0x0, 0x1);
        gbc.writeMem(0xd065, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x62a5);
        EXPECT(gbc.pc(), 0xd067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd065), 0xcb);
        EXPECT(gbc.readMem(0xd066), 0x6f);
        // CB 6F 0228
        gbc.setState(0x542f, 0xed8e, 0x9f30, 0x1c95, 0x2701, 0xf110, 0x1, 0x1);
        gbc.writeMem(0x542f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xed8e);
        EXPECT(gbc.pc(), 0x5431);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0229
        gbc.setState(0x4f29, 0x2475, 0xe370, 0x7305, 0xfed4, 0x47f2, 0x0, 0x1);
        gbc.writeMem(0x4f29, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x2475);
        EXPECT(gbc.pc(), 0x4f2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 022A
        gbc.setState(0xce1c, 0x2656, 0x3e10, 0xa7d7, 0x68d5, 0x3706, 0x1, 0x1);
        gbc.writeMem(0xce1c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x2656);
        EXPECT(gbc.pc(), 0xce1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce1c), 0xcb);
        EXPECT(gbc.readMem(0xce1d), 0x6f);
        // CB 6F 022C
        gbc.setState(0xeb81, 0xa60e, 0xd0, 0x5937, 0x3d4, 0x75be, 0x1, 0x0);
        gbc.writeMem(0xeb81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xa60e);
        EXPECT(gbc.pc(), 0xeb83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb81), 0xcb);
        EXPECT(gbc.readMem(0xeb82), 0x6f);
        // CB 6F 022D
        gbc.setState(0xb998, 0x7d2c, 0xbd90, 0xfe9d, 0xbf5e, 0x2e53, 0x0, 0x1);
        gbc.writeMem(0xb998, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7d2c);
        EXPECT(gbc.pc(), 0xb99a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb998), 0xcb);
        EXPECT(gbc.readMem(0xb999), 0x6f);
        // CB 6F 022E
        gbc.setState(0x67c9, 0xb2d3, 0x6c0, 0x5b8c, 0x53e3, 0x2067, 0x0, 0x0);
        gbc.writeMem(0x67c9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb2d3);
        EXPECT(gbc.pc(), 0x67cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 022F
        gbc.setState(0x44b2, 0xd3b, 0x8920, 0xb149, 0x50b5, 0x204a, 0x1, 0x0);
        gbc.writeMem(0x44b2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd3b);
        EXPECT(gbc.pc(), 0x44b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0230
        gbc.setState(0x60, 0xac48, 0x1d20, 0x4d58, 0x662a, 0xf4fb, 0x1, 0x0);
        gbc.writeMem(0x60, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xac48);
        EXPECT(gbc.pc(), 0x62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0231
        gbc.setState(0x97d7, 0x2715, 0xe4a0, 0x52e5, 0x58bf, 0x3dee, 0x1, 0x1);
        gbc.writeMem(0x97d7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x2715);
        EXPECT(gbc.pc(), 0x97d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97d7), 0xcb);
        EXPECT(gbc.readMem(0x97d8), 0x6f);
        // CB 6F 0232
        gbc.setState(0xc8d, 0x95c4, 0x24b0, 0xf89e, 0x7eb2, 0x910c, 0x1, 0x0);
        gbc.writeMem(0xc8d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x95c4);
        EXPECT(gbc.pc(), 0xc8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0233
        gbc.setState(0x569e, 0x255c, 0x8410, 0x19ef, 0xf20, 0xd6e3, 0x1, 0x0);
        gbc.writeMem(0x569e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x255c);
        EXPECT(gbc.pc(), 0x56a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0234
        gbc.setState(0x4a12, 0xf913, 0xf560, 0xe238, 0xb335, 0x8dd1, 0x1, 0x0);
        gbc.writeMem(0x4a12, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xf913);
        EXPECT(gbc.pc(), 0x4a14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0235
        gbc.setState(0x3d7a, 0xa9d3, 0x3a80, 0x78b0, 0x86f3, 0xaeb7, 0x0, 0x0);
        gbc.writeMem(0x3d7a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa9d3);
        EXPECT(gbc.pc(), 0x3d7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0236
        gbc.setState(0x9737, 0x6631, 0xfff0, 0x72d2, 0x76ae, 0xb7c8, 0x1, 0x1);
        gbc.writeMem(0x9737, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x6631);
        EXPECT(gbc.pc(), 0x9739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9737), 0xcb);
        EXPECT(gbc.readMem(0x9738), 0x6f);
        // CB 6F 0237
        gbc.setState(0xd3a1, 0xf713, 0x89f0, 0x969c, 0x13e6, 0xafd5, 0x0, 0x0);
        gbc.writeMem(0xd3a1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xf713);
        EXPECT(gbc.pc(), 0xd3a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3a1), 0xcb);
        EXPECT(gbc.readMem(0xd3a2), 0x6f);
        // CB 6F 0238
        gbc.setState(0xb145, 0xc3f1, 0x9c60, 0x2f98, 0x5264, 0x381d, 0x0, 0x0);
        gbc.writeMem(0xb145, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc3f1);
        EXPECT(gbc.pc(), 0xb147);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb145), 0xcb);
        EXPECT(gbc.readMem(0xb146), 0x6f);
        // CB 6F 0239
        gbc.setState(0x9aa0, 0xff94, 0x2570, 0xd881, 0x9e80, 0xc30b, 0x1, 0x0);
        gbc.writeMem(0x9aa0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xff94);
        EXPECT(gbc.pc(), 0x9aa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aa0), 0xcb);
        EXPECT(gbc.readMem(0x9aa1), 0x6f);
        // CB 6F 023A
        gbc.setState(0xa234, 0x3a21, 0x94b0, 0x39df, 0x1592, 0x611f, 0x0, 0x1);
        gbc.writeMem(0xa234, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3a21);
        EXPECT(gbc.pc(), 0xa236);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa234), 0xcb);
        EXPECT(gbc.readMem(0xa235), 0x6f);
        // CB 6F 023B
        gbc.setState(0xb77a, 0xba1, 0xea80, 0xacad, 0xfdd6, 0x8921, 0x0, 0x1);
        gbc.writeMem(0xb77a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xba1);
        EXPECT(gbc.pc(), 0xb77c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb77a), 0xcb);
        EXPECT(gbc.readMem(0xb77b), 0x6f);
        // CB 6F 023C
        gbc.setState(0xe6ab, 0xf27e, 0x3d10, 0xa401, 0x8638, 0xf11b, 0x0, 0x0);
        gbc.writeMem(0xe6ab, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xf27e);
        EXPECT(gbc.pc(), 0xe6ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6ab), 0xcb);
        EXPECT(gbc.readMem(0xe6ac), 0x6f);
        // CB 6F 023D
        gbc.setState(0xcd40, 0x8413, 0x1000, 0xc0bb, 0xfa10, 0xac5a, 0x1, 0x1);
        gbc.writeMem(0xcd40, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8413);
        EXPECT(gbc.pc(), 0xcd42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd40), 0xcb);
        EXPECT(gbc.readMem(0xcd41), 0x6f);
        // CB 6F 023E
        gbc.setState(0xc3fe, 0xfe3e, 0xebc0, 0x877a, 0x3b69, 0x9e1f, 0x1, 0x0);
        gbc.writeMem(0xc3fe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xfe3e);
        EXPECT(gbc.pc(), 0xc400);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3fe), 0xcb);
        EXPECT(gbc.readMem(0xc3ff), 0x6f);
        // CB 6F 023F
        gbc.setState(0x6d8f, 0xa98a, 0x5400, 0x14e1, 0x9fda, 0x4f7, 0x1, 0x1);
        gbc.writeMem(0x6d8f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa98a);
        EXPECT(gbc.pc(), 0x6d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0240
        gbc.setState(0x8e63, 0xa81a, 0xa850, 0x9457, 0x777a, 0xee78, 0x0, 0x0);
        gbc.writeMem(0x8e63, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xa81a);
        EXPECT(gbc.pc(), 0x8e65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e63), 0xcb);
        EXPECT(gbc.readMem(0x8e64), 0x6f);
        // CB 6F 0241
        gbc.setState(0x2f33, 0x6a0f, 0x46f0, 0xeed7, 0x3a06, 0xc8bd, 0x0, 0x0);
        gbc.writeMem(0x2f33, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x6a0f);
        EXPECT(gbc.pc(), 0x2f35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0242
        gbc.setState(0x36a6, 0xcb40, 0x2fd0, 0x8022, 0x78c3, 0xc3cd, 0x1, 0x0);
        gbc.writeMem(0x36a6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xcb40);
        EXPECT(gbc.pc(), 0x36a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0243
        gbc.setState(0x8925, 0x4244, 0x5fe0, 0xf37c, 0x30f2, 0x55f4, 0x0, 0x0);
        gbc.writeMem(0x8925, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x4244);
        EXPECT(gbc.pc(), 0x8927);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8925), 0xcb);
        EXPECT(gbc.readMem(0x8926), 0x6f);
        // CB 6F 0244
        gbc.setState(0xcc1d, 0x6dba, 0x3ba0, 0xfbe3, 0x6594, 0x7397, 0x0, 0x1);
        gbc.writeMem(0xcc1d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6dba);
        EXPECT(gbc.pc(), 0xcc1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc1d), 0xcb);
        EXPECT(gbc.readMem(0xcc1e), 0x6f);
        // CB 6F 0245
        gbc.setState(0x47a2, 0x59ec, 0xb370, 0x4e33, 0xeca2, 0xb3c1, 0x1, 0x1);
        gbc.writeMem(0x47a2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x59ec);
        EXPECT(gbc.pc(), 0x47a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0246
        gbc.setState(0xd72, 0x9834, 0x4680, 0x2372, 0xa73b, 0x59cb, 0x0, 0x1);
        gbc.writeMem(0xd72, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x9834);
        EXPECT(gbc.pc(), 0xd74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0247
        gbc.setState(0x4b0e, 0xf954, 0x6630, 0x640c, 0xbbbb, 0xe81a, 0x1, 0x1);
        gbc.writeMem(0x4b0e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf954);
        EXPECT(gbc.pc(), 0x4b10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0248
        gbc.setState(0x8c59, 0xb6e0, 0x1bd0, 0x3937, 0x80bb, 0x500e, 0x1, 0x0);
        gbc.writeMem(0x8c59, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xb6e0);
        EXPECT(gbc.pc(), 0x8c5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c59), 0xcb);
        EXPECT(gbc.readMem(0x8c5a), 0x6f);
        // CB 6F 0249
        gbc.setState(0x3709, 0xa9a0, 0x6cc0, 0x490c, 0x9811, 0xfef5, 0x0, 0x0);
        gbc.writeMem(0x3709, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xa9a0);
        EXPECT(gbc.pc(), 0x370b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 024A
        gbc.setState(0x197, 0xe9fd, 0x3c0, 0xff96, 0x6621, 0xaef3, 0x0, 0x0);
        gbc.writeMem(0x197, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe9fd);
        EXPECT(gbc.pc(), 0x199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 024B
        gbc.setState(0x704f, 0xf675, 0x1050, 0x4389, 0x409f, 0xcaa4, 0x1, 0x1);
        gbc.writeMem(0x704f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xf675);
        EXPECT(gbc.pc(), 0x7051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 024C
        gbc.setState(0xc389, 0x9d1f, 0x3f60, 0xec10, 0x681e, 0xc928, 0x0, 0x1);
        gbc.writeMem(0xc389, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9d1f);
        EXPECT(gbc.pc(), 0xc38b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc389), 0xcb);
        EXPECT(gbc.readMem(0xc38a), 0x6f);
        // CB 6F 024D
        gbc.setState(0xafc8, 0xc87e, 0xcd40, 0x44c, 0xbd05, 0xe811, 0x0, 0x0);
        gbc.writeMem(0xafc8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc87e);
        EXPECT(gbc.pc(), 0xafca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafc8), 0xcb);
        EXPECT(gbc.readMem(0xafc9), 0x6f);
        // CB 6F 024E
        gbc.setState(0x13d7, 0x397f, 0xced0, 0x4f2, 0xae18, 0xee86, 0x1, 0x0);
        gbc.writeMem(0x13d7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x397f);
        EXPECT(gbc.pc(), 0x13d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 024F
        gbc.setState(0xb6dd, 0x4d6e, 0x6ad0, 0x49f, 0x8402, 0xd8e9, 0x1, 0x0);
        gbc.writeMem(0xb6dd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4d6e);
        EXPECT(gbc.pc(), 0xb6df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6dd), 0xcb);
        EXPECT(gbc.readMem(0xb6de), 0x6f);
        // CB 6F 0251
        gbc.setState(0x5e89, 0x6b99, 0x5e10, 0x7bd6, 0x2cf0, 0xc976, 0x0, 0x0);
        gbc.writeMem(0x5e89, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6b99);
        EXPECT(gbc.pc(), 0x5e8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0252
        gbc.setState(0xc14c, 0x7f3d, 0x80a0, 0x9751, 0x38be, 0x2a93, 0x1, 0x1);
        gbc.writeMem(0xc14c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x7f3d);
        EXPECT(gbc.pc(), 0xc14e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc14c), 0xcb);
        EXPECT(gbc.readMem(0xc14d), 0x6f);
        // CB 6F 0253
        gbc.setState(0x1d7f, 0x548d, 0xa430, 0xfbb8, 0xfa3d, 0x9c5, 0x1, 0x1);
        gbc.writeMem(0x1d7f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x548d);
        EXPECT(gbc.pc(), 0x1d81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0254
        gbc.setState(0xca5b, 0x87ad, 0x9070, 0xb649, 0x9040, 0x853b, 0x1, 0x1);
        gbc.writeMem(0xca5b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x87ad);
        EXPECT(gbc.pc(), 0xca5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca5b), 0xcb);
        EXPECT(gbc.readMem(0xca5c), 0x6f);
        // CB 6F 0255
        gbc.setState(0x999, 0x572f, 0xb240, 0x739b, 0xbef4, 0x2f24, 0x0, 0x0);
        gbc.writeMem(0x999, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x572f);
        EXPECT(gbc.pc(), 0x99b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0256
        gbc.setState(0x50d, 0x5e4e, 0xd8c0, 0x4803, 0xe7a0, 0x3473, 0x0, 0x1);
        gbc.writeMem(0x50d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5e4e);
        EXPECT(gbc.pc(), 0x50f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0257
        gbc.setState(0xb1f4, 0x7546, 0x4d50, 0x5165, 0x3cc6, 0x892, 0x1, 0x0);
        gbc.writeMem(0xb1f4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x7546);
        EXPECT(gbc.pc(), 0xb1f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1f4), 0xcb);
        EXPECT(gbc.readMem(0xb1f5), 0x6f);
        // CB 6F 0259
        gbc.setState(0xdd53, 0x646b, 0x9320, 0x383d, 0x8f13, 0x8782, 0x1, 0x0);
        gbc.writeMem(0xdd53, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x646b);
        EXPECT(gbc.pc(), 0xdd55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd53), 0xcb);
        EXPECT(gbc.readMem(0xdd54), 0x6f);
        // CB 6F 025A
        gbc.setState(0xec6d, 0xe15a, 0xf550, 0x898b, 0xf6b, 0x3188, 0x1, 0x1);
        gbc.writeMem(0xec6d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe15a);
        EXPECT(gbc.pc(), 0xec6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec6d), 0xcb);
        EXPECT(gbc.readMem(0xec6e), 0x6f);
        // CB 6F 025B
        gbc.setState(0xdbb9, 0x876a, 0x40a0, 0xedd1, 0x54bd, 0xeded, 0x0, 0x0);
        gbc.writeMem(0xdbb9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x876a);
        EXPECT(gbc.pc(), 0xdbbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbb9), 0xcb);
        EXPECT(gbc.readMem(0xdbba), 0x6f);
        // CB 6F 025C
        gbc.setState(0x73f6, 0x3649, 0xdff0, 0xde86, 0xfa62, 0x66d2, 0x0, 0x1);
        gbc.writeMem(0x73f6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x3649);
        EXPECT(gbc.pc(), 0x73f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 025D
        gbc.setState(0xcb86, 0x6aed, 0xccc0, 0x66cb, 0x94a2, 0x3f85, 0x1, 0x1);
        gbc.writeMem(0xcb86, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x6aed);
        EXPECT(gbc.pc(), 0xcb88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb86), 0xcb);
        EXPECT(gbc.readMem(0xcb87), 0x6f);
        // CB 6F 025E
        gbc.setState(0x14ec, 0x2c4d, 0xc4c0, 0x3bac, 0xc6f2, 0x7e4c, 0x1, 0x1);
        gbc.writeMem(0x14ec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x2c4d);
        EXPECT(gbc.pc(), 0x14ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 025F
        gbc.setState(0x37ae, 0x9617, 0x8c90, 0xb48, 0xa9bb, 0xc3cb, 0x0, 0x0);
        gbc.writeMem(0x37ae, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x9617);
        EXPECT(gbc.pc(), 0x37b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0260
        gbc.setState(0xbf71, 0xc0e1, 0x1cd0, 0xaf2d, 0x5dc0, 0x8a88, 0x1, 0x0);
        gbc.writeMem(0xbf71, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xc0e1);
        EXPECT(gbc.pc(), 0xbf73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf71), 0xcb);
        EXPECT(gbc.readMem(0xbf72), 0x6f);
        // CB 6F 0261
        gbc.setState(0x2b11, 0xda03, 0x39a0, 0xca6c, 0x1220, 0xe369, 0x1, 0x0);
        gbc.writeMem(0x2b11, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xda03);
        EXPECT(gbc.pc(), 0x2b13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0262
        gbc.setState(0xd953, 0x9751, 0x3e60, 0x4cf6, 0xe050, 0xa053, 0x0, 0x0);
        gbc.writeMem(0xd953, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9751);
        EXPECT(gbc.pc(), 0xd955);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd953), 0xcb);
        EXPECT(gbc.readMem(0xd954), 0x6f);
        // CB 6F 0263
        gbc.setState(0x16bc, 0xb327, 0xea30, 0x1ef5, 0x9eee, 0x595f, 0x0, 0x0);
        gbc.writeMem(0x16bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb327);
        EXPECT(gbc.pc(), 0x16be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0264
        gbc.setState(0x69d7, 0xbe78, 0xd980, 0x886c, 0x6259, 0x4bd8, 0x1, 0x0);
        gbc.writeMem(0x69d7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xbe78);
        EXPECT(gbc.pc(), 0x69d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0265
        gbc.setState(0x212e, 0xb391, 0x4aa0, 0x2c03, 0x762c, 0x62f6, 0x0, 0x0);
        gbc.writeMem(0x212e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb391);
        EXPECT(gbc.pc(), 0x2130);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0266
        gbc.setState(0x35fd, 0x41b5, 0xdfc0, 0x6ff6, 0x9670, 0x2adb, 0x1, 0x0);
        gbc.writeMem(0x35fd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x41b5);
        EXPECT(gbc.pc(), 0x35ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0267
        gbc.setState(0x30db, 0x7cb4, 0x3290, 0x1354, 0x2351, 0x7, 0x0, 0x0);
        gbc.writeMem(0x30db, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7cb4);
        EXPECT(gbc.pc(), 0x30dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0268
        gbc.setState(0x69c, 0x5354, 0xf1b0, 0xb3ec, 0xec9c, 0x6200, 0x0, 0x1);
        gbc.writeMem(0x69c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x5354);
        EXPECT(gbc.pc(), 0x69e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0269
        gbc.setState(0x2ca0, 0xf089, 0x9770, 0xfe79, 0x98b7, 0x68e1, 0x1, 0x0);
        gbc.writeMem(0x2ca0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf089);
        EXPECT(gbc.pc(), 0x2ca2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 026A
        gbc.setState(0x1997, 0x3df2, 0xe8a0, 0x44eb, 0xd370, 0xb6d5, 0x0, 0x1);
        gbc.writeMem(0x1997, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3df2);
        EXPECT(gbc.pc(), 0x1999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 026B
        gbc.setState(0x7cc5, 0xd92d, 0xa470, 0xccc3, 0xef, 0xeba7, 0x1, 0x0);
        gbc.writeMem(0x7cc5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd92d);
        EXPECT(gbc.pc(), 0x7cc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 026C
        gbc.setState(0x45aa, 0xa36, 0xb550, 0x95ff, 0x8556, 0x86ab, 0x0, 0x1);
        gbc.writeMem(0x45aa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa36);
        EXPECT(gbc.pc(), 0x45ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 026D
        gbc.setState(0x71df, 0xe903, 0x6ca0, 0xfdff, 0xc8d2, 0x4def, 0x0, 0x0);
        gbc.writeMem(0x71df, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe903);
        EXPECT(gbc.pc(), 0x71e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 026E
        gbc.setState(0x9c35, 0x7c68, 0xc0d0, 0xf293, 0x523d, 0x88c1, 0x1, 0x1);
        gbc.writeMem(0x9c35, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x7c68);
        EXPECT(gbc.pc(), 0x9c37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c35), 0xcb);
        EXPECT(gbc.readMem(0x9c36), 0x6f);
        // CB 6F 026F
        gbc.setState(0x3d66, 0xb7ea, 0xde70, 0xe32a, 0x2bcd, 0x121f, 0x0, 0x0);
        gbc.writeMem(0x3d66, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb7ea);
        EXPECT(gbc.pc(), 0x3d68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0270
        gbc.setState(0x6c0e, 0x702, 0x8600, 0xe692, 0xfad, 0x6735, 0x0, 0x0);
        gbc.writeMem(0x6c0e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x702);
        EXPECT(gbc.pc(), 0x6c10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0271
        gbc.setState(0xb11b, 0x8432, 0x7e90, 0x49a0, 0x627d, 0xd86d, 0x1, 0x0);
        gbc.writeMem(0xb11b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x8432);
        EXPECT(gbc.pc(), 0xb11d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb11b), 0xcb);
        EXPECT(gbc.readMem(0xb11c), 0x6f);
        // CB 6F 0272
        gbc.setState(0x6f68, 0xafa0, 0x3ed0, 0x2d8b, 0xc0cb, 0x2845, 0x1, 0x0);
        gbc.writeMem(0x6f68, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xafa0);
        EXPECT(gbc.pc(), 0x6f6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0273
        gbc.setState(0x3857, 0xd3c8, 0xfb40, 0x13aa, 0x679e, 0xdd5d, 0x1, 0x0);
        gbc.writeMem(0x3857, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xd3c8);
        EXPECT(gbc.pc(), 0x3859);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0274
        gbc.setState(0x372e, 0x1ae9, 0x2e40, 0x2ddb, 0xd6e6, 0xe08f, 0x0, 0x0);
        gbc.writeMem(0x372e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x1ae9);
        EXPECT(gbc.pc(), 0x3730);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0275
        gbc.setState(0x2536, 0x9a15, 0x28c0, 0x7c57, 0x8f71, 0x7f19, 0x1, 0x1);
        gbc.writeMem(0x2536, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9a15);
        EXPECT(gbc.pc(), 0x2538);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0276
        gbc.setState(0x7ed5, 0x52d2, 0xa280, 0x9cda, 0xe206, 0xc755, 0x1, 0x1);
        gbc.writeMem(0x7ed5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x52d2);
        EXPECT(gbc.pc(), 0x7ed7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0277
        gbc.setState(0xa7d3, 0xed63, 0xc840, 0xef20, 0x7df3, 0xcbb1, 0x0, 0x0);
        gbc.writeMem(0xa7d3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xed63);
        EXPECT(gbc.pc(), 0xa7d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7d3), 0xcb);
        EXPECT(gbc.readMem(0xa7d4), 0x6f);
        // CB 6F 0278
        gbc.setState(0xc8cd, 0x7b61, 0x8510, 0x9428, 0x7fb8, 0xfc5d, 0x1, 0x1);
        gbc.writeMem(0xc8cd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x7b61);
        EXPECT(gbc.pc(), 0xc8cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8cd), 0xcb);
        EXPECT(gbc.readMem(0xc8ce), 0x6f);
        // CB 6F 0279
        gbc.setState(0xb05d, 0x74a6, 0xef10, 0xb290, 0x560d, 0x34c8, 0x0, 0x0);
        gbc.writeMem(0xb05d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x74a6);
        EXPECT(gbc.pc(), 0xb05f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb05d), 0xcb);
        EXPECT(gbc.readMem(0xb05e), 0x6f);
        // CB 6F 027A
        gbc.setState(0xaf81, 0xd583, 0x8270, 0x1c98, 0x62b5, 0xd575, 0x1, 0x1);
        gbc.writeMem(0xaf81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xd583);
        EXPECT(gbc.pc(), 0xaf83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf81), 0xcb);
        EXPECT(gbc.readMem(0xaf82), 0x6f);
        // CB 6F 027B
        gbc.setState(0x53ae, 0xaad2, 0xc2b0, 0xff61, 0xa268, 0xae68, 0x1, 0x1);
        gbc.writeMem(0x53ae, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xaad2);
        EXPECT(gbc.pc(), 0x53b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 027C
        gbc.setState(0x5eb1, 0x8aa5, 0xe720, 0x4557, 0x28f1, 0x80cb, 0x0, 0x1);
        gbc.writeMem(0x5eb1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8aa5);
        EXPECT(gbc.pc(), 0x5eb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 027E
        gbc.setState(0x7817, 0x8184, 0x44b0, 0x9ec6, 0x968e, 0xd1b4, 0x1, 0x0);
        gbc.writeMem(0x7817, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8184);
        EXPECT(gbc.pc(), 0x7819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 027F
        gbc.setState(0x3353, 0xf43c, 0xaea0, 0x7adb, 0xd605, 0xd4b6, 0x1, 0x0);
        gbc.writeMem(0x3353, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf43c);
        EXPECT(gbc.pc(), 0x3355);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0281
        gbc.setState(0x7891, 0x2691, 0x7e10, 0x44b2, 0xede5, 0x8d90, 0x0, 0x1);
        gbc.writeMem(0x7891, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2691);
        EXPECT(gbc.pc(), 0x7893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0282
        gbc.setState(0x38e6, 0x90e9, 0xf6e0, 0x4d41, 0x38fb, 0xbda6, 0x1, 0x0);
        gbc.writeMem(0x38e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x90e9);
        EXPECT(gbc.pc(), 0x38e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0283
        gbc.setState(0xd25b, 0xcba6, 0x14e0, 0xe64d, 0x8ad8, 0x3822, 0x1, 0x1);
        gbc.writeMem(0xd25b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xcba6);
        EXPECT(gbc.pc(), 0xd25d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd25b), 0xcb);
        EXPECT(gbc.readMem(0xd25c), 0x6f);
        // CB 6F 0286
        gbc.setState(0x8ae1, 0x3a57, 0x3540, 0x9c04, 0x81dc, 0x3980, 0x1, 0x0);
        gbc.writeMem(0x8ae1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3a57);
        EXPECT(gbc.pc(), 0x8ae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ae1), 0xcb);
        EXPECT(gbc.readMem(0x8ae2), 0x6f);
        // CB 6F 0287
        gbc.setState(0xe395, 0xc46d, 0x53a0, 0x9934, 0x70f, 0xdfb5, 0x0, 0x0);
        gbc.writeMem(0xe395, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xc46d);
        EXPECT(gbc.pc(), 0xe397);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe395), 0xcb);
        EXPECT(gbc.readMem(0xe396), 0x6f);
        // CB 6F 0288
        gbc.setState(0x213e, 0x6026, 0x5230, 0xf8e3, 0xbde0, 0xb9ca, 0x0, 0x0);
        gbc.writeMem(0x213e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x6026);
        EXPECT(gbc.pc(), 0x2140);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0289
        gbc.setState(0x4cf1, 0xbe4f, 0x700, 0xef68, 0xf9fe, 0x74df, 0x0, 0x0);
        gbc.writeMem(0x4cf1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xbe4f);
        EXPECT(gbc.pc(), 0x4cf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 028D
        gbc.setState(0xc5c4, 0x5df, 0xbdd0, 0x4c7a, 0x7d04, 0xcf4c, 0x1, 0x0);
        gbc.writeMem(0xc5c4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5df);
        EXPECT(gbc.pc(), 0xc5c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5c4), 0xcb);
        EXPECT(gbc.readMem(0xc5c5), 0x6f);
        // CB 6F 028E
        gbc.setState(0xcd37, 0x54f0, 0xe170, 0xbf05, 0x9ad3, 0x7b7a, 0x1, 0x0);
        gbc.writeMem(0xcd37, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x54f0);
        EXPECT(gbc.pc(), 0xcd39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd37), 0xcb);
        EXPECT(gbc.readMem(0xcd38), 0x6f);
        // CB 6F 028F
        gbc.setState(0x2eff, 0x4258, 0xacd0, 0xec4a, 0xda4, 0x8e56, 0x0, 0x1);
        gbc.writeMem(0x2eff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x4258);
        EXPECT(gbc.pc(), 0x2f01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0290
        gbc.setState(0x773f, 0x4b5a, 0x9d10, 0x78fd, 0x4125, 0xa743, 0x1, 0x0);
        gbc.writeMem(0x773f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x4b5a);
        EXPECT(gbc.pc(), 0x7741);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0291
        gbc.setState(0xea05, 0x4279, 0x4550, 0x767, 0xb731, 0x2dba, 0x0, 0x1);
        gbc.writeMem(0xea05, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4279);
        EXPECT(gbc.pc(), 0xea07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea05), 0xcb);
        EXPECT(gbc.readMem(0xea06), 0x6f);
        // CB 6F 0292
        gbc.setState(0xd95c, 0x6d37, 0x75e0, 0x4412, 0xa16e, 0xe39, 0x0, 0x0);
        gbc.writeMem(0xd95c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6d37);
        EXPECT(gbc.pc(), 0xd95e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd95c), 0xcb);
        EXPECT(gbc.readMem(0xd95d), 0x6f);
        // CB 6F 0293
        gbc.setState(0x2b1, 0xe5cb, 0x91c0, 0xad3b, 0xb16a, 0xacd3, 0x0, 0x0);
        gbc.writeMem(0x2b1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xe5cb);
        EXPECT(gbc.pc(), 0x2b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0294
        gbc.setState(0x8b39, 0xed5f, 0x3820, 0xb0e2, 0xcdcf, 0xc424, 0x1, 0x1);
        gbc.writeMem(0x8b39, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xed5f);
        EXPECT(gbc.pc(), 0x8b3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b39), 0xcb);
        EXPECT(gbc.readMem(0x8b3a), 0x6f);
        // CB 6F 0295
        gbc.setState(0xb5b4, 0x588, 0x17c0, 0x4436, 0x52f5, 0xc52c, 0x1, 0x1);
        gbc.writeMem(0xb5b4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x588);
        EXPECT(gbc.pc(), 0xb5b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5b4), 0xcb);
        EXPECT(gbc.readMem(0xb5b5), 0x6f);
        // CB 6F 0296
        gbc.setState(0x2cfa, 0x9f25, 0x90, 0x4e22, 0x6b1, 0xb3d, 0x0, 0x1);
        gbc.writeMem(0x2cfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9f25);
        EXPECT(gbc.pc(), 0x2cfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0298
        gbc.setState(0xb5dd, 0xd730, 0xe670, 0xda38, 0x3ab0, 0xd567, 0x0, 0x0);
        gbc.writeMem(0xb5dd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd730);
        EXPECT(gbc.pc(), 0xb5df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5dd), 0xcb);
        EXPECT(gbc.readMem(0xb5de), 0x6f);
        // CB 6F 0299
        gbc.setState(0x485c, 0x65d0, 0x49d0, 0xd653, 0x711e, 0x888e, 0x0, 0x1);
        gbc.writeMem(0x485c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x65d0);
        EXPECT(gbc.pc(), 0x485e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 029A
        gbc.setState(0x37bb, 0x23cb, 0x13d0, 0xf263, 0x810b, 0xe023, 0x0, 0x1);
        gbc.writeMem(0x37bb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x23cb);
        EXPECT(gbc.pc(), 0x37bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 029B
        gbc.setState(0xfc2, 0x6a46, 0x3660, 0x6634, 0xb781, 0xe398, 0x0, 0x1);
        gbc.writeMem(0xfc2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6a46);
        EXPECT(gbc.pc(), 0xfc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 029C
        gbc.setState(0x1ef3, 0x5d3e, 0xa560, 0xfe41, 0x6806, 0x75b9, 0x1, 0x0);
        gbc.writeMem(0x1ef3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x5d3e);
        EXPECT(gbc.pc(), 0x1ef5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 029D
        gbc.setState(0x5605, 0x3028, 0xff50, 0x31f2, 0xa6ec, 0x2837, 0x1, 0x1);
        gbc.writeMem(0x5605, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x3028);
        EXPECT(gbc.pc(), 0x5607);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 029E
        gbc.setState(0x4ef7, 0x5cf, 0xe5f0, 0x29cf, 0x6002, 0x1107, 0x0, 0x1);
        gbc.writeMem(0x4ef7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x5cf);
        EXPECT(gbc.pc(), 0x4ef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02A0
        gbc.setState(0x2ae0, 0xd700, 0x110, 0xb3a7, 0xe3d8, 0xbffe, 0x1, 0x1);
        gbc.writeMem(0x2ae0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd700);
        EXPECT(gbc.pc(), 0x2ae2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02A1
        gbc.setState(0xc143, 0xb907, 0xa410, 0xc3b7, 0x2dd1, 0x62b9, 0x0, 0x1);
        gbc.writeMem(0xc143, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb907);
        EXPECT(gbc.pc(), 0xc145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc143), 0xcb);
        EXPECT(gbc.readMem(0xc144), 0x6f);
        // CB 6F 02A4
        gbc.setState(0x75b6, 0xecd4, 0x5360, 0x6cf7, 0x713b, 0xe77, 0x1, 0x0);
        gbc.writeMem(0x75b6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xecd4);
        EXPECT(gbc.pc(), 0x75b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02A5
        gbc.setState(0x9eda, 0xc818, 0x5dd0, 0xfb83, 0xd7c0, 0x478b, 0x1, 0x0);
        gbc.writeMem(0x9eda, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc818);
        EXPECT(gbc.pc(), 0x9edc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9eda), 0xcb);
        EXPECT(gbc.readMem(0x9edb), 0x6f);
        // CB 6F 02A6
        gbc.setState(0x930, 0x922c, 0x8ee0, 0xca75, 0x3fcd, 0xbe88, 0x1, 0x0);
        gbc.writeMem(0x930, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x922c);
        EXPECT(gbc.pc(), 0x932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02A7
        gbc.setState(0xcd15, 0x9810, 0xc860, 0x393, 0x8d23, 0xb14b, 0x0, 0x0);
        gbc.writeMem(0xcd15, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9810);
        EXPECT(gbc.pc(), 0xcd17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd15), 0xcb);
        EXPECT(gbc.readMem(0xcd16), 0x6f);
        // CB 6F 02A9
        gbc.setState(0x3776, 0x5f8a, 0xe70, 0xe0d2, 0x9c01, 0x7f00, 0x0, 0x1);
        gbc.writeMem(0x3776, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x5f8a);
        EXPECT(gbc.pc(), 0x3778);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02AA
        gbc.setState(0x7d9e, 0x32d, 0x4f00, 0x306f, 0x8a6e, 0xe23a, 0x0, 0x0);
        gbc.writeMem(0x7d9e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x32d);
        EXPECT(gbc.pc(), 0x7da0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02AB
        gbc.setState(0x9cfa, 0x2d7, 0xea90, 0x5439, 0x76fc, 0x76ff, 0x1, 0x1);
        gbc.writeMem(0x9cfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2d7);
        EXPECT(gbc.pc(), 0x9cfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cfa), 0xcb);
        EXPECT(gbc.readMem(0x9cfb), 0x6f);
        // CB 6F 02AC
        gbc.setState(0xe0a7, 0x6627, 0xb420, 0x9b24, 0x3c25, 0x5697, 0x1, 0x1);
        gbc.writeMem(0xe0a7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6627);
        EXPECT(gbc.pc(), 0xe0a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a7), 0xcb);
        EXPECT(gbc.readMem(0xe0a8), 0x6f);
        // CB 6F 02AD
        gbc.setState(0xac6f, 0xa18e, 0x78f0, 0xb4ec, 0xddcf, 0x5c44, 0x0, 0x1);
        gbc.writeMem(0xac6f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa18e);
        EXPECT(gbc.pc(), 0xac71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac6f), 0xcb);
        EXPECT(gbc.readMem(0xac70), 0x6f);
        // CB 6F 02AE
        gbc.setState(0x85c9, 0x3bb3, 0x97b0, 0xe2da, 0x33c4, 0x7f80, 0x0, 0x1);
        gbc.writeMem(0x85c9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3bb3);
        EXPECT(gbc.pc(), 0x85cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85c9), 0xcb);
        EXPECT(gbc.readMem(0x85ca), 0x6f);
        // CB 6F 02AF
        gbc.setState(0x4eb0, 0x2c4a, 0x7e90, 0x12f, 0x300, 0x7f3a, 0x0, 0x0);
        gbc.writeMem(0x4eb0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2c4a);
        EXPECT(gbc.pc(), 0x4eb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02B0
        gbc.setState(0xde81, 0x43eb, 0x4c10, 0xb7b8, 0x2b8b, 0xcb73, 0x0, 0x0);
        gbc.writeMem(0xde81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x43eb);
        EXPECT(gbc.pc(), 0xde83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde81), 0xcb);
        EXPECT(gbc.readMem(0xde82), 0x6f);
        // CB 6F 02B2
        gbc.setState(0x909b, 0xc85, 0xb5e0, 0xe547, 0x26d0, 0x4fc2, 0x1, 0x0);
        gbc.writeMem(0x909b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xc85);
        EXPECT(gbc.pc(), 0x909d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x909b), 0xcb);
        EXPECT(gbc.readMem(0x909c), 0x6f);
        // CB 6F 02B3
        gbc.setState(0xd74d, 0x4728, 0x1f10, 0x9a4e, 0x4d4d, 0x3c1a, 0x0, 0x0);
        gbc.writeMem(0xd74d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4728);
        EXPECT(gbc.pc(), 0xd74f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd74d), 0xcb);
        EXPECT(gbc.readMem(0xd74e), 0x6f);
        // CB 6F 02B4
        gbc.setState(0x16c2, 0xab52, 0x4420, 0x99e5, 0x7, 0x5c97, 0x1, 0x1);
        gbc.writeMem(0x16c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xab52);
        EXPECT(gbc.pc(), 0x16c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02B5
        gbc.setState(0x7c62, 0x8cfd, 0x6dd0, 0xd5ad, 0x2b3, 0x7929, 0x1, 0x0);
        gbc.writeMem(0x7c62, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8cfd);
        EXPECT(gbc.pc(), 0x7c64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02B6
        gbc.setState(0xd6e4, 0xdbb6, 0x9ce0, 0x3f07, 0xc317, 0x27ea, 0x0, 0x0);
        gbc.writeMem(0xd6e4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xdbb6);
        EXPECT(gbc.pc(), 0xd6e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6e4), 0xcb);
        EXPECT(gbc.readMem(0xd6e5), 0x6f);
        // CB 6F 02B7
        gbc.setState(0x1a0b, 0x49b8, 0xa1f0, 0x1706, 0x1c81, 0xbb0b, 0x1, 0x1);
        gbc.writeMem(0x1a0b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x49b8);
        EXPECT(gbc.pc(), 0x1a0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02B8
        gbc.setState(0x6bdc, 0x6836, 0xcc00, 0x7c06, 0x323a, 0x89b1, 0x1, 0x1);
        gbc.writeMem(0x6bdc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x6836);
        EXPECT(gbc.pc(), 0x6bde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02B9
        gbc.setState(0xdf3d, 0xc421, 0x7870, 0x8905, 0x6ea6, 0x1e96, 0x0, 0x1);
        gbc.writeMem(0xdf3d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc421);
        EXPECT(gbc.pc(), 0xdf3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf3d), 0xcb);
        EXPECT(gbc.readMem(0xdf3e), 0x6f);
        // CB 6F 02BA
        gbc.setState(0x957, 0x7903, 0xd840, 0xb306, 0xecdf, 0x5318, 0x0, 0x0);
        gbc.writeMem(0x957, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x7903);
        EXPECT(gbc.pc(), 0x959);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02BB
        gbc.setState(0xd73a, 0x866f, 0xfa70, 0x7d7e, 0xfc49, 0x76a5, 0x1, 0x1);
        gbc.writeMem(0xd73a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x866f);
        EXPECT(gbc.pc(), 0xd73c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd73a), 0xcb);
        EXPECT(gbc.readMem(0xd73b), 0x6f);
        // CB 6F 02BC
        gbc.setState(0x3e81, 0xb96d, 0x9cf0, 0x5705, 0x84ac, 0x8e58, 0x1, 0x0);
        gbc.writeMem(0x3e81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xb96d);
        EXPECT(gbc.pc(), 0x3e83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02BD
        gbc.setState(0xbd84, 0x50b1, 0x1a30, 0x2875, 0xf01d, 0xf04b, 0x0, 0x0);
        gbc.writeMem(0xbd84, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x50b1);
        EXPECT(gbc.pc(), 0xbd86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd84), 0xcb);
        EXPECT(gbc.readMem(0xbd85), 0x6f);
        // CB 6F 02BE
        gbc.setState(0x4264, 0xa411, 0x1de0, 0x4e7b, 0x96af, 0xd0dd, 0x1, 0x1);
        gbc.writeMem(0x4264, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xa411);
        EXPECT(gbc.pc(), 0x4266);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02BF
        gbc.setState(0x6d7d, 0x5a0e, 0x4400, 0x17e0, 0x63c4, 0x3f45, 0x0, 0x1);
        gbc.writeMem(0x6d7d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5a0e);
        EXPECT(gbc.pc(), 0x6d7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02C0
        gbc.setState(0x57c0, 0xde91, 0x9690, 0x3209, 0xcca0, 0x9250, 0x1, 0x1);
        gbc.writeMem(0x57c0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xde91);
        EXPECT(gbc.pc(), 0x57c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02C1
        gbc.setState(0x4c8e, 0x5931, 0xcde0, 0x1347, 0xa999, 0x51ac, 0x1, 0x1);
        gbc.writeMem(0x4c8e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5931);
        EXPECT(gbc.pc(), 0x4c90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02C2
        gbc.setState(0x9bd0, 0xdcde, 0x4e0, 0x3cb7, 0x59d0, 0xcffc, 0x0, 0x1);
        gbc.writeMem(0x9bd0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xdcde);
        EXPECT(gbc.pc(), 0x9bd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bd0), 0xcb);
        EXPECT(gbc.readMem(0x9bd1), 0x6f);
        // CB 6F 02C3
        gbc.setState(0x37a1, 0x5642, 0xce00, 0xf2ae, 0x7af6, 0xddf4, 0x0, 0x0);
        gbc.writeMem(0x37a1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x5642);
        EXPECT(gbc.pc(), 0x37a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02C4
        gbc.setState(0xc755, 0x9fc, 0x5d60, 0x41d4, 0x9507, 0x4a59, 0x1, 0x1);
        gbc.writeMem(0xc755, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9fc);
        EXPECT(gbc.pc(), 0xc757);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc755), 0xcb);
        EXPECT(gbc.readMem(0xc756), 0x6f);
        // CB 6F 02C5
        gbc.setState(0xc36d, 0x2fac, 0x2670, 0x8028, 0x1657, 0x9f7c, 0x1, 0x1);
        gbc.writeMem(0xc36d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x2fac);
        EXPECT(gbc.pc(), 0xc36f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc36d), 0xcb);
        EXPECT(gbc.readMem(0xc36e), 0x6f);
        // CB 6F 02C6
        gbc.setState(0xc8f2, 0xcdf8, 0x7680, 0x7394, 0x7936, 0xfd54, 0x0, 0x1);
        gbc.writeMem(0xc8f2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xcdf8);
        EXPECT(gbc.pc(), 0xc8f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8f2), 0xcb);
        EXPECT(gbc.readMem(0xc8f3), 0x6f);
        // CB 6F 02C7
        gbc.setState(0xb1e6, 0xb28e, 0xc550, 0x48d4, 0x95e7, 0x1f9a, 0x1, 0x0);
        gbc.writeMem(0xb1e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb28e);
        EXPECT(gbc.pc(), 0xb1e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1e6), 0xcb);
        EXPECT(gbc.readMem(0xb1e7), 0x6f);
        // CB 6F 02C8
        gbc.setState(0x28ec, 0x2148, 0xced0, 0x8bf4, 0x7ea4, 0x30e3, 0x1, 0x0);
        gbc.writeMem(0x28ec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2148);
        EXPECT(gbc.pc(), 0x28ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02C9
        gbc.setState(0x294f, 0x5b49, 0xaa10, 0x350a, 0xdca9, 0x896e, 0x1, 0x1);
        gbc.writeMem(0x294f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5b49);
        EXPECT(gbc.pc(), 0x2951);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02CA
        gbc.setState(0xbde4, 0xca3d, 0xc600, 0xdd0c, 0xd349, 0x97ad, 0x0, 0x0);
        gbc.writeMem(0xbde4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xca3d);
        EXPECT(gbc.pc(), 0xbde6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbde4), 0xcb);
        EXPECT(gbc.readMem(0xbde5), 0x6f);
        // CB 6F 02CB
        gbc.setState(0x29e0, 0xd695, 0x82d0, 0xfe6b, 0xbf99, 0xa45c, 0x1, 0x1);
        gbc.writeMem(0x29e0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xd695);
        EXPECT(gbc.pc(), 0x29e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02CC
        gbc.setState(0xb45e, 0x2ea5, 0x1cc0, 0x58d7, 0xd49f, 0x41d, 0x0, 0x0);
        gbc.writeMem(0xb45e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x2ea5);
        EXPECT(gbc.pc(), 0xb460);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb45e), 0xcb);
        EXPECT(gbc.readMem(0xb45f), 0x6f);
        // CB 6F 02CD
        gbc.setState(0x8abc, 0xac85, 0xaf80, 0x390e, 0x7d11, 0xa608, 0x1, 0x1);
        gbc.writeMem(0x8abc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xac85);
        EXPECT(gbc.pc(), 0x8abe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8abc), 0xcb);
        EXPECT(gbc.readMem(0x8abd), 0x6f);
        // CB 6F 02CE
        gbc.setState(0x6224, 0x776b, 0x88b0, 0x6c9f, 0xc12b, 0xcc39, 0x1, 0x1);
        gbc.writeMem(0x6224, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x776b);
        EXPECT(gbc.pc(), 0x6226);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02CF
        gbc.setState(0x1372, 0xa14f, 0x1ee0, 0x2a0a, 0xbe3e, 0x3aa1, 0x0, 0x1);
        gbc.writeMem(0x1372, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xa14f);
        EXPECT(gbc.pc(), 0x1374);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02D0
        gbc.setState(0x3f88, 0xe593, 0xb120, 0xb586, 0xc41d, 0x50e0, 0x1, 0x0);
        gbc.writeMem(0x3f88, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xe593);
        EXPECT(gbc.pc(), 0x3f8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02D1
        gbc.setState(0x5b1e, 0xb18b, 0xc440, 0xe0dc, 0xbb38, 0x7276, 0x1, 0x0);
        gbc.writeMem(0x5b1e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xb18b);
        EXPECT(gbc.pc(), 0x5b20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02D2
        gbc.setState(0x8dc4, 0xd70d, 0x83b0, 0xf73b, 0x46ed, 0x8ea2, 0x1, 0x1);
        gbc.writeMem(0x8dc4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xd70d);
        EXPECT(gbc.pc(), 0x8dc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dc4), 0xcb);
        EXPECT(gbc.readMem(0x8dc5), 0x6f);
        // CB 6F 02D3
        gbc.setState(0x5442, 0x91b1, 0x79d0, 0xee18, 0x8c23, 0x6cd9, 0x0, 0x0);
        gbc.writeMem(0x5442, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x91b1);
        EXPECT(gbc.pc(), 0x5444);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02D4
        gbc.setState(0xbbd9, 0x5823, 0x5060, 0xdec, 0x2376, 0x5ba5, 0x0, 0x1);
        gbc.writeMem(0xbbd9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5823);
        EXPECT(gbc.pc(), 0xbbdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbd9), 0xcb);
        EXPECT(gbc.readMem(0xbbda), 0x6f);
        // CB 6F 02D5
        gbc.setState(0x4c24, 0x5671, 0xb0d0, 0x2e4b, 0x76d5, 0xe044, 0x1, 0x0);
        gbc.writeMem(0x4c24, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x5671);
        EXPECT(gbc.pc(), 0x4c26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02D6
        gbc.setState(0x7f8e, 0xe225, 0x3d80, 0x681a, 0xd63e, 0xe3f1, 0x1, 0x1);
        gbc.writeMem(0x7f8e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xe225);
        EXPECT(gbc.pc(), 0x7f90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02D8
        gbc.setState(0x7e0f, 0x7ad2, 0x1030, 0xf751, 0xd30d, 0xa37f, 0x1, 0x0);
        gbc.writeMem(0x7e0f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x7ad2);
        EXPECT(gbc.pc(), 0x7e11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02D9
        gbc.setState(0xb2d0, 0x6704, 0x4520, 0xc27e, 0xa93c, 0xcb8d, 0x1, 0x0);
        gbc.writeMem(0xb2d0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x6704);
        EXPECT(gbc.pc(), 0xb2d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2d0), 0xcb);
        EXPECT(gbc.readMem(0xb2d1), 0x6f);
        // CB 6F 02DA
        gbc.setState(0x27a0, 0x1fc7, 0x1450, 0xd937, 0xa117, 0x506a, 0x0, 0x0);
        gbc.writeMem(0x27a0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x1fc7);
        EXPECT(gbc.pc(), 0x27a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02DB
        gbc.setState(0x3fff, 0x547e, 0x7fd0, 0x4f36, 0xfa9c, 0x2475, 0x0, 0x1);
        gbc.writeMem(0x3fff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x547e);
        EXPECT(gbc.pc(), 0x4001);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02DC
        gbc.setState(0x3ad1, 0x22e1, 0xbe80, 0xf0fa, 0x15de, 0xc1e2, 0x0, 0x1);
        gbc.writeMem(0x3ad1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x22e1);
        EXPECT(gbc.pc(), 0x3ad3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02DD
        gbc.setState(0x8b8c, 0x2ede, 0xbbd0, 0x4ce8, 0x1c1f, 0x835b, 0x0, 0x0);
        gbc.writeMem(0x8b8c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2ede);
        EXPECT(gbc.pc(), 0x8b8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b8c), 0xcb);
        EXPECT(gbc.readMem(0x8b8d), 0x6f);
        // CB 6F 02DE
        gbc.setState(0xc370, 0xb56e, 0x6e70, 0x2638, 0x31c4, 0x3215, 0x0, 0x1);
        gbc.writeMem(0xc370, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb56e);
        EXPECT(gbc.pc(), 0xc372);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc370), 0xcb);
        EXPECT(gbc.readMem(0xc371), 0x6f);
        // CB 6F 02DF
        gbc.setState(0xa9cc, 0xc654, 0xae10, 0x4d32, 0xc0d2, 0xcfbd, 0x0, 0x0);
        gbc.writeMem(0xa9cc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc654);
        EXPECT(gbc.pc(), 0xa9ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9cc), 0xcb);
        EXPECT(gbc.readMem(0xa9cd), 0x6f);
        // CB 6F 02E0
        gbc.setState(0x8b1a, 0x8b94, 0x7c70, 0x3849, 0x3570, 0x7856, 0x0, 0x0);
        gbc.writeMem(0x8b1a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8b94);
        EXPECT(gbc.pc(), 0x8b1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b1a), 0xcb);
        EXPECT(gbc.readMem(0x8b1b), 0x6f);
        // CB 6F 02E1
        gbc.setState(0x9aa8, 0xc16d, 0xde00, 0xf182, 0xf970, 0xbfb4, 0x0, 0x1);
        gbc.writeMem(0x9aa8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xc16d);
        EXPECT(gbc.pc(), 0x9aaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aa8), 0xcb);
        EXPECT(gbc.readMem(0x9aa9), 0x6f);
        // CB 6F 02E2
        gbc.setState(0xd410, 0x2749, 0x7cd0, 0x7d63, 0x1c6f, 0xac0a, 0x0, 0x0);
        gbc.writeMem(0xd410, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x2749);
        EXPECT(gbc.pc(), 0xd412);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd410), 0xcb);
        EXPECT(gbc.readMem(0xd411), 0x6f);
        // CB 6F 02E3
        gbc.setState(0x6308, 0x8e50, 0xea70, 0x16eb, 0x3f42, 0x4fbc, 0x0, 0x1);
        gbc.writeMem(0x6308, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8e50);
        EXPECT(gbc.pc(), 0x630a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02E4
        gbc.setState(0x21b0, 0xdb08, 0xec50, 0x8a8, 0xe9f3, 0xe363, 0x1, 0x1);
        gbc.writeMem(0x21b0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xdb08);
        EXPECT(gbc.pc(), 0x21b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02E5
        gbc.setState(0x157f, 0x5047, 0xe7f0, 0x838e, 0x3603, 0x8373, 0x0, 0x1);
        gbc.writeMem(0x157f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5047);
        EXPECT(gbc.pc(), 0x1581);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02E6
        gbc.setState(0xdcfa, 0x8e2b, 0xe150, 0x1e0c, 0xd9be, 0xf4b7, 0x1, 0x1);
        gbc.writeMem(0xdcfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8e2b);
        EXPECT(gbc.pc(), 0xdcfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcfa), 0xcb);
        EXPECT(gbc.readMem(0xdcfb), 0x6f);
        // CB 6F 02E7
        gbc.setState(0x6bd6, 0x6a3c, 0xd110, 0x42d0, 0x4fab, 0x2013, 0x1, 0x0);
        gbc.writeMem(0x6bd6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x6a3c);
        EXPECT(gbc.pc(), 0x6bd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02E8
        gbc.setState(0x2017, 0x1d6e, 0x7660, 0xba56, 0x1569, 0xd1f2, 0x1, 0x0);
        gbc.writeMem(0x2017, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x1d6e);
        EXPECT(gbc.pc(), 0x2019);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02E9
        gbc.setState(0x6f61, 0xc80b, 0xd4c0, 0x25de, 0xc8f1, 0x6c81, 0x0, 0x0);
        gbc.writeMem(0x6f61, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc80b);
        EXPECT(gbc.pc(), 0x6f63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02EA
        gbc.setState(0xd0a2, 0x11cc, 0x8c80, 0x3b39, 0x5c90, 0x7821, 0x0, 0x0);
        gbc.writeMem(0xd0a2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x11cc);
        EXPECT(gbc.pc(), 0xd0a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0a2), 0xcb);
        EXPECT(gbc.readMem(0xd0a3), 0x6f);
        // CB 6F 02EB
        gbc.setState(0x998a, 0xc1cb, 0xa690, 0xd9de, 0x5b95, 0x451d, 0x0, 0x1);
        gbc.writeMem(0x998a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc1cb);
        EXPECT(gbc.pc(), 0x998c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x998a), 0xcb);
        EXPECT(gbc.readMem(0x998b), 0x6f);
        // CB 6F 02EC
        gbc.setState(0x26cb, 0x77, 0xe0a0, 0x7a91, 0x7318, 0xbef1, 0x1, 0x1);
        gbc.writeMem(0x26cb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x77);
        EXPECT(gbc.pc(), 0x26cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02ED
        gbc.setState(0xbb89, 0x6fa1, 0x56a0, 0xf5e2, 0x4415, 0x3b66, 0x0, 0x0);
        gbc.writeMem(0xbb89, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x6fa1);
        EXPECT(gbc.pc(), 0xbb8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb89), 0xcb);
        EXPECT(gbc.readMem(0xbb8a), 0x6f);
        // CB 6F 02EE
        gbc.setState(0xecb9, 0xfe6b, 0x5610, 0x3584, 0x16e0, 0x2b10, 0x0, 0x1);
        gbc.writeMem(0xecb9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xfe6b);
        EXPECT(gbc.pc(), 0xecbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecb9), 0xcb);
        EXPECT(gbc.readMem(0xecba), 0x6f);
        // CB 6F 02EF
        gbc.setState(0x6fb, 0xcb05, 0x6280, 0x9ce7, 0x6ca0, 0x16c3, 0x1, 0x0);
        gbc.writeMem(0x6fb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xcb05);
        EXPECT(gbc.pc(), 0x6fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02F0
        gbc.setState(0x9e02, 0x3cd3, 0xf0f0, 0xcf68, 0xce49, 0xe7a6, 0x0, 0x0);
        gbc.writeMem(0x9e02, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3cd3);
        EXPECT(gbc.pc(), 0x9e04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e02), 0xcb);
        EXPECT(gbc.readMem(0x9e03), 0x6f);
        // CB 6F 02F1
        gbc.setState(0x3ae1, 0xfe59, 0x62b0, 0x4dd6, 0x7771, 0x5031, 0x1, 0x1);
        gbc.writeMem(0x3ae1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xfe59);
        EXPECT(gbc.pc(), 0x3ae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02F2
        gbc.setState(0xa38b, 0xfef0, 0x1f50, 0xdec7, 0x731, 0xc1f3, 0x1, 0x0);
        gbc.writeMem(0xa38b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xfef0);
        EXPECT(gbc.pc(), 0xa38d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa38b), 0xcb);
        EXPECT(gbc.readMem(0xa38c), 0x6f);
        // CB 6F 02F3
        gbc.setState(0x242d, 0x71e2, 0x12d0, 0xccb8, 0x27b8, 0xf896, 0x0, 0x0);
        gbc.writeMem(0x242d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x71e2);
        EXPECT(gbc.pc(), 0x242f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02F4
        gbc.setState(0x29a3, 0x9a29, 0x7b90, 0xe07e, 0xd2db, 0xf79b, 0x1, 0x1);
        gbc.writeMem(0x29a3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x9a29);
        EXPECT(gbc.pc(), 0x29a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02F5
        gbc.setState(0x480, 0x4471, 0x75f0, 0x2e8c, 0x5f28, 0xa312, 0x0, 0x0);
        gbc.writeMem(0x480, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4471);
        EXPECT(gbc.pc(), 0x482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02F6
        gbc.setState(0xa1f3, 0x1109, 0xc4f0, 0xc2d1, 0x9e06, 0x16d1, 0x1, 0x1);
        gbc.writeMem(0xa1f3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1109);
        EXPECT(gbc.pc(), 0xa1f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1f3), 0xcb);
        EXPECT(gbc.readMem(0xa1f4), 0x6f);
        // CB 6F 02F7
        gbc.setState(0x20d9, 0x90b5, 0x5340, 0xe05c, 0xd3a, 0x6492, 0x1, 0x0);
        gbc.writeMem(0x20d9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x90b5);
        EXPECT(gbc.pc(), 0x20db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02F8
        gbc.setState(0xe93, 0x231, 0xd9e0, 0xd102, 0xdedb, 0xd065, 0x1, 0x1);
        gbc.writeMem(0xe93, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x231);
        EXPECT(gbc.pc(), 0xe95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02F9
        gbc.setState(0xce0f, 0xc01f, 0xccd0, 0x66df, 0x2751, 0xf09, 0x0, 0x0);
        gbc.writeMem(0xce0f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xc01f);
        EXPECT(gbc.pc(), 0xce11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce0f), 0xcb);
        EXPECT(gbc.readMem(0xce10), 0x6f);
        // CB 6F 02FA
        gbc.setState(0x20bc, 0x8c08, 0x260, 0xeab7, 0xcc53, 0xf29, 0x1, 0x0);
        gbc.writeMem(0x20bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8c08);
        EXPECT(gbc.pc(), 0x20be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 02FB
        gbc.setState(0x89f5, 0x5a12, 0x7c50, 0xc1f1, 0xd072, 0x7723, 0x0, 0x0);
        gbc.writeMem(0x89f5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x5a12);
        EXPECT(gbc.pc(), 0x89f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89f5), 0xcb);
        EXPECT(gbc.readMem(0x89f6), 0x6f);
        // CB 6F 02FC
        gbc.setState(0xe145, 0x26b9, 0x780, 0x336c, 0x7228, 0x771b, 0x0, 0x0);
        gbc.writeMem(0xe145, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x26b9);
        EXPECT(gbc.pc(), 0xe147);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe145), 0xcb);
        EXPECT(gbc.readMem(0xe146), 0x6f);
        // CB 6F 02FD
        gbc.setState(0x4a, 0x1bd3, 0xf1b0, 0x8367, 0x9536, 0x1ab8, 0x1, 0x0);
        gbc.writeMem(0x4a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x1bd3);
        EXPECT(gbc.pc(), 0x4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 02FF
        gbc.setState(0x1fb0, 0x2295, 0x2330, 0x32a4, 0xcb28, 0x56a7, 0x1, 0x1);
        gbc.writeMem(0x1fb0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2295);
        EXPECT(gbc.pc(), 0x1fb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0300
        gbc.setState(0x7ff, 0xee96, 0x2410, 0x8fc, 0x3069, 0x6841, 0x1, 0x1);
        gbc.writeMem(0x7ff, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xee96);
        EXPECT(gbc.pc(), 0x801);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0301
        gbc.setState(0xea76, 0xd462, 0x990, 0x73ec, 0x1102, 0xc218, 0x0, 0x0);
        gbc.writeMem(0xea76, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xd462);
        EXPECT(gbc.pc(), 0xea78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea76), 0xcb);
        EXPECT(gbc.readMem(0xea77), 0x6f);
        // CB 6F 0302
        gbc.setState(0x7e4c, 0x5fca, 0x94a0, 0x4e67, 0xef26, 0x43fd, 0x0, 0x1);
        gbc.writeMem(0x7e4c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5fca);
        EXPECT(gbc.pc(), 0x7e4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0303
        gbc.setState(0x1d26, 0x6d3d, 0xf050, 0x956, 0xa3ee, 0x6790, 0x1, 0x0);
        gbc.writeMem(0x1d26, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x6d3d);
        EXPECT(gbc.pc(), 0x1d28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0304
        gbc.setState(0x40a, 0xb778, 0x8320, 0x60a2, 0x54f, 0x6b2f, 0x1, 0x0);
        gbc.writeMem(0x40a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb778);
        EXPECT(gbc.pc(), 0x40c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0305
        gbc.setState(0x3e35, 0xfccc, 0x8c60, 0xec41, 0xb832, 0xd6c0, 0x1, 0x0);
        gbc.writeMem(0x3e35, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xfccc);
        EXPECT(gbc.pc(), 0x3e37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0306
        gbc.setState(0x3212, 0x9f79, 0x8920, 0xad28, 0xe1c9, 0x4a1a, 0x1, 0x0);
        gbc.writeMem(0x3212, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9f79);
        EXPECT(gbc.pc(), 0x3214);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0307
        gbc.setState(0x6622, 0x2cab, 0x30a0, 0x9a61, 0x15e8, 0x2aaf, 0x0, 0x0);
        gbc.writeMem(0x6622, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x2cab);
        EXPECT(gbc.pc(), 0x6624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0308
        gbc.setState(0x5dee, 0x85fe, 0xf840, 0x5a21, 0xce8d, 0xd2c2, 0x0, 0x1);
        gbc.writeMem(0x5dee, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x85fe);
        EXPECT(gbc.pc(), 0x5df0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0309
        gbc.setState(0x5de3, 0xd95b, 0xb180, 0xec4, 0x3482, 0x873f, 0x1, 0x1);
        gbc.writeMem(0x5de3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xd95b);
        EXPECT(gbc.pc(), 0x5de5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 030A
        gbc.setState(0xeead, 0xfb7f, 0x21e0, 0x3dd9, 0x1c93, 0xe36f, 0x0, 0x0);
        gbc.writeMem(0xeead, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xfb7f);
        EXPECT(gbc.pc(), 0xeeaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeead), 0xcb);
        EXPECT(gbc.readMem(0xeeae), 0x6f);
        // CB 6F 030B
        gbc.setState(0x1854, 0xfff5, 0xe390, 0xad0, 0xc98c, 0xfc1, 0x0, 0x0);
        gbc.writeMem(0x1854, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xfff5);
        EXPECT(gbc.pc(), 0x1856);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 030C
        gbc.setState(0x9705, 0xa759, 0xbd40, 0x1e89, 0xcd3f, 0x4eea, 0x1, 0x0);
        gbc.writeMem(0x9705, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xa759);
        EXPECT(gbc.pc(), 0x9707);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9705), 0xcb);
        EXPECT(gbc.readMem(0x9706), 0x6f);
        // CB 6F 030D
        gbc.setState(0x2c2e, 0x7ed6, 0x6280, 0xbeb1, 0x3061, 0x3ac0, 0x0, 0x0);
        gbc.writeMem(0x2c2e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x7ed6);
        EXPECT(gbc.pc(), 0x2c30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 030E
        gbc.setState(0x6eec, 0x3671, 0x6560, 0x7c97, 0xfcd2, 0x79a0, 0x0, 0x1);
        gbc.writeMem(0x6eec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3671);
        EXPECT(gbc.pc(), 0x6eee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 030F
        gbc.setState(0x68ed, 0xd62, 0xd080, 0x532d, 0xfd9d, 0xccfb, 0x1, 0x0);
        gbc.writeMem(0x68ed, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xd62);
        EXPECT(gbc.pc(), 0x68ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0310
        gbc.setState(0x850e, 0x2c96, 0x5790, 0xa39e, 0xceb3, 0xfd04, 0x0, 0x1);
        gbc.writeMem(0x850e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x2c96);
        EXPECT(gbc.pc(), 0x8510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x850e), 0xcb);
        EXPECT(gbc.readMem(0x850f), 0x6f);
        // CB 6F 0311
        gbc.setState(0xb41d, 0xeea3, 0xdcd0, 0x8a87, 0xa80, 0xd1c6, 0x0, 0x0);
        gbc.writeMem(0xb41d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xeea3);
        EXPECT(gbc.pc(), 0xb41f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb41d), 0xcb);
        EXPECT(gbc.readMem(0xb41e), 0x6f);
        // CB 6F 0312
        gbc.setState(0x90db, 0x6221, 0x3810, 0xdf32, 0x5287, 0xc4c0, 0x1, 0x1);
        gbc.writeMem(0x90db, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x6221);
        EXPECT(gbc.pc(), 0x90dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90db), 0xcb);
        EXPECT(gbc.readMem(0x90dc), 0x6f);
        // CB 6F 0313
        gbc.setState(0xcecd, 0x8e1d, 0xcf40, 0x25a7, 0xd6e, 0x81c0, 0x0, 0x1);
        gbc.writeMem(0xcecd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8e1d);
        EXPECT(gbc.pc(), 0xcecf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcecd), 0xcb);
        EXPECT(gbc.readMem(0xcece), 0x6f);
        // CB 6F 0315
        gbc.setState(0x1353, 0xa8, 0x45a0, 0xdd26, 0x4821, 0xcb70, 0x0, 0x0);
        gbc.writeMem(0x1353, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xa8);
        EXPECT(gbc.pc(), 0x1355);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0317
        gbc.setState(0x6852, 0xd98b, 0x8cc0, 0x370, 0x9c06, 0x7ae3, 0x0, 0x0);
        gbc.writeMem(0x6852, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xd98b);
        EXPECT(gbc.pc(), 0x6854);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0318
        gbc.setState(0xde5d, 0x174b, 0x8540, 0x4ffe, 0xbca2, 0x12a6, 0x0, 0x1);
        gbc.writeMem(0xde5d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x174b);
        EXPECT(gbc.pc(), 0xde5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde5d), 0xcb);
        EXPECT(gbc.readMem(0xde5e), 0x6f);
        // CB 6F 0319
        gbc.setState(0x7ab4, 0xcfac, 0xed70, 0x9def, 0x1b32, 0x410b, 0x1, 0x0);
        gbc.writeMem(0x7ab4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xcfac);
        EXPECT(gbc.pc(), 0x7ab6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 031A
        gbc.setState(0xd741, 0xc49f, 0xef50, 0x411e, 0x848b, 0xe072, 0x1, 0x1);
        gbc.writeMem(0xd741, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc49f);
        EXPECT(gbc.pc(), 0xd743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd741), 0xcb);
        EXPECT(gbc.readMem(0xd742), 0x6f);
        // CB 6F 031B
        gbc.setState(0xcde1, 0x8406, 0xd950, 0xdb0b, 0x9d3, 0x96c0, 0x0, 0x1);
        gbc.writeMem(0xcde1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8406);
        EXPECT(gbc.pc(), 0xcde3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcde1), 0xcb);
        EXPECT(gbc.readMem(0xcde2), 0x6f);
        // CB 6F 031C
        gbc.setState(0x2835, 0xcfbd, 0x6780, 0xdc42, 0x2f6f, 0xc63e, 0x1, 0x0);
        gbc.writeMem(0x2835, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xcfbd);
        EXPECT(gbc.pc(), 0x2837);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 031E
        gbc.setState(0xabf3, 0xbae0, 0x4440, 0x6b4f, 0xbd4a, 0xd91, 0x0, 0x1);
        gbc.writeMem(0xabf3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xbae0);
        EXPECT(gbc.pc(), 0xabf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabf3), 0xcb);
        EXPECT(gbc.readMem(0xabf4), 0x6f);
        // CB 6F 0320
        gbc.setState(0x6204, 0x4f54, 0x3270, 0xefc5, 0x3bfe, 0x8a90, 0x1, 0x0);
        gbc.writeMem(0x6204, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4f54);
        EXPECT(gbc.pc(), 0x6206);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0321
        gbc.setState(0xe14, 0xe715, 0x5860, 0xbf50, 0xae8e, 0x29da, 0x1, 0x0);
        gbc.writeMem(0xe14, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xe715);
        EXPECT(gbc.pc(), 0xe16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0322
        gbc.setState(0x4dd, 0x4e0b, 0xb520, 0x601b, 0x408c, 0x15fd, 0x1, 0x0);
        gbc.writeMem(0x4dd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4e0b);
        EXPECT(gbc.pc(), 0x4df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0323
        gbc.setState(0xceb, 0xf9e2, 0xaff0, 0xd942, 0x1d73, 0x184, 0x1, 0x0);
        gbc.writeMem(0xceb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf9e2);
        EXPECT(gbc.pc(), 0xced);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0324
        gbc.setState(0x53e0, 0xc67e, 0xc710, 0x4515, 0x48f1, 0xfb3a, 0x1, 0x0);
        gbc.writeMem(0x53e0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc67e);
        EXPECT(gbc.pc(), 0x53e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0325
        gbc.setState(0x7778, 0x51ee, 0x39e0, 0x83df, 0x6909, 0x4e2, 0x1, 0x1);
        gbc.writeMem(0x7778, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x51ee);
        EXPECT(gbc.pc(), 0x777a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0326
        gbc.setState(0x5f6c, 0x9981, 0x6f80, 0xc72e, 0x9178, 0x42f3, 0x1, 0x0);
        gbc.writeMem(0x5f6c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x9981);
        EXPECT(gbc.pc(), 0x5f6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0327
        gbc.setState(0xb120, 0x2698, 0xc80, 0x4555, 0x73b1, 0x2740, 0x0, 0x1);
        gbc.writeMem(0xb120, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2698);
        EXPECT(gbc.pc(), 0xb122);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb120), 0xcb);
        EXPECT(gbc.readMem(0xb121), 0x6f);
        // CB 6F 0328
        gbc.setState(0x7865, 0x2605, 0x5100, 0x4585, 0x5d, 0xd56b, 0x1, 0x1);
        gbc.writeMem(0x7865, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2605);
        EXPECT(gbc.pc(), 0x7867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0329
        gbc.setState(0xdcb5, 0x2d78, 0xe200, 0x3e86, 0x1fb9, 0x3c8b, 0x0, 0x1);
        gbc.writeMem(0xdcb5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x2d78);
        EXPECT(gbc.pc(), 0xdcb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcb5), 0xcb);
        EXPECT(gbc.readMem(0xdcb6), 0x6f);
        // CB 6F 032A
        gbc.setState(0x9153, 0xd10a, 0x9510, 0x476b, 0xd26b, 0x2cbf, 0x1, 0x0);
        gbc.writeMem(0x9153, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd10a);
        EXPECT(gbc.pc(), 0x9155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9153), 0xcb);
        EXPECT(gbc.readMem(0x9154), 0x6f);
        // CB 6F 032B
        gbc.setState(0x68a6, 0x6bb1, 0xf780, 0x770a, 0x24af, 0x4bda, 0x1, 0x0);
        gbc.writeMem(0x68a6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x6bb1);
        EXPECT(gbc.pc(), 0x68a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 032C
        gbc.setState(0xba1, 0xf7d3, 0x6af0, 0x318a, 0x4ff2, 0x1286, 0x0, 0x1);
        gbc.writeMem(0xba1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xf7d3);
        EXPECT(gbc.pc(), 0xba3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 032D
        gbc.setState(0xbe64, 0xd1b3, 0x4cb0, 0xb5a, 0xe58c, 0x2fbe, 0x1, 0x0);
        gbc.writeMem(0xbe64, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xd1b3);
        EXPECT(gbc.pc(), 0xbe66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe64), 0xcb);
        EXPECT(gbc.readMem(0xbe65), 0x6f);
        // CB 6F 032E
        gbc.setState(0x2d4c, 0x4608, 0x45a0, 0xacb7, 0xef7d, 0xad5e, 0x1, 0x1);
        gbc.writeMem(0x2d4c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4608);
        EXPECT(gbc.pc(), 0x2d4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 032F
        gbc.setState(0x2d30, 0x436f, 0x9760, 0x70d3, 0xd5a1, 0xac60, 0x1, 0x1);
        gbc.writeMem(0x2d30, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x436f);
        EXPECT(gbc.pc(), 0x2d32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0330
        gbc.setState(0x1d56, 0x1823, 0x9000, 0xd25, 0x64d5, 0x3296, 0x1, 0x1);
        gbc.writeMem(0x1d56, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x1823);
        EXPECT(gbc.pc(), 0x1d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0331
        gbc.setState(0x899f, 0x31d2, 0x9720, 0x1b8c, 0x6320, 0x737d, 0x1, 0x0);
        gbc.writeMem(0x899f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x31d2);
        EXPECT(gbc.pc(), 0x89a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x899f), 0xcb);
        EXPECT(gbc.readMem(0x89a0), 0x6f);
        // CB 6F 0332
        gbc.setState(0xe878, 0xe8fc, 0x9a30, 0xf461, 0xaec8, 0xc4f7, 0x0, 0x0);
        gbc.writeMem(0xe878, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe8fc);
        EXPECT(gbc.pc(), 0xe87a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe878), 0xcb);
        EXPECT(gbc.readMem(0xe879), 0x6f);
        // CB 6F 0333
        gbc.setState(0x7cdc, 0xb7ca, 0x4d10, 0x7f01, 0xa1f9, 0xdd6, 0x0, 0x1);
        gbc.writeMem(0x7cdc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xb7ca);
        EXPECT(gbc.pc(), 0x7cde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0334
        gbc.setState(0xc5b7, 0x25c7, 0xb010, 0xfbb5, 0x57f4, 0xe3b, 0x1, 0x0);
        gbc.writeMem(0xc5b7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x25c7);
        EXPECT(gbc.pc(), 0xc5b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5b7), 0xcb);
        EXPECT(gbc.readMem(0xc5b8), 0x6f);
        // CB 6F 0335
        gbc.setState(0x8449, 0x3df5, 0x7ce0, 0xaf0a, 0x680, 0xb14e, 0x1, 0x1);
        gbc.writeMem(0x8449, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x3df5);
        EXPECT(gbc.pc(), 0x844b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8449), 0xcb);
        EXPECT(gbc.readMem(0x844a), 0x6f);
        // CB 6F 0336
        gbc.setState(0xbe13, 0xd692, 0xa8f0, 0x3842, 0x6082, 0x2360, 0x1, 0x1);
        gbc.writeMem(0xbe13, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd692);
        EXPECT(gbc.pc(), 0xbe15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe13), 0xcb);
        EXPECT(gbc.readMem(0xbe14), 0x6f);
        // CB 6F 0337
        gbc.setState(0x4213, 0x29fc, 0x3b10, 0x86fd, 0x491c, 0xb958, 0x0, 0x0);
        gbc.writeMem(0x4213, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x29fc);
        EXPECT(gbc.pc(), 0x4215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0338
        gbc.setState(0x40a4, 0xa1d6, 0x7510, 0x9df7, 0x9802, 0xfe4b, 0x1, 0x0);
        gbc.writeMem(0x40a4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xa1d6);
        EXPECT(gbc.pc(), 0x40a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0339
        gbc.setState(0xaa2d, 0xeb5c, 0x5030, 0xd4e, 0xa041, 0x5608, 0x1, 0x1);
        gbc.writeMem(0xaa2d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xeb5c);
        EXPECT(gbc.pc(), 0xaa2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa2d), 0xcb);
        EXPECT(gbc.readMem(0xaa2e), 0x6f);
        // CB 6F 033A
        gbc.setState(0x1e15, 0x7f15, 0xe160, 0x6f03, 0xc63b, 0x64aa, 0x1, 0x1);
        gbc.writeMem(0x1e15, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x7f15);
        EXPECT(gbc.pc(), 0x1e17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 033B
        gbc.setState(0xdab, 0x4e93, 0xc280, 0xcb63, 0x908b, 0x5af3, 0x0, 0x0);
        gbc.writeMem(0xdab, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4e93);
        EXPECT(gbc.pc(), 0xdad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 033C
        gbc.setState(0x5e5c, 0xe085, 0x6a80, 0x8167, 0x30a8, 0xdfe7, 0x0, 0x0);
        gbc.writeMem(0x5e5c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe085);
        EXPECT(gbc.pc(), 0x5e5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 033D
        gbc.setState(0x422a, 0xd357, 0xacb0, 0x9468, 0xff43, 0xc59b, 0x1, 0x1);
        gbc.writeMem(0x422a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xd357);
        EXPECT(gbc.pc(), 0x422c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 033E
        gbc.setState(0x6ded, 0xbb79, 0xf910, 0xe818, 0xb9af, 0xd9ac, 0x1, 0x1);
        gbc.writeMem(0x6ded, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xbb79);
        EXPECT(gbc.pc(), 0x6def);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 033F
        gbc.setState(0x90ec, 0xb086, 0x3c40, 0xddf8, 0x9855, 0x93b0, 0x0, 0x1);
        gbc.writeMem(0x90ec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb086);
        EXPECT(gbc.pc(), 0x90ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ec), 0xcb);
        EXPECT(gbc.readMem(0x90ed), 0x6f);
        // CB 6F 0340
        gbc.setState(0xda4d, 0x887f, 0x3460, 0x9ff6, 0x5dbb, 0xbe85, 0x1, 0x1);
        gbc.writeMem(0xda4d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x887f);
        EXPECT(gbc.pc(), 0xda4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda4d), 0xcb);
        EXPECT(gbc.readMem(0xda4e), 0x6f);
        // CB 6F 0342
        gbc.setState(0x61e6, 0x119b, 0x7c50, 0x5f15, 0xbc29, 0xdc60, 0x1, 0x1);
        gbc.writeMem(0x61e6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x119b);
        EXPECT(gbc.pc(), 0x61e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0343
        gbc.setState(0xae94, 0xaed4, 0x62d0, 0x846d, 0xb542, 0x9d7f, 0x0, 0x0);
        gbc.writeMem(0xae94, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xaed4);
        EXPECT(gbc.pc(), 0xae96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae94), 0xcb);
        EXPECT(gbc.readMem(0xae95), 0x6f);
        // CB 6F 0344
        gbc.setState(0xf37, 0xce12, 0xa880, 0x26b2, 0x5824, 0x9678, 0x0, 0x1);
        gbc.writeMem(0xf37, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xce12);
        EXPECT(gbc.pc(), 0xf39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0345
        gbc.setState(0x7e73, 0xd764, 0xcda0, 0x707c, 0xd863, 0x511d, 0x0, 0x0);
        gbc.writeMem(0x7e73, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xd764);
        EXPECT(gbc.pc(), 0x7e75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0346
        gbc.setState(0x2f01, 0xf01c, 0x3b10, 0xf079, 0x5658, 0xeb0a, 0x0, 0x1);
        gbc.writeMem(0x2f01, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf01c);
        EXPECT(gbc.pc(), 0x2f03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0347
        gbc.setState(0xbeb2, 0x6f2, 0x87c0, 0x8470, 0xc5c8, 0x9af0, 0x0, 0x0);
        gbc.writeMem(0xbeb2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6f2);
        EXPECT(gbc.pc(), 0xbeb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeb2), 0xcb);
        EXPECT(gbc.readMem(0xbeb3), 0x6f);
        // CB 6F 0348
        gbc.setState(0x31f9, 0x6700, 0x3a30, 0x525, 0xea77, 0x27e5, 0x1, 0x0);
        gbc.writeMem(0x31f9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x6700);
        EXPECT(gbc.pc(), 0x31fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0349
        gbc.setState(0x7c98, 0x9c25, 0x2e60, 0xde4b, 0x177e, 0x35a4, 0x1, 0x0);
        gbc.writeMem(0x7c98, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x9c25);
        EXPECT(gbc.pc(), 0x7c9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 034A
        gbc.setState(0xdf6, 0x691b, 0xe790, 0xf9a5, 0xa355, 0x8800, 0x1, 0x0);
        gbc.writeMem(0xdf6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x691b);
        EXPECT(gbc.pc(), 0xdf8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 034B
        gbc.setState(0x27ce, 0xc779, 0xad90, 0x7169, 0x304a, 0xffbf, 0x1, 0x1);
        gbc.writeMem(0x27ce, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xc779);
        EXPECT(gbc.pc(), 0x27d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 034C
        gbc.setState(0x9f34, 0x1fc3, 0x7c50, 0x41f0, 0x4671, 0x4c64, 0x1, 0x1);
        gbc.writeMem(0x9f34, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x1fc3);
        EXPECT(gbc.pc(), 0x9f36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f34), 0xcb);
        EXPECT(gbc.readMem(0x9f35), 0x6f);
        // CB 6F 034D
        gbc.setState(0xea6c, 0x608d, 0xf060, 0x6305, 0x99bb, 0x5bf, 0x1, 0x0);
        gbc.writeMem(0xea6c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x608d);
        EXPECT(gbc.pc(), 0xea6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea6c), 0xcb);
        EXPECT(gbc.readMem(0xea6d), 0x6f);
        // CB 6F 034F
        gbc.setState(0xb2e9, 0xddd6, 0xc130, 0xd65, 0xd112, 0x6c32, 0x1, 0x0);
        gbc.writeMem(0xb2e9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xddd6);
        EXPECT(gbc.pc(), 0xb2eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2e9), 0xcb);
        EXPECT(gbc.readMem(0xb2ea), 0x6f);
        // CB 6F 0350
        gbc.setState(0x8edb, 0x8511, 0x8ec0, 0x6547, 0x646e, 0x5e80, 0x1, 0x1);
        gbc.writeMem(0x8edb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x8511);
        EXPECT(gbc.pc(), 0x8edd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8edb), 0xcb);
        EXPECT(gbc.readMem(0x8edc), 0x6f);
        // CB 6F 0351
        gbc.setState(0x9f1c, 0xfd5f, 0x8700, 0xc478, 0x7dde, 0xc60, 0x0, 0x1);
        gbc.writeMem(0x9f1c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xfd5f);
        EXPECT(gbc.pc(), 0x9f1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f1c), 0xcb);
        EXPECT(gbc.readMem(0x9f1d), 0x6f);
        // CB 6F 0352
        gbc.setState(0x73fb, 0x4c63, 0x2290, 0x778c, 0x6d9a, 0x14dd, 0x0, 0x1);
        gbc.writeMem(0x73fb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4c63);
        EXPECT(gbc.pc(), 0x73fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0353
        gbc.setState(0xafec, 0x30ce, 0xf4d0, 0xeca2, 0xed81, 0x6a84, 0x0, 0x0);
        gbc.writeMem(0xafec, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x30ce);
        EXPECT(gbc.pc(), 0xafee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafec), 0xcb);
        EXPECT(gbc.readMem(0xafed), 0x6f);
        // CB 6F 0354
        gbc.setState(0x7a31, 0x2102, 0x3f20, 0xe6b7, 0x32fd, 0x870d, 0x1, 0x1);
        gbc.writeMem(0x7a31, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2102);
        EXPECT(gbc.pc(), 0x7a33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0355
        gbc.setState(0x86b0, 0x3e72, 0x8650, 0x931a, 0x3950, 0x89c, 0x0, 0x1);
        gbc.writeMem(0x86b0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3e72);
        EXPECT(gbc.pc(), 0x86b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86b0), 0xcb);
        EXPECT(gbc.readMem(0x86b1), 0x6f);
        // CB 6F 0356
        gbc.setState(0xc570, 0x53d4, 0x9ef0, 0x1bbb, 0x51e7, 0x7a60, 0x1, 0x1);
        gbc.writeMem(0xc570, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x53d4);
        EXPECT(gbc.pc(), 0xc572);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc570), 0xcb);
        EXPECT(gbc.readMem(0xc571), 0x6f);
        // CB 6F 0357
        gbc.setState(0x569d, 0x169d, 0x7650, 0x9639, 0xd389, 0x9caa, 0x0, 0x1);
        gbc.writeMem(0x569d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x169d);
        EXPECT(gbc.pc(), 0x569f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0358
        gbc.setState(0x481b, 0x23be, 0xf360, 0x754f, 0x2b60, 0xe4b3, 0x1, 0x0);
        gbc.writeMem(0x481b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x23be);
        EXPECT(gbc.pc(), 0x481d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0359
        gbc.setState(0xb6a9, 0x58f, 0x2bd0, 0xc0fa, 0xb6e2, 0xcab0, 0x0, 0x1);
        gbc.writeMem(0xb6a9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x58f);
        EXPECT(gbc.pc(), 0xb6ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6a9), 0xcb);
        EXPECT(gbc.readMem(0xb6aa), 0x6f);
        // CB 6F 035A
        gbc.setState(0x3b08, 0xbf93, 0xafb0, 0xee6e, 0x67df, 0x6477, 0x0, 0x0);
        gbc.writeMem(0x3b08, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xbf93);
        EXPECT(gbc.pc(), 0x3b0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 035B
        gbc.setState(0xe997, 0x5ac7, 0xe0d0, 0x52c7, 0xd878, 0x4b49, 0x0, 0x0);
        gbc.writeMem(0xe997, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5ac7);
        EXPECT(gbc.pc(), 0xe999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe997), 0xcb);
        EXPECT(gbc.readMem(0xe998), 0x6f);
        // CB 6F 035C
        gbc.setState(0xa40c, 0x3177, 0xc3f0, 0x8a78, 0x3102, 0xf06b, 0x1, 0x0);
        gbc.writeMem(0xa40c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3177);
        EXPECT(gbc.pc(), 0xa40e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa40c), 0xcb);
        EXPECT(gbc.readMem(0xa40d), 0x6f);
        // CB 6F 035D
        gbc.setState(0xb0af, 0xab4b, 0xe0d0, 0x5cf9, 0xbdce, 0x9126, 0x1, 0x1);
        gbc.writeMem(0xb0af, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xab4b);
        EXPECT(gbc.pc(), 0xb0b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0af), 0xcb);
        EXPECT(gbc.readMem(0xb0b0), 0x6f);
        // CB 6F 035E
        gbc.setState(0x4f1, 0x2322, 0x7e50, 0x8dd2, 0x4c44, 0x719a, 0x1, 0x0);
        gbc.writeMem(0x4f1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x2322);
        EXPECT(gbc.pc(), 0x4f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 035F
        gbc.setState(0xa1d5, 0x6abd, 0x1c00, 0x5ad1, 0xb40c, 0xdaa3, 0x0, 0x1);
        gbc.writeMem(0xa1d5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6abd);
        EXPECT(gbc.pc(), 0xa1d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1d5), 0xcb);
        EXPECT(gbc.readMem(0xa1d6), 0x6f);
        // CB 6F 0360
        gbc.setState(0xd2d, 0xa8ee, 0xd8a0, 0xaf4f, 0xd843, 0xd83a, 0x1, 0x0);
        gbc.writeMem(0xd2d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xa8ee);
        EXPECT(gbc.pc(), 0xd2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0362
        gbc.setState(0xe45a, 0x57fb, 0x49f0, 0x48d, 0x5e26, 0xab5e, 0x0, 0x1);
        gbc.writeMem(0xe45a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x57fb);
        EXPECT(gbc.pc(), 0xe45c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe45a), 0xcb);
        EXPECT(gbc.readMem(0xe45b), 0x6f);
        // CB 6F 0363
        gbc.setState(0x3dcd, 0xae07, 0x4270, 0x8a86, 0xaa1c, 0x28d9, 0x1, 0x0);
        gbc.writeMem(0x3dcd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xae07);
        EXPECT(gbc.pc(), 0x3dcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0364
        gbc.setState(0x41d1, 0xd7f4, 0x56c0, 0x28fd, 0x3914, 0x90b6, 0x0, 0x1);
        gbc.writeMem(0x41d1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd7f4);
        EXPECT(gbc.pc(), 0x41d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0366
        gbc.setState(0xcab0, 0xadf4, 0xc1d0, 0x728e, 0x9b4, 0xcac0, 0x1, 0x0);
        gbc.writeMem(0xcab0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xadf4);
        EXPECT(gbc.pc(), 0xcab2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcab0), 0xcb);
        EXPECT(gbc.readMem(0xcab1), 0x6f);
        // CB 6F 0367
        gbc.setState(0xb0fb, 0x671d, 0xc4e0, 0x119d, 0x5cf2, 0xaabf, 0x0, 0x0);
        gbc.writeMem(0xb0fb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x671d);
        EXPECT(gbc.pc(), 0xb0fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0fb), 0xcb);
        EXPECT(gbc.readMem(0xb0fc), 0x6f);
        // CB 6F 0368
        gbc.setState(0x8d6e, 0xcfd5, 0x7c80, 0x9261, 0xb86f, 0x461d, 0x0, 0x1);
        gbc.writeMem(0x8d6e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xcfd5);
        EXPECT(gbc.pc(), 0x8d70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d6e), 0xcb);
        EXPECT(gbc.readMem(0x8d6f), 0x6f);
        // CB 6F 0369
        gbc.setState(0x4805, 0x1802, 0x99a0, 0x4f9f, 0x809f, 0x507e, 0x0, 0x1);
        gbc.writeMem(0x4805, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1802);
        EXPECT(gbc.pc(), 0x4807);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 036A
        gbc.setState(0xe7bc, 0x7dbd, 0x1590, 0x431b, 0xdcfb, 0x8d8e, 0x0, 0x0);
        gbc.writeMem(0xe7bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x7dbd);
        EXPECT(gbc.pc(), 0xe7be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7bc), 0xcb);
        EXPECT(gbc.readMem(0xe7bd), 0x6f);
        // CB 6F 036B
        gbc.setState(0x8da1, 0xb1e8, 0x200, 0x4f57, 0xad4b, 0x1c4, 0x0, 0x1);
        gbc.writeMem(0x8da1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb1e8);
        EXPECT(gbc.pc(), 0x8da3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8da1), 0xcb);
        EXPECT(gbc.readMem(0x8da2), 0x6f);
        // CB 6F 036C
        gbc.setState(0xb94a, 0x326b, 0x1110, 0xc89d, 0x9b60, 0xe89e, 0x0, 0x0);
        gbc.writeMem(0xb94a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x326b);
        EXPECT(gbc.pc(), 0xb94c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb94a), 0xcb);
        EXPECT(gbc.readMem(0xb94b), 0x6f);
        // CB 6F 036D
        gbc.setState(0x31c8, 0xf915, 0xb5e0, 0xbee1, 0xaf59, 0xe28f, 0x0, 0x0);
        gbc.writeMem(0x31c8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf915);
        EXPECT(gbc.pc(), 0x31ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 036E
        gbc.setState(0x45f9, 0xae62, 0xf590, 0xf9dd, 0x3b41, 0x96c6, 0x1, 0x0);
        gbc.writeMem(0x45f9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xae62);
        EXPECT(gbc.pc(), 0x45fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 036F
        gbc.setState(0xa8d6, 0xf0a2, 0x2ac0, 0xc14b, 0xbe41, 0xcf8d, 0x1, 0x1);
        gbc.writeMem(0xa8d6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf0a2);
        EXPECT(gbc.pc(), 0xa8d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8d6), 0xcb);
        EXPECT(gbc.readMem(0xa8d7), 0x6f);
        // CB 6F 0370
        gbc.setState(0x335c, 0x142e, 0x2d50, 0x7ff, 0xabe7, 0x7976, 0x1, 0x1);
        gbc.writeMem(0x335c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x142e);
        EXPECT(gbc.pc(), 0x335e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0371
        gbc.setState(0xaad4, 0xd4c0, 0xf850, 0xfa53, 0xcb2, 0x4ba5, 0x0, 0x1);
        gbc.writeMem(0xaad4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd4c0);
        EXPECT(gbc.pc(), 0xaad6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaad4), 0xcb);
        EXPECT(gbc.readMem(0xaad5), 0x6f);
        // CB 6F 0372
        gbc.setState(0x491b, 0x5d12, 0x9bb0, 0x165, 0x99b9, 0x1a7a, 0x1, 0x1);
        gbc.writeMem(0x491b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x5d12);
        EXPECT(gbc.pc(), 0x491d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0373
        gbc.setState(0x8315, 0x3e91, 0xb4f0, 0xc3fa, 0xf5a6, 0x9afa, 0x1, 0x0);
        gbc.writeMem(0x8315, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x3e91);
        EXPECT(gbc.pc(), 0x8317);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8315), 0xcb);
        EXPECT(gbc.readMem(0x8316), 0x6f);
        // CB 6F 0374
        gbc.setState(0x96fa, 0x643f, 0xcf0, 0x19be, 0x6103, 0xf30f, 0x1, 0x0);
        gbc.writeMem(0x96fa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x643f);
        EXPECT(gbc.pc(), 0x96fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96fa), 0xcb);
        EXPECT(gbc.readMem(0x96fb), 0x6f);
        // CB 6F 0375
        gbc.setState(0x33bc, 0x4961, 0xd550, 0xa100, 0xf7d6, 0xb1f2, 0x1, 0x1);
        gbc.writeMem(0x33bc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4961);
        EXPECT(gbc.pc(), 0x33be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0376
        gbc.setState(0x18ab, 0x4282, 0xf970, 0x5cfb, 0x99b6, 0xd6d4, 0x0, 0x1);
        gbc.writeMem(0x18ab, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4282);
        EXPECT(gbc.pc(), 0x18ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0378
        gbc.setState(0xbc58, 0xb577, 0x5c20, 0xc8b2, 0x8aee, 0x5eb8, 0x0, 0x0);
        gbc.writeMem(0xbc58, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xb577);
        EXPECT(gbc.pc(), 0xbc5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc58), 0xcb);
        EXPECT(gbc.readMem(0xbc59), 0x6f);
        // CB 6F 0379
        gbc.setState(0x6420, 0x798c, 0x4320, 0x790, 0x33fe, 0xe2a0, 0x1, 0x1);
        gbc.writeMem(0x6420, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x798c);
        EXPECT(gbc.pc(), 0x6422);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 037A
        gbc.setState(0x2375, 0xebdd, 0x8430, 0xb7f7, 0x4557, 0xbbdc, 0x0, 0x1);
        gbc.writeMem(0x2375, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xebdd);
        EXPECT(gbc.pc(), 0x2377);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 037B
        gbc.setState(0x2910, 0x47a6, 0x2520, 0x133c, 0xe211, 0x4a51, 0x0, 0x1);
        gbc.writeMem(0x2910, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x47a6);
        EXPECT(gbc.pc(), 0x2912);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 037C
        gbc.setState(0x3f9d, 0xdd40, 0xa2f0, 0xca87, 0x539a, 0x9a63, 0x0, 0x0);
        gbc.writeMem(0x3f9d, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xdd40);
        EXPECT(gbc.pc(), 0x3f9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 037D
        gbc.setState(0xa101, 0xc91b, 0x1100, 0x1c64, 0xcd07, 0xbe46, 0x0, 0x0);
        gbc.writeMem(0xa101, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xc91b);
        EXPECT(gbc.pc(), 0xa103);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa101), 0xcb);
        EXPECT(gbc.readMem(0xa102), 0x6f);
        // CB 6F 037E
        gbc.setState(0x9af5, 0x1db2, 0x31a0, 0x3dde, 0x59eb, 0x8a1b, 0x1, 0x0);
        gbc.writeMem(0x9af5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1db2);
        EXPECT(gbc.pc(), 0x9af7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9af5), 0xcb);
        EXPECT(gbc.readMem(0x9af6), 0x6f);
        // CB 6F 0380
        gbc.setState(0xd62c, 0x3066, 0xec60, 0x8f3d, 0x7397, 0x5eac, 0x0, 0x0);
        gbc.writeMem(0xd62c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x3066);
        EXPECT(gbc.pc(), 0xd62e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd62c), 0xcb);
        EXPECT(gbc.readMem(0xd62d), 0x6f);
        // CB 6F 0382
        gbc.setState(0x2b83, 0xeb07, 0x5fd0, 0x14, 0x9b96, 0x7655, 0x1, 0x1);
        gbc.writeMem(0x2b83, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xeb07);
        EXPECT(gbc.pc(), 0x2b85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0383
        gbc.setState(0xd954, 0xfb68, 0x6980, 0xfeb0, 0xba07, 0xb78c, 0x0, 0x1);
        gbc.writeMem(0xd954, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xfb68);
        EXPECT(gbc.pc(), 0xd956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd954), 0xcb);
        EXPECT(gbc.readMem(0xd955), 0x6f);
        // CB 6F 0384
        gbc.setState(0xba35, 0x8300, 0x7130, 0xc18c, 0xe79a, 0x26b8, 0x0, 0x1);
        gbc.writeMem(0xba35, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8300);
        EXPECT(gbc.pc(), 0xba37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba35), 0xcb);
        EXPECT(gbc.readMem(0xba36), 0x6f);
        // CB 6F 0385
        gbc.setState(0x279f, 0x2b1d, 0xa0f0, 0x4f09, 0x51db, 0x1c3d, 0x1, 0x1);
        gbc.writeMem(0x279f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2b1d);
        EXPECT(gbc.pc(), 0x27a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0386
        gbc.setState(0x75b0, 0xda60, 0x8b10, 0x681b, 0xc749, 0xe6aa, 0x0, 0x1);
        gbc.writeMem(0x75b0, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xda60);
        EXPECT(gbc.pc(), 0x75b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0387
        gbc.setState(0x5af7, 0xcd14, 0x6820, 0x4ba, 0x9c52, 0x17a0, 0x0, 0x1);
        gbc.writeMem(0x5af7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xcd14);
        EXPECT(gbc.pc(), 0x5af9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0388
        gbc.setState(0xa031, 0x8394, 0xa320, 0xbe5a, 0xaeb6, 0x85b5, 0x1, 0x1);
        gbc.writeMem(0xa031, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8394);
        EXPECT(gbc.pc(), 0xa033);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa031), 0xcb);
        EXPECT(gbc.readMem(0xa032), 0x6f);
        // CB 6F 0389
        gbc.setState(0xd490, 0xc974, 0xe7d0, 0x328b, 0x9d29, 0xcc09, 0x1, 0x1);
        gbc.writeMem(0xd490, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xc974);
        EXPECT(gbc.pc(), 0xd492);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd490), 0xcb);
        EXPECT(gbc.readMem(0xd491), 0x6f);
        // CB 6F 038A
        gbc.setState(0xad67, 0x98b0, 0x47d0, 0xbd5f, 0xb637, 0x3f16, 0x1, 0x0);
        gbc.writeMem(0xad67, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x98b0);
        EXPECT(gbc.pc(), 0xad69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad67), 0xcb);
        EXPECT(gbc.readMem(0xad68), 0x6f);
        // CB 6F 038B
        gbc.setState(0xae8, 0x2e3c, 0x7850, 0xfdc1, 0x294f, 0x43de, 0x0, 0x0);
        gbc.writeMem(0xae8, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x2e3c);
        EXPECT(gbc.pc(), 0xaea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 038C
        gbc.setState(0x56e5, 0x4e7f, 0x13d0, 0x9579, 0xb825, 0x8ffd, 0x0, 0x0);
        gbc.writeMem(0x56e5, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4e7f);
        EXPECT(gbc.pc(), 0x56e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 038D
        gbc.setState(0xd2c2, 0x589f, 0x2dd0, 0x683f, 0x8d7c, 0x83aa, 0x0, 0x0);
        gbc.writeMem(0xd2c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x589f);
        EXPECT(gbc.pc(), 0xd2c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2c2), 0xcb);
        EXPECT(gbc.readMem(0xd2c3), 0x6f);
        // CB 6F 038F
        gbc.setState(0x41ac, 0x2ac4, 0x5880, 0x4269, 0xd20c, 0x723c, 0x1, 0x1);
        gbc.writeMem(0x41ac, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2ac4);
        EXPECT(gbc.pc(), 0x41ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 0390
        gbc.setState(0x14bb, 0x4866, 0x18d0, 0x7e14, 0xe41b, 0x34df, 0x1, 0x0);
        gbc.writeMem(0x14bb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x4866);
        EXPECT(gbc.pc(), 0x14bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 0391
        gbc.setState(0x8350, 0xa966, 0x2ac0, 0x58dd, 0x4340, 0x87f, 0x1, 0x1);
        gbc.writeMem(0x8350, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa966);
        EXPECT(gbc.pc(), 0x8352);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8350), 0xcb);
        EXPECT(gbc.readMem(0x8351), 0x6f);
        // CB 6F 0392
        gbc.setState(0xe6e3, 0x3824, 0xa7b0, 0xe77d, 0x9f21, 0xb6b4, 0x1, 0x1);
        gbc.writeMem(0xe6e3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x3824);
        EXPECT(gbc.pc(), 0xe6e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6e3), 0xcb);
        EXPECT(gbc.readMem(0xe6e4), 0x6f);
        // CB 6F 0393
        gbc.setState(0xca4e, 0x6e8e, 0xa8c0, 0x2ec7, 0xd66e, 0x784, 0x0, 0x0);
        gbc.writeMem(0xca4e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6e8e);
        EXPECT(gbc.pc(), 0xca50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca4e), 0xcb);
        EXPECT(gbc.readMem(0xca4f), 0x6f);
        // CB 6F 0396
        gbc.setState(0xc09f, 0xe3ca, 0x2670, 0xea24, 0xb680, 0x5c7b, 0x0, 0x0);
        gbc.writeMem(0xc09f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe3ca);
        EXPECT(gbc.pc(), 0xc0a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc09f), 0xcb);
        EXPECT(gbc.readMem(0xc0a0), 0x6f);
        // CB 6F 0397
        gbc.setState(0xd972, 0x2b1b, 0xd2c0, 0xdfc5, 0x16c0, 0x5fe9, 0x0, 0x1);
        gbc.writeMem(0xd972, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2b1b);
        EXPECT(gbc.pc(), 0xd974);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd972), 0xcb);
        EXPECT(gbc.readMem(0xd973), 0x6f);
        // CB 6F 0399
        gbc.setState(0x1f1e, 0xb7fd, 0x5360, 0x6ce2, 0x43, 0x90c0, 0x0, 0x0);
        gbc.writeMem(0x1f1e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb7fd);
        EXPECT(gbc.pc(), 0x1f20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 039B
        gbc.setState(0xaffe, 0x706e, 0x87a0, 0x1134, 0x33d5, 0x9ab4, 0x1, 0x0);
        gbc.writeMem(0xaffe, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x706e);
        EXPECT(gbc.pc(), 0xb000);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaffe), 0xcb);
        EXPECT(gbc.readMem(0xafff), 0x6f);
        // CB 6F 039C
        gbc.setState(0x7f43, 0xc228, 0xd2f0, 0x6981, 0xc472, 0xdee8, 0x0, 0x1);
        gbc.writeMem(0x7f43, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc228);
        EXPECT(gbc.pc(), 0x7f45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 039D
        gbc.setState(0x5173, 0xb313, 0x85d0, 0x3e35, 0xac60, 0xfdf1, 0x1, 0x0);
        gbc.writeMem(0x5173, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xb313);
        EXPECT(gbc.pc(), 0x5175);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 039E
        gbc.setState(0x3395, 0x850a, 0xbf60, 0x94bb, 0x1355, 0x9a31, 0x1, 0x0);
        gbc.writeMem(0x3395, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x850a);
        EXPECT(gbc.pc(), 0x3397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 039F
        gbc.setState(0xc646, 0x1782, 0x7350, 0xf71e, 0x1d41, 0xebd5, 0x1, 0x1);
        gbc.writeMem(0xc646, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1782);
        EXPECT(gbc.pc(), 0xc648);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc646), 0xcb);
        EXPECT(gbc.readMem(0xc647), 0x6f);
        // CB 6F 03A0
        gbc.setState(0xbf56, 0x7ce6, 0xc690, 0xece6, 0x9a6e, 0x2f, 0x0, 0x1);
        gbc.writeMem(0xbf56, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7ce6);
        EXPECT(gbc.pc(), 0xbf58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf56), 0xcb);
        EXPECT(gbc.readMem(0xbf57), 0x6f);
        // CB 6F 03A1
        gbc.setState(0x33e3, 0xfce, 0x8410, 0xbce0, 0x9395, 0xa673, 0x0, 0x1);
        gbc.writeMem(0x33e3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xfce);
        EXPECT(gbc.pc(), 0x33e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03A2
        gbc.setState(0xb90f, 0xb4a7, 0xd570, 0x4d68, 0x3dd8, 0x4250, 0x1, 0x0);
        gbc.writeMem(0xb90f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xb4a7);
        EXPECT(gbc.pc(), 0xb911);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb90f), 0xcb);
        EXPECT(gbc.readMem(0xb910), 0x6f);
        // CB 6F 03A3
        gbc.setState(0x6eb9, 0x4506, 0xfb00, 0xcc8f, 0xf40f, 0x4fab, 0x0, 0x1);
        gbc.writeMem(0x6eb9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4506);
        EXPECT(gbc.pc(), 0x6ebb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03A4
        gbc.setState(0xb4a4, 0x9e47, 0x81b0, 0xab7, 0xa1eb, 0xac62, 0x0, 0x0);
        gbc.writeMem(0xb4a4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x9e47);
        EXPECT(gbc.pc(), 0xb4a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4a4), 0xcb);
        EXPECT(gbc.readMem(0xb4a5), 0x6f);
        // CB 6F 03A5
        gbc.setState(0x9669, 0x592c, 0x4830, 0x74bf, 0x9d28, 0x61e4, 0x0, 0x0);
        gbc.writeMem(0x9669, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x592c);
        EXPECT(gbc.pc(), 0x966b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9669), 0xcb);
        EXPECT(gbc.readMem(0x966a), 0x6f);
        // CB 6F 03A6
        gbc.setState(0x8d78, 0x933e, 0x4af0, 0xe2b8, 0x1d3a, 0x378b, 0x1, 0x0);
        gbc.writeMem(0x8d78, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x933e);
        EXPECT(gbc.pc(), 0x8d7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d78), 0xcb);
        EXPECT(gbc.readMem(0x8d79), 0x6f);
        // CB 6F 03A7
        gbc.setState(0x576a, 0x1ab3, 0xc370, 0xc828, 0x9ef0, 0x93b3, 0x0, 0x0);
        gbc.writeMem(0x576a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x1ab3);
        EXPECT(gbc.pc(), 0x576c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03A8
        gbc.setState(0xe6b, 0x1f95, 0x8fb0, 0xebd7, 0xde0e, 0x51ff, 0x1, 0x1);
        gbc.writeMem(0xe6b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x1f95);
        EXPECT(gbc.pc(), 0xe6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03A9
        gbc.setState(0x1cf4, 0x7da5, 0x5d40, 0x5fda, 0x3ed6, 0x93fa, 0x1, 0x0);
        gbc.writeMem(0x1cf4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7da5);
        EXPECT(gbc.pc(), 0x1cf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03AA
        gbc.setState(0x9b1, 0x555f, 0xc760, 0xc6d3, 0x82e7, 0xdb10, 0x1, 0x1);
        gbc.writeMem(0x9b1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x555f);
        EXPECT(gbc.pc(), 0x9b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03AB
        gbc.setState(0xaea6, 0x52ee, 0x8160, 0x9535, 0x1a4d, 0xf048, 0x0, 0x1);
        gbc.writeMem(0xaea6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x52ee);
        EXPECT(gbc.pc(), 0xaea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaea6), 0xcb);
        EXPECT(gbc.readMem(0xaea7), 0x6f);
        // CB 6F 03AC
        gbc.setState(0xdd49, 0x64d2, 0x4dd0, 0x6f5b, 0xa239, 0x44dc, 0x1, 0x0);
        gbc.writeMem(0xdd49, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x64d2);
        EXPECT(gbc.pc(), 0xdd4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd49), 0xcb);
        EXPECT(gbc.readMem(0xdd4a), 0x6f);
        // CB 6F 03AD
        gbc.setState(0x7ed1, 0xb773, 0xcc40, 0x8c77, 0x586e, 0xb7b4, 0x1, 0x1);
        gbc.writeMem(0x7ed1, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb773);
        EXPECT(gbc.pc(), 0x7ed3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03AE
        gbc.setState(0x343f, 0x2782, 0xb6f0, 0x1d34, 0x11ba, 0x8287, 0x1, 0x1);
        gbc.writeMem(0x343f, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2782);
        EXPECT(gbc.pc(), 0x3441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03AF
        gbc.setState(0x4a0a, 0x30f5, 0xd6c0, 0x6b01, 0x800f, 0x4397, 0x1, 0x1);
        gbc.writeMem(0x4a0a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x30f5);
        EXPECT(gbc.pc(), 0x4a0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03B0
        gbc.setState(0xbbfb, 0xf56e, 0x62e0, 0x4f0a, 0x62b1, 0x163e, 0x1, 0x1);
        gbc.writeMem(0xbbfb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf56e);
        EXPECT(gbc.pc(), 0xbbfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbfb), 0xcb);
        EXPECT(gbc.readMem(0xbbfc), 0x6f);
        // CB 6F 03B1
        gbc.setState(0xd899, 0x6047, 0x730, 0x26dd, 0xa3d2, 0x4128, 0x0, 0x0);
        gbc.writeMem(0xd899, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x6047);
        EXPECT(gbc.pc(), 0xd89b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd899), 0xcb);
        EXPECT(gbc.readMem(0xd89a), 0x6f);
        // CB 6F 03B2
        gbc.setState(0xa9cc, 0x938f, 0xcfd0, 0xbc89, 0x26f2, 0xa118, 0x0, 0x1);
        gbc.writeMem(0xa9cc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x938f);
        EXPECT(gbc.pc(), 0xa9ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9cc), 0xcb);
        EXPECT(gbc.readMem(0xa9cd), 0x6f);
        // CB 6F 03B3
        gbc.setState(0xb58a, 0x947d, 0x2f20, 0x4a2a, 0xff3e, 0x1e0d, 0x0, 0x0);
        gbc.writeMem(0xb58a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x947d);
        EXPECT(gbc.pc(), 0xb58c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb58a), 0xcb);
        EXPECT(gbc.readMem(0xb58b), 0x6f);
        // CB 6F 03B4
        gbc.setState(0x92c2, 0x6d3e, 0x5710, 0xc032, 0xa601, 0x966d, 0x1, 0x1);
        gbc.writeMem(0x92c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x6d3e);
        EXPECT(gbc.pc(), 0x92c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92c2), 0xcb);
        EXPECT(gbc.readMem(0x92c3), 0x6f);
        // CB 6F 03B5
        gbc.setState(0xda85, 0xb040, 0x4b00, 0xc50a, 0x5d6c, 0x51a4, 0x0, 0x1);
        gbc.writeMem(0xda85, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb040);
        EXPECT(gbc.pc(), 0xda87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda85), 0xcb);
        EXPECT(gbc.readMem(0xda86), 0x6f);
        // CB 6F 03B6
        gbc.setState(0x1f7, 0x7e04, 0x33c0, 0xfd95, 0xfe11, 0xcf80, 0x0, 0x0);
        gbc.writeMem(0x1f7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7e04);
        EXPECT(gbc.pc(), 0x1f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03B7
        gbc.setState(0x975c, 0x4ec3, 0x9d60, 0xd53b, 0xbcd9, 0xb2ce, 0x0, 0x1);
        gbc.writeMem(0x975c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4ec3);
        EXPECT(gbc.pc(), 0x975e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x975c), 0xcb);
        EXPECT(gbc.readMem(0x975d), 0x6f);
        // CB 6F 03B8
        gbc.setState(0x8c47, 0x5c5f, 0x5ff0, 0x1473, 0xb245, 0x9180, 0x1, 0x1);
        gbc.writeMem(0x8c47, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x5c5f);
        EXPECT(gbc.pc(), 0x8c49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c47), 0xcb);
        EXPECT(gbc.readMem(0x8c48), 0x6f);
        // CB 6F 03B9
        gbc.setState(0xdb6b, 0x909d, 0x6140, 0x1566, 0x3a91, 0x60c7, 0x1, 0x0);
        gbc.writeMem(0xdb6b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x909d);
        EXPECT(gbc.pc(), 0xdb6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb6b), 0xcb);
        EXPECT(gbc.readMem(0xdb6c), 0x6f);
        // CB 6F 03BB
        gbc.setState(0x38af, 0x9393, 0xa560, 0x6338, 0xf064, 0x6100, 0x0, 0x1);
        gbc.writeMem(0x38af, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x9393);
        EXPECT(gbc.pc(), 0x38b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03BC
        gbc.setState(0x52a9, 0x5e59, 0x8cc0, 0x7348, 0x35f4, 0x6e2, 0x1, 0x0);
        gbc.writeMem(0x52a9, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x5e59);
        EXPECT(gbc.pc(), 0x52ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03BE
        gbc.setState(0x99bb, 0xfb79, 0x45b0, 0xf5d2, 0xa1e5, 0xb4c3, 0x0, 0x1);
        gbc.writeMem(0x99bb, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xfb79);
        EXPECT(gbc.pc(), 0x99bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99bb), 0xcb);
        EXPECT(gbc.readMem(0x99bc), 0x6f);
        // CB 6F 03BF
        gbc.setState(0x7ddf, 0xb57b, 0x7d60, 0xfce0, 0xbdd3, 0x9985, 0x1, 0x1);
        gbc.writeMem(0x7ddf, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb57b);
        EXPECT(gbc.pc(), 0x7de1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03C1
        gbc.setState(0x70cc, 0x39b0, 0x2340, 0x438a, 0xe527, 0xacb9, 0x0, 0x1);
        gbc.writeMem(0x70cc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x39b0);
        EXPECT(gbc.pc(), 0x70ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03C2
        gbc.setState(0x4a92, 0xaf64, 0x9490, 0x97da, 0x4e73, 0x69c, 0x0, 0x1);
        gbc.writeMem(0x4a92, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xaf64);
        EXPECT(gbc.pc(), 0x4a94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03C3
        gbc.setState(0x6f68, 0x476d, 0x3b90, 0xb236, 0x3720, 0xc630, 0x1, 0x0);
        gbc.writeMem(0x6f68, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x476d);
        EXPECT(gbc.pc(), 0x6f6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03C4
        gbc.setState(0xb192, 0xc836, 0xe670, 0xbc79, 0x9edc, 0xc604, 0x0, 0x0);
        gbc.writeMem(0xb192, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc836);
        EXPECT(gbc.pc(), 0xb194);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb192), 0xcb);
        EXPECT(gbc.readMem(0xb193), 0x6f);
        // CB 6F 03C5
        gbc.setState(0xa0c2, 0xf617, 0x5a50, 0xa5a6, 0xa399, 0xb043, 0x1, 0x1);
        gbc.writeMem(0xa0c2, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf617);
        EXPECT(gbc.pc(), 0xa0c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0c2), 0xcb);
        EXPECT(gbc.readMem(0xa0c3), 0x6f);
        // CB 6F 03C6
        gbc.setState(0x1d20, 0x3473, 0x8730, 0xdec8, 0x2436, 0xf264, 0x1, 0x0);
        gbc.writeMem(0x1d20, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x3473);
        EXPECT(gbc.pc(), 0x1d22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03C7
        gbc.setState(0xc1fc, 0x9fe8, 0x6720, 0x5690, 0xf8af, 0xd88a, 0x1, 0x0);
        gbc.writeMem(0xc1fc, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x9fe8);
        EXPECT(gbc.pc(), 0xc1fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1fc), 0xcb);
        EXPECT(gbc.readMem(0xc1fd), 0x6f);
        // CB 6F 03C8
        gbc.setState(0x5a28, 0x90fd, 0x1d00, 0x4b05, 0x45ed, 0xe7cc, 0x1, 0x0);
        gbc.writeMem(0x5a28, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x90fd);
        EXPECT(gbc.pc(), 0x5a2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03C9
        gbc.setState(0x19d6, 0xd113, 0xbb00, 0xf585, 0x5fd, 0x68bf, 0x1, 0x1);
        gbc.writeMem(0x19d6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd113);
        EXPECT(gbc.pc(), 0x19d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03CA
        gbc.setState(0x7e75, 0x12d2, 0x2c90, 0x7288, 0x757a, 0xeb96, 0x0, 0x0);
        gbc.writeMem(0x7e75, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x12d2);
        EXPECT(gbc.pc(), 0x7e77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03CB
        gbc.setState(0x7284, 0xe07c, 0xdde0, 0xd54c, 0x81a9, 0x300f, 0x0, 0x0);
        gbc.writeMem(0x7284, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xe07c);
        EXPECT(gbc.pc(), 0x7286);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03CC
        gbc.setState(0x2d7c, 0xe822, 0x4dc0, 0x2329, 0x1119, 0xd579, 0x0, 0x1);
        gbc.writeMem(0x2d7c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xe822);
        EXPECT(gbc.pc(), 0x2d7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03CD
        gbc.setState(0x3b81, 0x6e74, 0xd480, 0x6762, 0x3294, 0x949f, 0x0, 0x1);
        gbc.writeMem(0x3b81, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x6e74);
        EXPECT(gbc.pc(), 0x3b83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03CE
        gbc.setState(0xa8fd, 0x5261, 0x1b00, 0x7449, 0xe47d, 0x75c8, 0x1, 0x0);
        gbc.writeMem(0xa8fd, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5261);
        EXPECT(gbc.pc(), 0xa8ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8fd), 0xcb);
        EXPECT(gbc.readMem(0xa8fe), 0x6f);
        // CB 6F 03CF
        gbc.setState(0x9bc6, 0x99bf, 0x1f0, 0x439, 0x3300, 0x7d36, 0x0, 0x0);
        gbc.writeMem(0x9bc6, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x99bf);
        EXPECT(gbc.pc(), 0x9bc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bc6), 0xcb);
        EXPECT(gbc.readMem(0x9bc7), 0x6f);
        // CB 6F 03D1
        gbc.setState(0xad96, 0x564f, 0xf520, 0x9176, 0xa76f, 0x52ed, 0x0, 0x1);
        gbc.writeMem(0xad96, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x564f);
        EXPECT(gbc.pc(), 0xad98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad96), 0xcb);
        EXPECT(gbc.readMem(0xad97), 0x6f);
        // CB 6F 03D2
        gbc.setState(0x9c3b, 0xb79f, 0x1940, 0x4488, 0x68df, 0x7e6d, 0x1, 0x0);
        gbc.writeMem(0x9c3b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb79f);
        EXPECT(gbc.pc(), 0x9c3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c3b), 0xcb);
        EXPECT(gbc.readMem(0x9c3c), 0x6f);
        // CB 6F 03D3
        gbc.setState(0xbeea, 0xbd6d, 0x9810, 0x46ed, 0xfa75, 0x5acb, 0x1, 0x1);
        gbc.writeMem(0xbeea, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xbd6d);
        EXPECT(gbc.pc(), 0xbeec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeea), 0xcb);
        EXPECT(gbc.readMem(0xbeeb), 0x6f);
        // CB 6F 03D4
        gbc.setState(0xd204, 0x52e3, 0x8d90, 0xc8b6, 0x1482, 0x8dcd, 0x1, 0x1);
        gbc.writeMem(0xd204, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x52e3);
        EXPECT(gbc.pc(), 0xd206);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd204), 0xcb);
        EXPECT(gbc.readMem(0xd205), 0x6f);
        // CB 6F 03D6
        gbc.setState(0xdff7, 0x2429, 0x7aa0, 0xe0f3, 0x51ca, 0x7032, 0x0, 0x1);
        gbc.writeMem(0xdff7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2429);
        EXPECT(gbc.pc(), 0xdff9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdff7), 0xcb);
        EXPECT(gbc.readMem(0xdff8), 0x6f);
        // CB 6F 03D7
        gbc.setState(0x1d9a, 0xb7e3, 0xb960, 0xa4ea, 0x6765, 0xde40, 0x1, 0x0);
        gbc.writeMem(0x1d9a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xb7e3);
        EXPECT(gbc.pc(), 0x1d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03D8
        gbc.setState(0x4d78, 0xfd1b, 0x3c50, 0x86b0, 0xc77b, 0xdf9e, 0x1, 0x1);
        gbc.writeMem(0x4d78, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xfd1b);
        EXPECT(gbc.pc(), 0x4d7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03D9
        gbc.setState(0xdeb4, 0xd4c4, 0xe7d0, 0x238b, 0x43d1, 0xf943, 0x0, 0x0);
        gbc.writeMem(0xdeb4, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xd4c4);
        EXPECT(gbc.pc(), 0xdeb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeb4), 0xcb);
        EXPECT(gbc.readMem(0xdeb5), 0x6f);
        // CB 6F 03DA
        gbc.setState(0x3cd7, 0x80a8, 0xdd20, 0xfbca, 0xb84f, 0xa5ec, 0x0, 0x0);
        gbc.writeMem(0x3cd7, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x80a8);
        EXPECT(gbc.pc(), 0x3cd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03DB
        gbc.setState(0x2fb3, 0x7382, 0xf3f0, 0x3849, 0xb2ce, 0xbac8, 0x1, 0x1);
        gbc.writeMem(0x2fb3, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x7382);
        EXPECT(gbc.pc(), 0x2fb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6F 03DC
        gbc.setState(0xe1c, 0x15ac, 0xaa0, 0xbf33, 0xaf4f, 0x6df3, 0x1, 0x0);
        gbc.writeMem(0xe1c, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x15ac);
        EXPECT(gbc.pc(), 0xe1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03DD
        gbc.setState(0xa74a, 0x807a, 0x2090, 0x94c2, 0x71cd, 0xe10d, 0x1, 0x0);
        gbc.writeMem(0xa74a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x807a);
        EXPECT(gbc.pc(), 0xa74c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa74a), 0xcb);
        EXPECT(gbc.readMem(0xa74b), 0x6f);
        // CB 6F 03DE
        gbc.setState(0x918a, 0xb81e, 0x160, 0xd71f, 0xcd9f, 0x765c, 0x0, 0x0);
        gbc.writeMem(0x918a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb81e);
        EXPECT(gbc.pc(), 0x918c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x918a), 0xcb);
        EXPECT(gbc.readMem(0x918b), 0x6f);
        // CB 6F 03DF
        gbc.setState(0x987a, 0x347e, 0x5740, 0xe902, 0x58c9, 0x2bfc, 0x0, 0x0);
        gbc.writeMem(0x987a, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x347e);
        EXPECT(gbc.pc(), 0x987c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x987a), 0xcb);
        EXPECT(gbc.readMem(0x987b), 0x6f);
        // CB 6F 03E0
        gbc.setState(0xe899, 0x8b6c, 0x95c0, 0x4118, 0x244, 0xb76e, 0x1, 0x1);
        gbc.writeMem(0xe899, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x8b6c);
        EXPECT(gbc.pc(), 0xe89b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe899), 0xcb);
        EXPECT(gbc.readMem(0xe89a), 0x6f);
        // CB 6F 03E1
        gbc.setState(0xeaab, 0x5e79, 0xee00, 0x4091, 0xfbce, 0x812d, 0x0, 0x1);
        gbc.writeMem(0xeaab, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5e79);
        EXPECT(gbc.pc(), 0xeaad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaab), 0xcb);
        EXPECT(gbc.readMem(0xeaac), 0x6f);
        // CB 6F 03E2
        gbc.setState(0xef1b, 0x493, 0x9030, 0xaa6a, 0x672d, 0x9d6a, 0x0, 0x0);
        gbc.writeMem(0xef1b, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x493);
        EXPECT(gbc.pc(), 0xef1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef1b), 0xcb);
        EXPECT(gbc.readMem(0xef1c), 0x6f);
        // CB 6F 03E3
        gbc.setState(0x4dfa, 0xe766, 0x1640, 0x3a95, 0xa956, 0xfcc5, 0x0, 0x0);
        gbc.writeMem(0x4dfa, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe766);
        EXPECT(gbc.pc(), 0x4dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03E4
        gbc.setState(0xc730, 0x77a5, 0xa0a0, 0xfc2f, 0x168e, 0xb18, 0x0, 0x0);
        gbc.writeMem(0xc730, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x77a5);
        EXPECT(gbc.pc(), 0xc732);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc730), 0xcb);
        EXPECT(gbc.readMem(0xc731), 0x6f);
        // CB 6F 03E5
        gbc.setState(0xda3e, 0x21b3, 0x24e0, 0x1fec, 0x4273, 0x9bd1, 0x1, 0x0);
        gbc.writeMem(0xda3e, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x21b3);
        EXPECT(gbc.pc(), 0xda40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda3e), 0xcb);
        EXPECT(gbc.readMem(0xda3f), 0x6f);
        // CB 6F 03E6
        gbc.setState(0x7313, 0xaa8f, 0xa900, 0x64c5, 0x57c0, 0x9bbd, 0x0, 0x0);
        gbc.writeMem(0x7313, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xaa8f);
        EXPECT(gbc.pc(), 0x7315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6F 03E7
        gbc.setState(0xda00, 0x26cb, 0xd830, 0x9ab9, 0xe0d3, 0x913c, 0x1, 0x1);
        gbc.writeMem(0xda00, { 0xcb, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x26cb);
        EXPECT(gbc.pc(), 0xda02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda00), 0xcb);
        EXPECT(gbc.readMem(0xda01), 0x6f);
    }
