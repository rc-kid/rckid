    TEST(gbcemu, opcode_da) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // DA 0000
        gbc.setState(0x88bb, 0xfca, 0x5780, 0x61ad, 0x6ac9, 0x211f, 0x0, 0x0);
        gbc.writeMem(0x88bb, { 0xda, 0xd7, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xfca);
        EXPECT(gbc.pc(), 0x88be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88bb), 0xda);
        EXPECT(gbc.readMem(0x88bc), 0xd7);
        EXPECT(gbc.readMem(0x88bd), 0x5);
        // DA 0001
        gbc.setState(0xd303, 0xf276, 0xed20, 0x8922, 0x23ab, 0x8e5c, 0x0, 0x1);
        gbc.writeMem(0xd303, { 0xda, 0x97, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf276);
        EXPECT(gbc.pc(), 0xd306);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd303), 0xda);
        EXPECT(gbc.readMem(0xd304), 0x97);
        EXPECT(gbc.readMem(0xd305), 0xa7);
        // DA 0002
        gbc.setState(0xc2c7, 0x3a5f, 0x56a0, 0x1a68, 0x76c3, 0x5b1a, 0x0, 0x1);
        gbc.writeMem(0xc2c7, { 0xda, 0x3a, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3a5f);
        EXPECT(gbc.pc(), 0xc2ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2c7), 0xda);
        EXPECT(gbc.readMem(0xc2c8), 0x3a);
        EXPECT(gbc.readMem(0xc2c9), 0xf3);
        // DA 0003
        gbc.setState(0x808b, 0x84e4, 0x6e00, 0xb67c, 0xb158, 0xc020, 0x0, 0x0);
        gbc.writeMem(0x808b, { 0xda, 0xec, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x84e4);
        EXPECT(gbc.pc(), 0x808e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x808b), 0xda);
        EXPECT(gbc.readMem(0x808c), 0xec);
        EXPECT(gbc.readMem(0x808d), 0x3f);
        // DA 0004
        gbc.setState(0x122a, 0x9dba, 0xd410, 0x1067, 0x8ce8, 0x215b, 0x0, 0x0);
        gbc.writeMem(0x122a, { 0xda, 0xa8, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9dba);
        EXPECT(gbc.pc(), 0x7aa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0005
        gbc.setState(0x13fe, 0x16c2, 0xb7d0, 0xc52d, 0x7852, 0xa005, 0x0, 0x0);
        gbc.writeMem(0x13fe, { 0xda, 0xab, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x16c2);
        EXPECT(gbc.pc(), 0xe9ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0006
        gbc.setState(0xbc1a, 0x3be2, 0x76c0, 0xb5eb, 0x93e2, 0x8b5a, 0x1, 0x0);
        gbc.writeMem(0xbc1a, { 0xda, 0xfa, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x3be2);
        EXPECT(gbc.pc(), 0xbc1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc1a), 0xda);
        EXPECT(gbc.readMem(0xbc1b), 0xfa);
        EXPECT(gbc.readMem(0xbc1c), 0xb4);
        // DA 0007
        gbc.setState(0xb7c0, 0x3582, 0xb420, 0x2bf9, 0x7bf0, 0xb8f9, 0x0, 0x0);
        gbc.writeMem(0xb7c0, { 0xda, 0xd0, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x3582);
        EXPECT(gbc.pc(), 0xb7c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7c0), 0xda);
        EXPECT(gbc.readMem(0xb7c1), 0xd0);
        EXPECT(gbc.readMem(0xb7c2), 0x4d);
        // DA 0008
        gbc.setState(0x63a4, 0xd0b6, 0x5380, 0x27ce, 0x3372, 0x3b99, 0x1, 0x0);
        gbc.writeMem(0x63a4, { 0xda, 0x8f, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xd0b6);
        EXPECT(gbc.pc(), 0x63a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0009
        gbc.setState(0xbd0e, 0x1f0c, 0x6630, 0xf661, 0xfbf2, 0x9a31, 0x1, 0x1);
        gbc.writeMem(0xbd0e, { 0xda, 0x8f, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x1f0c);
        EXPECT(gbc.pc(), 0x8a8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd0e), 0xda);
        EXPECT(gbc.readMem(0xbd0f), 0x8f);
        EXPECT(gbc.readMem(0xbd10), 0x8a);
        // DA 000A
        gbc.setState(0x4664, 0x98fc, 0x4f80, 0xbbf6, 0xb06f, 0xd570, 0x0, 0x0);
        gbc.writeMem(0x4664, { 0xda, 0x6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x98fc);
        EXPECT(gbc.pc(), 0x4667);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 000B
        gbc.setState(0x82a4, 0x99c4, 0x8540, 0xe0af, 0x1777, 0xac93, 0x1, 0x1);
        gbc.writeMem(0x82a4, { 0xda, 0x10, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x99c4);
        EXPECT(gbc.pc(), 0x82a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a4), 0xda);
        EXPECT(gbc.readMem(0x82a5), 0x10);
        EXPECT(gbc.readMem(0x82a6), 0xac);
        // DA 000C
        gbc.setState(0x9192, 0xd7e2, 0x1c80, 0x8fbf, 0xfba0, 0x904e, 0x1, 0x1);
        gbc.writeMem(0x9192, { 0xda, 0x37, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd7e2);
        EXPECT(gbc.pc(), 0x9195);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9192), 0xda);
        EXPECT(gbc.readMem(0x9193), 0x37);
        EXPECT(gbc.readMem(0x9194), 0xbf);
        // DA 000D
        gbc.setState(0xe5b6, 0xe0e1, 0xf7c0, 0x31df, 0x107f, 0x3d48, 0x1, 0x0);
        gbc.writeMem(0xe5b6, { 0xda, 0xcb, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xe0e1);
        EXPECT(gbc.pc(), 0xe5b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5b6), 0xda);
        EXPECT(gbc.readMem(0xe5b7), 0xcb);
        EXPECT(gbc.readMem(0xe5b8), 0x3d);
        // DA 000E
        gbc.setState(0x6eb9, 0xd4f6, 0x5730, 0xe731, 0x20cf, 0xde00, 0x1, 0x0);
        gbc.writeMem(0x6eb9, { 0xda, 0xa4, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd4f6);
        EXPECT(gbc.pc(), 0xcea4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0010
        gbc.setState(0xb77a, 0xd28, 0x6ae0, 0x2e7f, 0x60af, 0xb006, 0x0, 0x0);
        gbc.writeMem(0xb77a, { 0xda, 0x39, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd28);
        EXPECT(gbc.pc(), 0xb77d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb77a), 0xda);
        EXPECT(gbc.readMem(0xb77b), 0x39);
        EXPECT(gbc.readMem(0xb77c), 0x17);
        // DA 0011
        gbc.setState(0x9415, 0xe97c, 0x4b30, 0xf87f, 0xf095, 0x8aa9, 0x0, 0x0);
        gbc.writeMem(0x9415, { 0xda, 0x2d, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe97c);
        EXPECT(gbc.pc(), 0xe2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9415), 0xda);
        EXPECT(gbc.readMem(0x9416), 0x2d);
        EXPECT(gbc.readMem(0x9417), 0xe);
        // DA 0012
        gbc.setState(0x9db6, 0x5f9d, 0x53f0, 0x99f1, 0x14a9, 0x809, 0x1, 0x0);
        gbc.writeMem(0x9db6, { 0xda, 0x73, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5f9d);
        EXPECT(gbc.pc(), 0x8873);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9db6), 0xda);
        EXPECT(gbc.readMem(0x9db7), 0x73);
        EXPECT(gbc.readMem(0x9db8), 0x88);
        // DA 0013
        gbc.setState(0x5bfc, 0x2b4a, 0x2cb0, 0x5064, 0x4573, 0xf753, 0x1, 0x1);
        gbc.writeMem(0x5bfc, { 0xda, 0xee, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2b4a);
        EXPECT(gbc.pc(), 0x69ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0014
        gbc.setState(0x58ea, 0x9d24, 0xd970, 0x2671, 0xacf9, 0xc1b3, 0x0, 0x1);
        gbc.writeMem(0x58ea, { 0xda, 0xed, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9d24);
        EXPECT(gbc.pc(), 0x10ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0015
        gbc.setState(0x4793, 0xb72c, 0x3000, 0x66fe, 0xefb9, 0x8b60, 0x1, 0x0);
        gbc.writeMem(0x4793, { 0xda, 0x46, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb72c);
        EXPECT(gbc.pc(), 0x4796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0016
        gbc.setState(0x5cf, 0x5c5f, 0x2d70, 0x3b39, 0x4460, 0xca10, 0x1, 0x0);
        gbc.writeMem(0x5cf, { 0xda, 0x11, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5c5f);
        EXPECT(gbc.pc(), 0x111);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0017
        gbc.setState(0xf8f, 0x9682, 0x2f0, 0xc81, 0x3d11, 0x7c65, 0x1, 0x0);
        gbc.writeMem(0xf8f, { 0xda, 0x54, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9682);
        EXPECT(gbc.pc(), 0x7a54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0018
        gbc.setState(0x3bc, 0x9b08, 0x8de0, 0xf338, 0xb63a, 0xfec2, 0x0, 0x0);
        gbc.writeMem(0x3bc, { 0xda, 0xe5, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x9b08);
        EXPECT(gbc.pc(), 0x3bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 001A
        gbc.setState(0x6ee8, 0x575e, 0x7260, 0xc87, 0x6e6e, 0xf340, 0x0, 0x0);
        gbc.writeMem(0x6ee8, { 0xda, 0xb3, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x575e);
        EXPECT(gbc.pc(), 0x6eeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 001B
        gbc.setState(0x7466, 0x8536, 0xffc0, 0x75d7, 0x8acf, 0xa4f3, 0x0, 0x0);
        gbc.writeMem(0x7466, { 0xda, 0x7e, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8536);
        EXPECT(gbc.pc(), 0x7469);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 001C
        gbc.setState(0xde47, 0xf18a, 0x2a20, 0xb765, 0xc4b8, 0x1fde, 0x0, 0x0);
        gbc.writeMem(0xde47, { 0xda, 0x8b, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf18a);
        EXPECT(gbc.pc(), 0xde4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde47), 0xda);
        EXPECT(gbc.readMem(0xde48), 0x8b);
        EXPECT(gbc.readMem(0xde49), 0x3d);
        // DA 001D
        gbc.setState(0x45d3, 0x15f3, 0x8ff0, 0x8054, 0x7557, 0xe3a7, 0x0, 0x0);
        gbc.writeMem(0x45d3, { 0xda, 0x4f, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x15f3);
        EXPECT(gbc.pc(), 0xfd4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 001E
        gbc.setState(0x1c0, 0x4243, 0x8660, 0x6cd1, 0xf2d8, 0x2e99, 0x1, 0x1);
        gbc.writeMem(0x1c0, { 0xda, 0x9d, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x4243);
        EXPECT(gbc.pc(), 0x1c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 001F
        gbc.setState(0x5899, 0x461f, 0xbd20, 0xf1c3, 0x8fa4, 0x9f29, 0x0, 0x1);
        gbc.writeMem(0x5899, { 0xda, 0xe7, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x461f);
        EXPECT(gbc.pc(), 0x589c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0020
        gbc.setState(0xafdc, 0x867, 0x3780, 0xc4c2, 0x453, 0x18da, 0x1, 0x1);
        gbc.writeMem(0xafdc, { 0xda, 0xd3, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x867);
        EXPECT(gbc.pc(), 0xafdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafdc), 0xda);
        EXPECT(gbc.readMem(0xafdd), 0xd3);
        EXPECT(gbc.readMem(0xafde), 0x12);
        // DA 0021
        gbc.setState(0xd0c9, 0x38f9, 0x7cb0, 0xcdd4, 0x2819, 0xb5e9, 0x0, 0x1);
        gbc.writeMem(0xd0c9, { 0xda, 0xf0, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x38f9);
        EXPECT(gbc.pc(), 0x67f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0c9), 0xda);
        EXPECT(gbc.readMem(0xd0ca), 0xf0);
        EXPECT(gbc.readMem(0xd0cb), 0x67);
        // DA 0022
        gbc.setState(0x1d45, 0x7ec5, 0xe90, 0x1651, 0xbb0e, 0x8b49, 0x1, 0x1);
        gbc.writeMem(0x1d45, { 0xda, 0x74, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x7ec5);
        EXPECT(gbc.pc(), 0x7174);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0023
        gbc.setState(0x2576, 0x7e37, 0xe0a0, 0xeec9, 0x59cd, 0x205, 0x0, 0x0);
        gbc.writeMem(0x2576, { 0xda, 0x44, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x7e37);
        EXPECT(gbc.pc(), 0x2579);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0024
        gbc.setState(0x78ab, 0xbdec, 0x7260, 0xb2f9, 0x68ba, 0x7365, 0x1, 0x1);
        gbc.writeMem(0x78ab, { 0xda, 0x91, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xbdec);
        EXPECT(gbc.pc(), 0x78ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0025
        gbc.setState(0x1d68, 0x923c, 0xfce0, 0x5898, 0x18fd, 0xbc0b, 0x0, 0x0);
        gbc.writeMem(0x1d68, { 0xda, 0xea, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x923c);
        EXPECT(gbc.pc(), 0x1d6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0026
        gbc.setState(0x393c, 0x248b, 0x38b0, 0xbd14, 0x5007, 0x9b80, 0x1, 0x1);
        gbc.writeMem(0x393c, { 0xda, 0x3b, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x248b);
        EXPECT(gbc.pc(), 0xdc3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0028
        gbc.setState(0xdc07, 0x3381, 0x3550, 0x3b78, 0xd4e4, 0xb951, 0x0, 0x1);
        gbc.writeMem(0xdc07, { 0xda, 0x16, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x3381);
        EXPECT(gbc.pc(), 0xd316);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc07), 0xda);
        EXPECT(gbc.readMem(0xdc08), 0x16);
        EXPECT(gbc.readMem(0xdc09), 0xd3);
        // DA 0029
        gbc.setState(0xe724, 0xef3e, 0x1fe0, 0x33c6, 0x2a96, 0xeac, 0x1, 0x1);
        gbc.writeMem(0xe724, { 0xda, 0xb0, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xef3e);
        EXPECT(gbc.pc(), 0xe727);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe724), 0xda);
        EXPECT(gbc.readMem(0xe725), 0xb0);
        EXPECT(gbc.readMem(0xe726), 0x90);
        // DA 002A
        gbc.setState(0x201c, 0xd596, 0x2b40, 0x30b, 0xf3ec, 0x247d, 0x0, 0x1);
        gbc.writeMem(0x201c, { 0xda, 0xc4, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xd596);
        EXPECT(gbc.pc(), 0x201f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 002B
        gbc.setState(0xae45, 0x177b, 0x4880, 0x7dd3, 0x335c, 0x4fc7, 0x0, 0x0);
        gbc.writeMem(0xae45, { 0xda, 0x83, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x177b);
        EXPECT(gbc.pc(), 0xae48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae45), 0xda);
        EXPECT(gbc.readMem(0xae46), 0x83);
        EXPECT(gbc.readMem(0xae47), 0xe7);
        // DA 002C
        gbc.setState(0x42a9, 0x54ab, 0x5e0, 0x7cb6, 0xce28, 0xcd4c, 0x0, 0x1);
        gbc.writeMem(0x42a9, { 0xda, 0x74, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x54ab);
        EXPECT(gbc.pc(), 0x42ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 002D
        gbc.setState(0x63c3, 0xa8ad, 0xd570, 0xdafc, 0x7dab, 0x770e, 0x0, 0x0);
        gbc.writeMem(0x63c3, { 0xda, 0x4e, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa8ad);
        EXPECT(gbc.pc(), 0x5d4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 002E
        gbc.setState(0x30a3, 0x177a, 0x6eb0, 0x5d71, 0x8375, 0xa38b, 0x1, 0x1);
        gbc.writeMem(0x30a3, { 0xda, 0x8d, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x177a);
        EXPECT(gbc.pc(), 0x2b8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 002F
        gbc.setState(0xe3c5, 0xb009, 0x5bb0, 0x8f2f, 0x8f81, 0x41f, 0x1, 0x1);
        gbc.writeMem(0xe3c5, { 0xda, 0x73, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb009);
        EXPECT(gbc.pc(), 0x9173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3c5), 0xda);
        EXPECT(gbc.readMem(0xe3c6), 0x73);
        EXPECT(gbc.readMem(0xe3c7), 0x91);
        // DA 0031
        gbc.setState(0xbe6b, 0x2eb1, 0xd5c0, 0x8fac, 0x9b0c, 0x7263, 0x0, 0x1);
        gbc.writeMem(0xbe6b, { 0xda, 0x60, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2eb1);
        EXPECT(gbc.pc(), 0xbe6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe6b), 0xda);
        EXPECT(gbc.readMem(0xbe6c), 0x60);
        EXPECT(gbc.readMem(0xbe6d), 0x5d);
        // DA 0032
        gbc.setState(0x20ef, 0xe5b1, 0xa210, 0x8d4e, 0xa492, 0x5521, 0x0, 0x0);
        gbc.writeMem(0x20ef, { 0xda, 0xb8, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xe5b1);
        EXPECT(gbc.pc(), 0xe3b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0033
        gbc.setState(0x5b2f, 0xf0e6, 0x5000, 0xb2ba, 0xd77e, 0xa76d, 0x1, 0x1);
        gbc.writeMem(0x5b2f, { 0xda, 0x47, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xf0e6);
        EXPECT(gbc.pc(), 0x5b32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0034
        gbc.setState(0x1002, 0x929a, 0x71a0, 0x4adb, 0x33ad, 0x445f, 0x1, 0x1);
        gbc.writeMem(0x1002, { 0xda, 0xc6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x929a);
        EXPECT(gbc.pc(), 0x1005);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0035
        gbc.setState(0x6c0f, 0x547b, 0x7a10, 0xe72c, 0xf49d, 0x5694, 0x1, 0x0);
        gbc.writeMem(0x6c0f, { 0xda, 0x2e, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x547b);
        EXPECT(gbc.pc(), 0x1c2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0036
        gbc.setState(0x2b65, 0xb84a, 0xc3c0, 0x954b, 0xdc3e, 0xe4ac, 0x1, 0x0);
        gbc.writeMem(0x2b65, { 0xda, 0x1b, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xb84a);
        EXPECT(gbc.pc(), 0x2b68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0037
        gbc.setState(0xb44, 0x611b, 0x8e70, 0xdcd7, 0x378a, 0x65b8, 0x0, 0x1);
        gbc.writeMem(0xb44, { 0xda, 0x7e, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x611b);
        EXPECT(gbc.pc(), 0x17e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0038
        gbc.setState(0x9efd, 0x4184, 0x7240, 0x53b4, 0x3e22, 0xf1cf, 0x0, 0x1);
        gbc.writeMem(0x9efd, { 0xda, 0x97, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4184);
        EXPECT(gbc.pc(), 0x9f00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9efd), 0xda);
        EXPECT(gbc.readMem(0x9efe), 0x97);
        EXPECT(gbc.readMem(0x9eff), 0x4c);
        // DA 0039
        gbc.setState(0x67fb, 0xb6e4, 0xd360, 0xe362, 0xf3f2, 0xc28c, 0x0, 0x0);
        gbc.writeMem(0x67fb, { 0xda, 0xb3, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xb6e4);
        EXPECT(gbc.pc(), 0x67fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 003A
        gbc.setState(0x7448, 0xc0b, 0x8790, 0x87a2, 0x6cb7, 0x418a, 0x0, 0x1);
        gbc.writeMem(0x7448, { 0xda, 0x27, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xc0b);
        EXPECT(gbc.pc(), 0x5827);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 003B
        gbc.setState(0xa505, 0x31a0, 0x4a30, 0xcd51, 0x1f2, 0x8a8, 0x1, 0x1);
        gbc.writeMem(0xa505, { 0xda, 0x96, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x31a0);
        EXPECT(gbc.pc(), 0xfc96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa505), 0xda);
        EXPECT(gbc.readMem(0xa506), 0x96);
        EXPECT(gbc.readMem(0xa507), 0xfc);
        // DA 003C
        gbc.setState(0x406f, 0x9d82, 0x6ac0, 0xff0c, 0xfc13, 0x6261, 0x0, 0x1);
        gbc.writeMem(0x406f, { 0xda, 0x9b, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x9d82);
        EXPECT(gbc.pc(), 0x4072);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 003D
        gbc.setState(0x58f, 0x5667, 0x2660, 0x5c24, 0xe8ce, 0xb529, 0x1, 0x0);
        gbc.writeMem(0x58f, { 0xda, 0x91, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x5667);
        EXPECT(gbc.pc(), 0x592);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 003E
        gbc.setState(0xde0e, 0xc4cf, 0x72f0, 0x29cc, 0x2565, 0xde1f, 0x0, 0x0);
        gbc.writeMem(0xde0e, { 0xda, 0x81, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc4cf);
        EXPECT(gbc.pc(), 0x4181);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde0e), 0xda);
        EXPECT(gbc.readMem(0xde0f), 0x81);
        EXPECT(gbc.readMem(0xde10), 0x41);
        // DA 003F
        gbc.setState(0xb3, 0x99ed, 0x2580, 0xf84e, 0x5d79, 0x8c5f, 0x0, 0x1);
        gbc.writeMem(0xb3, { 0xda, 0x22, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x99ed);
        EXPECT(gbc.pc(), 0xb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0040
        gbc.setState(0x5e75, 0xacee, 0xd6a0, 0x8b5e, 0x163, 0xc075, 0x0, 0x1);
        gbc.writeMem(0x5e75, { 0xda, 0xd6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xacee);
        EXPECT(gbc.pc(), 0x5e78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0041
        gbc.setState(0xcbe0, 0x7cd7, 0x8730, 0x9e92, 0x4dfe, 0xa027, 0x1, 0x1);
        gbc.writeMem(0xcbe0, { 0xda, 0xe5, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x7cd7);
        EXPECT(gbc.pc(), 0x7be5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbe0), 0xda);
        EXPECT(gbc.readMem(0xcbe1), 0xe5);
        EXPECT(gbc.readMem(0xcbe2), 0x7b);
        // DA 0042
        gbc.setState(0x33da, 0x8681, 0x3f0, 0x1e, 0xe19, 0x33f2, 0x1, 0x0);
        gbc.writeMem(0x33da, { 0xda, 0xda, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8681);
        EXPECT(gbc.pc(), 0x54da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0043
        gbc.setState(0x4a1e, 0x4ea3, 0x50c0, 0x2c25, 0x6730, 0xd59c, 0x0, 0x0);
        gbc.writeMem(0x4a1e, { 0xda, 0x53, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4ea3);
        EXPECT(gbc.pc(), 0x4a21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0044
        gbc.setState(0xe3cb, 0xdd38, 0x4200, 0x8088, 0x4b09, 0xee14, 0x1, 0x0);
        gbc.writeMem(0xe3cb, { 0xda, 0xcc, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xdd38);
        EXPECT(gbc.pc(), 0xe3ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3cb), 0xda);
        EXPECT(gbc.readMem(0xe3cc), 0xcc);
        EXPECT(gbc.readMem(0xe3cd), 0x84);
        // DA 0045
        gbc.setState(0x3b8d, 0x98f3, 0x5110, 0x7ab0, 0x11f1, 0xa39d, 0x1, 0x0);
        gbc.writeMem(0x3b8d, { 0xda, 0x59, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x98f3);
        EXPECT(gbc.pc(), 0x8a59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0046
        gbc.setState(0x6e24, 0xd5b4, 0x6480, 0xf051, 0x7c3, 0x1e27, 0x1, 0x1);
        gbc.writeMem(0x6e24, { 0xda, 0xf2, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd5b4);
        EXPECT(gbc.pc(), 0x6e27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0047
        gbc.setState(0x58e1, 0xd496, 0xa9d0, 0x7dd4, 0x4dea, 0x113d, 0x1, 0x0);
        gbc.writeMem(0x58e1, { 0xda, 0x21, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xd496);
        EXPECT(gbc.pc(), 0x4821);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0048
        gbc.setState(0xbada, 0x330e, 0xdca0, 0x48c0, 0xf744, 0x761d, 0x0, 0x0);
        gbc.writeMem(0xbada, { 0xda, 0xee, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x330e);
        EXPECT(gbc.pc(), 0xbadd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbada), 0xda);
        EXPECT(gbc.readMem(0xbadb), 0xee);
        EXPECT(gbc.readMem(0xbadc), 0xdb);
        // DA 0049
        gbc.setState(0x9fe, 0x9d56, 0xb3d0, 0xe175, 0x2793, 0x349, 0x0, 0x1);
        gbc.writeMem(0x9fe, { 0xda, 0x3a, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x9d56);
        EXPECT(gbc.pc(), 0xeb3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 004A
        gbc.setState(0x7071, 0x3b4e, 0x62a0, 0x7c4f, 0xfd1, 0x4e99, 0x1, 0x1);
        gbc.writeMem(0x7071, { 0xda, 0x4f, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3b4e);
        EXPECT(gbc.pc(), 0x7074);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 004C
        gbc.setState(0x2f60, 0xbe37, 0x64e0, 0xe38c, 0x9cbe, 0x9dc, 0x1, 0x1);
        gbc.writeMem(0x2f60, { 0xda, 0xe3, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xbe37);
        EXPECT(gbc.pc(), 0x2f63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 004D
        gbc.setState(0xdef5, 0x65e3, 0x8c0, 0x1983, 0x2576, 0x38bd, 0x0, 0x0);
        gbc.writeMem(0xdef5, { 0xda, 0xa0, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x65e3);
        EXPECT(gbc.pc(), 0xdef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdef5), 0xda);
        EXPECT(gbc.readMem(0xdef6), 0xa0);
        EXPECT(gbc.readMem(0xdef7), 0x8e);
        // DA 004E
        gbc.setState(0x56fb, 0x46d1, 0x7380, 0x5a73, 0x4532, 0x9577, 0x1, 0x1);
        gbc.writeMem(0x56fb, { 0xda, 0xaf, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x46d1);
        EXPECT(gbc.pc(), 0x56fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 004F
        gbc.setState(0x3ba4, 0x93dc, 0x4550, 0x3bd4, 0x9a32, 0x3a57, 0x1, 0x0);
        gbc.writeMem(0x3ba4, { 0xda, 0xa0, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x93dc);
        EXPECT(gbc.pc(), 0x3ca0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0050
        gbc.setState(0xadc9, 0xf6fc, 0xafe0, 0xe5f, 0x66cc, 0x4f4d, 0x1, 0x1);
        gbc.writeMem(0xadc9, { 0xda, 0xb2, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xf6fc);
        EXPECT(gbc.pc(), 0xadcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadc9), 0xda);
        EXPECT(gbc.readMem(0xadca), 0xb2);
        EXPECT(gbc.readMem(0xadcb), 0xa4);
        // DA 0051
        gbc.setState(0x4d84, 0x6615, 0x9c70, 0x1993, 0x1e2a, 0xb5f, 0x1, 0x1);
        gbc.writeMem(0x4d84, { 0xda, 0x90, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x6615);
        EXPECT(gbc.pc(), 0x3d90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0052
        gbc.setState(0xa9fe, 0xd39, 0x9c20, 0x9ace, 0x4443, 0x14a7, 0x1, 0x0);
        gbc.writeMem(0xa9fe, { 0xda, 0x19, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd39);
        EXPECT(gbc.pc(), 0xaa01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9fe), 0xda);
        EXPECT(gbc.readMem(0xa9ff), 0x19);
        EXPECT(gbc.readMem(0xaa00), 0x50);
        // DA 0053
        gbc.setState(0x4155, 0xaa5c, 0x2a30, 0xa637, 0xad1, 0xaac, 0x0, 0x1);
        gbc.writeMem(0x4155, { 0xda, 0x3c, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xaa5c);
        EXPECT(gbc.pc(), 0x9a3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0054
        gbc.setState(0x4136, 0xa229, 0xb2c0, 0xd150, 0x3a41, 0x90c, 0x0, 0x0);
        gbc.writeMem(0x4136, { 0xda, 0x6c, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa229);
        EXPECT(gbc.pc(), 0x4139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0055
        gbc.setState(0x1cd2, 0x6e57, 0x49d0, 0x2989, 0xb37d, 0x605a, 0x1, 0x0);
        gbc.writeMem(0x1cd2, { 0xda, 0x1a, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x6e57);
        EXPECT(gbc.pc(), 0x21a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0056
        gbc.setState(0x2dc, 0x750e, 0x4ba0, 0x37a6, 0xbaef, 0x6a57, 0x0, 0x0);
        gbc.writeMem(0x2dc, { 0xda, 0xd7, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x750e);
        EXPECT(gbc.pc(), 0x2df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0057
        gbc.setState(0xb209, 0x7a16, 0x3870, 0x51e6, 0x14d7, 0x5b3b, 0x1, 0x1);
        gbc.writeMem(0xb209, { 0xda, 0x4e, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x7a16);
        EXPECT(gbc.pc(), 0x5e4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb209), 0xda);
        EXPECT(gbc.readMem(0xb20a), 0x4e);
        EXPECT(gbc.readMem(0xb20b), 0x5e);
        // DA 0058
        gbc.setState(0x5d26, 0xc4d1, 0x5f90, 0xfda8, 0xd7c3, 0xca07, 0x1, 0x1);
        gbc.writeMem(0x5d26, { 0xda, 0x29, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc4d1);
        EXPECT(gbc.pc(), 0x4529);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0059
        gbc.setState(0x8a92, 0xbc0a, 0xf430, 0x1581, 0xcadc, 0x1e06, 0x1, 0x0);
        gbc.writeMem(0x8a92, { 0xda, 0x54, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xbc0a);
        EXPECT(gbc.pc(), 0x1254);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a92), 0xda);
        EXPECT(gbc.readMem(0x8a93), 0x54);
        EXPECT(gbc.readMem(0x8a94), 0x12);
        // DA 005A
        gbc.setState(0x3866, 0x2896, 0x3d80, 0x8a98, 0x6c7a, 0xcb10, 0x0, 0x1);
        gbc.writeMem(0x3866, { 0xda, 0x91, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2896);
        EXPECT(gbc.pc(), 0x3869);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 005B
        gbc.setState(0x49e8, 0xa556, 0xdf90, 0x6604, 0x5eb2, 0xf0c5, 0x1, 0x1);
        gbc.writeMem(0x49e8, { 0xda, 0x5b, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa556);
        EXPECT(gbc.pc(), 0xd85b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 005C
        gbc.setState(0xb4e5, 0xe7bc, 0x8320, 0xe2ab, 0x947e, 0x83f2, 0x1, 0x0);
        gbc.writeMem(0xb4e5, { 0xda, 0xaa, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xe7bc);
        EXPECT(gbc.pc(), 0xb4e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e5), 0xda);
        EXPECT(gbc.readMem(0xb4e6), 0xaa);
        EXPECT(gbc.readMem(0xb4e7), 0xfe);
        // DA 005D
        gbc.setState(0x7538, 0x56d9, 0x1b20, 0x715c, 0x1894, 0x8e99, 0x0, 0x0);
        gbc.writeMem(0x7538, { 0xda, 0xed, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x56d9);
        EXPECT(gbc.pc(), 0x753b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 005E
        gbc.setState(0xedf6, 0xaaf3, 0x41b0, 0x92bc, 0xfb5f, 0x8fa2, 0x1, 0x0);
        gbc.writeMem(0xedf6, { 0xda, 0xb0, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xaaf3);
        EXPECT(gbc.pc(), 0xa9b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedf6), 0xda);
        EXPECT(gbc.readMem(0xedf7), 0xb0);
        EXPECT(gbc.readMem(0xedf8), 0xa9);
        // DA 005F
        gbc.setState(0xead, 0x5745, 0xab20, 0xe2c, 0xe45, 0x71f7, 0x0, 0x0);
        gbc.writeMem(0xead, { 0xda, 0x2d, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5745);
        EXPECT(gbc.pc(), 0xeb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0060
        gbc.setState(0x8c70, 0x4bfc, 0x2240, 0x39cc, 0x820e, 0xf1eb, 0x0, 0x0);
        gbc.writeMem(0x8c70, { 0xda, 0x93, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4bfc);
        EXPECT(gbc.pc(), 0x8c73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c70), 0xda);
        EXPECT(gbc.readMem(0x8c71), 0x93);
        EXPECT(gbc.readMem(0x8c72), 0xad);
        // DA 0061
        gbc.setState(0x6e0c, 0x56b5, 0x8e40, 0x5d2b, 0x4773, 0xee40, 0x1, 0x1);
        gbc.writeMem(0x6e0c, { 0xda, 0xa1, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x56b5);
        EXPECT(gbc.pc(), 0x6e0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0062
        gbc.setState(0x6c60, 0x6628, 0x4d20, 0x9ada, 0x76c1, 0xa17a, 0x1, 0x0);
        gbc.writeMem(0x6c60, { 0xda, 0xd3, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6628);
        EXPECT(gbc.pc(), 0x6c63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0063
        gbc.setState(0x408f, 0xa753, 0xf320, 0xb6dd, 0xdf6b, 0x3bf6, 0x0, 0x1);
        gbc.writeMem(0x408f, { 0xda, 0x19, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xa753);
        EXPECT(gbc.pc(), 0x4092);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0064
        gbc.setState(0xeb54, 0x58d0, 0xa830, 0x3a2e, 0x6012, 0x70ae, 0x1, 0x0);
        gbc.writeMem(0xeb54, { 0xda, 0xf1, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x58d0);
        EXPECT(gbc.pc(), 0x6bf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb54), 0xda);
        EXPECT(gbc.readMem(0xeb55), 0xf1);
        EXPECT(gbc.readMem(0xeb56), 0x6b);
        // DA 0065
        gbc.setState(0xb568, 0x9a84, 0x8be0, 0xe7fa, 0x79d3, 0xf0a6, 0x0, 0x1);
        gbc.writeMem(0xb568, { 0xda, 0xe3, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9a84);
        EXPECT(gbc.pc(), 0xb56b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb568), 0xda);
        EXPECT(gbc.readMem(0xb569), 0xe3);
        EXPECT(gbc.readMem(0xb56a), 0x21);
        // DA 0066
        gbc.setState(0x2a4b, 0x1df6, 0xba0, 0xc7e8, 0x4bfb, 0x67a4, 0x0, 0x0);
        gbc.writeMem(0x2a4b, { 0xda, 0x63, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1df6);
        EXPECT(gbc.pc(), 0x2a4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0067
        gbc.setState(0x2468, 0x3af8, 0x74c0, 0x9959, 0x7cd, 0x45df, 0x0, 0x1);
        gbc.writeMem(0x2468, { 0xda, 0x89, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3af8);
        EXPECT(gbc.pc(), 0x246b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0068
        gbc.setState(0xf3c, 0x6bf4, 0xf6d0, 0xb4d0, 0x79da, 0x4c7d, 0x0, 0x0);
        gbc.writeMem(0xf3c, { 0xda, 0xfc, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x6bf4);
        EXPECT(gbc.pc(), 0x38fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0069
        gbc.setState(0x7fb7, 0xde0a, 0x81d0, 0x51dd, 0xadd6, 0x51b8, 0x1, 0x1);
        gbc.writeMem(0x7fb7, { 0xda, 0x1c, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xde0a);
        EXPECT(gbc.pc(), 0x501c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 006A
        gbc.setState(0xc5e9, 0x43dc, 0xbcc0, 0xfbc0, 0x5052, 0x1c78, 0x0, 0x0);
        gbc.writeMem(0xc5e9, { 0xda, 0xae, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x43dc);
        EXPECT(gbc.pc(), 0xc5ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5e9), 0xda);
        EXPECT(gbc.readMem(0xc5ea), 0xae);
        EXPECT(gbc.readMem(0xc5eb), 0x14);
        // DA 006B
        gbc.setState(0x5bb0, 0xcc6b, 0xb970, 0x2f21, 0x4eed, 0xdf65, 0x1, 0x0);
        gbc.writeMem(0x5bb0, { 0xda, 0xbf, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xcc6b);
        EXPECT(gbc.pc(), 0x69bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 006C
        gbc.setState(0xa1cf, 0xc88d, 0x5560, 0x777f, 0x95c8, 0x5aa0, 0x0, 0x0);
        gbc.writeMem(0xa1cf, { 0xda, 0xeb, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xc88d);
        EXPECT(gbc.pc(), 0xa1d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1cf), 0xda);
        EXPECT(gbc.readMem(0xa1d0), 0xeb);
        EXPECT(gbc.readMem(0xa1d1), 0xe6);
        // DA 006D
        gbc.setState(0x5e0f, 0xd890, 0x5870, 0xee00, 0x379d, 0xaed0, 0x1, 0x0);
        gbc.writeMem(0x5e0f, { 0xda, 0x5e, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xd890);
        EXPECT(gbc.pc(), 0x405e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 006E
        gbc.setState(0x565f, 0xbe76, 0x5f00, 0x2fa8, 0x7c42, 0x711f, 0x0, 0x0);
        gbc.writeMem(0x565f, { 0xda, 0x3b, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xbe76);
        EXPECT(gbc.pc(), 0x5662);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 006F
        gbc.setState(0x3c14, 0x8632, 0xaac0, 0xd66a, 0xc24a, 0x4fd1, 0x1, 0x1);
        gbc.writeMem(0x3c14, { 0xda, 0xe0, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8632);
        EXPECT(gbc.pc(), 0x3c17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0070
        gbc.setState(0x9531, 0xa88c, 0x61f0, 0xa98c, 0x682d, 0x4cbd, 0x0, 0x1);
        gbc.writeMem(0x9531, { 0xda, 0x96, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa88c);
        EXPECT(gbc.pc(), 0xc296);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9531), 0xda);
        EXPECT(gbc.readMem(0x9532), 0x96);
        EXPECT(gbc.readMem(0x9533), 0xc2);
        // DA 0071
        gbc.setState(0x6302, 0xb527, 0xdb00, 0xc4a2, 0x5fde, 0x15de, 0x0, 0x0);
        gbc.writeMem(0x6302, { 0xda, 0x76, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb527);
        EXPECT(gbc.pc(), 0x6305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0072
        gbc.setState(0x7911, 0xa1d7, 0x3ba0, 0xbf0, 0x883c, 0x3f15, 0x0, 0x1);
        gbc.writeMem(0x7911, { 0xda, 0x49, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa1d7);
        EXPECT(gbc.pc(), 0x7914);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0073
        gbc.setState(0x2b11, 0xed9b, 0x9c20, 0xb9db, 0x1216, 0x26a5, 0x1, 0x1);
        gbc.writeMem(0x2b11, { 0xda, 0xd6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xed9b);
        EXPECT(gbc.pc(), 0x2b14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0074
        gbc.setState(0xdaa6, 0x347f, 0x46e0, 0xeb5e, 0x4a38, 0x2059, 0x0, 0x1);
        gbc.writeMem(0xdaa6, { 0xda, 0x10, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x347f);
        EXPECT(gbc.pc(), 0xdaa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaa6), 0xda);
        EXPECT(gbc.readMem(0xdaa7), 0x10);
        EXPECT(gbc.readMem(0xdaa8), 0x1e);
        // DA 0075
        gbc.setState(0xdd53, 0x2092, 0x8ff0, 0x80b1, 0x330, 0x7986, 0x0, 0x1);
        gbc.writeMem(0xdd53, { 0xda, 0x0, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2092);
        EXPECT(gbc.pc(), 0xd900);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd53), 0xda);
        EXPECT(gbc.readMem(0xdd54), 0x0);
        EXPECT(gbc.readMem(0xdd55), 0xd9);
        // DA 0076
        gbc.setState(0xe74, 0xb703, 0x3810, 0xc067, 0xb922, 0x2cee, 0x1, 0x1);
        gbc.writeMem(0xe74, { 0xda, 0x1a, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xb703);
        EXPECT(gbc.pc(), 0x581a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0077
        gbc.setState(0xdabe, 0xa368, 0x8760, 0x81dd, 0x57d2, 0x2cfb, 0x0, 0x0);
        gbc.writeMem(0xdabe, { 0xda, 0x49, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa368);
        EXPECT(gbc.pc(), 0xdac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdabe), 0xda);
        EXPECT(gbc.readMem(0xdabf), 0x49);
        EXPECT(gbc.readMem(0xdac0), 0x2c);
        // DA 0078
        gbc.setState(0xece9, 0xe825, 0x5650, 0xcfbd, 0xad0f, 0x7f7b, 0x1, 0x0);
        gbc.writeMem(0xece9, { 0xda, 0xc3, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe825);
        EXPECT(gbc.pc(), 0xa1c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xece9), 0xda);
        EXPECT(gbc.readMem(0xecea), 0xc3);
        EXPECT(gbc.readMem(0xeceb), 0xa1);
        // DA 0079
        gbc.setState(0xbc65, 0xb126, 0xc2b0, 0x660a, 0xb00a, 0xb36a, 0x1, 0x1);
        gbc.writeMem(0xbc65, { 0xda, 0x21, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xb126);
        EXPECT(gbc.pc(), 0x2621);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc65), 0xda);
        EXPECT(gbc.readMem(0xbc66), 0x21);
        EXPECT(gbc.readMem(0xbc67), 0x26);
        // DA 007A
        gbc.setState(0x6d3c, 0xa3c, 0xdf60, 0xf591, 0xceb8, 0x9520, 0x0, 0x1);
        gbc.writeMem(0x6d3c, { 0xda, 0xc5, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa3c);
        EXPECT(gbc.pc(), 0x6d3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 007B
        gbc.setState(0x5c5a, 0x82a4, 0xabe0, 0xdc28, 0x4b6f, 0x7980, 0x1, 0x0);
        gbc.writeMem(0x5c5a, { 0xda, 0x4e, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x82a4);
        EXPECT(gbc.pc(), 0x5c5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 007C
        gbc.setState(0x1f3a, 0x5101, 0x1ba0, 0xfd20, 0xd068, 0x58d8, 0x1, 0x1);
        gbc.writeMem(0x1f3a, { 0xda, 0xf8, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x5101);
        EXPECT(gbc.pc(), 0x1f3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 007D
        gbc.setState(0xb175, 0xabee, 0x6800, 0x3f53, 0x96a0, 0x7a0e, 0x1, 0x0);
        gbc.writeMem(0xb175, { 0xda, 0xb7, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xabee);
        EXPECT(gbc.pc(), 0xb178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb175), 0xda);
        EXPECT(gbc.readMem(0xb176), 0xb7);
        EXPECT(gbc.readMem(0xb177), 0x98);
        // DA 007E
        gbc.setState(0xe025, 0xb5de, 0x46e0, 0x35e8, 0x9e1e, 0x82b1, 0x1, 0x0);
        gbc.writeMem(0xe025, { 0xda, 0xed, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xb5de);
        EXPECT(gbc.pc(), 0xe028);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe025), 0xda);
        EXPECT(gbc.readMem(0xe026), 0xed);
        EXPECT(gbc.readMem(0xe027), 0xfb);
        // DA 0080
        gbc.setState(0x1c41, 0xb5f, 0x1780, 0xdca9, 0x928d, 0x680b, 0x0, 0x0);
        gbc.writeMem(0x1c41, { 0xda, 0x51, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xb5f);
        EXPECT(gbc.pc(), 0x1c44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0081
        gbc.setState(0xba57, 0x5df9, 0x9d70, 0x2e8d, 0xa1e2, 0xd247, 0x1, 0x1);
        gbc.writeMem(0xba57, { 0xda, 0x9f, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x5df9);
        EXPECT(gbc.pc(), 0x129f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba57), 0xda);
        EXPECT(gbc.readMem(0xba58), 0x9f);
        EXPECT(gbc.readMem(0xba59), 0x12);
        // DA 0082
        gbc.setState(0xdde3, 0x9a8, 0x9150, 0xf67c, 0x1929, 0x9f5, 0x0, 0x1);
        gbc.writeMem(0xdde3, { 0xda, 0xb8, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x9a8);
        EXPECT(gbc.pc(), 0x74b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdde3), 0xda);
        EXPECT(gbc.readMem(0xdde4), 0xb8);
        EXPECT(gbc.readMem(0xdde5), 0x74);
        // DA 0083
        gbc.setState(0xabac, 0x3ed7, 0xfb80, 0x8799, 0x9756, 0x47b5, 0x1, 0x1);
        gbc.writeMem(0xabac, { 0xda, 0x81, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x3ed7);
        EXPECT(gbc.pc(), 0xabaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabac), 0xda);
        EXPECT(gbc.readMem(0xabad), 0x81);
        EXPECT(gbc.readMem(0xabae), 0xd6);
        // DA 0084
        gbc.setState(0x1b8a, 0x382f, 0x67e0, 0xc528, 0x70a1, 0xe71e, 0x0, 0x1);
        gbc.writeMem(0x1b8a, { 0xda, 0x5a, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x382f);
        EXPECT(gbc.pc(), 0x1b8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0085
        gbc.setState(0xeac0, 0x976f, 0xba80, 0x6aea, 0x7a72, 0xef28, 0x0, 0x1);
        gbc.writeMem(0xeac0, { 0xda, 0x9f, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x976f);
        EXPECT(gbc.pc(), 0xeac3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeac0), 0xda);
        EXPECT(gbc.readMem(0xeac1), 0x9f);
        EXPECT(gbc.readMem(0xeac2), 0xf5);
        // DA 0087
        gbc.setState(0x66e7, 0x59b, 0xcb80, 0xd6e7, 0xd0a9, 0xea4c, 0x0, 0x1);
        gbc.writeMem(0x66e7, { 0xda, 0xa0, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x59b);
        EXPECT(gbc.pc(), 0x66ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0088
        gbc.setState(0xd9f0, 0x4f5e, 0x21b0, 0xbc87, 0x9ec9, 0x452d, 0x1, 0x0);
        gbc.writeMem(0xd9f0, { 0xda, 0x61, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x4f5e);
        EXPECT(gbc.pc(), 0xdd61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9f0), 0xda);
        EXPECT(gbc.readMem(0xd9f1), 0x61);
        EXPECT(gbc.readMem(0xd9f2), 0xdd);
        // DA 0089
        gbc.setState(0xd14d, 0x6ff4, 0x5990, 0xbea6, 0xb5c9, 0x7999, 0x1, 0x1);
        gbc.writeMem(0xd14d, { 0xda, 0xff, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x6ff4);
        EXPECT(gbc.pc(), 0x73ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd14d), 0xda);
        EXPECT(gbc.readMem(0xd14e), 0xff);
        EXPECT(gbc.readMem(0xd14f), 0x73);
        // DA 008A
        gbc.setState(0xe949, 0x7964, 0x4330, 0x7dae, 0xdd35, 0xe941, 0x1, 0x0);
        gbc.writeMem(0xe949, { 0xda, 0x4f, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7964);
        EXPECT(gbc.pc(), 0x6e4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe949), 0xda);
        EXPECT(gbc.readMem(0xe94a), 0x4f);
        EXPECT(gbc.readMem(0xe94b), 0x6e);
        // DA 008B
        gbc.setState(0xee0, 0xf2de, 0x4890, 0x8d45, 0x6604, 0xebdb, 0x1, 0x1);
        gbc.writeMem(0xee0, { 0xda, 0xd5, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf2de);
        EXPECT(gbc.pc(), 0x8ed5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 008D
        gbc.setState(0x2ed8, 0x61fc, 0xa680, 0x18cd, 0x3950, 0x2dbd, 0x0, 0x0);
        gbc.writeMem(0x2ed8, { 0xda, 0x61, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x61fc);
        EXPECT(gbc.pc(), 0x2edb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 008E
        gbc.setState(0x1ae6, 0x13c0, 0xcf70, 0xd8e8, 0xa28b, 0x1f83, 0x1, 0x1);
        gbc.writeMem(0x1ae6, { 0xda, 0xbc, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x13c0);
        EXPECT(gbc.pc(), 0x88bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 008F
        gbc.setState(0xec80, 0x4a6f, 0x1790, 0xad19, 0x6273, 0x9d74, 0x1, 0x0);
        gbc.writeMem(0xec80, { 0xda, 0x2c, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x4a6f);
        EXPECT(gbc.pc(), 0x7a2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec80), 0xda);
        EXPECT(gbc.readMem(0xec81), 0x2c);
        EXPECT(gbc.readMem(0xec82), 0x7a);
        // DA 0090
        gbc.setState(0xba66, 0x3ecf, 0xf5a0, 0xaaff, 0x95f9, 0x9e4, 0x0, 0x1);
        gbc.writeMem(0xba66, { 0xda, 0xc8, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3ecf);
        EXPECT(gbc.pc(), 0xba69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba66), 0xda);
        EXPECT(gbc.readMem(0xba67), 0xc8);
        EXPECT(gbc.readMem(0xba68), 0xd6);
        // DA 0091
        gbc.setState(0x22a4, 0x4270, 0x6f50, 0x73ba, 0x6df2, 0x7592, 0x1, 0x1);
        gbc.writeMem(0x22a4, { 0xda, 0x23, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4270);
        EXPECT(gbc.pc(), 0x3d23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0092
        gbc.setState(0x6a77, 0xb5d8, 0xe480, 0x1df5, 0x5dd9, 0xc6bf, 0x1, 0x0);
        gbc.writeMem(0x6a77, { 0xda, 0xa1, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb5d8);
        EXPECT(gbc.pc(), 0x6a7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0093
        gbc.setState(0x2ec5, 0xc841, 0xd100, 0xa0af, 0x9ca0, 0xec31, 0x1, 0x0);
        gbc.writeMem(0x2ec5, { 0xda, 0x4c, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc841);
        EXPECT(gbc.pc(), 0x2ec8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0094
        gbc.setState(0x58e9, 0x484, 0x6d20, 0x7c43, 0x4a4c, 0xd1ef, 0x1, 0x1);
        gbc.writeMem(0x58e9, { 0xda, 0x7e, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x484);
        EXPECT(gbc.pc(), 0x58ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0095
        gbc.setState(0x4670, 0x7e88, 0x5190, 0x7edd, 0xe9a8, 0xebe3, 0x1, 0x1);
        gbc.writeMem(0x4670, { 0xda, 0xa5, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x7e88);
        EXPECT(gbc.pc(), 0xd6a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0096
        gbc.setState(0xe103, 0x98ea, 0x53a0, 0xa776, 0x2e05, 0xb7b6, 0x0, 0x1);
        gbc.writeMem(0xe103, { 0xda, 0xc2, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x98ea);
        EXPECT(gbc.pc(), 0xe106);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe103), 0xda);
        EXPECT(gbc.readMem(0xe104), 0xc2);
        EXPECT(gbc.readMem(0xe105), 0xea);
        // DA 0098
        gbc.setState(0xd0d1, 0xb068, 0xdee0, 0x4ac3, 0x385, 0x193, 0x0, 0x1);
        gbc.writeMem(0xd0d1, { 0xda, 0x2b, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb068);
        EXPECT(gbc.pc(), 0xd0d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0d1), 0xda);
        EXPECT(gbc.readMem(0xd0d2), 0x2b);
        EXPECT(gbc.readMem(0xd0d3), 0x70);
        // DA 0099
        gbc.setState(0xb3ad, 0x8477, 0x8740, 0xdda7, 0x9f53, 0x6c96, 0x1, 0x0);
        gbc.writeMem(0xb3ad, { 0xda, 0xa1, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8477);
        EXPECT(gbc.pc(), 0xb3b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3ad), 0xda);
        EXPECT(gbc.readMem(0xb3ae), 0xa1);
        EXPECT(gbc.readMem(0xb3af), 0xe2);
        // DA 009A
        gbc.setState(0x735b, 0xd8b2, 0xc300, 0x549f, 0x3668, 0x2ebc, 0x1, 0x1);
        gbc.writeMem(0x735b, { 0xda, 0x89, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd8b2);
        EXPECT(gbc.pc(), 0x735e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 009B
        gbc.setState(0x49, 0xdcd5, 0xdc70, 0xd94e, 0x8bbc, 0x9bfd, 0x1, 0x1);
        gbc.writeMem(0x49, { 0xda, 0xee, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xdcd5);
        EXPECT(gbc.pc(), 0x1dee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 009C
        gbc.setState(0xa122, 0xf88e, 0xffb0, 0x690f, 0x4a6f, 0x9c2e, 0x1, 0x0);
        gbc.writeMem(0xa122, { 0xda, 0x56, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xf88e);
        EXPECT(gbc.pc(), 0xa556);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa122), 0xda);
        EXPECT(gbc.readMem(0xa123), 0x56);
        EXPECT(gbc.readMem(0xa124), 0xa5);
        // DA 009D
        gbc.setState(0xa1d4, 0xe923, 0x7180, 0xc6e6, 0x448a, 0x7547, 0x1, 0x0);
        gbc.writeMem(0xa1d4, { 0xda, 0xcd, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe923);
        EXPECT(gbc.pc(), 0xa1d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1d4), 0xda);
        EXPECT(gbc.readMem(0xa1d5), 0xcd);
        EXPECT(gbc.readMem(0xa1d6), 0x4f);
        // DA 009E
        gbc.setState(0xaf65, 0x553a, 0x4f80, 0x68ad, 0x1634, 0xd373, 0x0, 0x0);
        gbc.writeMem(0xaf65, { 0xda, 0x41, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x553a);
        EXPECT(gbc.pc(), 0xaf68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf65), 0xda);
        EXPECT(gbc.readMem(0xaf66), 0x41);
        EXPECT(gbc.readMem(0xaf67), 0x15);
        // DA 009F
        gbc.setState(0x251a, 0x923e, 0xfee0, 0x35c, 0x533b, 0x5bc6, 0x0, 0x0);
        gbc.writeMem(0x251a, { 0xda, 0x0, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x923e);
        EXPECT(gbc.pc(), 0x251d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00A0
        gbc.setState(0xcf37, 0xdd73, 0xed40, 0x4683, 0x3760, 0xe965, 0x0, 0x1);
        gbc.writeMem(0xcf37, { 0xda, 0x2f, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xdd73);
        EXPECT(gbc.pc(), 0xcf3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf37), 0xda);
        EXPECT(gbc.readMem(0xcf38), 0x2f);
        EXPECT(gbc.readMem(0xcf39), 0xbb);
        // DA 00A1
        gbc.setState(0x60d1, 0xb5b3, 0xbf80, 0x73b4, 0xf2a1, 0x23a, 0x1, 0x0);
        gbc.writeMem(0x60d1, { 0xda, 0x10, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xb5b3);
        EXPECT(gbc.pc(), 0x60d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00A2
        gbc.setState(0xbb4e, 0xb800, 0x3b90, 0x925c, 0x9982, 0xc473, 0x1, 0x0);
        gbc.writeMem(0xbb4e, { 0xda, 0x11, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xb800);
        EXPECT(gbc.pc(), 0x6911);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb4e), 0xda);
        EXPECT(gbc.readMem(0xbb4f), 0x11);
        EXPECT(gbc.readMem(0xbb50), 0x69);
        // DA 00A3
        gbc.setState(0xb7cb, 0x3f08, 0xe2f0, 0x463f, 0xb047, 0x420d, 0x1, 0x1);
        gbc.writeMem(0xb7cb, { 0xda, 0xc0, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3f08);
        EXPECT(gbc.pc(), 0xd2c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7cb), 0xda);
        EXPECT(gbc.readMem(0xb7cc), 0xc0);
        EXPECT(gbc.readMem(0xb7cd), 0xd2);
        // DA 00A4
        gbc.setState(0xa974, 0x4cd7, 0xa1b0, 0x4236, 0xddbe, 0x97a6, 0x1, 0x1);
        gbc.writeMem(0xa974, { 0xda, 0x5e, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4cd7);
        EXPECT(gbc.pc(), 0x445e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa974), 0xda);
        EXPECT(gbc.readMem(0xa975), 0x5e);
        EXPECT(gbc.readMem(0xa976), 0x44);
        // DA 00A5
        gbc.setState(0x5693, 0xbb87, 0xbf40, 0xc343, 0x8052, 0x7e00, 0x0, 0x1);
        gbc.writeMem(0x5693, { 0xda, 0xb1, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xbb87);
        EXPECT(gbc.pc(), 0x5696);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00A6
        gbc.setState(0xd4c1, 0x4f7d, 0x9d40, 0x42fa, 0xd949, 0x3c9f, 0x1, 0x0);
        gbc.writeMem(0xd4c1, { 0xda, 0x87, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4f7d);
        EXPECT(gbc.pc(), 0xd4c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4c1), 0xda);
        EXPECT(gbc.readMem(0xd4c2), 0x87);
        EXPECT(gbc.readMem(0xd4c3), 0xb5);
        // DA 00A7
        gbc.setState(0x99ee, 0xb415, 0x41b0, 0xfda7, 0xc4c8, 0x9e84, 0x1, 0x0);
        gbc.writeMem(0x99ee, { 0xda, 0x2e, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb415);
        EXPECT(gbc.pc(), 0x902e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99ee), 0xda);
        EXPECT(gbc.readMem(0x99ef), 0x2e);
        EXPECT(gbc.readMem(0x99f0), 0x90);
        // DA 00A8
        gbc.setState(0xca5, 0xc458, 0x80, 0x2946, 0xa172, 0xc0c9, 0x0, 0x0);
        gbc.writeMem(0xca5, { 0xda, 0x68, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xc458);
        EXPECT(gbc.pc(), 0xca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00A9
        gbc.setState(0x799d, 0x83c7, 0xe480, 0xd270, 0x6d05, 0xe6fe, 0x0, 0x0);
        gbc.writeMem(0x799d, { 0xda, 0x7, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x83c7);
        EXPECT(gbc.pc(), 0x79a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00AA
        gbc.setState(0x239a, 0xc6b2, 0xbca0, 0x2782, 0x3577, 0xa41c, 0x0, 0x0);
        gbc.writeMem(0x239a, { 0xda, 0x5e, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc6b2);
        EXPECT(gbc.pc(), 0x239d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00AB
        gbc.setState(0xb9f6, 0x2dee, 0xda0, 0x63e5, 0xf8cc, 0x5ba8, 0x1, 0x0);
        gbc.writeMem(0xb9f6, { 0xda, 0xd8, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2dee);
        EXPECT(gbc.pc(), 0xb9f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9f6), 0xda);
        EXPECT(gbc.readMem(0xb9f7), 0xd8);
        EXPECT(gbc.readMem(0xb9f8), 0x5e);
        // DA 00AC
        gbc.setState(0x3ae2, 0xba8e, 0x51d0, 0x7666, 0x3528, 0xcdc5, 0x0, 0x1);
        gbc.writeMem(0x3ae2, { 0xda, 0xe1, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xba8e);
        EXPECT(gbc.pc(), 0x19e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00AD
        gbc.setState(0xc96c, 0x892e, 0xc300, 0xa8b6, 0x969, 0x8deb, 0x1, 0x1);
        gbc.writeMem(0xc96c, { 0xda, 0x2e, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x892e);
        EXPECT(gbc.pc(), 0xc96f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc96c), 0xda);
        EXPECT(gbc.readMem(0xc96d), 0x2e);
        EXPECT(gbc.readMem(0xc96e), 0x6b);
        // DA 00AE
        gbc.setState(0x8a2e, 0xf3b3, 0x4dd0, 0xf8e8, 0x62a0, 0x242, 0x0, 0x1);
        gbc.writeMem(0x8a2e, { 0xda, 0xba, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf3b3);
        EXPECT(gbc.pc(), 0xbaba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a2e), 0xda);
        EXPECT(gbc.readMem(0x8a2f), 0xba);
        EXPECT(gbc.readMem(0x8a30), 0xba);
        // DA 00AF
        gbc.setState(0x4853, 0x41d2, 0x3fa0, 0x7d5, 0x8f31, 0x3615, 0x1, 0x0);
        gbc.writeMem(0x4853, { 0xda, 0x2d, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x41d2);
        EXPECT(gbc.pc(), 0x4856);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00B0
        gbc.setState(0x47c9, 0x4c95, 0x8f70, 0x760e, 0xaf57, 0xdbb3, 0x1, 0x0);
        gbc.writeMem(0x47c9, { 0xda, 0x6b, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4c95);
        EXPECT(gbc.pc(), 0xec6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00B1
        gbc.setState(0x2361, 0xc1a9, 0xa440, 0x8ced, 0x3de3, 0xd465, 0x0, 0x0);
        gbc.writeMem(0x2361, { 0xda, 0x7f, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xc1a9);
        EXPECT(gbc.pc(), 0x2364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00B2
        gbc.setState(0x5cd1, 0x1510, 0x2010, 0x261, 0x54e0, 0xeb58, 0x0, 0x0);
        gbc.writeMem(0x5cd1, { 0xda, 0xa3, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x1510);
        EXPECT(gbc.pc(), 0xc6a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00B3
        gbc.setState(0x6b0c, 0x5e63, 0x5010, 0x605a, 0x2e20, 0xa655, 0x1, 0x0);
        gbc.writeMem(0x6b0c, { 0xda, 0x4f, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x5e63);
        EXPECT(gbc.pc(), 0xb04f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00B4
        gbc.setState(0xe0b8, 0xce74, 0x8410, 0xbabb, 0x198, 0x891c, 0x0, 0x0);
        gbc.writeMem(0xe0b8, { 0xda, 0xed, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xce74);
        EXPECT(gbc.pc(), 0xa3ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0b8), 0xda);
        EXPECT(gbc.readMem(0xe0b9), 0xed);
        EXPECT(gbc.readMem(0xe0ba), 0xa3);
        // DA 00B5
        gbc.setState(0xc294, 0x5a4b, 0xe3e0, 0x2eb8, 0xea23, 0x3850, 0x1, 0x0);
        gbc.writeMem(0xc294, { 0xda, 0x32, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x5a4b);
        EXPECT(gbc.pc(), 0xc297);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc294), 0xda);
        EXPECT(gbc.readMem(0xc295), 0x32);
        EXPECT(gbc.readMem(0xc296), 0x31);
        // DA 00B6
        gbc.setState(0x712a, 0x9aca, 0x8540, 0x9b4e, 0xfb05, 0x926a, 0x1, 0x0);
        gbc.writeMem(0x712a, { 0xda, 0xb6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x9aca);
        EXPECT(gbc.pc(), 0x712d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00B7
        gbc.setState(0x109d, 0xb921, 0xda70, 0xbfab, 0xff6e, 0x43d0, 0x1, 0x1);
        gbc.writeMem(0x109d, { 0xda, 0xb1, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb921);
        EXPECT(gbc.pc(), 0xb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00B8
        gbc.setState(0xd2b8, 0x1a0, 0x58f0, 0x7aa7, 0xbd09, 0xcc8c, 0x1, 0x0);
        gbc.writeMem(0xd2b8, { 0xda, 0xa, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1a0);
        EXPECT(gbc.pc(), 0xd10a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2b8), 0xda);
        EXPECT(gbc.readMem(0xd2b9), 0xa);
        EXPECT(gbc.readMem(0xd2ba), 0xd1);
        // DA 00B9
        gbc.setState(0x5b2f, 0x9b70, 0x5e00, 0x862b, 0x9a53, 0xf6b5, 0x0, 0x1);
        gbc.writeMem(0x5b2f, { 0xda, 0x47, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9b70);
        EXPECT(gbc.pc(), 0x5b32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00BA
        gbc.setState(0x19a7, 0xda9b, 0x2730, 0xcf45, 0x6ca3, 0x3039, 0x1, 0x0);
        gbc.writeMem(0x19a7, { 0xda, 0xa6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xda9b);
        EXPECT(gbc.pc(), 0xd4a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00BB
        gbc.setState(0x542d, 0xcdd9, 0x9550, 0xff93, 0x2f0f, 0x440d, 0x1, 0x1);
        gbc.writeMem(0x542d, { 0xda, 0x54, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xcdd9);
        EXPECT(gbc.pc(), 0xa054);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00BC
        gbc.setState(0x535b, 0x9d0a, 0xfcb0, 0x229e, 0xe311, 0x7284, 0x0, 0x1);
        gbc.writeMem(0x535b, { 0xda, 0x42, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9d0a);
        EXPECT(gbc.pc(), 0x4142);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00BD
        gbc.setState(0x2ae9, 0xdd3, 0x68c0, 0x1ad2, 0x5d17, 0x79ef, 0x1, 0x0);
        gbc.writeMem(0x2ae9, { 0xda, 0x5d, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xdd3);
        EXPECT(gbc.pc(), 0x2aec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00BE
        gbc.setState(0xed5, 0xf74b, 0xc0d0, 0x6fdb, 0x1dcc, 0x96bb, 0x1, 0x1);
        gbc.writeMem(0xed5, { 0xda, 0xd6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf74b);
        EXPECT(gbc.pc(), 0x18d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00BF
        gbc.setState(0x7a93, 0xf82f, 0x9e90, 0xc128, 0xdc3f, 0xc85c, 0x1, 0x1);
        gbc.writeMem(0x7a93, { 0xda, 0xc2, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf82f);
        EXPECT(gbc.pc(), 0x7fc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00C0
        gbc.setState(0xc6a5, 0xcef2, 0x5ba0, 0x2d23, 0x3740, 0xea6c, 0x1, 0x1);
        gbc.writeMem(0xc6a5, { 0xda, 0x1f, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xcef2);
        EXPECT(gbc.pc(), 0xc6a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a5), 0xda);
        EXPECT(gbc.readMem(0xc6a6), 0x1f);
        EXPECT(gbc.readMem(0xc6a7), 0x3c);
        // DA 00C1
        gbc.setState(0xe780, 0x998e, 0xb3a0, 0x2073, 0x3d8b, 0x39b6, 0x1, 0x0);
        gbc.writeMem(0xe780, { 0xda, 0x41, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x998e);
        EXPECT(gbc.pc(), 0xe783);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe780), 0xda);
        EXPECT(gbc.readMem(0xe781), 0x41);
        EXPECT(gbc.readMem(0xe782), 0x1e);
        // DA 00C2
        gbc.setState(0xdc89, 0x978a, 0x80f0, 0xdced, 0x5db8, 0x1355, 0x1, 0x0);
        gbc.writeMem(0xdc89, { 0xda, 0xe5, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x978a);
        EXPECT(gbc.pc(), 0x24e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc89), 0xda);
        EXPECT(gbc.readMem(0xdc8a), 0xe5);
        EXPECT(gbc.readMem(0xdc8b), 0x24);
        // DA 00C3
        gbc.setState(0x7769, 0x670e, 0x77b0, 0x3de0, 0x8868, 0x3bd9, 0x0, 0x1);
        gbc.writeMem(0x7769, { 0xda, 0xb2, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x670e);
        EXPECT(gbc.pc(), 0x17b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00C4
        gbc.setState(0x5715, 0x1fc5, 0xdf30, 0xb26b, 0xe0f1, 0x9ec9, 0x1, 0x0);
        gbc.writeMem(0x5715, { 0xda, 0x20, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x1fc5);
        EXPECT(gbc.pc(), 0xbf20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00C5
        gbc.setState(0x94ed, 0x17e4, 0x3780, 0xa8c9, 0x74ec, 0x9dd6, 0x0, 0x0);
        gbc.writeMem(0x94ed, { 0xda, 0x7a, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x17e4);
        EXPECT(gbc.pc(), 0x94f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ed), 0xda);
        EXPECT(gbc.readMem(0x94ee), 0x7a);
        EXPECT(gbc.readMem(0x94ef), 0xde);
        // DA 00C6
        gbc.setState(0x3a1b, 0x349d, 0x30, 0xddc8, 0xefdd, 0x37aa, 0x0, 0x0);
        gbc.writeMem(0x3a1b, { 0xda, 0xb8, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x349d);
        EXPECT(gbc.pc(), 0x91b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00C7
        gbc.setState(0x6f3d, 0x64a5, 0xc460, 0x1498, 0x3635, 0xf4f3, 0x0, 0x1);
        gbc.writeMem(0x6f3d, { 0xda, 0x48, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x64a5);
        EXPECT(gbc.pc(), 0x6f40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00C8
        gbc.setState(0x490c, 0x2269, 0xd9d0, 0xf6db, 0xc164, 0x8353, 0x1, 0x1);
        gbc.writeMem(0x490c, { 0xda, 0xbb, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2269);
        EXPECT(gbc.pc(), 0xe9bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00C9
        gbc.setState(0x6530, 0x94df, 0xb660, 0x60e2, 0xba99, 0x7902, 0x1, 0x1);
        gbc.writeMem(0x6530, { 0xda, 0xc, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x94df);
        EXPECT(gbc.pc(), 0x6533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00CA
        gbc.setState(0x456c, 0x9099, 0x4f00, 0x6908, 0x2a9, 0x186, 0x0, 0x1);
        gbc.writeMem(0x456c, { 0xda, 0xaf, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9099);
        EXPECT(gbc.pc(), 0x456f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00CC
        gbc.setState(0x3c3f, 0x7305, 0x5120, 0x6213, 0x978c, 0xf998, 0x0, 0x1);
        gbc.writeMem(0x3c3f, { 0xda, 0xa5, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x7305);
        EXPECT(gbc.pc(), 0x3c42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00CE
        gbc.setState(0x9d64, 0xbecb, 0xa4b0, 0x8bda, 0x8c62, 0xcb44, 0x0, 0x1);
        gbc.writeMem(0x9d64, { 0xda, 0xf4, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xbecb);
        EXPECT(gbc.pc(), 0x2af4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d64), 0xda);
        EXPECT(gbc.readMem(0x9d65), 0xf4);
        EXPECT(gbc.readMem(0x9d66), 0x2a);
        // DA 00CF
        gbc.setState(0xa9ef, 0x17ea, 0x49c0, 0xdfa3, 0xc41, 0xfb6c, 0x0, 0x1);
        gbc.writeMem(0xa9ef, { 0xda, 0x3f, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x17ea);
        EXPECT(gbc.pc(), 0xa9f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9ef), 0xda);
        EXPECT(gbc.readMem(0xa9f0), 0x3f);
        EXPECT(gbc.readMem(0xa9f1), 0x89);
        // DA 00D0
        gbc.setState(0xadcb, 0x42c5, 0x8bd0, 0x3c48, 0x2243, 0xe8a3, 0x0, 0x1);
        gbc.writeMem(0xadcb, { 0xda, 0x99, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x42c5);
        EXPECT(gbc.pc(), 0xe699);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadcb), 0xda);
        EXPECT(gbc.readMem(0xadcc), 0x99);
        EXPECT(gbc.readMem(0xadcd), 0xe6);
        // DA 00D1
        gbc.setState(0xd298, 0x4eca, 0xade0, 0x99e8, 0x5966, 0x5dc0, 0x1, 0x1);
        gbc.writeMem(0xd298, { 0xda, 0x7c, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4eca);
        EXPECT(gbc.pc(), 0xd29b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd298), 0xda);
        EXPECT(gbc.readMem(0xd299), 0x7c);
        EXPECT(gbc.readMem(0xd29a), 0x84);
        // DA 00D3
        gbc.setState(0x5bd4, 0xb7cd, 0xbbf0, 0xa2cf, 0xce85, 0x4f0e, 0x0, 0x1);
        gbc.writeMem(0x5bd4, { 0xda, 0xb0, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xb7cd);
        EXPECT(gbc.pc(), 0xe5b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00D4
        gbc.setState(0x9a42, 0x21cb, 0x4df0, 0x75d5, 0xd9f1, 0x55fe, 0x0, 0x0);
        gbc.writeMem(0x9a42, { 0xda, 0xc6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x21cb);
        EXPECT(gbc.pc(), 0x50c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a42), 0xda);
        EXPECT(gbc.readMem(0x9a43), 0xc6);
        EXPECT(gbc.readMem(0x9a44), 0x50);
        // DA 00D5
        gbc.setState(0xddcc, 0x410, 0x6b20, 0x24f6, 0xcd56, 0x356e, 0x0, 0x0);
        gbc.writeMem(0xddcc, { 0xda, 0xdc, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x410);
        EXPECT(gbc.pc(), 0xddcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddcc), 0xda);
        EXPECT(gbc.readMem(0xddcd), 0xdc);
        EXPECT(gbc.readMem(0xddce), 0xa0);
        // DA 00D6
        gbc.setState(0xa189, 0x1297, 0x43f0, 0x4deb, 0xbb32, 0xb6b8, 0x1, 0x0);
        gbc.writeMem(0xa189, { 0xda, 0x94, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x1297);
        EXPECT(gbc.pc(), 0x3a94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa189), 0xda);
        EXPECT(gbc.readMem(0xa18a), 0x94);
        EXPECT(gbc.readMem(0xa18b), 0x3a);
        // DA 00D7
        gbc.setState(0x137e, 0x417f, 0xa620, 0xd842, 0x971f, 0x7d01, 0x0, 0x0);
        gbc.writeMem(0x137e, { 0xda, 0x92, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x417f);
        EXPECT(gbc.pc(), 0x1381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00D8
        gbc.setState(0x63df, 0x64f6, 0x5270, 0x664c, 0xcc9e, 0x84a4, 0x1, 0x1);
        gbc.writeMem(0x63df, { 0xda, 0x21, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x64f6);
        EXPECT(gbc.pc(), 0x7c21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00D9
        gbc.setState(0x73d1, 0xaa8f, 0xb6c0, 0x4b39, 0x5fc6, 0xe29c, 0x1, 0x1);
        gbc.writeMem(0x73d1, { 0xda, 0x4c, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xaa8f);
        EXPECT(gbc.pc(), 0x73d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00DA
        gbc.setState(0x52, 0x887f, 0x4460, 0x8ff, 0x94af, 0x5920, 0x0, 0x0);
        gbc.writeMem(0x52, { 0xda, 0xdd, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x887f);
        EXPECT(gbc.pc(), 0x55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00DB
        gbc.setState(0x7b9c, 0xdb78, 0x4a30, 0x8f3b, 0xedda, 0x6e3a, 0x0, 0x1);
        gbc.writeMem(0x7b9c, { 0xda, 0xf6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdb78);
        EXPECT(gbc.pc(), 0x88f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00DC
        gbc.setState(0xef82, 0x2811, 0xe000, 0x15bd, 0xe3ba, 0xddb8, 0x1, 0x1);
        gbc.writeMem(0xef82, { 0xda, 0x6c, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x2811);
        EXPECT(gbc.pc(), 0xef85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef82), 0xda);
        EXPECT(gbc.readMem(0xef83), 0x6c);
        EXPECT(gbc.readMem(0xef84), 0xd4);
        // DA 00DD
        gbc.setState(0xaa9e, 0x764a, 0x2070, 0x482c, 0x10a1, 0xa6ef, 0x1, 0x0);
        gbc.writeMem(0xaa9e, { 0xda, 0xa4, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x764a);
        EXPECT(gbc.pc(), 0xa1a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa9e), 0xda);
        EXPECT(gbc.readMem(0xaa9f), 0xa4);
        EXPECT(gbc.readMem(0xaaa0), 0xa1);
        // DA 00DE
        gbc.setState(0x1fa9, 0xf3cb, 0xb680, 0xa15f, 0xb209, 0x56ad, 0x1, 0x1);
        gbc.writeMem(0x1fa9, { 0xda, 0x3c, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf3cb);
        EXPECT(gbc.pc(), 0x1fac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00DF
        gbc.setState(0x6887, 0xc17b, 0x4370, 0x9a17, 0x99f8, 0xe28d, 0x1, 0x1);
        gbc.writeMem(0x6887, { 0xda, 0x2c, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc17b);
        EXPECT(gbc.pc(), 0x852c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00E0
        gbc.setState(0x312, 0xbf9c, 0xa3c0, 0xf639, 0x854e, 0x5b96, 0x1, 0x1);
        gbc.writeMem(0x312, { 0xda, 0x57, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xbf9c);
        EXPECT(gbc.pc(), 0x315);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00E1
        gbc.setState(0x311c, 0x2a6b, 0x5820, 0x67f, 0xee21, 0x666b, 0x0, 0x1);
        gbc.writeMem(0x311c, { 0xda, 0xc7, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2a6b);
        EXPECT(gbc.pc(), 0x311f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00E2
        gbc.setState(0x307e, 0xf2ea, 0xdf10, 0x457c, 0xde9b, 0x4373, 0x1, 0x0);
        gbc.writeMem(0x307e, { 0xda, 0x9d, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf2ea);
        EXPECT(gbc.pc(), 0x609d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00E3
        gbc.setState(0xc08, 0x425c, 0xed0, 0x7a02, 0x5ff7, 0xc46a, 0x1, 0x0);
        gbc.writeMem(0xc08, { 0xda, 0x12, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x425c);
        EXPECT(gbc.pc(), 0x4812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00E4
        gbc.setState(0xa1bf, 0x8ef8, 0xf170, 0xc1fa, 0x2400, 0xa8d, 0x1, 0x1);
        gbc.writeMem(0xa1bf, { 0xda, 0x82, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x8ef8);
        EXPECT(gbc.pc(), 0xf882);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1bf), 0xda);
        EXPECT(gbc.readMem(0xa1c0), 0x82);
        EXPECT(gbc.readMem(0xa1c1), 0xf8);
        // DA 00E5
        gbc.setState(0xe7d, 0x976, 0xf0b0, 0x6e85, 0x5a24, 0xab25, 0x1, 0x1);
        gbc.writeMem(0xe7d, { 0xda, 0xd5, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x976);
        EXPECT(gbc.pc(), 0xe7d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00E6
        gbc.setState(0x964e, 0x12da, 0xa900, 0xfc80, 0x1b19, 0x4e6e, 0x0, 0x1);
        gbc.writeMem(0x964e, { 0xda, 0xd6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x12da);
        EXPECT(gbc.pc(), 0x9651);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x964e), 0xda);
        EXPECT(gbc.readMem(0x964f), 0xd6);
        EXPECT(gbc.readMem(0x9650), 0xf7);
        // DA 00E8
        gbc.setState(0xa199, 0x1041, 0x6760, 0x208, 0xb6e1, 0xb74d, 0x1, 0x0);
        gbc.writeMem(0xa199, { 0xda, 0xf3, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x1041);
        EXPECT(gbc.pc(), 0xa19c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa199), 0xda);
        EXPECT(gbc.readMem(0xa19a), 0xf3);
        EXPECT(gbc.readMem(0xa19b), 0x36);
        // DA 00E9
        gbc.setState(0x1868, 0x3c54, 0xf4c0, 0xb3ff, 0xa601, 0x8a6f, 0x0, 0x1);
        gbc.writeMem(0x1868, { 0xda, 0x53, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x3c54);
        EXPECT(gbc.pc(), 0x186b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00EA
        gbc.setState(0x4461, 0xc32e, 0x42f0, 0x5886, 0xe3f1, 0x27bb, 0x1, 0x1);
        gbc.writeMem(0x4461, { 0xda, 0x27, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xc32e);
        EXPECT(gbc.pc(), 0x1c27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00EB
        gbc.setState(0x4ce7, 0xe315, 0x2330, 0xa81f, 0xf008, 0x2f14, 0x0, 0x1);
        gbc.writeMem(0x4ce7, { 0xda, 0x2f, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe315);
        EXPECT(gbc.pc(), 0x3f2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00EC
        gbc.setState(0x186b, 0xb921, 0xa30, 0xcfd6, 0xa26, 0x73bc, 0x0, 0x1);
        gbc.writeMem(0x186b, { 0xda, 0x45, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb921);
        EXPECT(gbc.pc(), 0x6d45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00ED
        gbc.setState(0x1b21, 0x500c, 0x9720, 0x442a, 0xed40, 0xad67, 0x0, 0x0);
        gbc.writeMem(0x1b21, { 0xda, 0xb8, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x500c);
        EXPECT(gbc.pc(), 0x1b24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00EE
        gbc.setState(0x693a, 0x7ca1, 0xfc10, 0x588b, 0x4886, 0x1a70, 0x1, 0x1);
        gbc.writeMem(0x693a, { 0xda, 0xa2, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7ca1);
        EXPECT(gbc.pc(), 0x7fa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 00EF
        gbc.setState(0xc6e7, 0xdb49, 0xc230, 0x2231, 0x1ed4, 0x4f68, 0x1, 0x1);
        gbc.writeMem(0xc6e7, { 0xda, 0xf1, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xdb49);
        EXPECT(gbc.pc(), 0xc0f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6e7), 0xda);
        EXPECT(gbc.readMem(0xc6e8), 0xf1);
        EXPECT(gbc.readMem(0xc6e9), 0xc0);
        // DA 00F0
        gbc.setState(0xc6ec, 0x5b01, 0xaef0, 0x6c10, 0xf2cf, 0x76ac, 0x0, 0x1);
        gbc.writeMem(0xc6ec, { 0xda, 0x4, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5b01);
        EXPECT(gbc.pc(), 0xa504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6ec), 0xda);
        EXPECT(gbc.readMem(0xc6ed), 0x4);
        EXPECT(gbc.readMem(0xc6ee), 0xa5);
        // DA 00F1
        gbc.setState(0x74ad, 0x5997, 0xb200, 0xc3e6, 0x891b, 0x4b7d, 0x1, 0x0);
        gbc.writeMem(0x74ad, { 0xda, 0x6b, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x5997);
        EXPECT(gbc.pc(), 0x74b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 00F2
        gbc.setState(0xcc70, 0x1cef, 0xe1c0, 0xcb8e, 0xda63, 0xa48, 0x1, 0x1);
        gbc.writeMem(0xcc70, { 0xda, 0x51, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x1cef);
        EXPECT(gbc.pc(), 0xcc73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc70), 0xda);
        EXPECT(gbc.readMem(0xcc71), 0x51);
        EXPECT(gbc.readMem(0xcc72), 0xa2);
        // DA 00F3
        gbc.setState(0xc84d, 0x207e, 0xf340, 0x111a, 0xcc6d, 0x4aca, 0x1, 0x0);
        gbc.writeMem(0xc84d, { 0xda, 0x72, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x207e);
        EXPECT(gbc.pc(), 0xc850);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc84d), 0xda);
        EXPECT(gbc.readMem(0xc84e), 0x72);
        EXPECT(gbc.readMem(0xc84f), 0x31);
        // DA 00F4
        gbc.setState(0x8f7e, 0xb90d, 0x3790, 0x4d43, 0x501e, 0xff30, 0x0, 0x1);
        gbc.writeMem(0x8f7e, { 0xda, 0x11, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb90d);
        EXPECT(gbc.pc(), 0xd311);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f7e), 0xda);
        EXPECT(gbc.readMem(0x8f7f), 0x11);
        EXPECT(gbc.readMem(0x8f80), 0xd3);
        // DA 00F5
        gbc.setState(0xb4f6, 0x57e2, 0x7ad0, 0xd188, 0x8b27, 0x608a, 0x1, 0x1);
        gbc.writeMem(0xb4f6, { 0xda, 0x19, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x57e2);
        EXPECT(gbc.pc(), 0x5719);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4f6), 0xda);
        EXPECT(gbc.readMem(0xb4f7), 0x19);
        EXPECT(gbc.readMem(0xb4f8), 0x57);
        // DA 00F6
        gbc.setState(0x4de6, 0x801a, 0x5570, 0x7126, 0x5ef6, 0x8ca4, 0x1, 0x1);
        gbc.writeMem(0x4de6, { 0xda, 0x78, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x801a);
        EXPECT(gbc.pc(), 0xfb78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00F7
        gbc.setState(0x66d4, 0x7519, 0x4df0, 0x534f, 0xfe57, 0x81e8, 0x1, 0x1);
        gbc.writeMem(0x66d4, { 0xda, 0x5f, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7519);
        EXPECT(gbc.pc(), 0xc55f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 00FA
        gbc.setState(0x4b6e, 0x4a43, 0xa6a0, 0x5933, 0xe28f, 0xdb03, 0x1, 0x1);
        gbc.writeMem(0x4b6e, { 0xda, 0xda, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x4a43);
        EXPECT(gbc.pc(), 0x4b71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00FB
        gbc.setState(0x6c06, 0x3291, 0x84e0, 0xda38, 0xeb9, 0x4d40, 0x1, 0x1);
        gbc.writeMem(0x6c06, { 0xda, 0x16, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3291);
        EXPECT(gbc.pc(), 0x6c09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00FC
        gbc.setState(0x8927, 0xafde, 0xcc20, 0xbf3c, 0x2ab3, 0x9f52, 0x0, 0x0);
        gbc.writeMem(0x8927, { 0xda, 0x22, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xafde);
        EXPECT(gbc.pc(), 0x892a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8927), 0xda);
        EXPECT(gbc.readMem(0x8928), 0x22);
        EXPECT(gbc.readMem(0x8929), 0xa2);
        // DA 00FD
        gbc.setState(0x7cbe, 0xcf7c, 0x3e20, 0xcf70, 0x14dd, 0x81e5, 0x1, 0x1);
        gbc.writeMem(0x7cbe, { 0xda, 0x1, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xcf7c);
        EXPECT(gbc.pc(), 0x7cc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 00FE
        gbc.setState(0xa447, 0xad40, 0xe810, 0x3eb, 0xfd59, 0x5deb, 0x0, 0x1);
        gbc.writeMem(0xa447, { 0xda, 0xfa, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xad40);
        EXPECT(gbc.pc(), 0x85fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa447), 0xda);
        EXPECT(gbc.readMem(0xa448), 0xfa);
        EXPECT(gbc.readMem(0xa449), 0x85);
        // DA 00FF
        gbc.setState(0xd0ca, 0x2c0f, 0x990, 0xf9c3, 0x47c, 0x50c, 0x1, 0x1);
        gbc.writeMem(0xd0ca, { 0xda, 0x67, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x2c0f);
        EXPECT(gbc.pc(), 0xfe67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0ca), 0xda);
        EXPECT(gbc.readMem(0xd0cb), 0x67);
        EXPECT(gbc.readMem(0xd0cc), 0xfe);
        // DA 0100
        gbc.setState(0x7a11, 0xd0a8, 0xb2e0, 0xfd57, 0x8bf9, 0xbcca, 0x0, 0x1);
        gbc.writeMem(0x7a11, { 0xda, 0x75, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd0a8);
        EXPECT(gbc.pc(), 0x7a14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0101
        gbc.setState(0xc1e9, 0xeb88, 0x140, 0x4efe, 0x27f5, 0x560f, 0x1, 0x0);
        gbc.writeMem(0xc1e9, { 0xda, 0x57, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xeb88);
        EXPECT(gbc.pc(), 0xc1ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e9), 0xda);
        EXPECT(gbc.readMem(0xc1ea), 0x57);
        EXPECT(gbc.readMem(0xc1eb), 0x14);
        // DA 0102
        gbc.setState(0xd23f, 0x99ab, 0xa2d0, 0x6658, 0x45d0, 0xea34, 0x0, 0x0);
        gbc.writeMem(0xd23f, { 0xda, 0x2a, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x99ab);
        EXPECT(gbc.pc(), 0x62a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd23f), 0xda);
        EXPECT(gbc.readMem(0xd240), 0x2a);
        EXPECT(gbc.readMem(0xd241), 0x6);
        // DA 0103
        gbc.setState(0x418d, 0xd3c3, 0x4700, 0x8d6c, 0xd10f, 0xe0d4, 0x0, 0x1);
        gbc.writeMem(0x418d, { 0xda, 0xbe, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xd3c3);
        EXPECT(gbc.pc(), 0x4190);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0104
        gbc.setState(0x182, 0x30ed, 0x8ba0, 0xb3f, 0x11d7, 0x8d51, 0x0, 0x0);
        gbc.writeMem(0x182, { 0xda, 0xb4, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x30ed);
        EXPECT(gbc.pc(), 0x185);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0105
        gbc.setState(0x1c8b, 0xcc76, 0x6c40, 0x900e, 0x904a, 0xbbaf, 0x1, 0x0);
        gbc.writeMem(0x1c8b, { 0xda, 0x24, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xcc76);
        EXPECT(gbc.pc(), 0x1c8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0106
        gbc.setState(0x86c6, 0x964a, 0x8570, 0xcaae, 0x1b0d, 0xfe85, 0x0, 0x0);
        gbc.writeMem(0x86c6, { 0xda, 0xd8, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x964a);
        EXPECT(gbc.pc(), 0x65d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86c6), 0xda);
        EXPECT(gbc.readMem(0x86c7), 0xd8);
        EXPECT(gbc.readMem(0x86c8), 0x65);
        // DA 0107
        gbc.setState(0x7a95, 0xee1c, 0x5020, 0x8396, 0xa7b4, 0xb08f, 0x1, 0x1);
        gbc.writeMem(0x7a95, { 0xda, 0x36, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xee1c);
        EXPECT(gbc.pc(), 0x7a98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0108
        gbc.setState(0xc7cd, 0x9a5a, 0xe870, 0xa353, 0xd5c2, 0x2383, 0x1, 0x1);
        gbc.writeMem(0xc7cd, { 0xda, 0x19, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9a5a);
        EXPECT(gbc.pc(), 0xb019);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7cd), 0xda);
        EXPECT(gbc.readMem(0xc7ce), 0x19);
        EXPECT(gbc.readMem(0xc7cf), 0xb0);
        // DA 0109
        gbc.setState(0x5ecf, 0x580c, 0x29f0, 0x2d38, 0xbd1, 0x1a5b, 0x1, 0x1);
        gbc.writeMem(0x5ecf, { 0xda, 0xca, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x580c);
        EXPECT(gbc.pc(), 0x33ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 010A
        gbc.setState(0xc747, 0x755f, 0xd740, 0xf4cd, 0x5833, 0xb5d7, 0x1, 0x1);
        gbc.writeMem(0xc747, { 0xda, 0x9b, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x755f);
        EXPECT(gbc.pc(), 0xc74a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc747), 0xda);
        EXPECT(gbc.readMem(0xc748), 0x9b);
        EXPECT(gbc.readMem(0xc749), 0x95);
        // DA 010B
        gbc.setState(0x620f, 0xa191, 0xe300, 0xeb70, 0xbf06, 0x6eec, 0x1, 0x0);
        gbc.writeMem(0x620f, { 0xda, 0x61, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa191);
        EXPECT(gbc.pc(), 0x6212);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 010C
        gbc.setState(0x616, 0x4611, 0x94f0, 0x468c, 0xbaf0, 0xa3a, 0x1, 0x0);
        gbc.writeMem(0x616, { 0xda, 0x1b, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x4611);
        EXPECT(gbc.pc(), 0x761b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 010D
        gbc.setState(0x775c, 0xa400, 0x8880, 0xf3a6, 0x8505, 0x193b, 0x1, 0x0);
        gbc.writeMem(0x775c, { 0xda, 0x2d, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xa400);
        EXPECT(gbc.pc(), 0x775f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 010E
        gbc.setState(0x4cb5, 0xdd, 0x87b0, 0xb421, 0x7b15, 0xf9d7, 0x1, 0x0);
        gbc.writeMem(0x4cb5, { 0xda, 0xd9, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xdd);
        EXPECT(gbc.pc(), 0x79d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0110
        gbc.setState(0x7724, 0xb521, 0xf150, 0xcddc, 0x2d57, 0xbb14, 0x1, 0x1);
        gbc.writeMem(0x7724, { 0xda, 0xdf, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xb521);
        EXPECT(gbc.pc(), 0x27df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0111
        gbc.setState(0x6807, 0xe20e, 0x60e0, 0x927a, 0x72e8, 0xe9f3, 0x0, 0x1);
        gbc.writeMem(0x6807, { 0xda, 0x86, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe20e);
        EXPECT(gbc.pc(), 0x680a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0112
        gbc.setState(0xefcf, 0x437f, 0x8fa0, 0x76dc, 0xf1e3, 0x78b2, 0x1, 0x0);
        gbc.writeMem(0xefcf, { 0xda, 0x9d, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x437f);
        EXPECT(gbc.pc(), 0xefd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefcf), 0xda);
        EXPECT(gbc.readMem(0xefd0), 0x9d);
        EXPECT(gbc.readMem(0xefd1), 0x98);
        // DA 0113
        gbc.setState(0x2aaa, 0x3982, 0xc9b0, 0xa846, 0xec72, 0xbf9f, 0x0, 0x0);
        gbc.writeMem(0x2aaa, { 0xda, 0xbd, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3982);
        EXPECT(gbc.pc(), 0xefbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0114
        gbc.setState(0x91e3, 0x33bd, 0x7700, 0x1471, 0x83fc, 0x7153, 0x0, 0x1);
        gbc.writeMem(0x91e3, { 0xda, 0x8b, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x33bd);
        EXPECT(gbc.pc(), 0x91e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e3), 0xda);
        EXPECT(gbc.readMem(0x91e4), 0x8b);
        EXPECT(gbc.readMem(0x91e5), 0xe1);
        // DA 0115
        gbc.setState(0xc923, 0xb2e0, 0xa540, 0x640e, 0x7c7d, 0x8a0, 0x1, 0x1);
        gbc.writeMem(0xc923, { 0xda, 0xb2, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xb2e0);
        EXPECT(gbc.pc(), 0xc926);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc923), 0xda);
        EXPECT(gbc.readMem(0xc924), 0xb2);
        EXPECT(gbc.readMem(0xc925), 0xfc);
        // DA 0116
        gbc.setState(0x675, 0x738, 0x9f00, 0x54d0, 0xdc3a, 0xaf09, 0x0, 0x1);
        gbc.writeMem(0x675, { 0xda, 0xad, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x738);
        EXPECT(gbc.pc(), 0x678);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0117
        gbc.setState(0x5a4a, 0x864d, 0xd870, 0xa5fc, 0x7745, 0xb292, 0x0, 0x0);
        gbc.writeMem(0x5a4a, { 0xda, 0x86, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x864d);
        EXPECT(gbc.pc(), 0x1a86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0118
        gbc.setState(0xd8dd, 0x4347, 0x9790, 0x1823, 0x658, 0xc8dd, 0x0, 0x1);
        gbc.writeMem(0xd8dd, { 0xda, 0x71, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4347);
        EXPECT(gbc.pc(), 0x571);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8dd), 0xda);
        EXPECT(gbc.readMem(0xd8de), 0x71);
        EXPECT(gbc.readMem(0xd8df), 0x5);
        // DA 0119
        gbc.setState(0xcdcf, 0x34fd, 0x3ed0, 0x7888, 0x6b5a, 0x493a, 0x1, 0x1);
        gbc.writeMem(0xcdcf, { 0xda, 0xec, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x34fd);
        EXPECT(gbc.pc(), 0xc1ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdcf), 0xda);
        EXPECT(gbc.readMem(0xcdd0), 0xec);
        EXPECT(gbc.readMem(0xcdd1), 0xc1);
        // DA 011A
        gbc.setState(0x766e, 0xa9cc, 0xb650, 0x30f8, 0x91ea, 0xb1ff, 0x0, 0x0);
        gbc.writeMem(0x766e, { 0xda, 0xf2, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa9cc);
        EXPECT(gbc.pc(), 0x6bf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 011B
        gbc.setState(0x72d3, 0x554a, 0xec90, 0xe975, 0xb977, 0x9620, 0x1, 0x0);
        gbc.writeMem(0x72d3, { 0xda, 0xbe, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x554a);
        EXPECT(gbc.pc(), 0x4bbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 011C
        gbc.setState(0xe659, 0x96f0, 0xbd20, 0xca8b, 0x1a37, 0x2e1b, 0x0, 0x1);
        gbc.writeMem(0xe659, { 0xda, 0xaf, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x96f0);
        EXPECT(gbc.pc(), 0xe65c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe659), 0xda);
        EXPECT(gbc.readMem(0xe65a), 0xaf);
        EXPECT(gbc.readMem(0xe65b), 0xe9);
        // DA 011E
        gbc.setState(0xc4c2, 0xbb29, 0x5150, 0x7752, 0xcd1d, 0xbf5e, 0x0, 0x1);
        gbc.writeMem(0xc4c2, { 0xda, 0xc6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xbb29);
        EXPECT(gbc.pc(), 0x88c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c2), 0xda);
        EXPECT(gbc.readMem(0xc4c3), 0xc6);
        EXPECT(gbc.readMem(0xc4c4), 0x88);
        // DA 011F
        gbc.setState(0xe889, 0x2b0f, 0x3020, 0x4cf3, 0x993c, 0x6010, 0x1, 0x0);
        gbc.writeMem(0xe889, { 0xda, 0x7c, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2b0f);
        EXPECT(gbc.pc(), 0xe88c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe889), 0xda);
        EXPECT(gbc.readMem(0xe88a), 0x7c);
        EXPECT(gbc.readMem(0xe88b), 0xf2);
        // DA 0120
        gbc.setState(0xa991, 0x8a19, 0x2c70, 0x6b09, 0xd8e4, 0x17c1, 0x1, 0x0);
        gbc.writeMem(0xa991, { 0xda, 0xeb, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8a19);
        EXPECT(gbc.pc(), 0xc9eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa991), 0xda);
        EXPECT(gbc.readMem(0xa992), 0xeb);
        EXPECT(gbc.readMem(0xa993), 0xc9);
        // DA 0121
        gbc.setState(0x41e, 0x227d, 0x4260, 0x2b78, 0x84eb, 0x17c0, 0x0, 0x1);
        gbc.writeMem(0x41e, { 0xda, 0xf5, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x227d);
        EXPECT(gbc.pc(), 0x421);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0122
        gbc.setState(0x7876, 0x557d, 0xbaa0, 0x71e4, 0x2463, 0x583a, 0x0, 0x0);
        gbc.writeMem(0x7876, { 0xda, 0x5a, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x557d);
        EXPECT(gbc.pc(), 0x7879);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0123
        gbc.setState(0xd65b, 0x6df2, 0x6050, 0x8c7d, 0x2b77, 0xff75, 0x0, 0x0);
        gbc.writeMem(0xd65b, { 0xda, 0xe6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x6df2);
        EXPECT(gbc.pc(), 0xd0e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd65b), 0xda);
        EXPECT(gbc.readMem(0xd65c), 0xe6);
        EXPECT(gbc.readMem(0xd65d), 0xd0);
        // DA 0124
        gbc.setState(0x9563, 0x514, 0x18e0, 0xbaaf, 0x9a12, 0x2001, 0x0, 0x1);
        gbc.writeMem(0x9563, { 0xda, 0x4e, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x514);
        EXPECT(gbc.pc(), 0x9566);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9563), 0xda);
        EXPECT(gbc.readMem(0x9564), 0x4e);
        EXPECT(gbc.readMem(0x9565), 0x3b);
        // DA 0125
        gbc.setState(0x27e2, 0xa901, 0xadb0, 0xda96, 0xe34b, 0xeed8, 0x0, 0x1);
        gbc.writeMem(0x27e2, { 0xda, 0x7f, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa901);
        EXPECT(gbc.pc(), 0xe47f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0126
        gbc.setState(0xe800, 0xd743, 0xfea0, 0x281e, 0x3447, 0xec9e, 0x1, 0x1);
        gbc.writeMem(0xe800, { 0xda, 0xca, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd743);
        EXPECT(gbc.pc(), 0xe803);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe800), 0xda);
        EXPECT(gbc.readMem(0xe801), 0xca);
        EXPECT(gbc.readMem(0xe802), 0xc8);
        // DA 0127
        gbc.setState(0x5417, 0x9226, 0xd500, 0x7e63, 0x2bd2, 0xbfdd, 0x1, 0x0);
        gbc.writeMem(0x5417, { 0xda, 0x5, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x9226);
        EXPECT(gbc.pc(), 0x541a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0128
        gbc.setState(0x7241, 0xca43, 0x8e00, 0x96cf, 0x4fdc, 0xd4a7, 0x0, 0x1);
        gbc.writeMem(0x7241, { 0xda, 0xf5, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xca43);
        EXPECT(gbc.pc(), 0x7244);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0129
        gbc.setState(0xca70, 0xf0bc, 0xd270, 0x1700, 0x1c7d, 0x143, 0x1, 0x1);
        gbc.writeMem(0xca70, { 0xda, 0x1e, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf0bc);
        EXPECT(gbc.pc(), 0x551e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca70), 0xda);
        EXPECT(gbc.readMem(0xca71), 0x1e);
        EXPECT(gbc.readMem(0xca72), 0x55);
        // DA 012A
        gbc.setState(0xcb2a, 0xc15b, 0xa810, 0x4820, 0x6b2f, 0x4593, 0x1, 0x1);
        gbc.writeMem(0xcb2a, { 0xda, 0xd, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc15b);
        EXPECT(gbc.pc(), 0x6a0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb2a), 0xda);
        EXPECT(gbc.readMem(0xcb2b), 0xd);
        EXPECT(gbc.readMem(0xcb2c), 0x6a);
        // DA 012B
        gbc.setState(0xb268, 0xe8b9, 0xbd20, 0x2e4a, 0xfdcf, 0x8a6b, 0x1, 0x1);
        gbc.writeMem(0xb268, { 0xda, 0x93, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xe8b9);
        EXPECT(gbc.pc(), 0xb26b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb268), 0xda);
        EXPECT(gbc.readMem(0xb269), 0x93);
        EXPECT(gbc.readMem(0xb26a), 0x25);
        // DA 012C
        gbc.setState(0x31ec, 0xdc08, 0xfeb0, 0x461, 0x732e, 0x3c31, 0x1, 0x0);
        gbc.writeMem(0x31ec, { 0xda, 0x48, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xdc08);
        EXPECT(gbc.pc(), 0x848);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 012D
        gbc.setState(0xcf64, 0x6a09, 0xe350, 0x5f21, 0xa8d6, 0xd978, 0x1, 0x1);
        gbc.writeMem(0xcf64, { 0xda, 0xa6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x6a09);
        EXPECT(gbc.pc(), 0xfea6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf64), 0xda);
        EXPECT(gbc.readMem(0xcf65), 0xa6);
        EXPECT(gbc.readMem(0xcf66), 0xfe);
        // DA 012E
        gbc.setState(0xe862, 0x2612, 0x4b80, 0x4e31, 0x35ae, 0xcb64, 0x0, 0x1);
        gbc.writeMem(0xe862, { 0xda, 0xc0, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x2612);
        EXPECT(gbc.pc(), 0xe865);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe862), 0xda);
        EXPECT(gbc.readMem(0xe863), 0xc0);
        EXPECT(gbc.readMem(0xe864), 0xbd);
        // DA 012F
        gbc.setState(0x7914, 0xef89, 0xec70, 0x7366, 0x3f9, 0x3b47, 0x1, 0x1);
        gbc.writeMem(0x7914, { 0xda, 0x25, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xef89);
        EXPECT(gbc.pc(), 0xf325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0130
        gbc.setState(0x1e95, 0x1edc, 0x9e70, 0xf7d5, 0xe7ac, 0xcf2d, 0x0, 0x1);
        gbc.writeMem(0x1e95, { 0xda, 0xac, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x1edc);
        EXPECT(gbc.pc(), 0x22ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0131
        gbc.setState(0x885a, 0xc700, 0xea40, 0x9a6, 0x988e, 0x83dc, 0x1, 0x1);
        gbc.writeMem(0x885a, { 0xda, 0x90, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xc700);
        EXPECT(gbc.pc(), 0x885d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x885a), 0xda);
        EXPECT(gbc.readMem(0x885b), 0x90);
        EXPECT(gbc.readMem(0x885c), 0x6);
        // DA 0132
        gbc.setState(0xd8b3, 0x56d5, 0xf750, 0xa0ce, 0x9fc5, 0xe645, 0x0, 0x0);
        gbc.writeMem(0xd8b3, { 0xda, 0x3f, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x56d5);
        EXPECT(gbc.pc(), 0x3c3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8b3), 0xda);
        EXPECT(gbc.readMem(0xd8b4), 0x3f);
        EXPECT(gbc.readMem(0xd8b5), 0x3c);
        // DA 0133
        gbc.setState(0xc5df, 0x9812, 0xc980, 0x2161, 0x783b, 0x5a23, 0x0, 0x1);
        gbc.writeMem(0xc5df, { 0xda, 0x3a, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9812);
        EXPECT(gbc.pc(), 0xc5e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5df), 0xda);
        EXPECT(gbc.readMem(0xc5e0), 0x3a);
        EXPECT(gbc.readMem(0xc5e1), 0x87);
        // DA 0134
        gbc.setState(0x56c1, 0x497e, 0x9e70, 0x78d9, 0xc7bf, 0x4d3e, 0x0, 0x0);
        gbc.writeMem(0x56c1, { 0xda, 0xe, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x497e);
        EXPECT(gbc.pc(), 0xd60e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0135
        gbc.setState(0xd99c, 0x6ee3, 0xb510, 0xe548, 0x73f3, 0x8046, 0x1, 0x1);
        gbc.writeMem(0xd99c, { 0xda, 0x75, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x6ee3);
        EXPECT(gbc.pc(), 0xa675);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd99c), 0xda);
        EXPECT(gbc.readMem(0xd99d), 0x75);
        EXPECT(gbc.readMem(0xd99e), 0xa6);
        // DA 0136
        gbc.setState(0x1b1b, 0xa9b7, 0xcaf0, 0xb10e, 0x5746, 0xe3f1, 0x0, 0x0);
        gbc.writeMem(0x1b1b, { 0xda, 0x6b, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa9b7);
        EXPECT(gbc.pc(), 0xe06b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0137
        gbc.setState(0x4ef9, 0xb6e5, 0xdd90, 0x3d7f, 0x4931, 0x5dc3, 0x0, 0x0);
        gbc.writeMem(0x4ef9, { 0xda, 0xf7, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb6e5);
        EXPECT(gbc.pc(), 0x5f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0138
        gbc.setState(0xd420, 0x60, 0x2370, 0xdf7b, 0x9282, 0x9c50, 0x0, 0x1);
        gbc.writeMem(0xd420, { 0xda, 0xc3, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x60);
        EXPECT(gbc.pc(), 0x8fc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd420), 0xda);
        EXPECT(gbc.readMem(0xd421), 0xc3);
        EXPECT(gbc.readMem(0xd422), 0x8f);
        // DA 0139
        gbc.setState(0xe3d8, 0x6ece, 0x1240, 0x3dcd, 0x8f41, 0x1949, 0x1, 0x1);
        gbc.writeMem(0xe3d8, { 0xda, 0xe5, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x6ece);
        EXPECT(gbc.pc(), 0xe3db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3d8), 0xda);
        EXPECT(gbc.readMem(0xe3d9), 0xe5);
        EXPECT(gbc.readMem(0xe3da), 0xe9);
        // DA 013A
        gbc.setState(0x26f5, 0x96fd, 0xac40, 0xcbe9, 0x22e2, 0xf91e, 0x0, 0x1);
        gbc.writeMem(0x26f5, { 0xda, 0x53, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x96fd);
        EXPECT(gbc.pc(), 0x26f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 013B
        gbc.setState(0xaecf, 0xba20, 0x1ee0, 0x1d8e, 0xdbfa, 0xa070, 0x1, 0x1);
        gbc.writeMem(0xaecf, { 0xda, 0xd7, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xba20);
        EXPECT(gbc.pc(), 0xaed2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaecf), 0xda);
        EXPECT(gbc.readMem(0xaed0), 0xd7);
        EXPECT(gbc.readMem(0xaed1), 0xdf);
        // DA 013C
        gbc.setState(0x5a5a, 0x7971, 0x5540, 0x3382, 0xa70e, 0x6a63, 0x1, 0x0);
        gbc.writeMem(0x5a5a, { 0xda, 0x12, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x7971);
        EXPECT(gbc.pc(), 0x5a5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 013D
        gbc.setState(0xd103, 0xf533, 0x40, 0x429a, 0x6160, 0x99b4, 0x1, 0x0);
        gbc.writeMem(0xd103, { 0xda, 0x4f, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xf533);
        EXPECT(gbc.pc(), 0xd106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd103), 0xda);
        EXPECT(gbc.readMem(0xd104), 0x4f);
        EXPECT(gbc.readMem(0xd105), 0x5f);
        // DA 013E
        gbc.setState(0x5096, 0x14f3, 0x29f0, 0xc6e8, 0xa82, 0xa7d3, 0x1, 0x0);
        gbc.writeMem(0x5096, { 0xda, 0x94, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x14f3);
        EXPECT(gbc.pc(), 0x694);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 013F
        gbc.setState(0x4127, 0x8019, 0x1700, 0x4b26, 0x8e31, 0x6555, 0x0, 0x0);
        gbc.writeMem(0x4127, { 0xda, 0xd1, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x8019);
        EXPECT(gbc.pc(), 0x412a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0140
        gbc.setState(0x4494, 0xa037, 0xf3b0, 0xf08a, 0xf6d4, 0x12c7, 0x0, 0x0);
        gbc.writeMem(0x4494, { 0xda, 0x9b, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xa037);
        EXPECT(gbc.pc(), 0x99b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0141
        gbc.setState(0x1bc9, 0x6589, 0x4aa0, 0xb5d7, 0xc8d9, 0x35b7, 0x0, 0x0);
        gbc.writeMem(0x1bc9, { 0xda, 0x79, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6589);
        EXPECT(gbc.pc(), 0x1bcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0142
        gbc.setState(0x134c, 0x4d62, 0x1140, 0x430, 0x83f2, 0x9983, 0x0, 0x1);
        gbc.writeMem(0x134c, { 0xda, 0x21, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x4d62);
        EXPECT(gbc.pc(), 0x134f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0143
        gbc.setState(0x3ce, 0xd413, 0xa140, 0x9a27, 0x4995, 0xaac4, 0x0, 0x1);
        gbc.writeMem(0x3ce, { 0xda, 0x45, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xd413);
        EXPECT(gbc.pc(), 0x3d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0144
        gbc.setState(0x536d, 0xbd21, 0x3360, 0x9b0b, 0xfedf, 0xd787, 0x1, 0x0);
        gbc.writeMem(0x536d, { 0xda, 0x77, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xbd21);
        EXPECT(gbc.pc(), 0x5370);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0145
        gbc.setState(0x1d2c, 0xae27, 0xf740, 0xa7b4, 0x4f35, 0x28de, 0x1, 0x1);
        gbc.writeMem(0x1d2c, { 0xda, 0x2b, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xae27);
        EXPECT(gbc.pc(), 0x1d2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0146
        gbc.setState(0x4c8f, 0x93de, 0x4380, 0xbe57, 0x7d96, 0xd846, 0x1, 0x0);
        gbc.writeMem(0x4c8f, { 0xda, 0x8c, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x93de);
        EXPECT(gbc.pc(), 0x4c92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0147
        gbc.setState(0x4be7, 0x1931, 0xa2f0, 0xe1e3, 0xd2e0, 0xb1cd, 0x0, 0x1);
        gbc.writeMem(0x4be7, { 0xda, 0xb2, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x1931);
        EXPECT(gbc.pc(), 0x2b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0148
        gbc.setState(0x638f, 0x6b17, 0x3da0, 0x1ba9, 0x7d28, 0x5774, 0x0, 0x0);
        gbc.writeMem(0x638f, { 0xda, 0xc5, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6b17);
        EXPECT(gbc.pc(), 0x6392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0149
        gbc.setState(0xb52a, 0x68e0, 0xcb10, 0x5e06, 0x6cf4, 0x3446, 0x1, 0x0);
        gbc.writeMem(0xb52a, { 0xda, 0x69, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x68e0);
        EXPECT(gbc.pc(), 0x2369);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb52a), 0xda);
        EXPECT(gbc.readMem(0xb52b), 0x69);
        EXPECT(gbc.readMem(0xb52c), 0x23);
        // DA 014A
        gbc.setState(0xe10, 0xb94d, 0x4430, 0x1cad, 0x8a20, 0x83f2, 0x0, 0x0);
        gbc.writeMem(0xe10, { 0xda, 0x39, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb94d);
        EXPECT(gbc.pc(), 0xc439);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 014B
        gbc.setState(0xb96a, 0x1ae6, 0xe7b0, 0x1237, 0x3c75, 0x810, 0x0, 0x0);
        gbc.writeMem(0xb96a, { 0xda, 0xf7, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1ae6);
        EXPECT(gbc.pc(), 0xa5f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb96a), 0xda);
        EXPECT(gbc.readMem(0xb96b), 0xf7);
        EXPECT(gbc.readMem(0xb96c), 0xa5);
        // DA 014C
        gbc.setState(0xee1e, 0x39ff, 0x27a0, 0x79a9, 0x8c0a, 0xfdf6, 0x0, 0x0);
        gbc.writeMem(0xee1e, { 0xda, 0xc6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x39ff);
        EXPECT(gbc.pc(), 0xee21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee1e), 0xda);
        EXPECT(gbc.readMem(0xee1f), 0xc6);
        EXPECT(gbc.readMem(0xee20), 0x9c);
        // DA 014D
        gbc.setState(0x4c8a, 0x44b9, 0x2ee0, 0x5d56, 0xb411, 0xde05, 0x0, 0x0);
        gbc.writeMem(0x4c8a, { 0xda, 0x9a, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x44b9);
        EXPECT(gbc.pc(), 0x4c8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 014E
        gbc.setState(0xe22d, 0xb740, 0x3310, 0xe621, 0x6ff3, 0xf293, 0x1, 0x1);
        gbc.writeMem(0xe22d, { 0xda, 0xce, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb740);
        EXPECT(gbc.pc(), 0x5fce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe22d), 0xda);
        EXPECT(gbc.readMem(0xe22e), 0xce);
        EXPECT(gbc.readMem(0xe22f), 0x5f);
        // DA 014F
        gbc.setState(0x6d62, 0x3438, 0x39d0, 0x683b, 0x569b, 0xe1e4, 0x1, 0x0);
        gbc.writeMem(0x6d62, { 0xda, 0x7c, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3438);
        EXPECT(gbc.pc(), 0xb27c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0150
        gbc.setState(0x239d, 0x6d05, 0xe9a0, 0xa62f, 0xda09, 0x6208, 0x0, 0x1);
        gbc.writeMem(0x239d, { 0xda, 0x2d, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x6d05);
        EXPECT(gbc.pc(), 0x23a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0151
        gbc.setState(0x8de3, 0x9b6f, 0xf930, 0x5e6, 0xe1de, 0x849b, 0x0, 0x0);
        gbc.writeMem(0x8de3, { 0xda, 0xa4, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x9b6f);
        EXPECT(gbc.pc(), 0x72a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8de3), 0xda);
        EXPECT(gbc.readMem(0x8de4), 0xa4);
        EXPECT(gbc.readMem(0x8de5), 0x72);
        // DA 0152
        gbc.setState(0x781, 0x8e17, 0x2eb0, 0x8b6b, 0xec9, 0xad44, 0x0, 0x1);
        gbc.writeMem(0x781, { 0xda, 0x3f, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x8e17);
        EXPECT(gbc.pc(), 0x723f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0153
        gbc.setState(0x4f07, 0x95fc, 0x42e0, 0x2141, 0x21ec, 0x9a0e, 0x1, 0x1);
        gbc.writeMem(0x4f07, { 0xda, 0x93, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x95fc);
        EXPECT(gbc.pc(), 0x4f0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0154
        gbc.setState(0x4503, 0x2117, 0x1690, 0x473a, 0x6b64, 0x4268, 0x0, 0x0);
        gbc.writeMem(0x4503, { 0xda, 0x1e, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2117);
        EXPECT(gbc.pc(), 0x981e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0155
        gbc.setState(0x4825, 0x6266, 0x5a50, 0x4da5, 0xa4c4, 0xbbc8, 0x0, 0x0);
        gbc.writeMem(0x4825, { 0xda, 0x50, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x6266);
        EXPECT(gbc.pc(), 0x2b50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0156
        gbc.setState(0xa6af, 0xa161, 0x5720, 0x8dfd, 0x747e, 0x7a00, 0x0, 0x0);
        gbc.writeMem(0xa6af, { 0xda, 0xb2, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xa161);
        EXPECT(gbc.pc(), 0xa6b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6af), 0xda);
        EXPECT(gbc.readMem(0xa6b0), 0xb2);
        EXPECT(gbc.readMem(0xa6b1), 0x15);
        // DA 0157
        gbc.setState(0x76ab, 0xc68f, 0x4e90, 0x9651, 0x634b, 0x4f95, 0x1, 0x0);
        gbc.writeMem(0x76ab, { 0xda, 0x84, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc68f);
        EXPECT(gbc.pc(), 0xcd84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0158
        gbc.setState(0x2779, 0x4321, 0x19d0, 0x7f10, 0x3b98, 0xe323, 0x1, 0x1);
        gbc.writeMem(0x2779, { 0xda, 0x53, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x4321);
        EXPECT(gbc.pc(), 0x3253);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0159
        gbc.setState(0x3933, 0xc7f8, 0xab70, 0xb875, 0xe802, 0x128e, 0x0, 0x1);
        gbc.writeMem(0x3933, { 0xda, 0xed, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc7f8);
        EXPECT(gbc.pc(), 0x9fed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 015A
        gbc.setState(0x51b7, 0xeb35, 0x3ce0, 0x5e2e, 0x1ba1, 0x9cb5, 0x0, 0x1);
        gbc.writeMem(0x51b7, { 0xda, 0x2f, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xeb35);
        EXPECT(gbc.pc(), 0x51ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 015C
        gbc.setState(0xe9f0, 0xaecc, 0x6540, 0xc99d, 0xb648, 0x918e, 0x0, 0x1);
        gbc.writeMem(0xe9f0, { 0xda, 0xc6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xaecc);
        EXPECT(gbc.pc(), 0xe9f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9f0), 0xda);
        EXPECT(gbc.readMem(0xe9f1), 0xc6);
        EXPECT(gbc.readMem(0xe9f2), 0x97);
        // DA 015D
        gbc.setState(0x54ed, 0x165, 0xcdc0, 0x8398, 0x554, 0x574e, 0x1, 0x0);
        gbc.writeMem(0x54ed, { 0xda, 0xe, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x165);
        EXPECT(gbc.pc(), 0x54f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 015E
        gbc.setState(0x3b4a, 0x778a, 0xf870, 0x7b3d, 0x4d39, 0x98c2, 0x0, 0x1);
        gbc.writeMem(0x3b4a, { 0xda, 0xaf, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x778a);
        EXPECT(gbc.pc(), 0x7daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 015F
        gbc.setState(0xdfd2, 0xaa8c, 0xa5b0, 0x3cc5, 0x3341, 0x1238, 0x1, 0x1);
        gbc.writeMem(0xdfd2, { 0xda, 0xbe, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xaa8c);
        EXPECT(gbc.pc(), 0x6bbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfd2), 0xda);
        EXPECT(gbc.readMem(0xdfd3), 0xbe);
        EXPECT(gbc.readMem(0xdfd4), 0x6b);
        // DA 0160
        gbc.setState(0x249b, 0xb216, 0x3490, 0x4f09, 0x34a8, 0xfcb5, 0x0, 0x0);
        gbc.writeMem(0x249b, { 0xda, 0xc0, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb216);
        EXPECT(gbc.pc(), 0x83c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0161
        gbc.setState(0xca3a, 0x9cc8, 0x2f20, 0xf8be, 0x17b0, 0x20d5, 0x1, 0x0);
        gbc.writeMem(0xca3a, { 0xda, 0x22, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9cc8);
        EXPECT(gbc.pc(), 0xca3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca3a), 0xda);
        EXPECT(gbc.readMem(0xca3b), 0x22);
        EXPECT(gbc.readMem(0xca3c), 0xa0);
        // DA 0163
        gbc.setState(0x3c02, 0xbac, 0xcaa0, 0xfc8c, 0x1808, 0x6267, 0x0, 0x1);
        gbc.writeMem(0x3c02, { 0xda, 0x80, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xbac);
        EXPECT(gbc.pc(), 0x3c05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0164
        gbc.setState(0x13bf, 0xc591, 0x4e20, 0xab33, 0x76bf, 0xd59b, 0x0, 0x0);
        gbc.writeMem(0x13bf, { 0xda, 0xb5, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc591);
        EXPECT(gbc.pc(), 0x13c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0165
        gbc.setState(0xd64f, 0x9d93, 0x340, 0x5955, 0xe05, 0x4ee8, 0x1, 0x1);
        gbc.writeMem(0xd64f, { 0xda, 0xb, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x9d93);
        EXPECT(gbc.pc(), 0xd652);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd64f), 0xda);
        EXPECT(gbc.readMem(0xd650), 0xb);
        EXPECT(gbc.readMem(0xd651), 0x12);
        // DA 0166
        gbc.setState(0xc4f7, 0x5e28, 0xd720, 0xe5d3, 0x2af6, 0x401a, 0x1, 0x0);
        gbc.writeMem(0xc4f7, { 0xda, 0x50, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5e28);
        EXPECT(gbc.pc(), 0xc4fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4f7), 0xda);
        EXPECT(gbc.readMem(0xc4f8), 0x50);
        EXPECT(gbc.readMem(0xc4f9), 0xcf);
        // DA 0167
        gbc.setState(0x11f6, 0xf448, 0xeb50, 0xc931, 0xb954, 0xbe89, 0x0, 0x0);
        gbc.writeMem(0x11f6, { 0xda, 0x9c, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf448);
        EXPECT(gbc.pc(), 0x239c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0168
        gbc.setState(0xe635, 0x8c11, 0x51f0, 0x83d5, 0x2087, 0x10c1, 0x0, 0x1);
        gbc.writeMem(0xe635, { 0xda, 0xc9, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8c11);
        EXPECT(gbc.pc(), 0x86c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe635), 0xda);
        EXPECT(gbc.readMem(0xe636), 0xc9);
        EXPECT(gbc.readMem(0xe637), 0x86);
        // DA 016A
        gbc.setState(0x2069, 0xdc9e, 0x8bc0, 0x9ffc, 0xdd78, 0xade0, 0x1, 0x1);
        gbc.writeMem(0x2069, { 0xda, 0x43, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xdc9e);
        EXPECT(gbc.pc(), 0x206c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 016B
        gbc.setState(0x6424, 0x1714, 0xeb40, 0x90e0, 0xbb9c, 0xec95, 0x1, 0x0);
        gbc.writeMem(0x6424, { 0xda, 0x89, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x1714);
        EXPECT(gbc.pc(), 0x6427);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 016C
        gbc.setState(0xc139, 0x9647, 0x6350, 0xcb65, 0x8996, 0x8bf4, 0x1, 0x0);
        gbc.writeMem(0xc139, { 0xda, 0xbf, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x9647);
        EXPECT(gbc.pc(), 0xe8bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc139), 0xda);
        EXPECT(gbc.readMem(0xc13a), 0xbf);
        EXPECT(gbc.readMem(0xc13b), 0xe8);
        // DA 016D
        gbc.setState(0x2ca3, 0x821e, 0xcc80, 0x2d59, 0xe4c2, 0xe7d0, 0x0, 0x0);
        gbc.writeMem(0x2ca3, { 0xda, 0x45, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x821e);
        EXPECT(gbc.pc(), 0x2ca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 016E
        gbc.setState(0x698f, 0xc225, 0xf320, 0xce72, 0x6217, 0x9586, 0x1, 0x1);
        gbc.writeMem(0x698f, { 0xda, 0xf, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc225);
        EXPECT(gbc.pc(), 0x6992);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 016F
        gbc.setState(0x8703, 0x452f, 0x5130, 0x4c78, 0xbf57, 0xed0c, 0x0, 0x0);
        gbc.writeMem(0x8703, { 0xda, 0xf2, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x452f);
        EXPECT(gbc.pc(), 0x41f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8703), 0xda);
        EXPECT(gbc.readMem(0x8704), 0xf2);
        EXPECT(gbc.readMem(0x8705), 0x41);
        // DA 0171
        gbc.setState(0x4976, 0x32ff, 0xb040, 0xe6a2, 0x50be, 0x8b72, 0x1, 0x1);
        gbc.writeMem(0x4976, { 0xda, 0x6d, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x32ff);
        EXPECT(gbc.pc(), 0x4979);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0172
        gbc.setState(0x928d, 0xe3e1, 0xa4f0, 0x5a95, 0xaf8c, 0xe5aa, 0x1, 0x1);
        gbc.writeMem(0x928d, { 0xda, 0x4, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xe3e1);
        EXPECT(gbc.pc(), 0xc804);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x928d), 0xda);
        EXPECT(gbc.readMem(0x928e), 0x4);
        EXPECT(gbc.readMem(0x928f), 0xc8);
        // DA 0173
        gbc.setState(0x9019, 0x8bec, 0x3470, 0xfb39, 0x488b, 0xd619, 0x1, 0x0);
        gbc.writeMem(0x9019, { 0xda, 0x51, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8bec);
        EXPECT(gbc.pc(), 0xe851);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9019), 0xda);
        EXPECT(gbc.readMem(0x901a), 0x51);
        EXPECT(gbc.readMem(0x901b), 0xe8);
        // DA 0174
        gbc.setState(0x4624, 0x1a6d, 0x9c10, 0x6c1f, 0x2ad0, 0x6573, 0x0, 0x1);
        gbc.writeMem(0x4624, { 0xda, 0x46, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x1a6d);
        EXPECT(gbc.pc(), 0x3346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0175
        gbc.setState(0x5bb, 0xecc4, 0xbf30, 0x8ff2, 0xfd40, 0xe33f, 0x1, 0x0);
        gbc.writeMem(0x5bb, { 0xda, 0x75, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xecc4);
        EXPECT(gbc.pc(), 0xe175);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0176
        gbc.setState(0xf0d, 0x4f9d, 0x6540, 0x8eb5, 0x10dd, 0xe82e, 0x1, 0x1);
        gbc.writeMem(0xf0d, { 0xda, 0x2a, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4f9d);
        EXPECT(gbc.pc(), 0xf10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0177
        gbc.setState(0x3577, 0xa16d, 0x14f0, 0x574c, 0x35b3, 0x3daa, 0x0, 0x1);
        gbc.writeMem(0x3577, { 0xda, 0xfc, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa16d);
        EXPECT(gbc.pc(), 0x6cfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0178
        gbc.setState(0x358c, 0xe665, 0x6af0, 0x270a, 0xfe01, 0x5d75, 0x1, 0x1);
        gbc.writeMem(0x358c, { 0xda, 0xd6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe665);
        EXPECT(gbc.pc(), 0x83d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0179
        gbc.setState(0x3edb, 0x6242, 0xeb60, 0xcae2, 0xcf9a, 0x427a, 0x0, 0x1);
        gbc.writeMem(0x3edb, { 0xda, 0xbf, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6242);
        EXPECT(gbc.pc(), 0x3ede);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 017A
        gbc.setState(0xad9b, 0xb055, 0x82a0, 0xb4fd, 0x5d2e, 0xd7a0, 0x0, 0x0);
        gbc.writeMem(0xad9b, { 0xda, 0xd9, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xb055);
        EXPECT(gbc.pc(), 0xad9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad9b), 0xda);
        EXPECT(gbc.readMem(0xad9c), 0xd9);
        EXPECT(gbc.readMem(0xad9d), 0x8d);
        // DA 017B
        gbc.setState(0x832e, 0xd4a3, 0x15e0, 0xb343, 0x4991, 0x581, 0x0, 0x0);
        gbc.writeMem(0x832e, { 0xda, 0x33, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd4a3);
        EXPECT(gbc.pc(), 0x8331);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x832e), 0xda);
        EXPECT(gbc.readMem(0x832f), 0x33);
        EXPECT(gbc.readMem(0x8330), 0x65);
        // DA 017C
        gbc.setState(0xca09, 0xfb65, 0x2d40, 0x334f, 0x4203, 0x129e, 0x0, 0x0);
        gbc.writeMem(0xca09, { 0xda, 0x38, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xfb65);
        EXPECT(gbc.pc(), 0xca0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca09), 0xda);
        EXPECT(gbc.readMem(0xca0a), 0x38);
        EXPECT(gbc.readMem(0xca0b), 0x27);
        // DA 017D
        gbc.setState(0x7c2d, 0x1e50, 0x8ad0, 0xdd0e, 0xe9e8, 0xabe, 0x0, 0x1);
        gbc.writeMem(0x7c2d, { 0xda, 0x86, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1e50);
        EXPECT(gbc.pc(), 0xf686);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 017E
        gbc.setState(0xd5a0, 0x7d48, 0x3110, 0x822a, 0x772c, 0x4c12, 0x0, 0x1);
        gbc.writeMem(0xd5a0, { 0xda, 0x89, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7d48);
        EXPECT(gbc.pc(), 0x6d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5a0), 0xda);
        EXPECT(gbc.readMem(0xd5a1), 0x89);
        EXPECT(gbc.readMem(0xd5a2), 0x6d);
        // DA 017F
        gbc.setState(0x59d1, 0x5a47, 0x3630, 0x6f91, 0x56b, 0x6f55, 0x1, 0x1);
        gbc.writeMem(0x59d1, { 0xda, 0xed, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x5a47);
        EXPECT(gbc.pc(), 0xc5ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0180
        gbc.setState(0x6a19, 0x9619, 0xf90, 0x9f35, 0x9866, 0xcc49, 0x0, 0x1);
        gbc.writeMem(0x6a19, { 0xda, 0xd4, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x9619);
        EXPECT(gbc.pc(), 0x24d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0181
        gbc.setState(0x3b33, 0x3251, 0x1450, 0x3d4a, 0x620, 0xa8d5, 0x0, 0x1);
        gbc.writeMem(0x3b33, { 0xda, 0x2d, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3251);
        EXPECT(gbc.pc(), 0x792d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0182
        gbc.setState(0x1f02, 0x9927, 0xf5f0, 0x9462, 0xdf04, 0xedaf, 0x1, 0x0);
        gbc.writeMem(0x1f02, { 0xda, 0xd4, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9927);
        EXPECT(gbc.pc(), 0x5fd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0184
        gbc.setState(0x6ace, 0x9d2f, 0x5500, 0xa33e, 0x7416, 0x1012, 0x1, 0x0);
        gbc.writeMem(0x6ace, { 0xda, 0x81, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x9d2f);
        EXPECT(gbc.pc(), 0x6ad1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0185
        gbc.setState(0x47f6, 0xd4c2, 0x61d0, 0x4ab4, 0x77e6, 0x1252, 0x1, 0x1);
        gbc.writeMem(0x47f6, { 0xda, 0xb7, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd4c2);
        EXPECT(gbc.pc(), 0xafb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0186
        gbc.setState(0x96e0, 0x2b53, 0x3b90, 0xbb9c, 0xb8ea, 0xb313, 0x0, 0x0);
        gbc.writeMem(0x96e0, { 0xda, 0xf1, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x2b53);
        EXPECT(gbc.pc(), 0x2ef1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96e0), 0xda);
        EXPECT(gbc.readMem(0x96e1), 0xf1);
        EXPECT(gbc.readMem(0x96e2), 0x2e);
        // DA 0187
        gbc.setState(0x4d9a, 0x9f0a, 0x1420, 0x6fe7, 0x4d74, 0x7b73, 0x0, 0x0);
        gbc.writeMem(0x4d9a, { 0xda, 0x3e, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x9f0a);
        EXPECT(gbc.pc(), 0x4d9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0188
        gbc.setState(0x981b, 0x6f82, 0xd420, 0xb2c8, 0x3645, 0x23f7, 0x1, 0x1);
        gbc.writeMem(0x981b, { 0xda, 0x91, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x6f82);
        EXPECT(gbc.pc(), 0x981e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x981b), 0xda);
        EXPECT(gbc.readMem(0x981c), 0x91);
        EXPECT(gbc.readMem(0x981d), 0xc3);
        // DA 0189
        gbc.setState(0x276d, 0xfb9a, 0xf370, 0xbf2a, 0x5f4c, 0x7101, 0x1, 0x0);
        gbc.writeMem(0x276d, { 0xda, 0x6b, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xfb9a);
        EXPECT(gbc.pc(), 0x5c6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 018A
        gbc.setState(0xdea2, 0x2c80, 0x3f80, 0xd929, 0xf0c5, 0xc8a7, 0x0, 0x0);
        gbc.writeMem(0xdea2, { 0xda, 0x62, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2c80);
        EXPECT(gbc.pc(), 0xdea5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdea2), 0xda);
        EXPECT(gbc.readMem(0xdea3), 0x62);
        EXPECT(gbc.readMem(0xdea4), 0x69);
        // DA 018B
        gbc.setState(0xc1b9, 0xbb4b, 0x90d0, 0x93ca, 0x414d, 0x1214, 0x1, 0x0);
        gbc.writeMem(0xc1b9, { 0xda, 0x76, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xbb4b);
        EXPECT(gbc.pc(), 0xf076);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1b9), 0xda);
        EXPECT(gbc.readMem(0xc1ba), 0x76);
        EXPECT(gbc.readMem(0xc1bb), 0xf0);
        // DA 018C
        gbc.setState(0xbc78, 0x4198, 0xfca0, 0xeeb9, 0xc191, 0xb5d3, 0x0, 0x0);
        gbc.writeMem(0xbc78, { 0xda, 0xa4, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x4198);
        EXPECT(gbc.pc(), 0xbc7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc78), 0xda);
        EXPECT(gbc.readMem(0xbc79), 0xa4);
        EXPECT(gbc.readMem(0xbc7a), 0x24);
        // DA 018D
        gbc.setState(0xcb4c, 0xe98d, 0x9570, 0x61a2, 0x9f59, 0xcb12, 0x1, 0x1);
        gbc.writeMem(0xcb4c, { 0xda, 0x71, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe98d);
        EXPECT(gbc.pc(), 0x4371);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb4c), 0xda);
        EXPECT(gbc.readMem(0xcb4d), 0x71);
        EXPECT(gbc.readMem(0xcb4e), 0x43);
        // DA 018E
        gbc.setState(0x57c4, 0xa8fa, 0x70a0, 0x18a8, 0x11e1, 0xb560, 0x1, 0x0);
        gbc.writeMem(0x57c4, { 0xda, 0xff, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa8fa);
        EXPECT(gbc.pc(), 0x57c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 018F
        gbc.setState(0xd728, 0x5588, 0x8510, 0x7b48, 0x8716, 0x1dad, 0x0, 0x1);
        gbc.writeMem(0xd728, { 0xda, 0x98, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5588);
        EXPECT(gbc.pc(), 0xcf98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd728), 0xda);
        EXPECT(gbc.readMem(0xd729), 0x98);
        EXPECT(gbc.readMem(0xd72a), 0xcf);
        // DA 0190
        gbc.setState(0x33c9, 0x9cb4, 0x8190, 0x5767, 0x9ebb, 0x53b3, 0x1, 0x0);
        gbc.writeMem(0x33c9, { 0xda, 0xa4, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9cb4);
        EXPECT(gbc.pc(), 0xea4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0191
        gbc.setState(0x5ba6, 0x5fd6, 0x2e30, 0x3cb7, 0x702b, 0xb9ec, 0x1, 0x0);
        gbc.writeMem(0x5ba6, { 0xda, 0xc0, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5fd6);
        EXPECT(gbc.pc(), 0xdac0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0192
        gbc.setState(0x8afa, 0xaa46, 0x4c20, 0x69ab, 0x3fd4, 0xad34, 0x0, 0x0);
        gbc.writeMem(0x8afa, { 0xda, 0xa, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xaa46);
        EXPECT(gbc.pc(), 0x8afd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8afa), 0xda);
        EXPECT(gbc.readMem(0x8afb), 0xa);
        EXPECT(gbc.readMem(0x8afc), 0xbd);
        // DA 0193
        gbc.setState(0x81c5, 0x7076, 0xe890, 0xbdfb, 0x1d9c, 0xadaa, 0x0, 0x0);
        gbc.writeMem(0x81c5, { 0xda, 0x3a, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x7076);
        EXPECT(gbc.pc(), 0xf33a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81c5), 0xda);
        EXPECT(gbc.readMem(0x81c6), 0x3a);
        EXPECT(gbc.readMem(0x81c7), 0xf3);
        // DA 0194
        gbc.setState(0x63a9, 0xdc81, 0xecb0, 0xea48, 0x33d0, 0x67ba, 0x1, 0x1);
        gbc.writeMem(0x63a9, { 0xda, 0xdb, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xdc81);
        EXPECT(gbc.pc(), 0x5cdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0195
        gbc.setState(0x3da5, 0xb16e, 0xf3e0, 0xe2df, 0xa666, 0xe759, 0x1, 0x0);
        gbc.writeMem(0x3da5, { 0xda, 0xd7, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xb16e);
        EXPECT(gbc.pc(), 0x3da8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0197
        gbc.setState(0x5e50, 0x610c, 0x3c50, 0x3f7b, 0xfd97, 0xf47e, 0x1, 0x1);
        gbc.writeMem(0x5e50, { 0xda, 0x3c, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x610c);
        EXPECT(gbc.pc(), 0x943c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0198
        gbc.setState(0xc259, 0x1818, 0xaeb0, 0xf3b, 0x1eda, 0xec6d, 0x0, 0x1);
        gbc.writeMem(0xc259, { 0xda, 0x5b, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1818);
        EXPECT(gbc.pc(), 0x885b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc259), 0xda);
        EXPECT(gbc.readMem(0xc25a), 0x5b);
        EXPECT(gbc.readMem(0xc25b), 0x88);
        // DA 0199
        gbc.setState(0xbc16, 0x1824, 0x60d0, 0xb35, 0xdb63, 0x8541, 0x0, 0x1);
        gbc.writeMem(0xbc16, { 0xda, 0x9b, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x1824);
        EXPECT(gbc.pc(), 0x8b9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc16), 0xda);
        EXPECT(gbc.readMem(0xbc17), 0x9b);
        EXPECT(gbc.readMem(0xbc18), 0x8b);
        // DA 019A
        gbc.setState(0xb26a, 0x42cb, 0x9a70, 0x7ecf, 0x9e0a, 0xfa6b, 0x0, 0x0);
        gbc.writeMem(0xb26a, { 0xda, 0x7a, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x42cb);
        EXPECT(gbc.pc(), 0xa37a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb26a), 0xda);
        EXPECT(gbc.readMem(0xb26b), 0x7a);
        EXPECT(gbc.readMem(0xb26c), 0xa3);
        // DA 019B
        gbc.setState(0xa5a2, 0x8030, 0xb830, 0xe535, 0x2c32, 0x275f, 0x0, 0x0);
        gbc.writeMem(0xa5a2, { 0xda, 0xee, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8030);
        EXPECT(gbc.pc(), 0x59ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5a2), 0xda);
        EXPECT(gbc.readMem(0xa5a3), 0xee);
        EXPECT(gbc.readMem(0xa5a4), 0x59);
        // DA 019C
        gbc.setState(0x63ba, 0x88cd, 0x97f0, 0xe1e, 0xd496, 0x3c2f, 0x1, 0x1);
        gbc.writeMem(0x63ba, { 0xda, 0x87, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x88cd);
        EXPECT(gbc.pc(), 0x9c87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 019D
        gbc.setState(0xebbd, 0x5dfc, 0xdc00, 0xe195, 0x412a, 0x6b56, 0x1, 0x0);
        gbc.writeMem(0xebbd, { 0xda, 0x16, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5dfc);
        EXPECT(gbc.pc(), 0xebc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebbd), 0xda);
        EXPECT(gbc.readMem(0xebbe), 0x16);
        EXPECT(gbc.readMem(0xebbf), 0x41);
        // DA 019F
        gbc.setState(0x4915, 0x763e, 0xa070, 0xb0d2, 0xe625, 0xd25f, 0x0, 0x0);
        gbc.writeMem(0x4915, { 0xda, 0x24, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x763e);
        EXPECT(gbc.pc(), 0x6b24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01A0
        gbc.setState(0x6894, 0x3eb8, 0xc730, 0x8c97, 0xc5ac, 0xdc7, 0x1, 0x0);
        gbc.writeMem(0x6894, { 0xda, 0x42, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x3eb8);
        EXPECT(gbc.pc(), 0xd842);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01A1
        gbc.setState(0x7d6b, 0xd6e4, 0x4ee0, 0x406d, 0x42f0, 0xb294, 0x1, 0x0);
        gbc.writeMem(0x7d6b, { 0xda, 0x68, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd6e4);
        EXPECT(gbc.pc(), 0x7d6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01A2
        gbc.setState(0xd012, 0xf306, 0x7670, 0x4382, 0x1cd1, 0x20a3, 0x1, 0x0);
        gbc.writeMem(0xd012, { 0xda, 0x71, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xf306);
        EXPECT(gbc.pc(), 0xcb71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd012), 0xda);
        EXPECT(gbc.readMem(0xd013), 0x71);
        EXPECT(gbc.readMem(0xd014), 0xcb);
        // DA 01A3
        gbc.setState(0xb3c2, 0xd6a0, 0xa0f0, 0x5723, 0x8d8f, 0x2c6b, 0x1, 0x1);
        gbc.writeMem(0xb3c2, { 0xda, 0x2a, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xd6a0);
        EXPECT(gbc.pc(), 0x362a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3c2), 0xda);
        EXPECT(gbc.readMem(0xb3c3), 0x2a);
        EXPECT(gbc.readMem(0xb3c4), 0x36);
        // DA 01A4
        gbc.setState(0x8b3f, 0xa755, 0xb5d0, 0xe5e6, 0x290d, 0xd67b, 0x0, 0x0);
        gbc.writeMem(0x8b3f, { 0xda, 0x7c, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xa755);
        EXPECT(gbc.pc(), 0x647c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b3f), 0xda);
        EXPECT(gbc.readMem(0x8b40), 0x7c);
        EXPECT(gbc.readMem(0x8b41), 0x64);
        // DA 01A5
        gbc.setState(0xaf16, 0x15ed, 0x5e30, 0xdc70, 0xea88, 0x63e7, 0x1, 0x1);
        gbc.writeMem(0xaf16, { 0xda, 0xa4, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x15ed);
        EXPECT(gbc.pc(), 0xc1a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf16), 0xda);
        EXPECT(gbc.readMem(0xaf17), 0xa4);
        EXPECT(gbc.readMem(0xaf18), 0xc1);
        // DA 01A6
        gbc.setState(0x5cc2, 0xf063, 0x36d0, 0x38ef, 0xcdb5, 0x26cf, 0x1, 0x1);
        gbc.writeMem(0x5cc2, { 0xda, 0x34, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf063);
        EXPECT(gbc.pc(), 0x7234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01A7
        gbc.setState(0xb8e8, 0xbbbc, 0xbbf0, 0x4a1, 0xe9a3, 0x4104, 0x1, 0x0);
        gbc.writeMem(0xb8e8, { 0xda, 0x3e, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xbbbc);
        EXPECT(gbc.pc(), 0x8c3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8e8), 0xda);
        EXPECT(gbc.readMem(0xb8e9), 0x3e);
        EXPECT(gbc.readMem(0xb8ea), 0x8c);
        // DA 01A8
        gbc.setState(0x27fb, 0x402b, 0xf3f0, 0x6cc3, 0x2c76, 0x5d4f, 0x0, 0x1);
        gbc.writeMem(0x27fb, { 0xda, 0xb1, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x402b);
        EXPECT(gbc.pc(), 0xb6b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01A9
        gbc.setState(0xe9c, 0xef8e, 0x74c0, 0xfdaa, 0x37ec, 0xeb98, 0x1, 0x0);
        gbc.writeMem(0xe9c, { 0xda, 0x2f, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xef8e);
        EXPECT(gbc.pc(), 0xe9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01AA
        gbc.setState(0x4b64, 0x52fc, 0xf6c0, 0xb068, 0x5659, 0xb4e7, 0x0, 0x0);
        gbc.writeMem(0x4b64, { 0xda, 0x5c, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x52fc);
        EXPECT(gbc.pc(), 0x4b67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01AB
        gbc.setState(0x8b7e, 0x7740, 0x9ab0, 0x683a, 0x3532, 0x8164, 0x1, 0x1);
        gbc.writeMem(0x8b7e, { 0xda, 0x41, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x7740);
        EXPECT(gbc.pc(), 0xa141);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b7e), 0xda);
        EXPECT(gbc.readMem(0x8b7f), 0x41);
        EXPECT(gbc.readMem(0x8b80), 0xa1);
        // DA 01AC
        gbc.setState(0x46e2, 0x7d00, 0x7a80, 0x5ad, 0x4c9, 0xa84, 0x0, 0x1);
        gbc.writeMem(0x46e2, { 0xda, 0xa7, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7d00);
        EXPECT(gbc.pc(), 0x46e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01AD
        gbc.setState(0xaaff, 0x383b, 0x33f0, 0x69a4, 0xc53, 0xcb36, 0x0, 0x1);
        gbc.writeMem(0xaaff, { 0xda, 0x51, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x383b);
        EXPECT(gbc.pc(), 0xce51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaff), 0xda);
        EXPECT(gbc.readMem(0xab00), 0x51);
        EXPECT(gbc.readMem(0xab01), 0xce);
        // DA 01AE
        gbc.setState(0x3d56, 0x1e6d, 0x1810, 0xdd66, 0x7e0b, 0xa811, 0x1, 0x1);
        gbc.writeMem(0x3d56, { 0xda, 0xef, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1e6d);
        EXPECT(gbc.pc(), 0xb2ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01AF
        gbc.setState(0x5679, 0x7d4d, 0x85a0, 0xc18e, 0x229d, 0x7744, 0x0, 0x1);
        gbc.writeMem(0x5679, { 0xda, 0x3a, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7d4d);
        EXPECT(gbc.pc(), 0x567c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01B0
        gbc.setState(0x8138, 0xbc87, 0xc790, 0x4bd2, 0x807d, 0x33dd, 0x0, 0x1);
        gbc.writeMem(0x8138, { 0xda, 0x3e, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xbc87);
        EXPECT(gbc.pc(), 0xa83e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8138), 0xda);
        EXPECT(gbc.readMem(0x8139), 0x3e);
        EXPECT(gbc.readMem(0x813a), 0xa8);
        // DA 01B1
        gbc.setState(0x1337, 0x121c, 0x41a0, 0xc02a, 0xeae8, 0x3557, 0x1, 0x1);
        gbc.writeMem(0x1337, { 0xda, 0xd5, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x121c);
        EXPECT(gbc.pc(), 0x133a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01B2
        gbc.setState(0x694d, 0x50c0, 0x6ec0, 0x5dff, 0x86bb, 0x398c, 0x0, 0x0);
        gbc.writeMem(0x694d, { 0xda, 0xf1, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x50c0);
        EXPECT(gbc.pc(), 0x6950);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01B3
        gbc.setState(0x218f, 0x52f1, 0xd200, 0x9454, 0x1317, 0x2c0e, 0x1, 0x1);
        gbc.writeMem(0x218f, { 0xda, 0x32, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x52f1);
        EXPECT(gbc.pc(), 0x2192);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01B5
        gbc.setState(0x95ea, 0xd33d, 0xf550, 0xe557, 0x5463, 0x36c2, 0x1, 0x1);
        gbc.writeMem(0x95ea, { 0xda, 0x19, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd33d);
        EXPECT(gbc.pc(), 0xf19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95ea), 0xda);
        EXPECT(gbc.readMem(0x95eb), 0x19);
        EXPECT(gbc.readMem(0x95ec), 0xf);
        // DA 01B6
        gbc.setState(0xe6c1, 0x695b, 0xfb0, 0xeb7b, 0x44ec, 0xc772, 0x1, 0x0);
        gbc.writeMem(0xe6c1, { 0xda, 0xbf, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x695b);
        EXPECT(gbc.pc(), 0x33bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6c1), 0xda);
        EXPECT(gbc.readMem(0xe6c2), 0xbf);
        EXPECT(gbc.readMem(0xe6c3), 0x33);
        // DA 01B7
        gbc.setState(0xe9d8, 0x87e8, 0xb4c0, 0xaef4, 0x182a, 0x2f43, 0x0, 0x1);
        gbc.writeMem(0xe9d8, { 0xda, 0x2c, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x87e8);
        EXPECT(gbc.pc(), 0xe9db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9d8), 0xda);
        EXPECT(gbc.readMem(0xe9d9), 0x2c);
        EXPECT(gbc.readMem(0xe9da), 0xb7);
        // DA 01B8
        gbc.setState(0xcc01, 0x392b, 0x2ea0, 0x35c8, 0x9776, 0xede1, 0x0, 0x0);
        gbc.writeMem(0xcc01, { 0xda, 0x5a, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x392b);
        EXPECT(gbc.pc(), 0xcc04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc01), 0xda);
        EXPECT(gbc.readMem(0xcc02), 0x5a);
        EXPECT(gbc.readMem(0xcc03), 0x37);
        // DA 01B9
        gbc.setState(0x270, 0xee64, 0xa70, 0x6e66, 0x4935, 0x4402, 0x1, 0x1);
        gbc.writeMem(0x270, { 0xda, 0xa4, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xee64);
        EXPECT(gbc.pc(), 0xc8a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01BA
        gbc.setState(0x379, 0x9c46, 0x2080, 0x3be3, 0x8a32, 0xa31d, 0x1, 0x0);
        gbc.writeMem(0x379, { 0xda, 0x56, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x9c46);
        EXPECT(gbc.pc(), 0x37c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01BB
        gbc.setState(0xca9, 0xdfce, 0x3a80, 0xe52d, 0x2a3d, 0xca95, 0x1, 0x1);
        gbc.writeMem(0xca9, { 0xda, 0xbf, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xdfce);
        EXPECT(gbc.pc(), 0xcac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01BC
        gbc.setState(0xcaf9, 0x7229, 0xcc00, 0x5229, 0xd904, 0x3813, 0x1, 0x0);
        gbc.writeMem(0xcaf9, { 0xda, 0x9, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x7229);
        EXPECT(gbc.pc(), 0xcafc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaf9), 0xda);
        EXPECT(gbc.readMem(0xcafa), 0x9);
        EXPECT(gbc.readMem(0xcafb), 0x2e);
        // DA 01BD
        gbc.setState(0x52fd, 0xf9b3, 0xd4a0, 0xfdcc, 0x4880, 0x28c4, 0x0, 0x1);
        gbc.writeMem(0x52fd, { 0xda, 0x40, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf9b3);
        EXPECT(gbc.pc(), 0x5300);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01BE
        gbc.setState(0xd290, 0xa74f, 0xad30, 0x426c, 0xf1b, 0xed11, 0x1, 0x1);
        gbc.writeMem(0xd290, { 0xda, 0x55, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa74f);
        EXPECT(gbc.pc(), 0x4755);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd290), 0xda);
        EXPECT(gbc.readMem(0xd291), 0x55);
        EXPECT(gbc.readMem(0xd292), 0x47);
        // DA 01BF
        gbc.setState(0x952f, 0x81b1, 0xdae0, 0x49d, 0xd130, 0x1b21, 0x1, 0x1);
        gbc.writeMem(0x952f, { 0xda, 0xc5, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x81b1);
        EXPECT(gbc.pc(), 0x9532);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x952f), 0xda);
        EXPECT(gbc.readMem(0x9530), 0xc5);
        EXPECT(gbc.readMem(0x9531), 0x46);
        // DA 01C0
        gbc.setState(0xde1d, 0x4640, 0x7d90, 0x5e0e, 0xaa36, 0x652, 0x0, 0x1);
        gbc.writeMem(0xde1d, { 0xda, 0x67, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x4640);
        EXPECT(gbc.pc(), 0x567);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde1d), 0xda);
        EXPECT(gbc.readMem(0xde1e), 0x67);
        EXPECT(gbc.readMem(0xde1f), 0x5);
        // DA 01C2
        gbc.setState(0xe582, 0x16ed, 0x8770, 0xa6fa, 0x4158, 0x75a0, 0x0, 0x1);
        gbc.writeMem(0xe582, { 0xda, 0x8f, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x16ed);
        EXPECT(gbc.pc(), 0x4f8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe582), 0xda);
        EXPECT(gbc.readMem(0xe583), 0x8f);
        EXPECT(gbc.readMem(0xe584), 0x4f);
        // DA 01C3
        gbc.setState(0xd685, 0x5f1f, 0x7b70, 0xf074, 0xf8e9, 0xd8cc, 0x1, 0x0);
        gbc.writeMem(0xd685, { 0xda, 0x2c, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x5f1f);
        EXPECT(gbc.pc(), 0x142c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd685), 0xda);
        EXPECT(gbc.readMem(0xd686), 0x2c);
        EXPECT(gbc.readMem(0xd687), 0x14);
        // DA 01C4
        gbc.setState(0xdfe8, 0xae2d, 0x2370, 0x88dc, 0x35b7, 0xad89, 0x0, 0x1);
        gbc.writeMem(0xdfe8, { 0xda, 0x1f, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xae2d);
        EXPECT(gbc.pc(), 0x371f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfe8), 0xda);
        EXPECT(gbc.readMem(0xdfe9), 0x1f);
        EXPECT(gbc.readMem(0xdfea), 0x37);
        // DA 01C5
        gbc.setState(0xdf67, 0xf19d, 0x3a0, 0x1445, 0xedb8, 0xdb3d, 0x1, 0x1);
        gbc.writeMem(0xdf67, { 0xda, 0xe6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xf19d);
        EXPECT(gbc.pc(), 0xdf6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf67), 0xda);
        EXPECT(gbc.readMem(0xdf68), 0xe6);
        EXPECT(gbc.readMem(0xdf69), 0x37);
        // DA 01C7
        gbc.setState(0x14ab, 0x143b, 0x9420, 0xe0a, 0x487a, 0x3988, 0x0, 0x0);
        gbc.writeMem(0x14ab, { 0xda, 0x49, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x143b);
        EXPECT(gbc.pc(), 0x14ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01C8
        gbc.setState(0xc083, 0x8f5, 0xd7f0, 0xca0, 0x9702, 0xbadc, 0x1, 0x0);
        gbc.writeMem(0xc083, { 0xda, 0x99, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8f5);
        EXPECT(gbc.pc(), 0x4399);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc083), 0xda);
        EXPECT(gbc.readMem(0xc084), 0x99);
        EXPECT(gbc.readMem(0xc085), 0x43);
        // DA 01C9
        gbc.setState(0x5237, 0x6049, 0x1f0, 0xbd46, 0x9b51, 0xc1e6, 0x0, 0x0);
        gbc.writeMem(0x5237, { 0xda, 0xdb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x6049);
        EXPECT(gbc.pc(), 0xf2db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01CA
        gbc.setState(0x70ee, 0x4a0a, 0x15e0, 0x2b23, 0x24d3, 0x7a9, 0x0, 0x1);
        gbc.writeMem(0x70ee, { 0xda, 0xa6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x4a0a);
        EXPECT(gbc.pc(), 0x70f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01CB
        gbc.setState(0x1ad, 0x50f0, 0xe250, 0xb6fe, 0x1c7f, 0xb557, 0x0, 0x1);
        gbc.writeMem(0x1ad, { 0xda, 0x3d, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x50f0);
        EXPECT(gbc.pc(), 0xc83d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01CC
        gbc.setState(0x8435, 0x8ad1, 0x9c90, 0x4b10, 0x470, 0xd960, 0x0, 0x1);
        gbc.writeMem(0x8435, { 0xda, 0x2b, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x8ad1);
        EXPECT(gbc.pc(), 0xbb2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8435), 0xda);
        EXPECT(gbc.readMem(0x8436), 0x2b);
        EXPECT(gbc.readMem(0x8437), 0xbb);
        // DA 01CE
        gbc.setState(0x7c73, 0x14cb, 0x2fb0, 0x3f13, 0x142a, 0x9c5, 0x1, 0x1);
        gbc.writeMem(0x7c73, { 0xda, 0xee, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x14cb);
        EXPECT(gbc.pc(), 0x30ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01CF
        gbc.setState(0xc633, 0xa0cc, 0xb120, 0x357e, 0x2898, 0xd56d, 0x1, 0x1);
        gbc.writeMem(0xc633, { 0xda, 0x9c, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xa0cc);
        EXPECT(gbc.pc(), 0xc636);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc633), 0xda);
        EXPECT(gbc.readMem(0xc634), 0x9c);
        EXPECT(gbc.readMem(0xc635), 0xe6);
        // DA 01D0
        gbc.setState(0xcc99, 0x83b8, 0xee10, 0xc40f, 0xb1f5, 0xb209, 0x1, 0x1);
        gbc.writeMem(0xcc99, { 0xda, 0x73, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x83b8);
        EXPECT(gbc.pc(), 0x4f73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc99), 0xda);
        EXPECT(gbc.readMem(0xcc9a), 0x73);
        EXPECT(gbc.readMem(0xcc9b), 0x4f);
        // DA 01D1
        gbc.setState(0x6e80, 0xbc69, 0xdb20, 0xcf4d, 0xb1a9, 0xb871, 0x0, 0x0);
        gbc.writeMem(0x6e80, { 0xda, 0xbc, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xbc69);
        EXPECT(gbc.pc(), 0x6e83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01D2
        gbc.setState(0x91ac, 0xe11d, 0xa570, 0xdaa1, 0x723f, 0x608f, 0x0, 0x0);
        gbc.writeMem(0x91ac, { 0xda, 0x98, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe11d);
        EXPECT(gbc.pc(), 0x7598);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91ac), 0xda);
        EXPECT(gbc.readMem(0x91ad), 0x98);
        EXPECT(gbc.readMem(0x91ae), 0x75);
        // DA 01D3
        gbc.setState(0xeb71, 0xd61c, 0x4f20, 0x8078, 0xe678, 0xa67c, 0x1, 0x0);
        gbc.writeMem(0xeb71, { 0xda, 0x52, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd61c);
        EXPECT(gbc.pc(), 0xeb74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb71), 0xda);
        EXPECT(gbc.readMem(0xeb72), 0x52);
        EXPECT(gbc.readMem(0xeb73), 0x80);
        // DA 01D6
        gbc.setState(0xcc27, 0xfe53, 0x3b30, 0xca16, 0x1b6e, 0xe452, 0x0, 0x1);
        gbc.writeMem(0xcc27, { 0xda, 0xaf, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xfe53);
        EXPECT(gbc.pc(), 0x65af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc27), 0xda);
        EXPECT(gbc.readMem(0xcc28), 0xaf);
        EXPECT(gbc.readMem(0xcc29), 0x65);
        // DA 01D7
        gbc.setState(0xd4d1, 0xbac3, 0xa350, 0x85d6, 0x700a, 0x957, 0x1, 0x1);
        gbc.writeMem(0xd4d1, { 0xda, 0xc1, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xbac3);
        EXPECT(gbc.pc(), 0xdbc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4d1), 0xda);
        EXPECT(gbc.readMem(0xd4d2), 0xc1);
        EXPECT(gbc.readMem(0xd4d3), 0xdb);
        // DA 01D8
        gbc.setState(0x2d4d, 0xfaa5, 0x98a0, 0x1fba, 0xc3c3, 0x60ae, 0x1, 0x1);
        gbc.writeMem(0x2d4d, { 0xda, 0xd, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xfaa5);
        EXPECT(gbc.pc(), 0x2d50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01D9
        gbc.setState(0x8e72, 0x8d48, 0x82b0, 0x6507, 0xda41, 0x8b8c, 0x0, 0x1);
        gbc.writeMem(0x8e72, { 0xda, 0x7f, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8d48);
        EXPECT(gbc.pc(), 0xde7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e72), 0xda);
        EXPECT(gbc.readMem(0x8e73), 0x7f);
        EXPECT(gbc.readMem(0x8e74), 0xde);
        // DA 01DA
        gbc.setState(0x1a1f, 0xffef, 0xaf50, 0x820, 0x9010, 0xfdfd, 0x1, 0x1);
        gbc.writeMem(0x1a1f, { 0xda, 0x22, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xffef);
        EXPECT(gbc.pc(), 0xfc22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01DB
        gbc.setState(0x688, 0x12fa, 0x4560, 0x4dc8, 0x9c7e, 0x586d, 0x1, 0x0);
        gbc.writeMem(0x688, { 0xda, 0x38, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x12fa);
        EXPECT(gbc.pc(), 0x68b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01DC
        gbc.setState(0xebc3, 0x2bae, 0xb4c0, 0x2d31, 0x9217, 0x35a4, 0x1, 0x0);
        gbc.writeMem(0xebc3, { 0xda, 0xc7, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x2bae);
        EXPECT(gbc.pc(), 0xebc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebc3), 0xda);
        EXPECT(gbc.readMem(0xebc4), 0xc7);
        EXPECT(gbc.readMem(0xebc5), 0xf4);
        // DA 01DD
        gbc.setState(0x2d94, 0xc5a8, 0xe110, 0xb5bb, 0x829d, 0x8873, 0x0, 0x1);
        gbc.writeMem(0x2d94, { 0xda, 0x6f, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xc5a8);
        EXPECT(gbc.pc(), 0x666f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01DE
        gbc.setState(0x61cd, 0xd4f9, 0xdd60, 0x3446, 0xf73, 0x94e, 0x1, 0x1);
        gbc.writeMem(0x61cd, { 0xda, 0xd9, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd4f9);
        EXPECT(gbc.pc(), 0x61d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01DF
        gbc.setState(0x5c88, 0xbe83, 0xdee0, 0xeada, 0x8d74, 0x7e32, 0x1, 0x1);
        gbc.writeMem(0x5c88, { 0xda, 0x78, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xbe83);
        EXPECT(gbc.pc(), 0x5c8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01E0
        gbc.setState(0x8d01, 0x5c25, 0x3a80, 0x57ea, 0xec64, 0x7ea5, 0x1, 0x1);
        gbc.writeMem(0x8d01, { 0xda, 0xaa, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5c25);
        EXPECT(gbc.pc(), 0x8d04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d01), 0xda);
        EXPECT(gbc.readMem(0x8d02), 0xaa);
        EXPECT(gbc.readMem(0x8d03), 0x9b);
        // DA 01E1
        gbc.setState(0xbb0b, 0x39d0, 0x7660, 0xb957, 0x913d, 0xfd5d, 0x1, 0x1);
        gbc.writeMem(0xbb0b, { 0xda, 0xf, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x39d0);
        EXPECT(gbc.pc(), 0xbb0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb0b), 0xda);
        EXPECT(gbc.readMem(0xbb0c), 0xf);
        EXPECT(gbc.readMem(0xbb0d), 0x67);
        // DA 01E2
        gbc.setState(0x6043, 0xe8c0, 0xa090, 0xd113, 0x5d61, 0x3842, 0x0, 0x0);
        gbc.writeMem(0x6043, { 0xda, 0x64, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xe8c0);
        EXPECT(gbc.pc(), 0x5264);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01E3
        gbc.setState(0xed12, 0x757e, 0xb150, 0xdc72, 0x21f9, 0xa77f, 0x1, 0x1);
        gbc.writeMem(0xed12, { 0xda, 0x27, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x757e);
        EXPECT(gbc.pc(), 0xf127);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed12), 0xda);
        EXPECT(gbc.readMem(0xed13), 0x27);
        EXPECT(gbc.readMem(0xed14), 0xf1);
        // DA 01E4
        gbc.setState(0x76d9, 0xb8f1, 0x5c30, 0x9537, 0xc0b2, 0xe001, 0x0, 0x0);
        gbc.writeMem(0x76d9, { 0xda, 0xee, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb8f1);
        EXPECT(gbc.pc(), 0xe7ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01E5
        gbc.setState(0x54d9, 0x9e3b, 0x12a0, 0xb0b9, 0x9d81, 0x8787, 0x1, 0x0);
        gbc.writeMem(0x54d9, { 0xda, 0xf4, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9e3b);
        EXPECT(gbc.pc(), 0x54dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01E6
        gbc.setState(0x768f, 0x5b4a, 0x88d0, 0xce00, 0x5a7f, 0xa39e, 0x0, 0x0);
        gbc.writeMem(0x768f, { 0xda, 0xdd, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5b4a);
        EXPECT(gbc.pc(), 0xfddd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01E7
        gbc.setState(0x862b, 0x3794, 0x27e0, 0xa095, 0x19ad, 0x15bc, 0x0, 0x0);
        gbc.writeMem(0x862b, { 0xda, 0xb8, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x3794);
        EXPECT(gbc.pc(), 0x862e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x862b), 0xda);
        EXPECT(gbc.readMem(0x862c), 0xb8);
        EXPECT(gbc.readMem(0x862d), 0xd9);
        // DA 01E8
        gbc.setState(0x4766, 0x1eaa, 0x790, 0x8276, 0xac15, 0x9e20, 0x1, 0x1);
        gbc.writeMem(0x4766, { 0xda, 0x67, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x1eaa);
        EXPECT(gbc.pc(), 0x4267);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01EA
        gbc.setState(0x904, 0xba9e, 0x7df0, 0xb663, 0x2ac9, 0x22a, 0x0, 0x0);
        gbc.writeMem(0x904, { 0xda, 0x88, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xba9e);
        EXPECT(gbc.pc(), 0xe988);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01EB
        gbc.setState(0x6910, 0x1650, 0xcda0, 0xcf15, 0x570f, 0xf4ff, 0x1, 0x0);
        gbc.writeMem(0x6910, { 0xda, 0x53, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x1650);
        EXPECT(gbc.pc(), 0x6913);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01ED
        gbc.setState(0xada8, 0xf1c, 0xd30, 0xca8d, 0xc37a, 0xaeb9, 0x0, 0x0);
        gbc.writeMem(0xada8, { 0xda, 0x7f, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xf1c);
        EXPECT(gbc.pc(), 0xd27f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xada8), 0xda);
        EXPECT(gbc.readMem(0xada9), 0x7f);
        EXPECT(gbc.readMem(0xadaa), 0xd2);
        // DA 01EE
        gbc.setState(0x5d0e, 0x6405, 0x6be0, 0xd2a1, 0xd6ff, 0x400a, 0x0, 0x0);
        gbc.writeMem(0x5d0e, { 0xda, 0x5d, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x6405);
        EXPECT(gbc.pc(), 0x5d11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01EF
        gbc.setState(0x6034, 0x6153, 0xb610, 0x2b40, 0xd4de, 0xbcfc, 0x1, 0x0);
        gbc.writeMem(0x6034, { 0xda, 0xa3, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x6153);
        EXPECT(gbc.pc(), 0x48a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01F0
        gbc.setState(0x645c, 0xaf2a, 0x24d0, 0x7741, 0x7a60, 0xf8d1, 0x1, 0x0);
        gbc.writeMem(0x645c, { 0xda, 0x5a, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xaf2a);
        EXPECT(gbc.pc(), 0xd25a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01F1
        gbc.setState(0x50f7, 0xfea6, 0x8880, 0x4c88, 0x9aea, 0x7e2a, 0x1, 0x0);
        gbc.writeMem(0x50f7, { 0xda, 0x61, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xfea6);
        EXPECT(gbc.pc(), 0x50fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01F2
        gbc.setState(0xd154, 0xaa24, 0x5dd0, 0x769d, 0x9041, 0x3ef3, 0x1, 0x0);
        gbc.writeMem(0xd154, { 0xda, 0x3b, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xaa24);
        EXPECT(gbc.pc(), 0x973b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd154), 0xda);
        EXPECT(gbc.readMem(0xd155), 0x3b);
        EXPECT(gbc.readMem(0xd156), 0x97);
        // DA 01F3
        gbc.setState(0x4110, 0x95a6, 0x53c0, 0x7053, 0x68b1, 0xf95c, 0x0, 0x1);
        gbc.writeMem(0x4110, { 0xda, 0xd1, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x95a6);
        EXPECT(gbc.pc(), 0x4113);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01F4
        gbc.setState(0x43e6, 0xb961, 0xaf00, 0x7919, 0xb6d5, 0xb8c7, 0x1, 0x0);
        gbc.writeMem(0x43e6, { 0xda, 0xd1, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xb961);
        EXPECT(gbc.pc(), 0x43e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01F5
        gbc.setState(0x57e7, 0x825e, 0x36e0, 0xc1b9, 0x9182, 0x3b24, 0x0, 0x0);
        gbc.writeMem(0x57e7, { 0xda, 0x1a, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x825e);
        EXPECT(gbc.pc(), 0x57ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01F6
        gbc.setState(0xb9c2, 0xd542, 0xae50, 0x6627, 0xb789, 0xb007, 0x0, 0x1);
        gbc.writeMem(0xb9c2, { 0xda, 0x13, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xd542);
        EXPECT(gbc.pc(), 0x3d13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9c2), 0xda);
        EXPECT(gbc.readMem(0xb9c3), 0x13);
        EXPECT(gbc.readMem(0xb9c4), 0x3d);
        // DA 01F7
        gbc.setState(0x5827, 0xa720, 0xc430, 0x2437, 0x44ad, 0xbe50, 0x0, 0x1);
        gbc.writeMem(0x5827, { 0xda, 0x85, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa720);
        EXPECT(gbc.pc(), 0x4d85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01F8
        gbc.setState(0x24c0, 0x4f50, 0x3400, 0xc2a5, 0x1b7f, 0x479, 0x0, 0x1);
        gbc.writeMem(0x24c0, { 0xda, 0xf9, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4f50);
        EXPECT(gbc.pc(), 0x24c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 01F9
        gbc.setState(0xb6c, 0x17a2, 0x9960, 0x7aea, 0x1bf0, 0x3320, 0x1, 0x1);
        gbc.writeMem(0xb6c, { 0xda, 0xd9, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x17a2);
        EXPECT(gbc.pc(), 0xb6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 01FA
        gbc.setState(0xaa0b, 0x8571, 0x3080, 0x5842, 0x4067, 0x93c4, 0x1, 0x0);
        gbc.writeMem(0xaa0b, { 0xda, 0xc8, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x8571);
        EXPECT(gbc.pc(), 0xaa0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa0b), 0xda);
        EXPECT(gbc.readMem(0xaa0c), 0xc8);
        EXPECT(gbc.readMem(0xaa0d), 0xda);
        // DA 01FB
        gbc.setState(0xcf2c, 0xecee, 0xb4c0, 0xccfa, 0xfd41, 0x89a0, 0x1, 0x1);
        gbc.writeMem(0xcf2c, { 0xda, 0x73, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xecee);
        EXPECT(gbc.pc(), 0xcf2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf2c), 0xda);
        EXPECT(gbc.readMem(0xcf2d), 0x73);
        EXPECT(gbc.readMem(0xcf2e), 0x30);
        // DA 01FC
        gbc.setState(0x2bcf, 0x4f41, 0x8270, 0x6eef, 0xfe39, 0xd466, 0x1, 0x1);
        gbc.writeMem(0x2bcf, { 0xda, 0xf5, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4f41);
        EXPECT(gbc.pc(), 0x18f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 01FD
        gbc.setState(0x5602, 0x4c62, 0x3ad0, 0x7a69, 0xb915, 0xbacd, 0x1, 0x1);
        gbc.writeMem(0x5602, { 0xda, 0x76, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x4c62);
        EXPECT(gbc.pc(), 0x2a76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 01FE
        gbc.setState(0xdcc0, 0x401, 0x4ba0, 0xdced, 0xf0fd, 0x654c, 0x0, 0x0);
        gbc.writeMem(0xdcc0, { 0xda, 0x18, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x401);
        EXPECT(gbc.pc(), 0xdcc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcc0), 0xda);
        EXPECT(gbc.readMem(0xdcc1), 0x18);
        EXPECT(gbc.readMem(0xdcc2), 0x4d);
        // DA 01FF
        gbc.setState(0x58de, 0x9f3f, 0xcb80, 0xba82, 0x26ce, 0xbd3a, 0x0, 0x0);
        gbc.writeMem(0x58de, { 0xda, 0xa1, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9f3f);
        EXPECT(gbc.pc(), 0x58e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0200
        gbc.setState(0xddf3, 0x5d95, 0xcd40, 0x7be0, 0x59fb, 0x3d1f, 0x0, 0x1);
        gbc.writeMem(0xddf3, { 0xda, 0x3a, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5d95);
        EXPECT(gbc.pc(), 0xddf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddf3), 0xda);
        EXPECT(gbc.readMem(0xddf4), 0x3a);
        EXPECT(gbc.readMem(0xddf5), 0x21);
        // DA 0201
        gbc.setState(0x4602, 0x7ef, 0x4aa0, 0x3210, 0x90be, 0xf0ca, 0x1, 0x0);
        gbc.writeMem(0x4602, { 0xda, 0x67, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7ef);
        EXPECT(gbc.pc(), 0x4605);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0202
        gbc.setState(0xc939, 0x1d3a, 0x6b20, 0x6ed2, 0xb62b, 0xaa7d, 0x0, 0x0);
        gbc.writeMem(0xc939, { 0xda, 0xf5, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1d3a);
        EXPECT(gbc.pc(), 0xc93c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc939), 0xda);
        EXPECT(gbc.readMem(0xc93a), 0xf5);
        EXPECT(gbc.readMem(0xc93b), 0xbd);
        // DA 0203
        gbc.setState(0x221, 0x9d58, 0x8900, 0x5b5e, 0xfea2, 0xdc73, 0x1, 0x0);
        gbc.writeMem(0x221, { 0xda, 0x4d, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x9d58);
        EXPECT(gbc.pc(), 0x224);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0204
        gbc.setState(0xb58d, 0xcede, 0x3e10, 0x24da, 0x6c15, 0x45ea, 0x0, 0x0);
        gbc.writeMem(0xb58d, { 0xda, 0x56, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xcede);
        EXPECT(gbc.pc(), 0x5656);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb58d), 0xda);
        EXPECT(gbc.readMem(0xb58e), 0x56);
        EXPECT(gbc.readMem(0xb58f), 0x56);
        // DA 0205
        gbc.setState(0x7b44, 0xfd1e, 0xf960, 0x7d61, 0xbd51, 0x755c, 0x1, 0x1);
        gbc.writeMem(0x7b44, { 0xda, 0x66, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xfd1e);
        EXPECT(gbc.pc(), 0x7b47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0206
        gbc.setState(0x699a, 0x1088, 0x5120, 0xffa1, 0x9a8, 0x5860, 0x1, 0x1);
        gbc.writeMem(0x699a, { 0xda, 0x52, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x1088);
        EXPECT(gbc.pc(), 0x699d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0207
        gbc.setState(0x540c, 0xae3a, 0x9b60, 0xf38b, 0xc88e, 0xd495, 0x0, 0x0);
        gbc.writeMem(0x540c, { 0xda, 0xc4, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xae3a);
        EXPECT(gbc.pc(), 0x540f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0208
        gbc.setState(0x61d7, 0xa3d7, 0xb880, 0x1bb8, 0xb060, 0xf8c2, 0x0, 0x0);
        gbc.writeMem(0x61d7, { 0xda, 0x6c, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa3d7);
        EXPECT(gbc.pc(), 0x61da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0209
        gbc.setState(0xa22f, 0xa0c7, 0xac20, 0xad51, 0xdb40, 0xefa7, 0x1, 0x1);
        gbc.writeMem(0xa22f, { 0xda, 0xa7, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xa0c7);
        EXPECT(gbc.pc(), 0xa232);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa22f), 0xda);
        EXPECT(gbc.readMem(0xa230), 0xa7);
        EXPECT(gbc.readMem(0xa231), 0x76);
        // DA 020A
        gbc.setState(0xe7b5, 0xe1e0, 0x780, 0x431, 0x8b60, 0xf3ae, 0x0, 0x1);
        gbc.writeMem(0xe7b5, { 0xda, 0xec, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe1e0);
        EXPECT(gbc.pc(), 0xe7b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7b5), 0xda);
        EXPECT(gbc.readMem(0xe7b6), 0xec);
        EXPECT(gbc.readMem(0xe7b7), 0xab);
        // DA 020B
        gbc.setState(0xa060, 0xe308, 0xb410, 0xe1e1, 0x7b58, 0x8ee, 0x1, 0x0);
        gbc.writeMem(0xa060, { 0xda, 0x3f, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xe308);
        EXPECT(gbc.pc(), 0xba3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa060), 0xda);
        EXPECT(gbc.readMem(0xa061), 0x3f);
        EXPECT(gbc.readMem(0xa062), 0xba);
        // DA 020C
        gbc.setState(0x8228, 0x7433, 0x3b20, 0x507d, 0x4e82, 0xab68, 0x0, 0x0);
        gbc.writeMem(0x8228, { 0xda, 0x1, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7433);
        EXPECT(gbc.pc(), 0x822b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8228), 0xda);
        EXPECT(gbc.readMem(0x8229), 0x1);
        EXPECT(gbc.readMem(0x822a), 0xc4);
        // DA 020D
        gbc.setState(0xcf4a, 0xf5a9, 0xd2f0, 0x5cf9, 0xa76e, 0x94e3, 0x1, 0x1);
        gbc.writeMem(0xcf4a, { 0xda, 0xd8, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xf5a9);
        EXPECT(gbc.pc(), 0xd3d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf4a), 0xda);
        EXPECT(gbc.readMem(0xcf4b), 0xd8);
        EXPECT(gbc.readMem(0xcf4c), 0xd3);
        // DA 020E
        gbc.setState(0xc0e8, 0x1581, 0xbb10, 0x36c1, 0x6cc7, 0xbe86, 0x1, 0x0);
        gbc.writeMem(0xc0e8, { 0xda, 0x8d, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1581);
        EXPECT(gbc.pc(), 0xbe8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0e8), 0xda);
        EXPECT(gbc.readMem(0xc0e9), 0x8d);
        EXPECT(gbc.readMem(0xc0ea), 0xbe);
        // DA 020F
        gbc.setState(0x189d, 0xd657, 0x5430, 0x38e9, 0xea03, 0xb5cd, 0x1, 0x0);
        gbc.writeMem(0x189d, { 0xda, 0x36, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd657);
        EXPECT(gbc.pc(), 0x7736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0210
        gbc.setState(0x7dab, 0xc64d, 0x5020, 0xda6b, 0x80ab, 0x6b83, 0x1, 0x1);
        gbc.writeMem(0x7dab, { 0xda, 0xaf, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xc64d);
        EXPECT(gbc.pc(), 0x7dae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0211
        gbc.setState(0x609f, 0x8f01, 0x4500, 0xe430, 0x3ee2, 0xa108, 0x0, 0x0);
        gbc.writeMem(0x609f, { 0xda, 0x67, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x8f01);
        EXPECT(gbc.pc(), 0x60a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0212
        gbc.setState(0xaf54, 0xeaaf, 0x1ff0, 0xc0de, 0xdc94, 0x63ec, 0x0, 0x0);
        gbc.writeMem(0xaf54, { 0xda, 0xbb, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xeaaf);
        EXPECT(gbc.pc(), 0x3fbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf54), 0xda);
        EXPECT(gbc.readMem(0xaf55), 0xbb);
        EXPECT(gbc.readMem(0xaf56), 0x3f);
        // DA 0213
        gbc.setState(0x6a4, 0xcdfb, 0x60d0, 0xf072, 0xa2ba, 0x41ba, 0x1, 0x1);
        gbc.writeMem(0x6a4, { 0xda, 0xc1, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xcdfb);
        EXPECT(gbc.pc(), 0xcbc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0214
        gbc.setState(0x9e2e, 0x8da2, 0x7150, 0xf90c, 0xae1e, 0xb197, 0x0, 0x1);
        gbc.writeMem(0x9e2e, { 0xda, 0xf7, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x8da2);
        EXPECT(gbc.pc(), 0xd7f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e2e), 0xda);
        EXPECT(gbc.readMem(0x9e2f), 0xf7);
        EXPECT(gbc.readMem(0x9e30), 0xd7);
        // DA 0215
        gbc.setState(0xb024, 0xd849, 0x5fb0, 0x568d, 0x21c7, 0xfc42, 0x0, 0x1);
        gbc.writeMem(0xb024, { 0xda, 0x9e, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xd849);
        EXPECT(gbc.pc(), 0x829e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb024), 0xda);
        EXPECT(gbc.readMem(0xb025), 0x9e);
        EXPECT(gbc.readMem(0xb026), 0x82);
        // DA 0216
        gbc.setState(0x12d6, 0x270e, 0xe840, 0xaae8, 0x9e0, 0xf85e, 0x0, 0x1);
        gbc.writeMem(0x12d6, { 0xda, 0x33, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x270e);
        EXPECT(gbc.pc(), 0x12d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0217
        gbc.setState(0xdf33, 0xc7c2, 0xa220, 0x9729, 0x8e4b, 0xb5e6, 0x0, 0x0);
        gbc.writeMem(0xdf33, { 0xda, 0xcb, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc7c2);
        EXPECT(gbc.pc(), 0xdf36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf33), 0xda);
        EXPECT(gbc.readMem(0xdf34), 0xcb);
        EXPECT(gbc.readMem(0xdf35), 0xc3);
        // DA 0218
        gbc.setState(0x71c6, 0xc656, 0x7c40, 0x7e92, 0x6975, 0x5aa2, 0x0, 0x1);
        gbc.writeMem(0x71c6, { 0xda, 0xc0, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc656);
        EXPECT(gbc.pc(), 0x71c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0219
        gbc.setState(0xdf29, 0xa2f1, 0xd740, 0x9d41, 0xb314, 0x762e, 0x1, 0x1);
        gbc.writeMem(0xdf29, { 0xda, 0x6e, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa2f1);
        EXPECT(gbc.pc(), 0xdf2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf29), 0xda);
        EXPECT(gbc.readMem(0xdf2a), 0x6e);
        EXPECT(gbc.readMem(0xdf2b), 0x20);
        // DA 021A
        gbc.setState(0x2c94, 0x49e, 0xed80, 0xf345, 0x910b, 0xa636, 0x1, 0x1);
        gbc.writeMem(0x2c94, { 0xda, 0xa9, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x49e);
        EXPECT(gbc.pc(), 0x2c97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 021B
        gbc.setState(0x6d90, 0xf244, 0x9110, 0xd52d, 0xce85, 0xdf7a, 0x0, 0x1);
        gbc.writeMem(0x6d90, { 0xda, 0xa3, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf244);
        EXPECT(gbc.pc(), 0x66a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 021C
        gbc.setState(0x13af, 0xd649, 0xdd90, 0x9873, 0x33f9, 0xed97, 0x1, 0x1);
        gbc.writeMem(0x13af, { 0xda, 0x4b, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd649);
        EXPECT(gbc.pc(), 0x354b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 021D
        gbc.setState(0x474d, 0x50d0, 0xb880, 0x71a2, 0x267d, 0x32ab, 0x0, 0x1);
        gbc.writeMem(0x474d, { 0xda, 0x19, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x50d0);
        EXPECT(gbc.pc(), 0x4750);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 021E
        gbc.setState(0x4f1, 0x7d8f, 0x69a0, 0x7be7, 0x2614, 0x18be, 0x0, 0x1);
        gbc.writeMem(0x4f1, { 0xda, 0x9e, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7d8f);
        EXPECT(gbc.pc(), 0x4f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 021F
        gbc.setState(0xb184, 0x157a, 0x3680, 0x3ec5, 0x49cf, 0xf199, 0x1, 0x0);
        gbc.writeMem(0xb184, { 0xda, 0x2b, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x157a);
        EXPECT(gbc.pc(), 0xb187);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb184), 0xda);
        EXPECT(gbc.readMem(0xb185), 0x2b);
        EXPECT(gbc.readMem(0xb186), 0xf4);
        // DA 0220
        gbc.setState(0xd4fe, 0xe4e4, 0x6960, 0xf046, 0xa152, 0xc6b9, 0x1, 0x0);
        gbc.writeMem(0xd4fe, { 0xda, 0x53, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xe4e4);
        EXPECT(gbc.pc(), 0xd501);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4fe), 0xda);
        EXPECT(gbc.readMem(0xd4ff), 0x53);
        EXPECT(gbc.readMem(0xd500), 0xdd);
        // DA 0221
        gbc.setState(0xe197, 0xb5e3, 0xd410, 0x69d5, 0x15fc, 0xf777, 0x0, 0x1);
        gbc.writeMem(0xe197, { 0xda, 0xfa, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb5e3);
        EXPECT(gbc.pc(), 0xa5fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe197), 0xda);
        EXPECT(gbc.readMem(0xe198), 0xfa);
        EXPECT(gbc.readMem(0xe199), 0xa5);
        // DA 0222
        gbc.setState(0xc791, 0xe60b, 0xcf80, 0xc614, 0xd86b, 0xeaae, 0x1, 0x1);
        gbc.writeMem(0xc791, { 0xda, 0x39, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe60b);
        EXPECT(gbc.pc(), 0xc794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc791), 0xda);
        EXPECT(gbc.readMem(0xc792), 0x39);
        EXPECT(gbc.readMem(0xc793), 0xc0);
        // DA 0223
        gbc.setState(0xa35a, 0x6fa8, 0xf4e0, 0xde60, 0x3808, 0x3dd2, 0x0, 0x0);
        gbc.writeMem(0xa35a, { 0xda, 0xd2, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6fa8);
        EXPECT(gbc.pc(), 0xa35d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa35a), 0xda);
        EXPECT(gbc.readMem(0xa35b), 0xd2);
        EXPECT(gbc.readMem(0xa35c), 0x4e);
        // DA 0224
        gbc.setState(0x6647, 0x9474, 0x6d30, 0xa28d, 0x6ee6, 0x3d8d, 0x1, 0x0);
        gbc.writeMem(0x6647, { 0xda, 0xd1, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9474);
        EXPECT(gbc.pc(), 0x78d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0225
        gbc.setState(0x3cfe, 0xe261, 0x1320, 0x78d9, 0xc30e, 0xe72e, 0x1, 0x1);
        gbc.writeMem(0x3cfe, { 0xda, 0xd7, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe261);
        EXPECT(gbc.pc(), 0x3d01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0226
        gbc.setState(0xe973, 0xa670, 0xf510, 0xf7fd, 0x539a, 0x8c48, 0x0, 0x0);
        gbc.writeMem(0xe973, { 0xda, 0x63, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xa670);
        EXPECT(gbc.pc(), 0xac63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe973), 0xda);
        EXPECT(gbc.readMem(0xe974), 0x63);
        EXPECT(gbc.readMem(0xe975), 0xac);
        // DA 0227
        gbc.setState(0x413e, 0xdce1, 0x31f0, 0xfd46, 0x6cc1, 0x31f, 0x1, 0x1);
        gbc.writeMem(0x413e, { 0xda, 0xc2, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xdce1);
        EXPECT(gbc.pc(), 0xc3c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0228
        gbc.setState(0xcad5, 0xb1e8, 0x8a80, 0x5da, 0x3df7, 0xdf7d, 0x1, 0x0);
        gbc.writeMem(0xcad5, { 0xda, 0x72, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xb1e8);
        EXPECT(gbc.pc(), 0xcad8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcad5), 0xda);
        EXPECT(gbc.readMem(0xcad6), 0x72);
        EXPECT(gbc.readMem(0xcad7), 0x7d);
        // DA 0229
        gbc.setState(0x65bf, 0x9f71, 0x76c0, 0xb92, 0x98c5, 0x14dd, 0x1, 0x1);
        gbc.writeMem(0x65bf, { 0xda, 0xaf, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x9f71);
        EXPECT(gbc.pc(), 0x65c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 022A
        gbc.setState(0xca3a, 0xc09a, 0x8a30, 0xdbe8, 0x59d1, 0x6c2, 0x1, 0x1);
        gbc.writeMem(0xca3a, { 0xda, 0x22, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xc09a);
        EXPECT(gbc.pc(), 0xa022);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca3a), 0xda);
        EXPECT(gbc.readMem(0xca3b), 0x22);
        EXPECT(gbc.readMem(0xca3c), 0xa0);
        // DA 022B
        gbc.setState(0xadb9, 0x4508, 0x2050, 0x5981, 0x6c53, 0xa91c, 0x1, 0x0);
        gbc.writeMem(0xadb9, { 0xda, 0x40, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x4508);
        EXPECT(gbc.pc(), 0x3540);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadb9), 0xda);
        EXPECT(gbc.readMem(0xadba), 0x40);
        EXPECT(gbc.readMem(0xadbb), 0x35);
        // DA 022C
        gbc.setState(0xdc25, 0x1c0c, 0xf2d0, 0x6147, 0xbb7f, 0xe82a, 0x1, 0x0);
        gbc.writeMem(0xdc25, { 0xda, 0x8c, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x1c0c);
        EXPECT(gbc.pc(), 0xe58c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc25), 0xda);
        EXPECT(gbc.readMem(0xdc26), 0x8c);
        EXPECT(gbc.readMem(0xdc27), 0xe5);
        // DA 022D
        gbc.setState(0x17dc, 0x8071, 0x6d50, 0xfd8d, 0x8de0, 0x2f4, 0x0, 0x1);
        gbc.writeMem(0x17dc, { 0xda, 0x1e, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8071);
        EXPECT(gbc.pc(), 0xd31e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 022E
        gbc.setState(0x4a76, 0x9272, 0x30e0, 0x5bf, 0xb23c, 0xe6b9, 0x0, 0x1);
        gbc.writeMem(0x4a76, { 0xda, 0x60, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9272);
        EXPECT(gbc.pc(), 0x4a79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 022F
        gbc.setState(0x48e7, 0xa743, 0x35a0, 0x50f8, 0xb338, 0x8add, 0x1, 0x0);
        gbc.writeMem(0x48e7, { 0xda, 0x76, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xa743);
        EXPECT(gbc.pc(), 0x48ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0230
        gbc.setState(0x3e9, 0xdcba, 0x6e30, 0x9b07, 0xd7d8, 0xc339, 0x0, 0x0);
        gbc.writeMem(0x3e9, { 0xda, 0x57, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xdcba);
        EXPECT(gbc.pc(), 0x3457);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0231
        gbc.setState(0xa585, 0xa358, 0xf8e0, 0x3f3b, 0xc6ba, 0xdbb1, 0x1, 0x0);
        gbc.writeMem(0xa585, { 0xda, 0xd3, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xa358);
        EXPECT(gbc.pc(), 0xa588);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa585), 0xda);
        EXPECT(gbc.readMem(0xa586), 0xd3);
        EXPECT(gbc.readMem(0xa587), 0x43);
        // DA 0232
        gbc.setState(0xa02b, 0xdd8a, 0x3ab0, 0xbfde, 0x4eea, 0x301d, 0x1, 0x0);
        gbc.writeMem(0xa02b, { 0xda, 0x25, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xdd8a);
        EXPECT(gbc.pc(), 0xc725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa02b), 0xda);
        EXPECT(gbc.readMem(0xa02c), 0x25);
        EXPECT(gbc.readMem(0xa02d), 0xc7);
        // DA 0233
        gbc.setState(0x1eac, 0xbba4, 0x2640, 0x9259, 0x3f0, 0xf71d, 0x1, 0x0);
        gbc.writeMem(0x1eac, { 0xda, 0x4d, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xbba4);
        EXPECT(gbc.pc(), 0x1eaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0234
        gbc.setState(0xa423, 0xd30e, 0xe950, 0xd11f, 0xe186, 0x2fbe, 0x0, 0x1);
        gbc.writeMem(0xa423, { 0xda, 0xd1, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xd30e);
        EXPECT(gbc.pc(), 0xa7d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa423), 0xda);
        EXPECT(gbc.readMem(0xa424), 0xd1);
        EXPECT(gbc.readMem(0xa425), 0xa7);
        // DA 0235
        gbc.setState(0xe6b, 0xc218, 0xee80, 0xecb8, 0x79f7, 0xe0d4, 0x0, 0x1);
        gbc.writeMem(0xe6b, { 0xda, 0x4d, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xc218);
        EXPECT(gbc.pc(), 0xe6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0236
        gbc.setState(0x3206, 0x1f64, 0x6e00, 0x9897, 0xcca0, 0x95de, 0x1, 0x1);
        gbc.writeMem(0x3206, { 0xda, 0x45, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x1f64);
        EXPECT(gbc.pc(), 0x3209);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0237
        gbc.setState(0x33cb, 0x1268, 0xa960, 0x3c64, 0x7ff7, 0x6c9b, 0x1, 0x1);
        gbc.writeMem(0x33cb, { 0xda, 0x5c, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1268);
        EXPECT(gbc.pc(), 0x33ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0238
        gbc.setState(0x915c, 0x19dc, 0xa800, 0x7d72, 0x11a, 0x3bc0, 0x0, 0x0);
        gbc.writeMem(0x915c, { 0xda, 0xd2, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x19dc);
        EXPECT(gbc.pc(), 0x915f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x915c), 0xda);
        EXPECT(gbc.readMem(0x915d), 0xd2);
        EXPECT(gbc.readMem(0x915e), 0xc5);
        // DA 0239
        gbc.setState(0x46a, 0x13fb, 0x8490, 0xf5e7, 0x9444, 0x43e2, 0x1, 0x1);
        gbc.writeMem(0x46a, { 0xda, 0x2e, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x13fb);
        EXPECT(gbc.pc(), 0xa22e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 023A
        gbc.setState(0xda27, 0x3f99, 0x81f0, 0x8379, 0xec70, 0xf5ae, 0x1, 0x0);
        gbc.writeMem(0xda27, { 0xda, 0xea, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x3f99);
        EXPECT(gbc.pc(), 0x25ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda27), 0xda);
        EXPECT(gbc.readMem(0xda28), 0xea);
        EXPECT(gbc.readMem(0xda29), 0x25);
        // DA 023B
        gbc.setState(0x6e88, 0xa19b, 0x8ef0, 0xb6d3, 0x68c2, 0x8161, 0x1, 0x1);
        gbc.writeMem(0x6e88, { 0xda, 0x9e, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa19b);
        EXPECT(gbc.pc(), 0x309e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 023C
        gbc.setState(0xcbba, 0x9899, 0x2150, 0x1274, 0x1ea3, 0x537f, 0x0, 0x0);
        gbc.writeMem(0xcbba, { 0xda, 0xbb, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x9899);
        EXPECT(gbc.pc(), 0x9abb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbba), 0xda);
        EXPECT(gbc.readMem(0xcbbb), 0xbb);
        EXPECT(gbc.readMem(0xcbbc), 0x9a);
        // DA 023D
        gbc.setState(0x83fc, 0x6b56, 0x9370, 0xa706, 0x2b6e, 0x31b9, 0x1, 0x1);
        gbc.writeMem(0x83fc, { 0xda, 0x93, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6b56);
        EXPECT(gbc.pc(), 0x993);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83fc), 0xda);
        EXPECT(gbc.readMem(0x83fd), 0x93);
        EXPECT(gbc.readMem(0x83fe), 0x9);
        // DA 023E
        gbc.setState(0xe270, 0xee54, 0x5dc0, 0x3c5a, 0xe615, 0xf647, 0x0, 0x0);
        gbc.writeMem(0xe270, { 0xda, 0x79, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xee54);
        EXPECT(gbc.pc(), 0xe273);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe270), 0xda);
        EXPECT(gbc.readMem(0xe271), 0x79);
        EXPECT(gbc.readMem(0xe272), 0x99);
        // DA 023F
        gbc.setState(0x669, 0x3bf5, 0xbe0, 0x9207, 0xc9bf, 0xf0f7, 0x0, 0x1);
        gbc.writeMem(0x669, { 0xda, 0x6d, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3bf5);
        EXPECT(gbc.pc(), 0x66c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0240
        gbc.setState(0x72f5, 0x69c6, 0xe310, 0x5430, 0x6a0d, 0x31ca, 0x0, 0x1);
        gbc.writeMem(0x72f5, { 0xda, 0xc6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x69c6);
        EXPECT(gbc.pc(), 0xd9c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0241
        gbc.setState(0x836e, 0x57c0, 0x9170, 0x9bec, 0x90e7, 0xa8ca, 0x1, 0x0);
        gbc.writeMem(0x836e, { 0xda, 0xd9, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x57c0);
        EXPECT(gbc.pc(), 0x5ad9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x836e), 0xda);
        EXPECT(gbc.readMem(0x836f), 0xd9);
        EXPECT(gbc.readMem(0x8370), 0x5a);
        // DA 0242
        gbc.setState(0x785e, 0xca7f, 0xe990, 0xd91c, 0xf79f, 0xfcc4, 0x0, 0x1);
        gbc.writeMem(0x785e, { 0xda, 0x63, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xca7f);
        EXPECT(gbc.pc(), 0x7563);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0243
        gbc.setState(0x906a, 0x670, 0x93d0, 0xf5ad, 0x9da1, 0x60c2, 0x1, 0x0);
        gbc.writeMem(0x906a, { 0xda, 0xd1, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x670);
        EXPECT(gbc.pc(), 0x84d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x906a), 0xda);
        EXPECT(gbc.readMem(0x906b), 0xd1);
        EXPECT(gbc.readMem(0x906c), 0x84);
        // DA 0244
        gbc.setState(0xcecb, 0x77f6, 0xc6e0, 0x8efc, 0x238d, 0x1c0f, 0x1, 0x0);
        gbc.writeMem(0xcecb, { 0xda, 0xc4, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x77f6);
        EXPECT(gbc.pc(), 0xcece);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcecb), 0xda);
        EXPECT(gbc.readMem(0xcecc), 0xc4);
        EXPECT(gbc.readMem(0xcecd), 0x45);
        // DA 0246
        gbc.setState(0x39c3, 0x599d, 0x7a60, 0x466, 0x8f62, 0xd9c1, 0x0, 0x0);
        gbc.writeMem(0x39c3, { 0xda, 0xe0, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x599d);
        EXPECT(gbc.pc(), 0x39c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0247
        gbc.setState(0xd32e, 0x8f16, 0x78f0, 0x27f8, 0x8a7d, 0xc732, 0x1, 0x1);
        gbc.writeMem(0xd32e, { 0xda, 0x36, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8f16);
        EXPECT(gbc.pc(), 0x8a36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd32e), 0xda);
        EXPECT(gbc.readMem(0xd32f), 0x36);
        EXPECT(gbc.readMem(0xd330), 0x8a);
        // DA 0248
        gbc.setState(0x76ee, 0x27e2, 0x1a60, 0x9f05, 0x25eb, 0x1e49, 0x0, 0x1);
        gbc.writeMem(0x76ee, { 0xda, 0x8e, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x27e2);
        EXPECT(gbc.pc(), 0x76f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0249
        gbc.setState(0x21d2, 0x2e73, 0x7960, 0xbd4c, 0x80b6, 0xa481, 0x0, 0x0);
        gbc.writeMem(0x21d2, { 0xda, 0x57, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2e73);
        EXPECT(gbc.pc(), 0x21d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 024A
        gbc.setState(0x3427, 0xad08, 0xcff0, 0x9385, 0x773f, 0xbd66, 0x0, 0x0);
        gbc.writeMem(0x3427, { 0xda, 0x15, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xad08);
        EXPECT(gbc.pc(), 0x2215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 024B
        gbc.setState(0x957d, 0xf1bf, 0xf90, 0xc173, 0xbdbd, 0x246a, 0x1, 0x1);
        gbc.writeMem(0x957d, { 0xda, 0xda, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xf1bf);
        EXPECT(gbc.pc(), 0xc6da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x957d), 0xda);
        EXPECT(gbc.readMem(0x957e), 0xda);
        EXPECT(gbc.readMem(0x957f), 0xc6);
        // DA 024C
        gbc.setState(0x8e40, 0x4ee5, 0xae90, 0xbc9d, 0x214f, 0xa415, 0x0, 0x1);
        gbc.writeMem(0x8e40, { 0xda, 0xd, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4ee5);
        EXPECT(gbc.pc(), 0x3b0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e40), 0xda);
        EXPECT(gbc.readMem(0x8e41), 0xd);
        EXPECT(gbc.readMem(0x8e42), 0x3b);
        // DA 024D
        gbc.setState(0x7b08, 0xfc22, 0x170, 0x42b, 0x9ede, 0xce0d, 0x1, 0x0);
        gbc.writeMem(0x7b08, { 0xda, 0x5e, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xfc22);
        EXPECT(gbc.pc(), 0x105e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 024E
        gbc.setState(0x5f50, 0xd6c3, 0x2130, 0xfc9b, 0xe3f2, 0xdee0, 0x0, 0x0);
        gbc.writeMem(0x5f50, { 0xda, 0x5e, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd6c3);
        EXPECT(gbc.pc(), 0xbb5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 024F
        gbc.setState(0x2a1c, 0xe2b5, 0x4f60, 0xb550, 0xb0fe, 0x616e, 0x1, 0x1);
        gbc.writeMem(0x2a1c, { 0xda, 0x95, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xe2b5);
        EXPECT(gbc.pc(), 0x2a1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0250
        gbc.setState(0x799b, 0x1442, 0xadd0, 0x678e, 0x4c5c, 0x7e36, 0x0, 0x1);
        gbc.writeMem(0x799b, { 0xda, 0x72, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1442);
        EXPECT(gbc.pc(), 0x1572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0251
        gbc.setState(0xd396, 0x55e8, 0xf30, 0xf38a, 0x6fa6, 0xbba1, 0x0, 0x0);
        gbc.writeMem(0xd396, { 0xda, 0x55, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x55e8);
        EXPECT(gbc.pc(), 0xf955);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd396), 0xda);
        EXPECT(gbc.readMem(0xd397), 0x55);
        EXPECT(gbc.readMem(0xd398), 0xf9);
        // DA 0252
        gbc.setState(0xd7fc, 0xfb38, 0xb5e0, 0x42c0, 0xe960, 0x9a, 0x1, 0x0);
        gbc.writeMem(0xd7fc, { 0xda, 0xfc, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xfb38);
        EXPECT(gbc.pc(), 0xd7ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7fc), 0xda);
        EXPECT(gbc.readMem(0xd7fd), 0xfc);
        EXPECT(gbc.readMem(0xd7fe), 0x15);
        // DA 0253
        gbc.setState(0xb637, 0x8cae, 0x7d30, 0xa34c, 0x426f, 0x56d9, 0x1, 0x0);
        gbc.writeMem(0xb637, { 0xda, 0x32, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x8cae);
        EXPECT(gbc.pc(), 0xf032);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb637), 0xda);
        EXPECT(gbc.readMem(0xb638), 0x32);
        EXPECT(gbc.readMem(0xb639), 0xf0);
        // DA 0254
        gbc.setState(0x2ba, 0x8bb8, 0x7dd0, 0xe4d8, 0x4303, 0xc8bc, 0x1, 0x0);
        gbc.writeMem(0x2ba, { 0xda, 0xfd, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8bb8);
        EXPECT(gbc.pc(), 0xefd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0256
        gbc.setState(0x2e3c, 0x6a68, 0x5c90, 0x231f, 0xfda3, 0x122c, 0x0, 0x1);
        gbc.writeMem(0x2e3c, { 0xda, 0x43, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x6a68);
        EXPECT(gbc.pc(), 0xa543);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0257
        gbc.setState(0xa322, 0xb884, 0xd950, 0xaab3, 0xfb6c, 0x3a26, 0x1, 0x1);
        gbc.writeMem(0xa322, { 0xda, 0x57, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb884);
        EXPECT(gbc.pc(), 0x2f57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa322), 0xda);
        EXPECT(gbc.readMem(0xa323), 0x57);
        EXPECT(gbc.readMem(0xa324), 0x2f);
        // DA 0258
        gbc.setState(0x6635, 0xe1cc, 0xf650, 0xfd26, 0x8ec0, 0x3f70, 0x0, 0x0);
        gbc.writeMem(0x6635, { 0xda, 0x57, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe1cc);
        EXPECT(gbc.pc(), 0x1a57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0259
        gbc.setState(0xa1f5, 0xeaa9, 0xabe0, 0xd880, 0x3de3, 0xd5b4, 0x0, 0x0);
        gbc.writeMem(0xa1f5, { 0xda, 0xef, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xeaa9);
        EXPECT(gbc.pc(), 0xa1f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1f5), 0xda);
        EXPECT(gbc.readMem(0xa1f6), 0xef);
        EXPECT(gbc.readMem(0xa1f7), 0x9d);
        // DA 025A
        gbc.setState(0x9fc, 0x3d4b, 0x8790, 0x88f3, 0x2ef3, 0x6f82, 0x0, 0x0);
        gbc.writeMem(0x9fc, { 0xda, 0x1d, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3d4b);
        EXPECT(gbc.pc(), 0xb61d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 025B
        gbc.setState(0x235, 0xab9e, 0xf540, 0x4f0a, 0x40ce, 0x1fe6, 0x1, 0x1);
        gbc.writeMem(0x235, { 0xda, 0xc3, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xab9e);
        EXPECT(gbc.pc(), 0x238);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 025C
        gbc.setState(0xa2bf, 0x9f80, 0xfc90, 0xb55a, 0x7d74, 0x11a0, 0x0, 0x0);
        gbc.writeMem(0xa2bf, { 0xda, 0x4c, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9f80);
        EXPECT(gbc.pc(), 0x7d4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2bf), 0xda);
        EXPECT(gbc.readMem(0xa2c0), 0x4c);
        EXPECT(gbc.readMem(0xa2c1), 0x7d);
        // DA 025D
        gbc.setState(0xd32e, 0x18e7, 0xb400, 0x2e82, 0xbd0d, 0xa246, 0x0, 0x1);
        gbc.writeMem(0xd32e, { 0xda, 0x36, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x18e7);
        EXPECT(gbc.pc(), 0xd331);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd32e), 0xda);
        EXPECT(gbc.readMem(0xd32f), 0x36);
        EXPECT(gbc.readMem(0xd330), 0x8a);
        // DA 025E
        gbc.setState(0x54d3, 0x80bc, 0x4b60, 0x90f1, 0xf94e, 0x34c6, 0x1, 0x0);
        gbc.writeMem(0x54d3, { 0xda, 0xcd, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x80bc);
        EXPECT(gbc.pc(), 0x54d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 025F
        gbc.setState(0x2d68, 0x9702, 0x5660, 0xe544, 0x996e, 0x6c63, 0x0, 0x0);
        gbc.writeMem(0x2d68, { 0xda, 0x3e, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9702);
        EXPECT(gbc.pc(), 0x2d6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0261
        gbc.setState(0xc88, 0x9bfb, 0xc4c0, 0x8271, 0x8a19, 0x5b15, 0x1, 0x1);
        gbc.writeMem(0xc88, { 0xda, 0x61, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x9bfb);
        EXPECT(gbc.pc(), 0xc8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0263
        gbc.setState(0x423b, 0x7556, 0x9400, 0xbee1, 0x823, 0xd611, 0x0, 0x1);
        gbc.writeMem(0x423b, { 0xda, 0x21, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7556);
        EXPECT(gbc.pc(), 0x423e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0264
        gbc.setState(0x9c3d, 0x99bd, 0x73e0, 0xc68d, 0xdd49, 0x4234, 0x0, 0x0);
        gbc.writeMem(0x9c3d, { 0xda, 0xd9, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x99bd);
        EXPECT(gbc.pc(), 0x9c40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c3d), 0xda);
        EXPECT(gbc.readMem(0x9c3e), 0xd9);
        EXPECT(gbc.readMem(0x9c3f), 0x1c);
        // DA 0265
        gbc.setState(0x6967, 0x5a65, 0x4be0, 0xb177, 0xcbc0, 0x5a66, 0x1, 0x1);
        gbc.writeMem(0x6967, { 0xda, 0xb3, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x5a65);
        EXPECT(gbc.pc(), 0x696a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0266
        gbc.setState(0xee86, 0x5906, 0xe2a0, 0xa521, 0xd398, 0x9fd4, 0x0, 0x0);
        gbc.writeMem(0xee86, { 0xda, 0x1f, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5906);
        EXPECT(gbc.pc(), 0xee89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee86), 0xda);
        EXPECT(gbc.readMem(0xee87), 0x1f);
        EXPECT(gbc.readMem(0xee88), 0x61);
        // DA 0267
        gbc.setState(0x9c36, 0xe098, 0x9ea0, 0xdc08, 0xfa50, 0x900a, 0x1, 0x0);
        gbc.writeMem(0x9c36, { 0xda, 0x8, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe098);
        EXPECT(gbc.pc(), 0x9c39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c36), 0xda);
        EXPECT(gbc.readMem(0x9c37), 0x8);
        EXPECT(gbc.readMem(0x9c38), 0x8d);
        // DA 0268
        gbc.setState(0x7b34, 0x5b5e, 0x2b00, 0xdce9, 0x9c96, 0xc1f0, 0x1, 0x1);
        gbc.writeMem(0x7b34, { 0xda, 0xe2, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5b5e);
        EXPECT(gbc.pc(), 0x7b37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0269
        gbc.setState(0x9c6b, 0xbef, 0xb930, 0x5f3e, 0xdd4, 0x4fc8, 0x1, 0x1);
        gbc.writeMem(0x9c6b, { 0xda, 0x26, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xbef);
        EXPECT(gbc.pc(), 0xe526);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c6b), 0xda);
        EXPECT(gbc.readMem(0x9c6c), 0x26);
        EXPECT(gbc.readMem(0x9c6d), 0xe5);
        // DA 026A
        gbc.setState(0xa58f, 0xbed1, 0xe5b0, 0x9a71, 0xeb74, 0x232d, 0x0, 0x0);
        gbc.writeMem(0xa58f, { 0xda, 0x49, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xbed1);
        EXPECT(gbc.pc(), 0x8249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa58f), 0xda);
        EXPECT(gbc.readMem(0xa590), 0x49);
        EXPECT(gbc.readMem(0xa591), 0x82);
        // DA 026B
        gbc.setState(0xbb36, 0x554e, 0x3320, 0x7df3, 0x59bb, 0x5b66, 0x1, 0x1);
        gbc.writeMem(0xbb36, { 0xda, 0x58, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x554e);
        EXPECT(gbc.pc(), 0xbb39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb36), 0xda);
        EXPECT(gbc.readMem(0xbb37), 0x58);
        EXPECT(gbc.readMem(0xbb38), 0xd0);
        // DA 026C
        gbc.setState(0x6c86, 0xbf2b, 0xef0, 0xaa98, 0xf67f, 0xdfdd, 0x1, 0x0);
        gbc.writeMem(0x6c86, { 0xda, 0xc3, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xbf2b);
        EXPECT(gbc.pc(), 0x1c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 026D
        gbc.setState(0x162, 0x72d, 0x9a20, 0xa8f5, 0x3393, 0xfadf, 0x0, 0x1);
        gbc.writeMem(0x162, { 0xda, 0x52, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x72d);
        EXPECT(gbc.pc(), 0x165);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 026F
        gbc.setState(0xbd5f, 0xc168, 0x37a0, 0xf932, 0x3946, 0x8d7b, 0x1, 0x0);
        gbc.writeMem(0xbd5f, { 0xda, 0xcd, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xc168);
        EXPECT(gbc.pc(), 0xbd62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd5f), 0xda);
        EXPECT(gbc.readMem(0xbd60), 0xcd);
        EXPECT(gbc.readMem(0xbd61), 0xef);
        // DA 0270
        gbc.setState(0x707c, 0xecce, 0x1790, 0x3178, 0xe203, 0x2d70, 0x1, 0x0);
        gbc.writeMem(0x707c, { 0xda, 0x14, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xecce);
        EXPECT(gbc.pc(), 0x4f14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0271
        gbc.setState(0xb521, 0xab5b, 0xeb90, 0x753f, 0xe58d, 0x378, 0x1, 0x1);
        gbc.writeMem(0xb521, { 0xda, 0x4a, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xab5b);
        EXPECT(gbc.pc(), 0x7d4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb521), 0xda);
        EXPECT(gbc.readMem(0xb522), 0x4a);
        EXPECT(gbc.readMem(0xb523), 0x7d);
        // DA 0272
        gbc.setState(0x332e, 0xca96, 0x3710, 0x1c6d, 0x6c94, 0xf998, 0x1, 0x1);
        gbc.writeMem(0x332e, { 0xda, 0x86, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xca96);
        EXPECT(gbc.pc(), 0x7b86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0273
        gbc.setState(0xba7a, 0x7b30, 0xa080, 0x69ad, 0x99b5, 0xdf, 0x1, 0x1);
        gbc.writeMem(0xba7a, { 0xda, 0xdd, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7b30);
        EXPECT(gbc.pc(), 0xba7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba7a), 0xda);
        EXPECT(gbc.readMem(0xba7b), 0xdd);
        EXPECT(gbc.readMem(0xba7c), 0x3a);
        // DA 0274
        gbc.setState(0xe0d1, 0x25ec, 0x6c30, 0xd821, 0x4063, 0xac52, 0x0, 0x1);
        gbc.writeMem(0xe0d1, { 0xda, 0xaf, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x25ec);
        EXPECT(gbc.pc(), 0x98af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0d1), 0xda);
        EXPECT(gbc.readMem(0xe0d2), 0xaf);
        EXPECT(gbc.readMem(0xe0d3), 0x98);
        // DA 0275
        gbc.setState(0x5f7c, 0x6619, 0x8df0, 0xef3d, 0x728c, 0x60fd, 0x0, 0x1);
        gbc.writeMem(0x5f7c, { 0xda, 0x9b, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x6619);
        EXPECT(gbc.pc(), 0xea9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0276
        gbc.setState(0x2367, 0x18d9, 0x5a10, 0x5d61, 0xb5b5, 0xbfe1, 0x0, 0x1);
        gbc.writeMem(0x2367, { 0xda, 0xe3, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x18d9);
        EXPECT(gbc.pc(), 0x69e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0277
        gbc.setState(0x22be, 0x8a10, 0x7210, 0xa227, 0x4133, 0xdc0b, 0x0, 0x0);
        gbc.writeMem(0x22be, { 0xda, 0x5b, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x8a10);
        EXPECT(gbc.pc(), 0xfe5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0278
        gbc.setState(0x909c, 0x78ca, 0xdea0, 0x9da2, 0x2913, 0xb834, 0x1, 0x1);
        gbc.writeMem(0x909c, { 0xda, 0xd7, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x78ca);
        EXPECT(gbc.pc(), 0x909f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x909c), 0xda);
        EXPECT(gbc.readMem(0x909d), 0xd7);
        EXPECT(gbc.readMem(0x909e), 0xb2);
        // DA 0279
        gbc.setState(0x582f, 0x4b79, 0xa080, 0xc154, 0x6e51, 0x78d2, 0x0, 0x0);
        gbc.writeMem(0x582f, { 0xda, 0xa1, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4b79);
        EXPECT(gbc.pc(), 0x5832);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 027B
        gbc.setState(0xced8, 0x422c, 0x3270, 0x84fb, 0x8177, 0xe171, 0x1, 0x1);
        gbc.writeMem(0xced8, { 0xda, 0x9f, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x422c);
        EXPECT(gbc.pc(), 0xb79f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xced8), 0xda);
        EXPECT(gbc.readMem(0xced9), 0x9f);
        EXPECT(gbc.readMem(0xceda), 0xb7);
        // DA 027C
        gbc.setState(0x1472, 0xf142, 0x2e20, 0x390a, 0x3c0c, 0x5855, 0x0, 0x0);
        gbc.writeMem(0x1472, { 0xda, 0x1d, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xf142);
        EXPECT(gbc.pc(), 0x1475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 027D
        gbc.setState(0x46bd, 0x4250, 0x7bb0, 0x9ae8, 0x325a, 0x75f4, 0x1, 0x0);
        gbc.writeMem(0x46bd, { 0xda, 0x78, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x4250);
        EXPECT(gbc.pc(), 0x8f78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 027F
        gbc.setState(0x1349, 0x4a6d, 0x1890, 0x8da3, 0xdaf7, 0x92fe, 0x0, 0x0);
        gbc.writeMem(0x1349, { 0xda, 0x24, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x4a6d);
        EXPECT(gbc.pc(), 0x7a24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0280
        gbc.setState(0x2202, 0xc14c, 0x8330, 0x9e0c, 0x4558, 0xa4c0, 0x1, 0x0);
        gbc.writeMem(0x2202, { 0xda, 0x2, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc14c);
        EXPECT(gbc.pc(), 0xd002);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0281
        gbc.setState(0x83cb, 0x36fb, 0x74a0, 0x13a4, 0x59e4, 0x8de5, 0x0, 0x1);
        gbc.writeMem(0x83cb, { 0xda, 0x82, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x36fb);
        EXPECT(gbc.pc(), 0x83ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83cb), 0xda);
        EXPECT(gbc.readMem(0x83cc), 0x82);
        EXPECT(gbc.readMem(0x83cd), 0x77);
        // DA 0282
        gbc.setState(0xa2da, 0x66c8, 0xa2c0, 0x8f88, 0x8797, 0x30b1, 0x0, 0x0);
        gbc.writeMem(0xa2da, { 0xda, 0x8a, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x66c8);
        EXPECT(gbc.pc(), 0xa2dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2da), 0xda);
        EXPECT(gbc.readMem(0xa2db), 0x8a);
        EXPECT(gbc.readMem(0xa2dc), 0x37);
        // DA 0283
        gbc.setState(0x884a, 0xf0ba, 0x6980, 0xe9c1, 0x7f69, 0xc7f4, 0x0, 0x1);
        gbc.writeMem(0x884a, { 0xda, 0xc3, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xf0ba);
        EXPECT(gbc.pc(), 0x884d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x884a), 0xda);
        EXPECT(gbc.readMem(0x884b), 0xc3);
        EXPECT(gbc.readMem(0x884c), 0xcd);
        // DA 0284
        gbc.setState(0x2222, 0xda7e, 0x3560, 0xaaa8, 0xbb3, 0x145e, 0x0, 0x0);
        gbc.writeMem(0x2222, { 0xda, 0xf0, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xda7e);
        EXPECT(gbc.pc(), 0x2225);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0286
        gbc.setState(0x9ae6, 0xaf68, 0x3250, 0x278f, 0xf81e, 0x6c09, 0x1, 0x0);
        gbc.writeMem(0x9ae6, { 0xda, 0xf6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xaf68);
        EXPECT(gbc.pc(), 0xbcf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ae6), 0xda);
        EXPECT(gbc.readMem(0x9ae7), 0xf6);
        EXPECT(gbc.readMem(0x9ae8), 0xbc);
        // DA 0287
        gbc.setState(0x165e, 0xd010, 0xf320, 0xb013, 0xb0f6, 0x2946, 0x1, 0x0);
        gbc.writeMem(0x165e, { 0xda, 0x3f, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xd010);
        EXPECT(gbc.pc(), 0x1661);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0288
        gbc.setState(0x5f5e, 0x1109, 0x5fb0, 0x83ad, 0xbe0e, 0x322d, 0x0, 0x0);
        gbc.writeMem(0x5f5e, { 0xda, 0x5d, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x1109);
        EXPECT(gbc.pc(), 0x1c5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0289
        gbc.setState(0x54fe, 0x9306, 0xfdd0, 0xe99f, 0x5f7e, 0xae46, 0x0, 0x0);
        gbc.writeMem(0x54fe, { 0xda, 0xd4, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x9306);
        EXPECT(gbc.pc(), 0x35d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 028A
        gbc.setState(0x4561, 0x493c, 0xfb40, 0x5bd3, 0xcc44, 0xa04d, 0x0, 0x1);
        gbc.writeMem(0x4561, { 0xda, 0x78, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x493c);
        EXPECT(gbc.pc(), 0x4564);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 028B
        gbc.setState(0x439c, 0xe6f4, 0x800, 0x8712, 0x4825, 0xe758, 0x0, 0x0);
        gbc.writeMem(0x439c, { 0xda, 0x19, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe6f4);
        EXPECT(gbc.pc(), 0x439f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 028D
        gbc.setState(0xa9c8, 0xc1c8, 0xd350, 0x9683, 0x2e52, 0x9206, 0x0, 0x1);
        gbc.writeMem(0xa9c8, { 0xda, 0x9b, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xc1c8);
        EXPECT(gbc.pc(), 0x49b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9c8), 0xda);
        EXPECT(gbc.readMem(0xa9c9), 0x9b);
        EXPECT(gbc.readMem(0xa9ca), 0x4);
        // DA 028E
        gbc.setState(0x5d3e, 0x1434, 0xd020, 0x777b, 0x6374, 0xcb73, 0x0, 0x0);
        gbc.writeMem(0x5d3e, { 0xda, 0xc, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x1434);
        EXPECT(gbc.pc(), 0x5d41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 028F
        gbc.setState(0x61e0, 0x8b13, 0x91b0, 0x47cd, 0x2a57, 0x5170, 0x1, 0x1);
        gbc.writeMem(0x61e0, { 0xda, 0xd1, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x8b13);
        EXPECT(gbc.pc(), 0x15d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0290
        gbc.setState(0x1dc0, 0xc9ca, 0x22a0, 0x5994, 0xa8a4, 0x59ba, 0x1, 0x0);
        gbc.writeMem(0x1dc0, { 0xda, 0x51, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xc9ca);
        EXPECT(gbc.pc(), 0x1dc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0291
        gbc.setState(0x280d, 0x5d37, 0xb8e0, 0xaf4a, 0xf8e3, 0x3319, 0x0, 0x0);
        gbc.writeMem(0x280d, { 0xda, 0x4f, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x5d37);
        EXPECT(gbc.pc(), 0x2810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0292
        gbc.setState(0xa740, 0x57ca, 0x23d0, 0x3469, 0x83a4, 0xa514, 0x0, 0x1);
        gbc.writeMem(0xa740, { 0xda, 0xcb, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x57ca);
        EXPECT(gbc.pc(), 0xf7cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa740), 0xda);
        EXPECT(gbc.readMem(0xa741), 0xcb);
        EXPECT(gbc.readMem(0xa742), 0xf7);
        // DA 0293
        gbc.setState(0x64d2, 0x3204, 0xbe10, 0xd62c, 0xd303, 0x964c, 0x0, 0x1);
        gbc.writeMem(0x64d2, { 0xda, 0x2c, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x3204);
        EXPECT(gbc.pc(), 0x2a2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0294
        gbc.setState(0x5ed9, 0xf871, 0x6990, 0x47c8, 0x95a4, 0x2a59, 0x0, 0x0);
        gbc.writeMem(0x5ed9, { 0xda, 0x31, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xf871);
        EXPECT(gbc.pc(), 0x4631);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0295
        gbc.setState(0x4fbe, 0xe70f, 0xe2c0, 0x31c9, 0xbca7, 0xa801, 0x1, 0x0);
        gbc.writeMem(0x4fbe, { 0xda, 0x2e, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xe70f);
        EXPECT(gbc.pc(), 0x4fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0296
        gbc.setState(0x6670, 0xfdf3, 0x4bf0, 0x5f77, 0x331b, 0x9818, 0x1, 0x1);
        gbc.writeMem(0x6670, { 0xda, 0x18, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xfdf3);
        EXPECT(gbc.pc(), 0x1518);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0297
        gbc.setState(0x85a2, 0xbb7c, 0xe300, 0x9e31, 0x45fc, 0x73d0, 0x1, 0x1);
        gbc.writeMem(0x85a2, { 0xda, 0x71, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbb7c);
        EXPECT(gbc.pc(), 0x85a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85a2), 0xda);
        EXPECT(gbc.readMem(0x85a3), 0x71);
        EXPECT(gbc.readMem(0x85a4), 0x1b);
        // DA 0298
        gbc.setState(0x511a, 0x1d6c, 0xc2b0, 0xb8ae, 0x9cd9, 0x38ff, 0x0, 0x1);
        gbc.writeMem(0x511a, { 0xda, 0x49, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x1d6c);
        EXPECT(gbc.pc(), 0xde49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0299
        gbc.setState(0x7905, 0x3801, 0x9fb0, 0x9f70, 0x4c3c, 0x1485, 0x1, 0x0);
        gbc.writeMem(0x7905, { 0xda, 0xae, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x3801);
        EXPECT(gbc.pc(), 0xe2ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 029A
        gbc.setState(0x1a50, 0x4d8d, 0x69e0, 0xeeff, 0xfdbe, 0xdd87, 0x0, 0x1);
        gbc.writeMem(0x1a50, { 0xda, 0xad, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x4d8d);
        EXPECT(gbc.pc(), 0x1a53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 029B
        gbc.setState(0x3ffc, 0x2ae0, 0x7d0, 0x8781, 0x5b0c, 0x351a, 0x0, 0x0);
        gbc.writeMem(0x3ffc, { 0xda, 0x8a, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x2ae0);
        EXPECT(gbc.pc(), 0xfe8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 029C
        gbc.setState(0xa6d6, 0xb387, 0xa970, 0x52f4, 0x4163, 0x6bcc, 0x0, 0x1);
        gbc.writeMem(0xa6d6, { 0xda, 0x58, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb387);
        EXPECT(gbc.pc(), 0x1458);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6d6), 0xda);
        EXPECT(gbc.readMem(0xa6d7), 0x58);
        EXPECT(gbc.readMem(0xa6d8), 0x14);
        // DA 029D
        gbc.setState(0xda34, 0x90da, 0x4500, 0xae13, 0x63fc, 0x3fdc, 0x0, 0x0);
        gbc.writeMem(0xda34, { 0xda, 0x57, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x90da);
        EXPECT(gbc.pc(), 0xda37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda34), 0xda);
        EXPECT(gbc.readMem(0xda35), 0x57);
        EXPECT(gbc.readMem(0xda36), 0xb);
        // DA 029E
        gbc.setState(0x4a39, 0x2c97, 0x85e0, 0x97e7, 0x279c, 0xa880, 0x1, 0x0);
        gbc.writeMem(0x4a39, { 0xda, 0xfd, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x2c97);
        EXPECT(gbc.pc(), 0x4a3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 029F
        gbc.setState(0xeee6, 0x9c33, 0xb510, 0x858b, 0x1632, 0x589, 0x0, 0x1);
        gbc.writeMem(0xeee6, { 0xda, 0x4c, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x9c33);
        EXPECT(gbc.pc(), 0xab4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeee6), 0xda);
        EXPECT(gbc.readMem(0xeee7), 0x4c);
        EXPECT(gbc.readMem(0xeee8), 0xab);
        // DA 02A0
        gbc.setState(0x27ef, 0x677c, 0x9c40, 0xbf14, 0xadfb, 0xd7eb, 0x1, 0x0);
        gbc.writeMem(0x27ef, { 0xda, 0x30, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x677c);
        EXPECT(gbc.pc(), 0x27f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02A1
        gbc.setState(0x4b29, 0xfd83, 0xd130, 0x8bc4, 0x8a0c, 0x4139, 0x0, 0x0);
        gbc.writeMem(0x4b29, { 0xda, 0xf7, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xfd83);
        EXPECT(gbc.pc(), 0xfaf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02A2
        gbc.setState(0x4f6f, 0x80b4, 0x25c0, 0x3520, 0x5858, 0x49cf, 0x0, 0x1);
        gbc.writeMem(0x4f6f, { 0xda, 0x72, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x80b4);
        EXPECT(gbc.pc(), 0x4f72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02A3
        gbc.setState(0x6dd0, 0x998b, 0x70a0, 0x9ec1, 0xea92, 0xef10, 0x1, 0x0);
        gbc.writeMem(0x6dd0, { 0xda, 0x73, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x998b);
        EXPECT(gbc.pc(), 0x6dd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02A4
        gbc.setState(0x50e9, 0x201b, 0x21f0, 0xb8f1, 0x2e50, 0x52da, 0x1, 0x1);
        gbc.writeMem(0x50e9, { 0xda, 0xb8, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x201b);
        EXPECT(gbc.pc(), 0x74b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02A5
        gbc.setState(0x7e34, 0xc11f, 0x7940, 0xe921, 0x4edf, 0x297a, 0x0, 0x1);
        gbc.writeMem(0x7e34, { 0xda, 0x5d, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xc11f);
        EXPECT(gbc.pc(), 0x7e37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02A6
        gbc.setState(0x2dae, 0x7009, 0x6fb0, 0x708f, 0x50ab, 0x4d41, 0x0, 0x0);
        gbc.writeMem(0x2dae, { 0xda, 0xda, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7009);
        EXPECT(gbc.pc(), 0xd6da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02A7
        gbc.setState(0x12c4, 0x360e, 0xa120, 0x75c6, 0x12a9, 0xa8f5, 0x0, 0x1);
        gbc.writeMem(0x12c4, { 0xda, 0xe8, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x360e);
        EXPECT(gbc.pc(), 0x12c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02A8
        gbc.setState(0xb692, 0xacb4, 0x9b10, 0xfea3, 0xf97d, 0x3115, 0x1, 0x1);
        gbc.writeMem(0xb692, { 0xda, 0x29, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xacb4);
        EXPECT(gbc.pc(), 0xb029);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb692), 0xda);
        EXPECT(gbc.readMem(0xb693), 0x29);
        EXPECT(gbc.readMem(0xb694), 0xb0);
        // DA 02A9
        gbc.setState(0x532, 0xfee0, 0xf620, 0xcd72, 0x9c17, 0x2e8b, 0x1, 0x0);
        gbc.writeMem(0x532, { 0xda, 0xd0, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xfee0);
        EXPECT(gbc.pc(), 0x535);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02AA
        gbc.setState(0x325c, 0xfd39, 0x1db0, 0xb149, 0x4553, 0xa946, 0x1, 0x1);
        gbc.writeMem(0x325c, { 0xda, 0x12, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xfd39);
        EXPECT(gbc.pc(), 0x7c12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02AB
        gbc.setState(0x9172, 0x319f, 0x8e10, 0xdc06, 0x7396, 0x88cf, 0x1, 0x0);
        gbc.writeMem(0x9172, { 0xda, 0x32, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x319f);
        EXPECT(gbc.pc(), 0xa432);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9172), 0xda);
        EXPECT(gbc.readMem(0x9173), 0x32);
        EXPECT(gbc.readMem(0x9174), 0xa4);
        // DA 02AC
        gbc.setState(0x3a90, 0x9448, 0x9710, 0xc0b0, 0x88e0, 0xcab, 0x0, 0x1);
        gbc.writeMem(0x3a90, { 0xda, 0xda, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x9448);
        EXPECT(gbc.pc(), 0xcdda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02AD
        gbc.setState(0x8952, 0x97a, 0xb050, 0x53e6, 0xc058, 0x458e, 0x0, 0x0);
        gbc.writeMem(0x8952, { 0xda, 0x3e, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x97a);
        EXPECT(gbc.pc(), 0xf93e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8952), 0xda);
        EXPECT(gbc.readMem(0x8953), 0x3e);
        EXPECT(gbc.readMem(0x8954), 0xf9);
        // DA 02AE
        gbc.setState(0x5d2e, 0x2430, 0x7b40, 0x7c75, 0x983a, 0x366b, 0x0, 0x1);
        gbc.writeMem(0x5d2e, { 0xda, 0xc7, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2430);
        EXPECT(gbc.pc(), 0x5d31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02AF
        gbc.setState(0xc7c5, 0x392b, 0x1a00, 0xf54a, 0x94f, 0x8aa5, 0x1, 0x1);
        gbc.writeMem(0xc7c5, { 0xda, 0x77, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x392b);
        EXPECT(gbc.pc(), 0xc7c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7c5), 0xda);
        EXPECT(gbc.readMem(0xc7c6), 0x77);
        EXPECT(gbc.readMem(0xc7c7), 0xd1);
        // DA 02B0
        gbc.setState(0x55c7, 0xe668, 0x1250, 0xb, 0xafe6, 0xf447, 0x1, 0x1);
        gbc.writeMem(0x55c7, { 0xda, 0x68, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe668);
        EXPECT(gbc.pc(), 0xd168);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02B1
        gbc.setState(0xe604, 0xe3ce, 0x7ab0, 0xd312, 0x3a09, 0xe6fc, 0x0, 0x0);
        gbc.writeMem(0xe604, { 0xda, 0x79, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xe3ce);
        EXPECT(gbc.pc(), 0xb079);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe604), 0xda);
        EXPECT(gbc.readMem(0xe605), 0x79);
        EXPECT(gbc.readMem(0xe606), 0xb0);
        // DA 02B2
        gbc.setState(0x9897, 0xbdf8, 0xd720, 0x2053, 0xb4e1, 0x7d2d, 0x0, 0x0);
        gbc.writeMem(0x9897, { 0xda, 0xb3, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xbdf8);
        EXPECT(gbc.pc(), 0x989a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9897), 0xda);
        EXPECT(gbc.readMem(0x9898), 0xb3);
        EXPECT(gbc.readMem(0x9899), 0x17);
        // DA 02B3
        gbc.setState(0x30f8, 0xab9c, 0x2e50, 0xcd45, 0x5d04, 0x3dfa, 0x0, 0x1);
        gbc.writeMem(0x30f8, { 0xda, 0x1e, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xab9c);
        EXPECT(gbc.pc(), 0x771e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02B4
        gbc.setState(0x36ef, 0xd046, 0x7c60, 0x82af, 0xfdca, 0x11dc, 0x1, 0x1);
        gbc.writeMem(0x36ef, { 0xda, 0xc9, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xd046);
        EXPECT(gbc.pc(), 0x36f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02B5
        gbc.setState(0xcc9, 0x18e, 0x1680, 0xa57b, 0x445, 0x8b1f, 0x1, 0x0);
        gbc.writeMem(0xcc9, { 0xda, 0x8e, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x18e);
        EXPECT(gbc.pc(), 0xccc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02B6
        gbc.setState(0xd685, 0xf79e, 0x4c60, 0xfb5a, 0x8d15, 0x8314, 0x0, 0x0);
        gbc.writeMem(0xd685, { 0xda, 0x2c, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf79e);
        EXPECT(gbc.pc(), 0xd688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd685), 0xda);
        EXPECT(gbc.readMem(0xd686), 0x2c);
        EXPECT(gbc.readMem(0xd687), 0x14);
        // DA 02B7
        gbc.setState(0x920a, 0xf8a6, 0xd700, 0x87a7, 0xdc7c, 0x3536, 0x1, 0x1);
        gbc.writeMem(0x920a, { 0xda, 0xb4, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf8a6);
        EXPECT(gbc.pc(), 0x920d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x920a), 0xda);
        EXPECT(gbc.readMem(0x920b), 0xb4);
        EXPECT(gbc.readMem(0x920c), 0x20);
        // DA 02B8
        gbc.setState(0xbe13, 0x3e4c, 0xee30, 0xe928, 0xfd75, 0xb36e, 0x0, 0x1);
        gbc.writeMem(0xbe13, { 0xda, 0xb2, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3e4c);
        EXPECT(gbc.pc(), 0x23b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe13), 0xda);
        EXPECT(gbc.readMem(0xbe14), 0xb2);
        EXPECT(gbc.readMem(0xbe15), 0x23);
        // DA 02B9
        gbc.setState(0x4a2b, 0x248a, 0x6ab0, 0x182d, 0xff22, 0xbaa0, 0x0, 0x0);
        gbc.writeMem(0x4a2b, { 0xda, 0x69, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x248a);
        EXPECT(gbc.pc(), 0xf69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02BA
        gbc.setState(0x5d2e, 0x2007, 0xeca0, 0xca96, 0x410d, 0x827b, 0x1, 0x1);
        gbc.writeMem(0x5d2e, { 0xda, 0xc7, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x2007);
        EXPECT(gbc.pc(), 0x5d31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02BB
        gbc.setState(0xa98a, 0xafd2, 0x5930, 0x24cd, 0x97fa, 0x3198, 0x1, 0x1);
        gbc.writeMem(0xa98a, { 0xda, 0x59, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xafd2);
        EXPECT(gbc.pc(), 0x5459);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa98a), 0xda);
        EXPECT(gbc.readMem(0xa98b), 0x59);
        EXPECT(gbc.readMem(0xa98c), 0x54);
        // DA 02BC
        gbc.setState(0x5d01, 0x690a, 0xc800, 0x2e3b, 0x1f9f, 0x655d, 0x0, 0x0);
        gbc.writeMem(0x5d01, { 0xda, 0x4c, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x690a);
        EXPECT(gbc.pc(), 0x5d04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02BD
        gbc.setState(0xa867, 0xb062, 0x7bf0, 0xe479, 0x73bd, 0xdcff, 0x1, 0x1);
        gbc.writeMem(0xa867, { 0xda, 0x8d, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xb062);
        EXPECT(gbc.pc(), 0x788d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa867), 0xda);
        EXPECT(gbc.readMem(0xa868), 0x8d);
        EXPECT(gbc.readMem(0xa869), 0x78);
        // DA 02BE
        gbc.setState(0x52c3, 0x9a87, 0x1640, 0xf576, 0xc9d9, 0xf7f3, 0x0, 0x0);
        gbc.writeMem(0x52c3, { 0xda, 0xc6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x9a87);
        EXPECT(gbc.pc(), 0x52c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02BF
        gbc.setState(0xaea3, 0x9e95, 0xc240, 0xe89a, 0x5814, 0x8565, 0x1, 0x1);
        gbc.writeMem(0xaea3, { 0xda, 0xb5, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9e95);
        EXPECT(gbc.pc(), 0xaea6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaea3), 0xda);
        EXPECT(gbc.readMem(0xaea4), 0xb5);
        EXPECT(gbc.readMem(0xaea5), 0x91);
        // DA 02C0
        gbc.setState(0xd412, 0xeeb3, 0xa710, 0x49f6, 0x72e0, 0xdbff, 0x1, 0x1);
        gbc.writeMem(0xd412, { 0xda, 0x52, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xeeb3);
        EXPECT(gbc.pc(), 0x152);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd412), 0xda);
        EXPECT(gbc.readMem(0xd413), 0x52);
        EXPECT(gbc.readMem(0xd414), 0x1);
        // DA 02C1
        gbc.setState(0x4295, 0xb70b, 0x73c0, 0x947b, 0xc817, 0xab24, 0x1, 0x0);
        gbc.writeMem(0x4295, { 0xda, 0xf, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb70b);
        EXPECT(gbc.pc(), 0x4298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02C2
        gbc.setState(0x91d8, 0xf00, 0x2b30, 0x24c4, 0xf770, 0xf7a8, 0x1, 0x0);
        gbc.writeMem(0x91d8, { 0xda, 0x17, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf00);
        EXPECT(gbc.pc(), 0xdb17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91d8), 0xda);
        EXPECT(gbc.readMem(0x91d9), 0x17);
        EXPECT(gbc.readMem(0x91da), 0xdb);
        // DA 02C3
        gbc.setState(0xe309, 0x6876, 0xfca0, 0xa474, 0x669, 0xb78c, 0x1, 0x1);
        gbc.writeMem(0xe309, { 0xda, 0x97, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x6876);
        EXPECT(gbc.pc(), 0xe30c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe309), 0xda);
        EXPECT(gbc.readMem(0xe30a), 0x97);
        EXPECT(gbc.readMem(0xe30b), 0xcc);
        // DA 02C4
        gbc.setState(0x6fc, 0xc0f4, 0xeab0, 0x1b04, 0xe3c9, 0xa458, 0x0, 0x1);
        gbc.writeMem(0x6fc, { 0xda, 0x14, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xc0f4);
        EXPECT(gbc.pc(), 0x6714);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02C5
        gbc.setState(0x9c8, 0xb038, 0x8f10, 0x9159, 0x3811, 0x13ff, 0x1, 0x1);
        gbc.writeMem(0x9c8, { 0xda, 0x27, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xb038);
        EXPECT(gbc.pc(), 0xff27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02C6
        gbc.setState(0xa60b, 0x3660, 0x8150, 0x4ee7, 0x8fe4, 0x837c, 0x0, 0x1);
        gbc.writeMem(0xa60b, { 0xda, 0x9a, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x3660);
        EXPECT(gbc.pc(), 0xf79a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa60b), 0xda);
        EXPECT(gbc.readMem(0xa60c), 0x9a);
        EXPECT(gbc.readMem(0xa60d), 0xf7);
        // DA 02C7
        gbc.setState(0x3470, 0xe7a5, 0x9ee0, 0x8496, 0xf5a8, 0xdb5f, 0x0, 0x0);
        gbc.writeMem(0x3470, { 0xda, 0x88, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xe7a5);
        EXPECT(gbc.pc(), 0x3473);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02C8
        gbc.setState(0xe66f, 0xf14, 0xb130, 0x9cf1, 0xf584, 0x22cb, 0x0, 0x0);
        gbc.writeMem(0xe66f, { 0xda, 0x49, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf14);
        EXPECT(gbc.pc(), 0x4d49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe66f), 0xda);
        EXPECT(gbc.readMem(0xe670), 0x49);
        EXPECT(gbc.readMem(0xe671), 0x4d);
        // DA 02C9
        gbc.setState(0x2e90, 0x4e34, 0xeb0, 0x97cf, 0x6420, 0x551, 0x1, 0x1);
        gbc.writeMem(0x2e90, { 0xda, 0xc3, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4e34);
        EXPECT(gbc.pc(), 0x32c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02CA
        gbc.setState(0x8e0f, 0xe8a9, 0x4060, 0x595b, 0xaa64, 0xa402, 0x1, 0x1);
        gbc.writeMem(0x8e0f, { 0xda, 0xd6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe8a9);
        EXPECT(gbc.pc(), 0x8e12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e0f), 0xda);
        EXPECT(gbc.readMem(0x8e10), 0xd6);
        EXPECT(gbc.readMem(0x8e11), 0x53);
        // DA 02CC
        gbc.setState(0xb593, 0x2bd6, 0x26c0, 0x3ec5, 0x378f, 0x6d19, 0x0, 0x0);
        gbc.writeMem(0xb593, { 0xda, 0xdb, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2bd6);
        EXPECT(gbc.pc(), 0xb596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb593), 0xda);
        EXPECT(gbc.readMem(0xb594), 0xdb);
        EXPECT(gbc.readMem(0xb595), 0xcf);
        // DA 02CD
        gbc.setState(0x372a, 0x7db5, 0x67e0, 0x77ea, 0xca9, 0xdb83, 0x0, 0x1);
        gbc.writeMem(0x372a, { 0xda, 0xe6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7db5);
        EXPECT(gbc.pc(), 0x372d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02CE
        gbc.setState(0x3ef1, 0x692e, 0xb470, 0xa0f5, 0xd76c, 0xbca5, 0x0, 0x1);
        gbc.writeMem(0x3ef1, { 0xda, 0xfe, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x692e);
        EXPECT(gbc.pc(), 0xa6fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02CF
        gbc.setState(0x1ee2, 0xef9f, 0x6a20, 0xf44b, 0x8ae6, 0x8ab8, 0x1, 0x1);
        gbc.writeMem(0x1ee2, { 0xda, 0x9c, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xef9f);
        EXPECT(gbc.pc(), 0x1ee5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02D0
        gbc.setState(0x86ed, 0x288f, 0x86e0, 0xa0d0, 0xd676, 0x929c, 0x0, 0x1);
        gbc.writeMem(0x86ed, { 0xda, 0x59, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x288f);
        EXPECT(gbc.pc(), 0x86f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86ed), 0xda);
        EXPECT(gbc.readMem(0x86ee), 0x59);
        EXPECT(gbc.readMem(0x86ef), 0x89);
        // DA 02D1
        gbc.setState(0xc499, 0xcacf, 0xc2e0, 0x8d00, 0xa11e, 0x72be, 0x0, 0x0);
        gbc.writeMem(0xc499, { 0xda, 0xb5, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xcacf);
        EXPECT(gbc.pc(), 0xc49c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc499), 0xda);
        EXPECT(gbc.readMem(0xc49a), 0xb5);
        EXPECT(gbc.readMem(0xc49b), 0xaf);
        // DA 02D2
        gbc.setState(0x7d47, 0x4d43, 0x8f0, 0x25b0, 0x79f9, 0xa1f3, 0x0, 0x0);
        gbc.writeMem(0x7d47, { 0xda, 0xca, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4d43);
        EXPECT(gbc.pc(), 0x3cca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02D3
        gbc.setState(0xb0cd, 0x771d, 0xa4c0, 0x6de6, 0x3ff1, 0xfae3, 0x1, 0x0);
        gbc.writeMem(0xb0cd, { 0xda, 0xf5, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x771d);
        EXPECT(gbc.pc(), 0xb0d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0cd), 0xda);
        EXPECT(gbc.readMem(0xb0ce), 0xf5);
        EXPECT(gbc.readMem(0xb0cf), 0xd7);
        // DA 02D4
        gbc.setState(0x616e, 0x8de6, 0xad20, 0x816a, 0xcecf, 0xd693, 0x1, 0x0);
        gbc.writeMem(0x616e, { 0xda, 0x24, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8de6);
        EXPECT(gbc.pc(), 0x6171);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02D5
        gbc.setState(0x22f3, 0xdce9, 0xf4b0, 0x8f5f, 0x54d0, 0x4cf6, 0x1, 0x0);
        gbc.writeMem(0x22f3, { 0xda, 0x6a, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xdce9);
        EXPECT(gbc.pc(), 0xaa6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02D6
        gbc.setState(0x86b8, 0x3ce4, 0x4580, 0x8a90, 0xa631, 0xcfed, 0x0, 0x1);
        gbc.writeMem(0x86b8, { 0xda, 0x65, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x3ce4);
        EXPECT(gbc.pc(), 0x86bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86b8), 0xda);
        EXPECT(gbc.readMem(0x86b9), 0x65);
        EXPECT(gbc.readMem(0x86ba), 0xf4);
        // DA 02D7
        gbc.setState(0xa46f, 0x2e1b, 0xc40, 0xb687, 0x89c1, 0xf708, 0x0, 0x0);
        gbc.writeMem(0xa46f, { 0xda, 0xdc, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2e1b);
        EXPECT(gbc.pc(), 0xa472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa46f), 0xda);
        EXPECT(gbc.readMem(0xa470), 0xdc);
        EXPECT(gbc.readMem(0xa471), 0x21);
        // DA 02D8
        gbc.setState(0xcccb, 0x3ae9, 0xfda0, 0x80de, 0x43cb, 0x14c5, 0x1, 0x0);
        gbc.writeMem(0xcccb, { 0xda, 0x94, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3ae9);
        EXPECT(gbc.pc(), 0xccce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcccb), 0xda);
        EXPECT(gbc.readMem(0xcccc), 0x94);
        EXPECT(gbc.readMem(0xcccd), 0x27);
        // DA 02D9
        gbc.setState(0x2c25, 0xce55, 0xb6d0, 0x9015, 0xf441, 0x3986, 0x1, 0x0);
        gbc.writeMem(0x2c25, { 0xda, 0x5a, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xce55);
        EXPECT(gbc.pc(), 0xc75a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02DA
        gbc.setState(0x4534, 0x4f2d, 0xc540, 0xd103, 0xd4e5, 0xf96b, 0x0, 0x1);
        gbc.writeMem(0x4534, { 0xda, 0x5b, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x4f2d);
        EXPECT(gbc.pc(), 0x4537);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02DB
        gbc.setState(0x3507, 0x6ba4, 0xd40, 0x1330, 0xd59e, 0x385a, 0x0, 0x0);
        gbc.writeMem(0x3507, { 0xda, 0x6e, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x6ba4);
        EXPECT(gbc.pc(), 0x350a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02DC
        gbc.setState(0x87ae, 0x35b1, 0x9a30, 0x151, 0xe7fb, 0x886e, 0x0, 0x1);
        gbc.writeMem(0x87ae, { 0xda, 0x84, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x35b1);
        EXPECT(gbc.pc(), 0xa584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87ae), 0xda);
        EXPECT(gbc.readMem(0x87af), 0x84);
        EXPECT(gbc.readMem(0x87b0), 0xa5);
        // DA 02DD
        gbc.setState(0x10bb, 0x5f5f, 0x750, 0xce0e, 0x1876, 0xc485, 0x1, 0x0);
        gbc.writeMem(0x10bb, { 0xda, 0x4b, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5f5f);
        EXPECT(gbc.pc(), 0x944b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02DE
        gbc.setState(0x1a9d, 0x3bf4, 0x42f0, 0x4c7c, 0xf4ca, 0x3f8a, 0x0, 0x1);
        gbc.writeMem(0x1a9d, { 0xda, 0x2c, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3bf4);
        EXPECT(gbc.pc(), 0x132c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02DF
        gbc.setState(0x4386, 0x2bb3, 0x1b40, 0xad37, 0xcd92, 0x455b, 0x1, 0x1);
        gbc.writeMem(0x4386, { 0xda, 0x4, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2bb3);
        EXPECT(gbc.pc(), 0x4389);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02E0
        gbc.setState(0xa782, 0xc041, 0x39b0, 0x1416, 0x371c, 0x96e3, 0x0, 0x0);
        gbc.writeMem(0xa782, { 0xda, 0xd6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc041);
        EXPECT(gbc.pc(), 0x81d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa782), 0xda);
        EXPECT(gbc.readMem(0xa783), 0xd6);
        EXPECT(gbc.readMem(0xa784), 0x81);
        // DA 02E1
        gbc.setState(0x4b90, 0x9374, 0x4f30, 0x4e06, 0x2cf2, 0xa902, 0x1, 0x1);
        gbc.writeMem(0x4b90, { 0xda, 0x78, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x9374);
        EXPECT(gbc.pc(), 0x1978);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02E2
        gbc.setState(0x11ce, 0x60ae, 0xf470, 0x792a, 0x2ab8, 0xb295, 0x1, 0x1);
        gbc.writeMem(0x11ce, { 0xda, 0xb7, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x60ae);
        EXPECT(gbc.pc(), 0x58b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02E3
        gbc.setState(0x5f1e, 0x77b, 0x2f00, 0x4bea, 0xb04c, 0xa3c1, 0x0, 0x1);
        gbc.writeMem(0x5f1e, { 0xda, 0x5b, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x77b);
        EXPECT(gbc.pc(), 0x5f21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02E4
        gbc.setState(0x4644, 0xa51c, 0x8500, 0x70ed, 0x83ad, 0x9f5e, 0x1, 0x0);
        gbc.writeMem(0x4644, { 0xda, 0xad, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xa51c);
        EXPECT(gbc.pc(), 0x4647);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02E5
        gbc.setState(0xcc42, 0xd110, 0x8310, 0x2320, 0x301, 0xed44, 0x1, 0x0);
        gbc.writeMem(0xcc42, { 0xda, 0x7b, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xd110);
        EXPECT(gbc.pc(), 0xe67b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc42), 0xda);
        EXPECT(gbc.readMem(0xcc43), 0x7b);
        EXPECT(gbc.readMem(0xcc44), 0xe6);
        // DA 02E7
        gbc.setState(0x7208, 0xcb8a, 0xecd0, 0x6319, 0xd09b, 0xdbab, 0x0, 0x1);
        gbc.writeMem(0x7208, { 0xda, 0x11, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xcb8a);
        EXPECT(gbc.pc(), 0xf911);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02E8
        gbc.setState(0x6c04, 0xb0b7, 0x7cc0, 0xf469, 0x7f1f, 0x2ca7, 0x1, 0x0);
        gbc.writeMem(0x6c04, { 0xda, 0x49, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xb0b7);
        EXPECT(gbc.pc(), 0x6c07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02E9
        gbc.setState(0x64cf, 0xee44, 0x930, 0x6ad3, 0x8a55, 0xcc81, 0x1, 0x0);
        gbc.writeMem(0x64cf, { 0xda, 0x34, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xee44);
        EXPECT(gbc.pc(), 0xc134);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02EA
        gbc.setState(0x504b, 0x3ffd, 0x7e20, 0xa97a, 0xe6f2, 0xe4c3, 0x1, 0x1);
        gbc.writeMem(0x504b, { 0xda, 0xec, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x3ffd);
        EXPECT(gbc.pc(), 0x504e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02EB
        gbc.setState(0xee7c, 0x1c1d, 0xb330, 0x8a03, 0xf217, 0x3d4f, 0x1, 0x0);
        gbc.writeMem(0xee7c, { 0xda, 0x8d, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x1c1d);
        EXPECT(gbc.pc(), 0x1b8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee7c), 0xda);
        EXPECT(gbc.readMem(0xee7d), 0x8d);
        EXPECT(gbc.readMem(0xee7e), 0x1b);
        // DA 02EC
        gbc.setState(0x7f4c, 0x51c7, 0xaa00, 0x84e3, 0x9bb8, 0xc9a9, 0x1, 0x1);
        gbc.writeMem(0x7f4c, { 0xda, 0x55, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x51c7);
        EXPECT(gbc.pc(), 0x7f4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02ED
        gbc.setState(0x9892, 0x16cc, 0x7c00, 0xb302, 0x6cbb, 0xdd8, 0x1, 0x1);
        gbc.writeMem(0x9892, { 0xda, 0x69, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x16cc);
        EXPECT(gbc.pc(), 0x9895);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9892), 0xda);
        EXPECT(gbc.readMem(0x9893), 0x69);
        EXPECT(gbc.readMem(0x9894), 0x74);
        // DA 02EE
        gbc.setState(0xaa6a, 0x13cc, 0x7320, 0x5445, 0xdef5, 0x33c8, 0x1, 0x1);
        gbc.writeMem(0xaa6a, { 0xda, 0xac, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x13cc);
        EXPECT(gbc.pc(), 0xaa6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa6a), 0xda);
        EXPECT(gbc.readMem(0xaa6b), 0xac);
        EXPECT(gbc.readMem(0xaa6c), 0x48);
        // DA 02EF
        gbc.setState(0x37cb, 0x57f5, 0x7be0, 0xb9b0, 0x9b90, 0x464a, 0x0, 0x1);
        gbc.writeMem(0x37cb, { 0xda, 0x7e, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x57f5);
        EXPECT(gbc.pc(), 0x37ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02F0
        gbc.setState(0x3a3c, 0x287c, 0xf3c0, 0x6191, 0xa7d7, 0xcedb, 0x1, 0x0);
        gbc.writeMem(0x3a3c, { 0xda, 0xc9, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x287c);
        EXPECT(gbc.pc(), 0x3a3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 02F1
        gbc.setState(0xd415, 0xd6da, 0xd0, 0x75ab, 0x9ab6, 0x3dc2, 0x0, 0x1);
        gbc.writeMem(0xd415, { 0xda, 0x5a, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd6da);
        EXPECT(gbc.pc(), 0xa5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd415), 0xda);
        EXPECT(gbc.readMem(0xd416), 0x5a);
        EXPECT(gbc.readMem(0xd417), 0xa);
        // DA 02F2
        gbc.setState(0xa804, 0x4516, 0x1450, 0x2a42, 0xdb18, 0xeff5, 0x1, 0x0);
        gbc.writeMem(0xa804, { 0xda, 0x1e, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4516);
        EXPECT(gbc.pc(), 0x9a1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa804), 0xda);
        EXPECT(gbc.readMem(0xa805), 0x1e);
        EXPECT(gbc.readMem(0xa806), 0x9a);
        // DA 02F3
        gbc.setState(0x8c13, 0x5c77, 0xa9d0, 0xff1b, 0x60da, 0xa22f, 0x1, 0x1);
        gbc.writeMem(0x8c13, { 0xda, 0x3a, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5c77);
        EXPECT(gbc.pc(), 0x143a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c13), 0xda);
        EXPECT(gbc.readMem(0x8c14), 0x3a);
        EXPECT(gbc.readMem(0x8c15), 0x14);
        // DA 02F4
        gbc.setState(0x32f2, 0x2c29, 0x84f0, 0xb02b, 0x3f04, 0x737f, 0x1, 0x1);
        gbc.writeMem(0x32f2, { 0xda, 0x52, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2c29);
        EXPECT(gbc.pc(), 0xc452);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02F5
        gbc.setState(0x2c6, 0xbf5a, 0x9af0, 0xa7b6, 0xcb54, 0x5561, 0x1, 0x1);
        gbc.writeMem(0x2c6, { 0xda, 0x6b, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xbf5a);
        EXPECT(gbc.pc(), 0xcd6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02F6
        gbc.setState(0x5f9, 0x999, 0xa820, 0x54a3, 0x9e37, 0x7dc0, 0x1, 0x0);
        gbc.writeMem(0x5f9, { 0xda, 0x9d, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x999);
        EXPECT(gbc.pc(), 0x5fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02F7
        gbc.setState(0x3233, 0xfe6b, 0xe8a0, 0xb38, 0x399a, 0xd63a, 0x1, 0x0);
        gbc.writeMem(0x3233, { 0xda, 0x3d, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xfe6b);
        EXPECT(gbc.pc(), 0x3236);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02F8
        gbc.setState(0x5040, 0x860b, 0xd7f0, 0xa3ee, 0x719b, 0xd2ab, 0x0, 0x0);
        gbc.writeMem(0x5040, { 0xda, 0xbe, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x860b);
        EXPECT(gbc.pc(), 0xfebe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 02F9
        gbc.setState(0x7871, 0x2d10, 0x3910, 0xb203, 0xedfa, 0x8fe1, 0x1, 0x1);
        gbc.writeMem(0x7871, { 0xda, 0x7c, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2d10);
        EXPECT(gbc.pc(), 0xc97c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02FA
        gbc.setState(0x5e2f, 0xb9f6, 0x2a20, 0x92dd, 0xc48a, 0x21b2, 0x0, 0x0);
        gbc.writeMem(0x5e2f, { 0xda, 0xc1, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb9f6);
        EXPECT(gbc.pc(), 0x5e32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02FB
        gbc.setState(0xddc2, 0x4def, 0x57f0, 0x5cf7, 0x36d5, 0xa409, 0x1, 0x0);
        gbc.writeMem(0xddc2, { 0xda, 0x3f, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4def);
        EXPECT(gbc.pc(), 0xb43f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddc2), 0xda);
        EXPECT(gbc.readMem(0xddc3), 0x3f);
        EXPECT(gbc.readMem(0xddc4), 0xb4);
        // DA 02FC
        gbc.setState(0x68e1, 0xe8d1, 0x28e0, 0x548, 0x2077, 0x7e5f, 0x1, 0x1);
        gbc.writeMem(0x68e1, { 0xda, 0x8e, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xe8d1);
        EXPECT(gbc.pc(), 0x68e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 02FD
        gbc.setState(0xba8f, 0xb7da, 0xb0, 0x1834, 0xb66c, 0x9771, 0x0, 0x1);
        gbc.writeMem(0xba8f, { 0xda, 0xf0, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb7da);
        EXPECT(gbc.pc(), 0x16f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba8f), 0xda);
        EXPECT(gbc.readMem(0xba90), 0xf0);
        EXPECT(gbc.readMem(0xba91), 0x16);
        // DA 02FE
        gbc.setState(0x702a, 0x2867, 0x9d10, 0x8c7, 0xf4c5, 0x937f, 0x0, 0x1);
        gbc.writeMem(0x702a, { 0xda, 0x4c, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2867);
        EXPECT(gbc.pc(), 0x464c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 02FF
        gbc.setState(0x4613, 0xe6e, 0x42a0, 0x5c61, 0x67d7, 0x82c7, 0x1, 0x0);
        gbc.writeMem(0x4613, { 0xda, 0x0, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xe6e);
        EXPECT(gbc.pc(), 0x4616);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0300
        gbc.setState(0xc6d4, 0xaea2, 0xc110, 0xced3, 0xfb79, 0xb4ab, 0x0, 0x0);
        gbc.writeMem(0xc6d4, { 0xda, 0xed, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xaea2);
        EXPECT(gbc.pc(), 0x62ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6d4), 0xda);
        EXPECT(gbc.readMem(0xc6d5), 0xed);
        EXPECT(gbc.readMem(0xc6d6), 0x62);
        // DA 0301
        gbc.setState(0x93cf, 0x1bdf, 0x75e0, 0x1fce, 0x1ce8, 0x797b, 0x1, 0x0);
        gbc.writeMem(0x93cf, { 0xda, 0x81, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1bdf);
        EXPECT(gbc.pc(), 0x93d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93cf), 0xda);
        EXPECT(gbc.readMem(0x93d0), 0x81);
        EXPECT(gbc.readMem(0x93d1), 0xe4);
        // DA 0302
        gbc.setState(0x44dd, 0xa3b5, 0x74c0, 0xac28, 0x20db, 0xd094, 0x1, 0x0);
        gbc.writeMem(0x44dd, { 0xda, 0x91, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa3b5);
        EXPECT(gbc.pc(), 0x44e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0303
        gbc.setState(0xdb5e, 0x5cad, 0x8510, 0xe0be, 0x65af, 0xbb7b, 0x1, 0x1);
        gbc.writeMem(0xdb5e, { 0xda, 0xea, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x5cad);
        EXPECT(gbc.pc(), 0xdeea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb5e), 0xda);
        EXPECT(gbc.readMem(0xdb5f), 0xea);
        EXPECT(gbc.readMem(0xdb60), 0xde);
        // DA 0304
        gbc.setState(0xb468, 0xca86, 0x8a10, 0xf75a, 0xe6ae, 0x8dfb, 0x1, 0x1);
        gbc.writeMem(0xb468, { 0xda, 0xfc, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xca86);
        EXPECT(gbc.pc(), 0x1ffc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb468), 0xda);
        EXPECT(gbc.readMem(0xb469), 0xfc);
        EXPECT(gbc.readMem(0xb46a), 0x1f);
        // DA 0305
        gbc.setState(0x935c, 0x51c1, 0x29e0, 0xdd43, 0xea65, 0x839f, 0x1, 0x0);
        gbc.writeMem(0x935c, { 0xda, 0xa7, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x51c1);
        EXPECT(gbc.pc(), 0x935f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x935c), 0xda);
        EXPECT(gbc.readMem(0x935d), 0xa7);
        EXPECT(gbc.readMem(0x935e), 0x6e);
        // DA 0306
        gbc.setState(0x86d6, 0x2e23, 0x9ae0, 0xe13e, 0x57b8, 0x6005, 0x0, 0x1);
        gbc.writeMem(0x86d6, { 0xda, 0xfe, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x2e23);
        EXPECT(gbc.pc(), 0x86d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86d6), 0xda);
        EXPECT(gbc.readMem(0x86d7), 0xfe);
        EXPECT(gbc.readMem(0x86d8), 0x9b);
        // DA 0307
        gbc.setState(0x3fe5, 0x7c8a, 0xd840, 0xf107, 0x21ad, 0x80de, 0x0, 0x1);
        gbc.writeMem(0x3fe5, { 0xda, 0x84, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x7c8a);
        EXPECT(gbc.pc(), 0x3fe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0308
        gbc.setState(0xad59, 0xce7a, 0x7660, 0x644a, 0x3ac3, 0x190c, 0x1, 0x0);
        gbc.writeMem(0xad59, { 0xda, 0x6f, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xce7a);
        EXPECT(gbc.pc(), 0xad5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad59), 0xda);
        EXPECT(gbc.readMem(0xad5a), 0x6f);
        EXPECT(gbc.readMem(0xad5b), 0xdb);
        // DA 0309
        gbc.setState(0x6213, 0x8551, 0xf950, 0x5290, 0xe665, 0x86f1, 0x0, 0x0);
        gbc.writeMem(0x6213, { 0xda, 0x5e, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x8551);
        EXPECT(gbc.pc(), 0x295e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 030A
        gbc.setState(0xa9b6, 0xd7e7, 0xcd30, 0x2afe, 0x3768, 0xdc41, 0x1, 0x0);
        gbc.writeMem(0xa9b6, { 0xda, 0xdf, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd7e7);
        EXPECT(gbc.pc(), 0xbadf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9b6), 0xda);
        EXPECT(gbc.readMem(0xa9b7), 0xdf);
        EXPECT(gbc.readMem(0xa9b8), 0xba);
        // DA 030B
        gbc.setState(0x634a, 0x7de, 0x8210, 0x48b6, 0x6876, 0x1453, 0x0, 0x1);
        gbc.writeMem(0x634a, { 0xda, 0x41, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7de);
        EXPECT(gbc.pc(), 0x4641);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 030C
        gbc.setState(0xd6e4, 0xffb, 0x3400, 0x4403, 0xcb5a, 0x5d9d, 0x1, 0x1);
        gbc.writeMem(0xd6e4, { 0xda, 0xca, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xffb);
        EXPECT(gbc.pc(), 0xd6e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6e4), 0xda);
        EXPECT(gbc.readMem(0xd6e5), 0xca);
        EXPECT(gbc.readMem(0xd6e6), 0x23);
        // DA 030D
        gbc.setState(0xea6b, 0x27f2, 0xa4d0, 0xee53, 0x2c2a, 0x4f38, 0x1, 0x0);
        gbc.writeMem(0xea6b, { 0xda, 0x63, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x27f2);
        EXPECT(gbc.pc(), 0x4a63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea6b), 0xda);
        EXPECT(gbc.readMem(0xea6c), 0x63);
        EXPECT(gbc.readMem(0xea6d), 0x4a);
        // DA 030E
        gbc.setState(0x2ca5, 0x1fb1, 0x10, 0xf3b8, 0x2219, 0xbebe, 0x1, 0x1);
        gbc.writeMem(0x2ca5, { 0xda, 0x8d, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1fb1);
        EXPECT(gbc.pc(), 0x8b8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 030F
        gbc.setState(0x7dfb, 0x39e9, 0xd4d0, 0x9dcc, 0x358b, 0xfc13, 0x1, 0x0);
        gbc.writeMem(0x7dfb, { 0xda, 0x6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x39e9);
        EXPECT(gbc.pc(), 0x9106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0310
        gbc.setState(0xda09, 0x8002, 0xe530, 0xb013, 0x382, 0xb0bb, 0x0, 0x1);
        gbc.writeMem(0xda09, { 0xda, 0xbb, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8002);
        EXPECT(gbc.pc(), 0x38bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda09), 0xda);
        EXPECT(gbc.readMem(0xda0a), 0xbb);
        EXPECT(gbc.readMem(0xda0b), 0x38);
        // DA 0311
        gbc.setState(0xd7cd, 0x2587, 0x48e0, 0x6427, 0xbf98, 0x97d3, 0x1, 0x1);
        gbc.writeMem(0xd7cd, { 0xda, 0x79, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x2587);
        EXPECT(gbc.pc(), 0xd7d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7cd), 0xda);
        EXPECT(gbc.readMem(0xd7ce), 0x79);
        EXPECT(gbc.readMem(0xd7cf), 0x24);
        // DA 0312
        gbc.setState(0xc855, 0xdc31, 0x5ed0, 0x9045, 0x1557, 0x2044, 0x0, 0x1);
        gbc.writeMem(0xc855, { 0xda, 0xe2, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdc31);
        EXPECT(gbc.pc(), 0x86e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc855), 0xda);
        EXPECT(gbc.readMem(0xc856), 0xe2);
        EXPECT(gbc.readMem(0xc857), 0x86);
        // DA 0313
        gbc.setState(0xedc5, 0xc87d, 0x7090, 0x196f, 0xfb3, 0xfbd0, 0x1, 0x1);
        gbc.writeMem(0xedc5, { 0xda, 0xab, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xc87d);
        EXPECT(gbc.pc(), 0x67ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedc5), 0xda);
        EXPECT(gbc.readMem(0xedc6), 0xab);
        EXPECT(gbc.readMem(0xedc7), 0x67);
        // DA 0314
        gbc.setState(0x397f, 0x7d09, 0x17b0, 0xa957, 0xb012, 0x6862, 0x0, 0x1);
        gbc.writeMem(0x397f, { 0xda, 0xe6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x7d09);
        EXPECT(gbc.pc(), 0x46e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0315
        gbc.setState(0x4961, 0xef4, 0x9fc0, 0xf09d, 0x8b09, 0x4bd8, 0x1, 0x0);
        gbc.writeMem(0x4961, { 0xda, 0x35, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xef4);
        EXPECT(gbc.pc(), 0x4964);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0316
        gbc.setState(0x983e, 0x8612, 0xd250, 0xb1ec, 0x6601, 0x28dd, 0x1, 0x1);
        gbc.writeMem(0x983e, { 0xda, 0xbc, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8612);
        EXPECT(gbc.pc(), 0x52bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x983e), 0xda);
        EXPECT(gbc.readMem(0x983f), 0xbc);
        EXPECT(gbc.readMem(0x9840), 0x52);
        // DA 0317
        gbc.setState(0x3a35, 0x4092, 0xbb70, 0x58a6, 0xf24d, 0xa12c, 0x1, 0x1);
        gbc.writeMem(0x3a35, { 0xda, 0x8e, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x4092);
        EXPECT(gbc.pc(), 0x1a8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0318
        gbc.setState(0x792c, 0x4940, 0x6320, 0xb223, 0x99ca, 0xdc7f, 0x1, 0x0);
        gbc.writeMem(0x792c, { 0xda, 0xce, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4940);
        EXPECT(gbc.pc(), 0x792f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0319
        gbc.setState(0x65c, 0x5a0c, 0xd710, 0xadfb, 0x9cf5, 0x7085, 0x0, 0x1);
        gbc.writeMem(0x65c, { 0xda, 0x1, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5a0c);
        EXPECT(gbc.pc(), 0x5c01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 031B
        gbc.setState(0x73a, 0xf079, 0xf3c0, 0x3acc, 0xbf94, 0xbd9a, 0x0, 0x0);
        gbc.writeMem(0x73a, { 0xda, 0x7a, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xf079);
        EXPECT(gbc.pc(), 0x73d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 031C
        gbc.setState(0x1779, 0xaade, 0x4510, 0xcd4f, 0x67d9, 0x3991, 0x0, 0x0);
        gbc.writeMem(0x1779, { 0xda, 0xe5, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xaade);
        EXPECT(gbc.pc(), 0xee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 031D
        gbc.setState(0x41d5, 0x3ac5, 0xd970, 0x9a11, 0x2fef, 0x6dda, 0x1, 0x1);
        gbc.writeMem(0x41d5, { 0xda, 0x71, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3ac5);
        EXPECT(gbc.pc(), 0xd071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 031E
        gbc.setState(0x9a46, 0x521b, 0x1880, 0x7615, 0x703a, 0xc9f1, 0x0, 0x1);
        gbc.writeMem(0x9a46, { 0xda, 0xb1, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x521b);
        EXPECT(gbc.pc(), 0x9a49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a46), 0xda);
        EXPECT(gbc.readMem(0x9a47), 0xb1);
        EXPECT(gbc.readMem(0x9a48), 0xa5);
        // DA 031F
        gbc.setState(0xe785, 0xcdbe, 0x9fa0, 0x9ed0, 0x6953, 0x8d8c, 0x0, 0x1);
        gbc.writeMem(0xe785, { 0xda, 0x30, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xcdbe);
        EXPECT(gbc.pc(), 0xe788);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe785), 0xda);
        EXPECT(gbc.readMem(0xe786), 0x30);
        EXPECT(gbc.readMem(0xe787), 0x8e);
        // DA 0320
        gbc.setState(0x9aca, 0x3907, 0x7d00, 0xb978, 0x3b04, 0x407a, 0x0, 0x0);
        gbc.writeMem(0x9aca, { 0xda, 0x5a, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x3907);
        EXPECT(gbc.pc(), 0x9acd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aca), 0xda);
        EXPECT(gbc.readMem(0x9acb), 0x5a);
        EXPECT(gbc.readMem(0x9acc), 0xf6);
        // DA 0321
        gbc.setState(0xe176, 0x5ba0, 0x2f80, 0xe91d, 0xac9f, 0xb128, 0x1, 0x1);
        gbc.writeMem(0xe176, { 0xda, 0x55, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x5ba0);
        EXPECT(gbc.pc(), 0xe179);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe176), 0xda);
        EXPECT(gbc.readMem(0xe177), 0x55);
        EXPECT(gbc.readMem(0xe178), 0x34);
        // DA 0322
        gbc.setState(0x7f54, 0xa45d, 0x6120, 0x5524, 0xe54e, 0xe404, 0x0, 0x1);
        gbc.writeMem(0x7f54, { 0xda, 0xe6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xa45d);
        EXPECT(gbc.pc(), 0x7f57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0323
        gbc.setState(0x5bae, 0x3e17, 0x3f70, 0x1663, 0x9625, 0x3046, 0x0, 0x0);
        gbc.writeMem(0x5bae, { 0xda, 0x4c, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x3e17);
        EXPECT(gbc.pc(), 0xb4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0324
        gbc.setState(0x951f, 0x611f, 0xa6e0, 0x11ca, 0xed77, 0x3b80, 0x0, 0x1);
        gbc.writeMem(0x951f, { 0xda, 0xfd, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x611f);
        EXPECT(gbc.pc(), 0x9522);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x951f), 0xda);
        EXPECT(gbc.readMem(0x9520), 0xfd);
        EXPECT(gbc.readMem(0x9521), 0xef);
        // DA 0325
        gbc.setState(0x3ab, 0xeef7, 0xfda0, 0x7af5, 0x66ef, 0xee7d, 0x1, 0x0);
        gbc.writeMem(0x3ab, { 0xda, 0x7c, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xeef7);
        EXPECT(gbc.pc(), 0x3ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0326
        gbc.setState(0xc951, 0xec45, 0xb790, 0x868f, 0xd870, 0xefe8, 0x1, 0x1);
        gbc.writeMem(0xc951, { 0xda, 0x4c, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xec45);
        EXPECT(gbc.pc(), 0x8e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc951), 0xda);
        EXPECT(gbc.readMem(0xc952), 0x4c);
        EXPECT(gbc.readMem(0xc953), 0x8e);
        // DA 0327
        gbc.setState(0x8052, 0xa8e, 0x300, 0xe7bd, 0x1775, 0x2836, 0x0, 0x1);
        gbc.writeMem(0x8052, { 0xda, 0xe3, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa8e);
        EXPECT(gbc.pc(), 0x8055);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8052), 0xda);
        EXPECT(gbc.readMem(0x8053), 0xe3);
        EXPECT(gbc.readMem(0x8054), 0x57);
        // DA 0328
        gbc.setState(0xc240, 0xd2fa, 0x5a0, 0x8095, 0x7941, 0xd860, 0x0, 0x0);
        gbc.writeMem(0xc240, { 0xda, 0x4d, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd2fa);
        EXPECT(gbc.pc(), 0xc243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc240), 0xda);
        EXPECT(gbc.readMem(0xc241), 0x4d);
        EXPECT(gbc.readMem(0xc242), 0xab);
        // DA 0329
        gbc.setState(0xaeae, 0x657d, 0x5230, 0xb32a, 0x15b9, 0x4449, 0x1, 0x0);
        gbc.writeMem(0xaeae, { 0xda, 0x25, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x657d);
        EXPECT(gbc.pc(), 0x8d25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaeae), 0xda);
        EXPECT(gbc.readMem(0xaeaf), 0x25);
        EXPECT(gbc.readMem(0xaeb0), 0x8d);
        // DA 032A
        gbc.setState(0x724b, 0x7c9a, 0x4ff0, 0x7bd5, 0x74c2, 0xd9de, 0x1, 0x1);
        gbc.writeMem(0x724b, { 0xda, 0xc8, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x7c9a);
        EXPECT(gbc.pc(), 0xa5c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 032B
        gbc.setState(0x21c0, 0x40f7, 0x3380, 0x16ba, 0x101a, 0x369b, 0x1, 0x0);
        gbc.writeMem(0x21c0, { 0xda, 0x4f, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x40f7);
        EXPECT(gbc.pc(), 0x21c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 032C
        gbc.setState(0xc5e1, 0x29a3, 0xef00, 0x80a4, 0x8be0, 0xed32, 0x1, 0x0);
        gbc.writeMem(0xc5e1, { 0xda, 0x7a, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x29a3);
        EXPECT(gbc.pc(), 0xc5e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5e1), 0xda);
        EXPECT(gbc.readMem(0xc5e2), 0x7a);
        EXPECT(gbc.readMem(0xc5e3), 0x1a);
        // DA 032E
        gbc.setState(0xcf46, 0xaea5, 0x3700, 0x1602, 0x422f, 0x4865, 0x0, 0x1);
        gbc.writeMem(0xcf46, { 0xda, 0xfb, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xaea5);
        EXPECT(gbc.pc(), 0xcf49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf46), 0xda);
        EXPECT(gbc.readMem(0xcf47), 0xfb);
        EXPECT(gbc.readMem(0xcf48), 0xa4);
        // DA 032F
        gbc.setState(0x3f36, 0xe6a6, 0x44f0, 0x9659, 0x133a, 0x4478, 0x0, 0x0);
        gbc.writeMem(0x3f36, { 0xda, 0x8e, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe6a6);
        EXPECT(gbc.pc(), 0xd88e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0330
        gbc.setState(0xba34, 0xad9b, 0x6320, 0xd861, 0x34fd, 0xe7a7, 0x1, 0x0);
        gbc.writeMem(0xba34, { 0xda, 0xcd, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xad9b);
        EXPECT(gbc.pc(), 0xba37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba34), 0xda);
        EXPECT(gbc.readMem(0xba35), 0xcd);
        EXPECT(gbc.readMem(0xba36), 0xb6);
        // DA 0331
        gbc.setState(0xace2, 0xd374, 0x4e20, 0x53c, 0x61b9, 0x28b3, 0x0, 0x0);
        gbc.writeMem(0xace2, { 0xda, 0x81, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd374);
        EXPECT(gbc.pc(), 0xace5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xace2), 0xda);
        EXPECT(gbc.readMem(0xace3), 0x81);
        EXPECT(gbc.readMem(0xace4), 0xd8);
        // DA 0332
        gbc.setState(0x87d7, 0x2828, 0x9a0, 0xddcb, 0xfd73, 0xd224, 0x1, 0x1);
        gbc.writeMem(0x87d7, { 0xda, 0x3a, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2828);
        EXPECT(gbc.pc(), 0x87da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87d7), 0xda);
        EXPECT(gbc.readMem(0x87d8), 0x3a);
        EXPECT(gbc.readMem(0x87d9), 0x60);
        // DA 0333
        gbc.setState(0xc632, 0x7c18, 0x7020, 0x132d, 0x13fa, 0xc3e, 0x0, 0x0);
        gbc.writeMem(0xc632, { 0xda, 0x63, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7c18);
        EXPECT(gbc.pc(), 0xc635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc632), 0xda);
        EXPECT(gbc.readMem(0xc633), 0x63);
        EXPECT(gbc.readMem(0xc634), 0x9c);
        // DA 0334
        gbc.setState(0x5122, 0x9680, 0x480, 0xb70c, 0x7005, 0x62e4, 0x1, 0x0);
        gbc.writeMem(0x5122, { 0xda, 0x80, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9680);
        EXPECT(gbc.pc(), 0x5125);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0335
        gbc.setState(0xbc13, 0xfde3, 0x8390, 0x4f53, 0xdfc2, 0xe922, 0x0, 0x1);
        gbc.writeMem(0xbc13, { 0xda, 0x54, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xfde3);
        EXPECT(gbc.pc(), 0xa654);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc13), 0xda);
        EXPECT(gbc.readMem(0xbc14), 0x54);
        EXPECT(gbc.readMem(0xbc15), 0xa6);
        // DA 0336
        gbc.setState(0xcbcc, 0x47b1, 0x5f50, 0xf836, 0x4f25, 0x4fe5, 0x1, 0x1);
        gbc.writeMem(0xcbcc, { 0xda, 0x35, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x47b1);
        EXPECT(gbc.pc(), 0x2f35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbcc), 0xda);
        EXPECT(gbc.readMem(0xcbcd), 0x35);
        EXPECT(gbc.readMem(0xcbce), 0x2f);
        // DA 0337
        gbc.setState(0xcf36, 0x7cd8, 0xcc50, 0xbe4b, 0x7392, 0x7a5f, 0x0, 0x0);
        gbc.writeMem(0xcf36, { 0xda, 0x1, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7cd8);
        EXPECT(gbc.pc(), 0x2f01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf36), 0xda);
        EXPECT(gbc.readMem(0xcf37), 0x1);
        EXPECT(gbc.readMem(0xcf38), 0x2f);
        // DA 0338
        gbc.setState(0x7647, 0xd794, 0x830, 0x86e6, 0xa152, 0x39da, 0x1, 0x1);
        gbc.writeMem(0x7647, { 0xda, 0xf1, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xd794);
        EXPECT(gbc.pc(), 0x7df1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0339
        gbc.setState(0x6ed2, 0xba09, 0x4f70, 0xc0eb, 0xc7ff, 0x18ae, 0x0, 0x1);
        gbc.writeMem(0x6ed2, { 0xda, 0xc9, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xba09);
        EXPECT(gbc.pc(), 0x9bc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 033A
        gbc.setState(0x1dbf, 0x71a3, 0x3820, 0xb649, 0x5aaf, 0x5b3e, 0x0, 0x1);
        gbc.writeMem(0x1dbf, { 0xda, 0x87, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x71a3);
        EXPECT(gbc.pc(), 0x1dc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 033B
        gbc.setState(0xb802, 0xfc74, 0x5bb0, 0x87ed, 0x7ddf, 0x1a94, 0x0, 0x0);
        gbc.writeMem(0xb802, { 0xda, 0xf6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xfc74);
        EXPECT(gbc.pc(), 0x91f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb802), 0xda);
        EXPECT(gbc.readMem(0xb803), 0xf6);
        EXPECT(gbc.readMem(0xb804), 0x91);
        // DA 033C
        gbc.setState(0x7c7e, 0x3c00, 0x7170, 0x7704, 0xed5e, 0xe6dd, 0x1, 0x1);
        gbc.writeMem(0x7c7e, { 0xda, 0xb4, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3c00);
        EXPECT(gbc.pc(), 0xbfb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 033D
        gbc.setState(0x33ef, 0x44a0, 0x1b00, 0x6524, 0x1143, 0xc7e6, 0x1, 0x0);
        gbc.writeMem(0x33ef, { 0xda, 0x92, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x44a0);
        EXPECT(gbc.pc(), 0x33f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 033E
        gbc.setState(0x3039, 0x604e, 0x3a0, 0x4b6f, 0xefbc, 0xe6d3, 0x0, 0x1);
        gbc.writeMem(0x3039, { 0xda, 0xc6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x604e);
        EXPECT(gbc.pc(), 0x303c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 033F
        gbc.setState(0x1e87, 0x6393, 0x2c10, 0x7285, 0x13e3, 0x6bac, 0x1, 0x0);
        gbc.writeMem(0x1e87, { 0xda, 0x46, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6393);
        EXPECT(gbc.pc(), 0x5946);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0340
        gbc.setState(0x326, 0x933f, 0x81a0, 0x9e57, 0xa683, 0x298f, 0x1, 0x1);
        gbc.writeMem(0x326, { 0xda, 0x39, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x933f);
        EXPECT(gbc.pc(), 0x329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0341
        gbc.setState(0x3442, 0x2e9c, 0xab70, 0x7463, 0xae58, 0x6ed2, 0x0, 0x0);
        gbc.writeMem(0x3442, { 0xda, 0xe3, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x2e9c);
        EXPECT(gbc.pc(), 0x46e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0342
        gbc.setState(0xd8bc, 0x4590, 0x5680, 0xdd45, 0x8699, 0x3edc, 0x0, 0x0);
        gbc.writeMem(0xd8bc, { 0xda, 0x45, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x4590);
        EXPECT(gbc.pc(), 0xd8bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8bc), 0xda);
        EXPECT(gbc.readMem(0xd8bd), 0x45);
        EXPECT(gbc.readMem(0xd8be), 0xde);
        // DA 0343
        gbc.setState(0x6ff, 0x76eb, 0xc500, 0x8c96, 0xe8b0, 0x56b7, 0x0, 0x1);
        gbc.writeMem(0x6ff, { 0xda, 0xdb, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x76eb);
        EXPECT(gbc.pc(), 0x702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0344
        gbc.setState(0x7400, 0x3bfd, 0x8290, 0x2f97, 0xd01d, 0xbe6c, 0x1, 0x0);
        gbc.writeMem(0x7400, { 0xda, 0xbd, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x3bfd);
        EXPECT(gbc.pc(), 0x52bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0345
        gbc.setState(0x25a1, 0xcc31, 0x6860, 0x622d, 0xf2c, 0xb04f, 0x1, 0x1);
        gbc.writeMem(0x25a1, { 0xda, 0x96, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xcc31);
        EXPECT(gbc.pc(), 0x25a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0346
        gbc.setState(0x381f, 0xbe7f, 0xa350, 0x358f, 0x9d73, 0x6e0c, 0x1, 0x1);
        gbc.writeMem(0x381f, { 0xda, 0xed, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xbe7f);
        EXPECT(gbc.pc(), 0xcbed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0347
        gbc.setState(0x89b9, 0xc722, 0x4bf0, 0x5403, 0x14ef, 0xd0e, 0x0, 0x1);
        gbc.writeMem(0x89b9, { 0xda, 0xd2, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xc722);
        EXPECT(gbc.pc(), 0x4ad2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89b9), 0xda);
        EXPECT(gbc.readMem(0x89ba), 0xd2);
        EXPECT(gbc.readMem(0x89bb), 0x4a);
        // DA 0349
        gbc.setState(0x5f80, 0x1a1f, 0x8260, 0xecb5, 0x8e41, 0x9353, 0x1, 0x0);
        gbc.writeMem(0x5f80, { 0xda, 0xf8, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x1a1f);
        EXPECT(gbc.pc(), 0x5f83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 034A
        gbc.setState(0x20e0, 0xbf95, 0x3720, 0xfe08, 0x1513, 0x5b28, 0x1, 0x1);
        gbc.writeMem(0x20e0, { 0xda, 0xba, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xbf95);
        EXPECT(gbc.pc(), 0x20e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 034B
        gbc.setState(0x5ce7, 0x9e44, 0xd0, 0xc45a, 0x93f8, 0x8f76, 0x1, 0x0);
        gbc.writeMem(0x5ce7, { 0xda, 0xd3, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9e44);
        EXPECT(gbc.pc(), 0xa5d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 034C
        gbc.setState(0xdd8c, 0xd015, 0x1ab0, 0x4457, 0xda18, 0xdbf2, 0x1, 0x1);
        gbc.writeMem(0xdd8c, { 0xda, 0x4b, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xd015);
        EXPECT(gbc.pc(), 0x254b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd8c), 0xda);
        EXPECT(gbc.readMem(0xdd8d), 0x4b);
        EXPECT(gbc.readMem(0xdd8e), 0x25);
        // DA 034D
        gbc.setState(0x90b0, 0x4707, 0x2160, 0xb741, 0x28c2, 0x1cac, 0x1, 0x1);
        gbc.writeMem(0x90b0, { 0xda, 0xe, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x4707);
        EXPECT(gbc.pc(), 0x90b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90b0), 0xda);
        EXPECT(gbc.readMem(0x90b1), 0xe);
        EXPECT(gbc.readMem(0x90b2), 0x16);
        // DA 034E
        gbc.setState(0xd737, 0x90cb, 0x40f0, 0x8660, 0x6470, 0xdcf8, 0x0, 0x1);
        gbc.writeMem(0xd737, { 0xda, 0x51, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x90cb);
        EXPECT(gbc.pc(), 0xd751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd737), 0xda);
        EXPECT(gbc.readMem(0xd738), 0x51);
        EXPECT(gbc.readMem(0xd739), 0xd7);
        // DA 034F
        gbc.setState(0xab67, 0x253a, 0x8a30, 0x6236, 0x8000, 0xf23b, 0x1, 0x1);
        gbc.writeMem(0xab67, { 0xda, 0xbc, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x253a);
        EXPECT(gbc.pc(), 0x4cbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab67), 0xda);
        EXPECT(gbc.readMem(0xab68), 0xbc);
        EXPECT(gbc.readMem(0xab69), 0x4c);
        // DA 0350
        gbc.setState(0xe142, 0x6b9c, 0x5b90, 0x68b1, 0xf73c, 0xc989, 0x1, 0x1);
        gbc.writeMem(0xe142, { 0xda, 0xfd, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x6b9c);
        EXPECT(gbc.pc(), 0xc3fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe142), 0xda);
        EXPECT(gbc.readMem(0xe143), 0xfd);
        EXPECT(gbc.readMem(0xe144), 0xc3);
        // DA 0351
        gbc.setState(0xb8ad, 0x3a16, 0x9350, 0xd6d8, 0xad37, 0xd929, 0x1, 0x0);
        gbc.writeMem(0xb8ad, { 0xda, 0x2, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x3a16);
        EXPECT(gbc.pc(), 0x1902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8ad), 0xda);
        EXPECT(gbc.readMem(0xb8ae), 0x2);
        EXPECT(gbc.readMem(0xb8af), 0x19);
        // DA 0352
        gbc.setState(0x4e28, 0xb2a2, 0x31f0, 0x4e39, 0x486a, 0xa9a0, 0x0, 0x1);
        gbc.writeMem(0x4e28, { 0xda, 0x3b, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xb2a2);
        EXPECT(gbc.pc(), 0x743b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0353
        gbc.setState(0x9b6, 0xd378, 0x7a10, 0x62f3, 0x654a, 0x7460, 0x1, 0x0);
        gbc.writeMem(0x9b6, { 0xda, 0xb6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd378);
        EXPECT(gbc.pc(), 0x7db6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0354
        gbc.setState(0x795f, 0xf0e8, 0xa00, 0x1bb7, 0x7a59, 0x6b49, 0x1, 0x0);
        gbc.writeMem(0x795f, { 0xda, 0x20, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf0e8);
        EXPECT(gbc.pc(), 0x7962);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0355
        gbc.setState(0xc885, 0x19a, 0xc120, 0x561, 0x27cd, 0x7a7d, 0x1, 0x0);
        gbc.writeMem(0xc885, { 0xda, 0xd9, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x19a);
        EXPECT(gbc.pc(), 0xc888);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc885), 0xda);
        EXPECT(gbc.readMem(0xc886), 0xd9);
        EXPECT(gbc.readMem(0xc887), 0xb5);
        // DA 0356
        gbc.setState(0x303d, 0xae16, 0x3460, 0x819e, 0x8bd1, 0xa54c, 0x0, 0x0);
        gbc.writeMem(0x303d, { 0xda, 0x59, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xae16);
        EXPECT(gbc.pc(), 0x3040);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0357
        gbc.setState(0x2d9d, 0xfd05, 0xcba0, 0x9d6b, 0xaba6, 0xb959, 0x0, 0x1);
        gbc.writeMem(0x2d9d, { 0xda, 0xf0, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xfd05);
        EXPECT(gbc.pc(), 0x2da0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0358
        gbc.setState(0x250e, 0x999d, 0x5bc0, 0xf4d9, 0xad35, 0x7a08, 0x0, 0x0);
        gbc.writeMem(0x250e, { 0xda, 0x33, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x999d);
        EXPECT(gbc.pc(), 0x2511);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0359
        gbc.setState(0x668b, 0x632d, 0x85e0, 0x2edd, 0x7aa1, 0x7541, 0x1, 0x0);
        gbc.writeMem(0x668b, { 0xda, 0x3c, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x632d);
        EXPECT(gbc.pc(), 0x668e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 035A
        gbc.setState(0x951b, 0xbb5b, 0xf80, 0xd2d1, 0x158e, 0xb23f, 0x0, 0x1);
        gbc.writeMem(0x951b, { 0xda, 0xe5, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbb5b);
        EXPECT(gbc.pc(), 0x951e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x951b), 0xda);
        EXPECT(gbc.readMem(0x951c), 0xe5);
        EXPECT(gbc.readMem(0x951d), 0xe0);
        // DA 035B
        gbc.setState(0xd5fd, 0x2880, 0xac90, 0x4275, 0xa484, 0x872e, 0x0, 0x0);
        gbc.writeMem(0xd5fd, { 0xda, 0x39, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x2880);
        EXPECT(gbc.pc(), 0xb439);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5fd), 0xda);
        EXPECT(gbc.readMem(0xd5fe), 0x39);
        EXPECT(gbc.readMem(0xd5ff), 0xb4);
        // DA 035C
        gbc.setState(0x4735, 0x244a, 0xe840, 0xb94f, 0xc8ab, 0x81e7, 0x1, 0x0);
        gbc.writeMem(0x4735, { 0xda, 0x7a, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x244a);
        EXPECT(gbc.pc(), 0x4738);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 035D
        gbc.setState(0xaef8, 0x223c, 0x2280, 0xd81d, 0x3605, 0x50ea, 0x1, 0x1);
        gbc.writeMem(0xaef8, { 0xda, 0x96, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x223c);
        EXPECT(gbc.pc(), 0xaefb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaef8), 0xda);
        EXPECT(gbc.readMem(0xaef9), 0x96);
        EXPECT(gbc.readMem(0xaefa), 0xa7);
        // DA 035E
        gbc.setState(0x355a, 0x9fe7, 0xdf00, 0x9853, 0xf949, 0xe620, 0x0, 0x0);
        gbc.writeMem(0x355a, { 0xda, 0xab, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9fe7);
        EXPECT(gbc.pc(), 0x355d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 035F
        gbc.setState(0x3816, 0x3623, 0x33a0, 0xff5c, 0xa57, 0xc555, 0x1, 0x0);
        gbc.writeMem(0x3816, { 0xda, 0x54, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3623);
        EXPECT(gbc.pc(), 0x3819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0360
        gbc.setState(0xe5fc, 0xdc87, 0x8850, 0x8bd8, 0xec76, 0xea81, 0x1, 0x0);
        gbc.writeMem(0xe5fc, { 0xda, 0x17, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xdc87);
        EXPECT(gbc.pc(), 0xe117);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5fc), 0xda);
        EXPECT(gbc.readMem(0xe5fd), 0x17);
        EXPECT(gbc.readMem(0xe5fe), 0xe1);
        // DA 0361
        gbc.setState(0xe354, 0x3ba9, 0x4120, 0x32aa, 0xc69c, 0xc96e, 0x0, 0x0);
        gbc.writeMem(0xe354, { 0xda, 0xe9, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3ba9);
        EXPECT(gbc.pc(), 0xe357);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe354), 0xda);
        EXPECT(gbc.readMem(0xe355), 0xe9);
        EXPECT(gbc.readMem(0xe356), 0x23);
        // DA 0362
        gbc.setState(0x4858, 0xd57a, 0x95f0, 0x1cc0, 0xd404, 0x7d6e, 0x0, 0x0);
        gbc.writeMem(0x4858, { 0xda, 0x90, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xd57a);
        EXPECT(gbc.pc(), 0x9090);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0363
        gbc.setState(0xebf1, 0x7f95, 0xe0d0, 0x87b5, 0xd79f, 0x677d, 0x0, 0x1);
        gbc.writeMem(0xebf1, { 0xda, 0x90, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7f95);
        EXPECT(gbc.pc(), 0x5d90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebf1), 0xda);
        EXPECT(gbc.readMem(0xebf2), 0x90);
        EXPECT(gbc.readMem(0xebf3), 0x5d);
        // DA 0364
        gbc.setState(0x6126, 0x6d80, 0x9520, 0x4a4c, 0x5fd1, 0xe15f, 0x0, 0x1);
        gbc.writeMem(0x6126, { 0xda, 0x8f, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x6d80);
        EXPECT(gbc.pc(), 0x6129);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0365
        gbc.setState(0xa8d8, 0xce4f, 0x2b30, 0xee16, 0x879d, 0x9762, 0x0, 0x1);
        gbc.writeMem(0xa8d8, { 0xda, 0x95, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xce4f);
        EXPECT(gbc.pc(), 0xce95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8d8), 0xda);
        EXPECT(gbc.readMem(0xa8d9), 0x95);
        EXPECT(gbc.readMem(0xa8da), 0xce);
        // DA 0366
        gbc.setState(0x6479, 0xc7d3, 0xe870, 0xc933, 0x18e4, 0x56bb, 0x0, 0x0);
        gbc.writeMem(0x6479, { 0xda, 0x19, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xc7d3);
        EXPECT(gbc.pc(), 0x5c19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0367
        gbc.setState(0x44ac, 0x3d19, 0xdfd0, 0x2258, 0xaf1b, 0xb3e5, 0x1, 0x1);
        gbc.writeMem(0x44ac, { 0xda, 0x6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3d19);
        EXPECT(gbc.pc(), 0xb006);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0368
        gbc.setState(0x7fed, 0x1209, 0x62a0, 0x7b34, 0x8a35, 0xec9c, 0x1, 0x0);
        gbc.writeMem(0x7fed, { 0xda, 0xb0, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x1209);
        EXPECT(gbc.pc(), 0x7ff0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0369
        gbc.setState(0xb88e, 0xd886, 0xc190, 0x9d7, 0x96dd, 0x251c, 0x1, 0x1);
        gbc.writeMem(0xb88e, { 0xda, 0xad, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xd886);
        EXPECT(gbc.pc(), 0x51ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb88e), 0xda);
        EXPECT(gbc.readMem(0xb88f), 0xad);
        EXPECT(gbc.readMem(0xb890), 0x51);
        // DA 036B
        gbc.setState(0x74fb, 0x88be, 0x5a70, 0x3a08, 0x413, 0xc47a, 0x0, 0x1);
        gbc.writeMem(0x74fb, { 0xda, 0x91, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x88be);
        EXPECT(gbc.pc(), 0x3391);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 036C
        gbc.setState(0x65de, 0xeb68, 0x9ac0, 0x3d76, 0x4f28, 0x4cd4, 0x0, 0x1);
        gbc.writeMem(0x65de, { 0xda, 0x30, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xeb68);
        EXPECT(gbc.pc(), 0x65e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 036D
        gbc.setState(0x42d0, 0x8358, 0xd90, 0xb7f4, 0xd832, 0xddd4, 0x1, 0x0);
        gbc.writeMem(0x42d0, { 0xda, 0x28, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x8358);
        EXPECT(gbc.pc(), 0xd328);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 036E
        gbc.setState(0x187, 0x6e01, 0xaba0, 0x92b0, 0xe24e, 0x1136, 0x1, 0x0);
        gbc.writeMem(0x187, { 0xda, 0x6d, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6e01);
        EXPECT(gbc.pc(), 0x18a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 036F
        gbc.setState(0x7c79, 0x731c, 0xece0, 0x8e8a, 0x9d08, 0xb357, 0x0, 0x0);
        gbc.writeMem(0x7c79, { 0xda, 0xe2, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x731c);
        EXPECT(gbc.pc(), 0x7c7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0370
        gbc.setState(0xbb65, 0x71f0, 0xa70, 0xbbff, 0x98cf, 0x9758, 0x1, 0x0);
        gbc.writeMem(0xbb65, { 0xda, 0xf6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x71f0);
        EXPECT(gbc.pc(), 0x80f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb65), 0xda);
        EXPECT(gbc.readMem(0xbb66), 0xf6);
        EXPECT(gbc.readMem(0xbb67), 0x80);
        // DA 0371
        gbc.setState(0x7c10, 0xbae4, 0x2d0, 0x9c05, 0xc014, 0x2a79, 0x0, 0x0);
        gbc.writeMem(0x7c10, { 0xda, 0x4f, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xbae4);
        EXPECT(gbc.pc(), 0xbb4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0372
        gbc.setState(0x5d6c, 0xcf93, 0x5be0, 0x7d4c, 0xde36, 0x30d1, 0x1, 0x0);
        gbc.writeMem(0x5d6c, { 0xda, 0xa2, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xcf93);
        EXPECT(gbc.pc(), 0x5d6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0374
        gbc.setState(0x82bb, 0xaf3a, 0x92e0, 0x47b2, 0x87f1, 0xe28a, 0x0, 0x1);
        gbc.writeMem(0x82bb, { 0xda, 0xd9, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xaf3a);
        EXPECT(gbc.pc(), 0x82be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82bb), 0xda);
        EXPECT(gbc.readMem(0x82bc), 0xd9);
        EXPECT(gbc.readMem(0x82bd), 0xb7);
        // DA 0375
        gbc.setState(0x1785, 0xa92f, 0x6c00, 0xde7, 0x50af, 0x79d0, 0x1, 0x1);
        gbc.writeMem(0x1785, { 0xda, 0x75, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xa92f);
        EXPECT(gbc.pc(), 0x1788);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0376
        gbc.setState(0x1541, 0x8a2c, 0x6630, 0x26da, 0xeb3d, 0x724b, 0x0, 0x1);
        gbc.writeMem(0x1541, { 0xda, 0x4a, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x8a2c);
        EXPECT(gbc.pc(), 0x124a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0377
        gbc.setState(0xe7ff, 0x710c, 0x8b50, 0x1a3, 0x3285, 0x2a8f, 0x0, 0x1);
        gbc.writeMem(0xe7ff, { 0xda, 0xb, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x710c);
        EXPECT(gbc.pc(), 0xca0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7ff), 0xda);
        EXPECT(gbc.readMem(0xe800), 0xb);
        EXPECT(gbc.readMem(0xe801), 0xca);
        // DA 0378
        gbc.setState(0xe792, 0x12f8, 0xdec0, 0x4b61, 0x4f3a, 0x45b5, 0x0, 0x0);
        gbc.writeMem(0xe792, { 0xda, 0x15, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x12f8);
        EXPECT(gbc.pc(), 0xe795);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe792), 0xda);
        EXPECT(gbc.readMem(0xe793), 0x15);
        EXPECT(gbc.readMem(0xe794), 0x2c);
        // DA 0379
        gbc.setState(0x46f6, 0x2c21, 0xb5b0, 0xb55b, 0x3fa3, 0xd4b, 0x0, 0x1);
        gbc.writeMem(0x46f6, { 0xda, 0x85, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2c21);
        EXPECT(gbc.pc(), 0x2785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 037A
        gbc.setState(0x9cac, 0xe790, 0x6940, 0xce68, 0x7cfe, 0x67cd, 0x1, 0x1);
        gbc.writeMem(0x9cac, { 0xda, 0xfe, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xe790);
        EXPECT(gbc.pc(), 0x9caf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cac), 0xda);
        EXPECT(gbc.readMem(0x9cad), 0xfe);
        EXPECT(gbc.readMem(0x9cae), 0xc6);
        // DA 037B
        gbc.setState(0xba31, 0x1e45, 0x2570, 0xb196, 0xc107, 0x9d19, 0x0, 0x0);
        gbc.writeMem(0xba31, { 0xda, 0x16, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x1e45);
        EXPECT(gbc.pc(), 0x5416);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba31), 0xda);
        EXPECT(gbc.readMem(0xba32), 0x16);
        EXPECT(gbc.readMem(0xba33), 0x54);
        // DA 037C
        gbc.setState(0x9be0, 0x3102, 0xdf60, 0xd872, 0x58ea, 0x2ed5, 0x1, 0x1);
        gbc.writeMem(0x9be0, { 0xda, 0xf0, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3102);
        EXPECT(gbc.pc(), 0x9be3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9be0), 0xda);
        EXPECT(gbc.readMem(0x9be1), 0xf0);
        EXPECT(gbc.readMem(0x9be2), 0xb2);
        // DA 037D
        gbc.setState(0x505c, 0x2dd, 0xf7d0, 0x7f33, 0xdcc7, 0x137f, 0x0, 0x0);
        gbc.writeMem(0x505c, { 0xda, 0xf9, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2dd);
        EXPECT(gbc.pc(), 0x10f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 037F
        gbc.setState(0xe4e3, 0x57f5, 0x63e0, 0x2f19, 0xd26c, 0xd527, 0x1, 0x0);
        gbc.writeMem(0xe4e3, { 0xda, 0x8, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x57f5);
        EXPECT(gbc.pc(), 0xe4e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4e3), 0xda);
        EXPECT(gbc.readMem(0xe4e4), 0x8);
        EXPECT(gbc.readMem(0xe4e5), 0xad);
        // DA 0380
        gbc.setState(0x229, 0x3724, 0xb6f0, 0xbe4a, 0x554a, 0x655f, 0x0, 0x1);
        gbc.writeMem(0x229, { 0xda, 0xa9, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x3724);
        EXPECT(gbc.pc(), 0x1ea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 0381
        gbc.setState(0xa4ac, 0xa8c7, 0x6e90, 0x99a9, 0xe623, 0xcbb2, 0x0, 0x1);
        gbc.writeMem(0xa4ac, { 0xda, 0xa2, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xa8c7);
        EXPECT(gbc.pc(), 0xffa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4ac), 0xda);
        EXPECT(gbc.readMem(0xa4ad), 0xa2);
        EXPECT(gbc.readMem(0xa4ae), 0xff);
        // DA 0382
        gbc.setState(0x23cd, 0x59a7, 0xef60, 0x10e1, 0x876d, 0x63d6, 0x0, 0x0);
        gbc.writeMem(0x23cd, { 0xda, 0x24, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x59a7);
        EXPECT(gbc.pc(), 0x23d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0383
        gbc.setState(0xc728, 0x5708, 0xe280, 0xa9ab, 0x173d, 0x726d, 0x0, 0x1);
        gbc.writeMem(0xc728, { 0xda, 0xbb, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x5708);
        EXPECT(gbc.pc(), 0xc72b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc728), 0xda);
        EXPECT(gbc.readMem(0xc729), 0xbb);
        EXPECT(gbc.readMem(0xc72a), 0x86);
        // DA 0384
        gbc.setState(0xe66f, 0xcf1d, 0x76f0, 0x85, 0x5816, 0xa1dc, 0x1, 0x1);
        gbc.writeMem(0xe66f, { 0xda, 0x49, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xcf1d);
        EXPECT(gbc.pc(), 0x4d49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe66f), 0xda);
        EXPECT(gbc.readMem(0xe670), 0x49);
        EXPECT(gbc.readMem(0xe671), 0x4d);
        // DA 0385
        gbc.setState(0xaff5, 0x4d3, 0xb090, 0x4f31, 0xf55d, 0x65d6, 0x0, 0x0);
        gbc.writeMem(0xaff5, { 0xda, 0xb0, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x4d3);
        EXPECT(gbc.pc(), 0x4ab0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaff5), 0xda);
        EXPECT(gbc.readMem(0xaff6), 0xb0);
        EXPECT(gbc.readMem(0xaff7), 0x4a);
        // DA 0386
        gbc.setState(0x9c01, 0xb773, 0x88d0, 0xa6d1, 0xcfb6, 0xf171, 0x0, 0x0);
        gbc.writeMem(0x9c01, { 0xda, 0x2b, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb773);
        EXPECT(gbc.pc(), 0xb82b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c01), 0xda);
        EXPECT(gbc.readMem(0x9c02), 0x2b);
        EXPECT(gbc.readMem(0x9c03), 0xb8);
        // DA 0387
        gbc.setState(0x5eab, 0x8827, 0x4890, 0x4a77, 0x9167, 0xe305, 0x1, 0x1);
        gbc.writeMem(0x5eab, { 0xda, 0x2b, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8827);
        EXPECT(gbc.pc(), 0x202b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0388
        gbc.setState(0x6635, 0xc7d5, 0x2dd0, 0x37b3, 0xc6f9, 0xf5ff, 0x0, 0x0);
        gbc.writeMem(0x6635, { 0xda, 0x57, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc7d5);
        EXPECT(gbc.pc(), 0x1a57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0389
        gbc.setState(0x91f, 0xff76, 0x46f0, 0x262b, 0xbe06, 0x2fea, 0x1, 0x1);
        gbc.writeMem(0x91f, { 0xda, 0x54, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xff76);
        EXPECT(gbc.pc(), 0x4f54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 038A
        gbc.setState(0x96b, 0x7a0, 0x98c0, 0x67e9, 0x5b87, 0x809f, 0x0, 0x1);
        gbc.writeMem(0x96b, { 0xda, 0xb5, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x7a0);
        EXPECT(gbc.pc(), 0x96e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 038B
        gbc.setState(0xdcaf, 0x682f, 0x6960, 0xbfb7, 0x5a64, 0x258d, 0x0, 0x0);
        gbc.writeMem(0xdcaf, { 0xda, 0xe2, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x682f);
        EXPECT(gbc.pc(), 0xdcb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcaf), 0xda);
        EXPECT(gbc.readMem(0xdcb0), 0xe2);
        EXPECT(gbc.readMem(0xdcb1), 0xe8);
        // DA 038C
        gbc.setState(0x6f09, 0xb975, 0x3f30, 0x1412, 0xba59, 0x93b5, 0x0, 0x0);
        gbc.writeMem(0x6f09, { 0xda, 0xea, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb975);
        EXPECT(gbc.pc(), 0xd8ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 038D
        gbc.setState(0x170a, 0xe8b6, 0xee20, 0x3f46, 0xcfe1, 0xebfe, 0x1, 0x0);
        gbc.writeMem(0x170a, { 0xda, 0xe9, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe8b6);
        EXPECT(gbc.pc(), 0x170d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 038E
        gbc.setState(0x4d86, 0x1267, 0xf210, 0xdc28, 0x631, 0x17c2, 0x1, 0x1);
        gbc.writeMem(0x4d86, { 0xda, 0x88, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1267);
        EXPECT(gbc.pc(), 0x7d88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 038F
        gbc.setState(0xd1db, 0x5ec3, 0xaca0, 0x677d, 0x36fd, 0xcf8, 0x0, 0x0);
        gbc.writeMem(0xd1db, { 0xda, 0x78, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x5ec3);
        EXPECT(gbc.pc(), 0xd1de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1db), 0xda);
        EXPECT(gbc.readMem(0xd1dc), 0x78);
        EXPECT(gbc.readMem(0xd1dd), 0x2f);
        // DA 0390
        gbc.setState(0x35ed, 0x1bb0, 0x4740, 0xc929, 0xfb32, 0xc7b8, 0x1, 0x1);
        gbc.writeMem(0x35ed, { 0xda, 0x19, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x1bb0);
        EXPECT(gbc.pc(), 0x35f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0391
        gbc.setState(0x38f8, 0x11be, 0x9f40, 0xe2e2, 0xe8ee, 0xacef, 0x1, 0x0);
        gbc.writeMem(0x38f8, { 0xda, 0x49, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x11be);
        EXPECT(gbc.pc(), 0x38fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0392
        gbc.setState(0x4a19, 0x909a, 0x2b80, 0xb1b, 0x6e00, 0x24d1, 0x0, 0x0);
        gbc.writeMem(0x4a19, { 0xda, 0x17, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x909a);
        EXPECT(gbc.pc(), 0x4a1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 0393
        gbc.setState(0xf5, 0xd961, 0xcf10, 0x4960, 0x4569, 0x8b2a, 0x1, 0x1);
        gbc.writeMem(0xf5, { 0xda, 0xc6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd961);
        EXPECT(gbc.pc(), 0x74c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0394
        gbc.setState(0x1680, 0x9a13, 0x4510, 0xbfb5, 0x32f3, 0x1a9, 0x0, 0x0);
        gbc.writeMem(0x1680, { 0xda, 0x44, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9a13);
        EXPECT(gbc.pc(), 0x1d44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0395
        gbc.setState(0xc246, 0xd4f8, 0xc000, 0xb073, 0x5873, 0x5c5f, 0x0, 0x0);
        gbc.writeMem(0xc246, { 0xda, 0x58, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xd4f8);
        EXPECT(gbc.pc(), 0xc249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc246), 0xda);
        EXPECT(gbc.readMem(0xc247), 0x58);
        EXPECT(gbc.readMem(0xc248), 0x4d);
        // DA 0396
        gbc.setState(0x27af, 0x8b5b, 0x4220, 0xdd1e, 0xe5bd, 0x4149, 0x1, 0x1);
        gbc.writeMem(0x27af, { 0xda, 0xad, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8b5b);
        EXPECT(gbc.pc(), 0x27b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 0397
        gbc.setState(0x5dc2, 0xde68, 0x7c10, 0x369b, 0x391f, 0x1479, 0x0, 0x1);
        gbc.writeMem(0x5dc2, { 0xda, 0x63, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xde68);
        EXPECT(gbc.pc(), 0xb763);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0398
        gbc.setState(0x6960, 0x9557, 0x7410, 0xbeb5, 0xf10e, 0x15fc, 0x0, 0x0);
        gbc.writeMem(0x6960, { 0xda, 0x10, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x9557);
        EXPECT(gbc.pc(), 0x3610);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 0399
        gbc.setState(0x1cb0, 0x49c4, 0x8900, 0xd5fc, 0x88d7, 0x49e9, 0x0, 0x0);
        gbc.writeMem(0x1cb0, { 0xda, 0xa3, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x49c4);
        EXPECT(gbc.pc(), 0x1cb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 039A
        gbc.setState(0x7e55, 0x9279, 0xff60, 0xa1f, 0xd106, 0x79ea, 0x1, 0x1);
        gbc.writeMem(0x7e55, { 0xda, 0xcd, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9279);
        EXPECT(gbc.pc(), 0x7e58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 039B
        gbc.setState(0x3e11, 0x372c, 0xd550, 0xd451, 0x772e, 0xb4c4, 0x1, 0x1);
        gbc.writeMem(0x3e11, { 0xda, 0xb2, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x372c);
        EXPECT(gbc.pc(), 0xcbb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 039C
        gbc.setState(0x724b, 0x381e, 0x9b40, 0x73b6, 0xd4ae, 0xe232, 0x1, 0x0);
        gbc.writeMem(0x724b, { 0xda, 0xc8, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x381e);
        EXPECT(gbc.pc(), 0x724e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 039D
        gbc.setState(0x2f99, 0x3db7, 0x5ab0, 0xf07e, 0x6fd, 0xeb2f, 0x0, 0x1);
        gbc.writeMem(0x2f99, { 0xda, 0xda, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x3db7);
        EXPECT(gbc.pc(), 0xbfda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 039E
        gbc.setState(0x75f, 0x4d58, 0x8640, 0x7d3c, 0x7d, 0xdfa6, 0x1, 0x0);
        gbc.writeMem(0x75f, { 0xda, 0xb9, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4d58);
        EXPECT(gbc.pc(), 0x762);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 039F
        gbc.setState(0x37ec, 0xf971, 0x9750, 0x707b, 0x93d2, 0x4d29, 0x1, 0x1);
        gbc.writeMem(0x37ec, { 0xda, 0xaf, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xf971);
        EXPECT(gbc.pc(), 0x4af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03A0
        gbc.setState(0x9494, 0xf000, 0xc7f0, 0x92e6, 0x7d3c, 0x1bfa, 0x1, 0x0);
        gbc.writeMem(0x9494, { 0xda, 0x4f, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf000);
        EXPECT(gbc.pc(), 0xc4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9494), 0xda);
        EXPECT(gbc.readMem(0x9495), 0x4f);
        EXPECT(gbc.readMem(0x9496), 0xc);
        // DA 03A1
        gbc.setState(0x315a, 0x36c7, 0xc070, 0x1760, 0x2900, 0x8cb8, 0x0, 0x1);
        gbc.writeMem(0x315a, { 0xda, 0x4f, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x36c7);
        EXPECT(gbc.pc(), 0x7a4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 03A2
        gbc.setState(0x35f4, 0xed9d, 0x13d0, 0x616d, 0xff94, 0x5635, 0x0, 0x0);
        gbc.writeMem(0x35f4, { 0xda, 0xdb, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xed9d);
        EXPECT(gbc.pc(), 0xd9db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03A3
        gbc.setState(0xb6f6, 0x446c, 0x48e0, 0x7518, 0xdbec, 0x7477, 0x1, 0x1);
        gbc.writeMem(0xb6f6, { 0xda, 0xa0, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x446c);
        EXPECT(gbc.pc(), 0xb6f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6f6), 0xda);
        EXPECT(gbc.readMem(0xb6f7), 0xa0);
        EXPECT(gbc.readMem(0xb6f8), 0x8a);
        // DA 03A4
        gbc.setState(0x503f, 0x3501, 0xacb0, 0xf01b, 0x33b5, 0x4d71, 0x0, 0x0);
        gbc.writeMem(0x503f, { 0xda, 0x98, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x3501);
        EXPECT(gbc.pc(), 0xbe98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 03A5
        gbc.setState(0x5271, 0x9a2c, 0xe7c0, 0xe506, 0x3228, 0x1139, 0x0, 0x0);
        gbc.writeMem(0x5271, { 0xda, 0x4f, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9a2c);
        EXPECT(gbc.pc(), 0x5274);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 03A6
        gbc.setState(0x7edb, 0x5ab, 0x2560, 0x4ffc, 0x54ee, 0x715a, 0x0, 0x0);
        gbc.writeMem(0x7edb, { 0xda, 0x27, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5ab);
        EXPECT(gbc.pc(), 0x7ede);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03A7
        gbc.setState(0x5596, 0xd155, 0x1520, 0xc769, 0x183b, 0x622c, 0x0, 0x0);
        gbc.writeMem(0x5596, { 0xda, 0x6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xd155);
        EXPECT(gbc.pc(), 0x5599);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03A8
        gbc.setState(0x645c, 0x3509, 0x74b0, 0x3e29, 0xa816, 0xe3d1, 0x0, 0x1);
        gbc.writeMem(0x645c, { 0xda, 0x5a, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3509);
        EXPECT(gbc.pc(), 0xd25a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 03A9
        gbc.setState(0x5faa, 0xb0a4, 0xd0b0, 0x6d8d, 0x7a4f, 0xacd8, 0x1, 0x0);
        gbc.writeMem(0x5faa, { 0xda, 0x2d, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb0a4);
        EXPECT(gbc.pc(), 0x902d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 03AA
        gbc.setState(0x8a5a, 0x2412, 0x90c0, 0x212c, 0x3342, 0x4537, 0x0, 0x0);
        gbc.writeMem(0x8a5a, { 0xda, 0xfa, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2412);
        EXPECT(gbc.pc(), 0x8a5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a5a), 0xda);
        EXPECT(gbc.readMem(0x8a5b), 0xfa);
        EXPECT(gbc.readMem(0x8a5c), 0x37);
        // DA 03AB
        gbc.setState(0x3770, 0xb2e8, 0x4830, 0xe09c, 0xd54f, 0xfe11, 0x1, 0x0);
        gbc.writeMem(0x3770, { 0xda, 0xb3, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb2e8);
        EXPECT(gbc.pc(), 0x67b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 03AE
        gbc.setState(0x7cd7, 0x5a89, 0x7860, 0xa7d1, 0x7f9c, 0xbeb7, 0x0, 0x0);
        gbc.writeMem(0x7cd7, { 0xda, 0x11, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x5a89);
        EXPECT(gbc.pc(), 0x7cda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03AF
        gbc.setState(0x54b4, 0xe630, 0x970, 0xf0e5, 0x2786, 0x6, 0x0, 0x1);
        gbc.writeMem(0x54b4, { 0xda, 0x68, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe630);
        EXPECT(gbc.pc(), 0xa468);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 03B0
        gbc.setState(0x8b9f, 0xb32d, 0xfd20, 0x2725, 0x60bd, 0xc983, 0x0, 0x0);
        gbc.writeMem(0x8b9f, { 0xda, 0x4b, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xb32d);
        EXPECT(gbc.pc(), 0x8ba2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b9f), 0xda);
        EXPECT(gbc.readMem(0x8ba0), 0x4b);
        EXPECT(gbc.readMem(0x8ba1), 0xc0);
        // DA 03B1
        gbc.setState(0xc37d, 0x2137, 0x1fe0, 0xc813, 0xe356, 0x77f7, 0x0, 0x0);
        gbc.writeMem(0xc37d, { 0xda, 0x34, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2137);
        EXPECT(gbc.pc(), 0xc380);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc37d), 0xda);
        EXPECT(gbc.readMem(0xc37e), 0x34);
        EXPECT(gbc.readMem(0xc37f), 0x49);
        // DA 03B2
        gbc.setState(0x477, 0x1, 0x7220, 0xd7dc, 0x958c, 0x5af6, 0x0, 0x0);
        gbc.writeMem(0x477, { 0xda, 0xaf, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1);
        EXPECT(gbc.pc(), 0x47a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03B3
        gbc.setState(0xc188, 0xb6e7, 0x23a0, 0xae66, 0x83d8, 0x368f, 0x1, 0x0);
        gbc.writeMem(0xc188, { 0xda, 0xf, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xb6e7);
        EXPECT(gbc.pc(), 0xc18b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc188), 0xda);
        EXPECT(gbc.readMem(0xc189), 0xf);
        EXPECT(gbc.readMem(0xc18a), 0xf2);
        // DA 03B4
        gbc.setState(0x9760, 0xb37b, 0x5f10, 0xba4f, 0x764b, 0x1f2b, 0x0, 0x1);
        gbc.writeMem(0x9760, { 0xda, 0x3, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xb37b);
        EXPECT(gbc.pc(), 0xfe03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9760), 0xda);
        EXPECT(gbc.readMem(0x9761), 0x3);
        EXPECT(gbc.readMem(0x9762), 0xfe);
        // DA 03B5
        gbc.setState(0x7831, 0x41d5, 0x8220, 0x8885, 0xbaba, 0x1bf9, 0x0, 0x1);
        gbc.writeMem(0x7831, { 0xda, 0xe7, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x41d5);
        EXPECT(gbc.pc(), 0x7834);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03B6
        gbc.setState(0x890, 0x793b, 0xcbe0, 0xca29, 0x5f65, 0xfb8c, 0x0, 0x0);
        gbc.writeMem(0x890, { 0xda, 0x28, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x793b);
        EXPECT(gbc.pc(), 0x893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03B7
        gbc.setState(0x77fe, 0xf26d, 0x80e0, 0xf34d, 0x822, 0xcea1, 0x0, 0x0);
        gbc.writeMem(0x77fe, { 0xda, 0x45, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf26d);
        EXPECT(gbc.pc(), 0x7801);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03B8
        gbc.setState(0xdb5f, 0xa5d6, 0xd3a0, 0x3bc8, 0x1a90, 0xf58, 0x1, 0x0);
        gbc.writeMem(0xdb5f, { 0xda, 0xde, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa5d6);
        EXPECT(gbc.pc(), 0xdb62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb5f), 0xda);
        EXPECT(gbc.readMem(0xdb60), 0xde);
        EXPECT(gbc.readMem(0xdb61), 0xff);
        // DA 03B9
        gbc.setState(0xc318, 0xc16f, 0xe70, 0x76b2, 0xd913, 0x3521, 0x1, 0x0);
        gbc.writeMem(0xc318, { 0xda, 0xf6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xc16f);
        EXPECT(gbc.pc(), 0x3ff6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc318), 0xda);
        EXPECT(gbc.readMem(0xc319), 0xf6);
        EXPECT(gbc.readMem(0xc31a), 0x3f);
        // DA 03BA
        gbc.setState(0xd512, 0x738c, 0xb960, 0x354, 0x29ad, 0x673a, 0x1, 0x1);
        gbc.writeMem(0xd512, { 0xda, 0xce, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x738c);
        EXPECT(gbc.pc(), 0xd515);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd512), 0xda);
        EXPECT(gbc.readMem(0xd513), 0xce);
        EXPECT(gbc.readMem(0xd514), 0xd0);
        // DA 03BB
        gbc.setState(0x12b2, 0x36fd, 0x26a0, 0x8efa, 0x2c46, 0x514e, 0x0, 0x1);
        gbc.writeMem(0x12b2, { 0xda, 0xad, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x36fd);
        EXPECT(gbc.pc(), 0x12b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03BC
        gbc.setState(0x789b, 0xdac6, 0x650, 0x504b, 0xab50, 0xc2b2, 0x0, 0x0);
        gbc.writeMem(0x789b, { 0xda, 0x7d, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xdac6);
        EXPECT(gbc.pc(), 0xb07d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03BD
        gbc.setState(0xbb3d, 0x692, 0x8fd0, 0xccfb, 0xc514, 0x326e, 0x1, 0x1);
        gbc.writeMem(0xbb3d, { 0xda, 0xf6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x692);
        EXPECT(gbc.pc(), 0x60f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb3d), 0xda);
        EXPECT(gbc.readMem(0xbb3e), 0xf6);
        EXPECT(gbc.readMem(0xbb3f), 0x60);
        // DA 03BE
        gbc.setState(0xc3f8, 0xd078, 0x87d0, 0x6eea, 0xcde8, 0x58b4, 0x1, 0x1);
        gbc.writeMem(0xc3f8, { 0xda, 0x36, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd078);
        EXPECT(gbc.pc(), 0xd736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3f8), 0xda);
        EXPECT(gbc.readMem(0xc3f9), 0x36);
        EXPECT(gbc.readMem(0xc3fa), 0xd7);
        // DA 03BF
        gbc.setState(0x837, 0x3f5c, 0x70d0, 0x72bd, 0xb050, 0xf670, 0x1, 0x0);
        gbc.writeMem(0x837, { 0xda, 0x88, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x3f5c);
        EXPECT(gbc.pc(), 0x3388);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03C0
        gbc.setState(0xcbfa, 0x8b35, 0xf150, 0xe88a, 0xe39d, 0x36ee, 0x1, 0x0);
        gbc.writeMem(0xcbfa, { 0xda, 0xe5, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8b35);
        EXPECT(gbc.pc(), 0x7ae5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbfa), 0xda);
        EXPECT(gbc.readMem(0xcbfb), 0xe5);
        EXPECT(gbc.readMem(0xcbfc), 0x7a);
        // DA 03C1
        gbc.setState(0xb823, 0x71b7, 0xc0e0, 0x5e33, 0x2089, 0xa429, 0x0, 0x0);
        gbc.writeMem(0xb823, { 0xda, 0x18, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x71b7);
        EXPECT(gbc.pc(), 0xb826);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb823), 0xda);
        EXPECT(gbc.readMem(0xb824), 0x18);
        EXPECT(gbc.readMem(0xb825), 0x7f);
        // DA 03C2
        gbc.setState(0xbe93, 0xf715, 0x5ff0, 0xcfd6, 0x8947, 0x2ef9, 0x1, 0x0);
        gbc.writeMem(0xbe93, { 0xda, 0xc7, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf715);
        EXPECT(gbc.pc(), 0xfbc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe93), 0xda);
        EXPECT(gbc.readMem(0xbe94), 0xc7);
        EXPECT(gbc.readMem(0xbe95), 0xfb);
        // DA 03C3
        gbc.setState(0x9ecb, 0x70da, 0x3fb0, 0xe94, 0x931, 0xd618, 0x1, 0x1);
        gbc.writeMem(0x9ecb, { 0xda, 0xae, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x70da);
        EXPECT(gbc.pc(), 0xafae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ecb), 0xda);
        EXPECT(gbc.readMem(0x9ecc), 0xae);
        EXPECT(gbc.readMem(0x9ecd), 0xaf);
        // DA 03C4
        gbc.setState(0x14c2, 0x19, 0x8da0, 0xbe39, 0x96df, 0xb85c, 0x1, 0x1);
        gbc.writeMem(0x14c2, { 0xda, 0x69, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x19);
        EXPECT(gbc.pc(), 0x14c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03C5
        gbc.setState(0x19f0, 0x3a8f, 0x46e0, 0x8c52, 0xaa5c, 0x26da, 0x1, 0x1);
        gbc.writeMem(0x19f0, { 0xda, 0x65, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3a8f);
        EXPECT(gbc.pc(), 0x19f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03C6
        gbc.setState(0x5092, 0x9d5c, 0xde50, 0x4bed, 0x383e, 0xc679, 0x1, 0x0);
        gbc.writeMem(0x5092, { 0xda, 0x47, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9d5c);
        EXPECT(gbc.pc(), 0x7147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03C7
        gbc.setState(0xaf14, 0xe572, 0x91b0, 0x9de7, 0x4922, 0x6461, 0x1, 0x0);
        gbc.writeMem(0xaf14, { 0xda, 0x3b, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe572);
        EXPECT(gbc.pc(), 0x723b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf14), 0xda);
        EXPECT(gbc.readMem(0xaf15), 0x3b);
        EXPECT(gbc.readMem(0xaf16), 0x72);
        // DA 03C8
        gbc.setState(0x98b1, 0x846, 0x2a90, 0x70e, 0x840c, 0xb6b1, 0x1, 0x1);
        gbc.writeMem(0x98b1, { 0xda, 0x1f, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x846);
        EXPECT(gbc.pc(), 0x881f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98b1), 0xda);
        EXPECT(gbc.readMem(0x98b2), 0x1f);
        EXPECT(gbc.readMem(0x98b3), 0x88);
        // DA 03C9
        gbc.setState(0xc8fd, 0x791e, 0x33b0, 0xdc16, 0x685b, 0x2c95, 0x1, 0x1);
        gbc.writeMem(0xc8fd, { 0xda, 0xa, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x791e);
        EXPECT(gbc.pc(), 0x80a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8fd), 0xda);
        EXPECT(gbc.readMem(0xc8fe), 0xa);
        EXPECT(gbc.readMem(0xc8ff), 0x8);
        // DA 03CA
        gbc.setState(0x7e00, 0xf08c, 0xe730, 0x4422, 0x7aa, 0x9ec0, 0x0, 0x1);
        gbc.writeMem(0x7e00, { 0xda, 0xe9, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xf08c);
        EXPECT(gbc.pc(), 0x8e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 03CB
        gbc.setState(0xe873, 0x1227, 0x3280, 0xb595, 0xef76, 0xb21d, 0x0, 0x1);
        gbc.writeMem(0xe873, { 0xda, 0x32, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1227);
        EXPECT(gbc.pc(), 0xe876);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe873), 0xda);
        EXPECT(gbc.readMem(0xe874), 0x32);
        EXPECT(gbc.readMem(0xe875), 0xb6);
        // DA 03CC
        gbc.setState(0xb, 0xab30, 0x2920, 0x335c, 0xebed, 0xa5b0, 0x1, 0x1);
        gbc.writeMem(0xb, { 0xda, 0xd9, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xab30);
        EXPECT(gbc.pc(), 0xe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03CD
        gbc.setState(0x9f43, 0xe129, 0x2490, 0xd60b, 0x5ced, 0x678e, 0x0, 0x0);
        gbc.writeMem(0x9f43, { 0xda, 0x55, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xe129);
        EXPECT(gbc.pc(), 0xa255);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f43), 0xda);
        EXPECT(gbc.readMem(0x9f44), 0x55);
        EXPECT(gbc.readMem(0x9f45), 0xa2);
        // DA 03CF
        gbc.setState(0x99c6, 0xfc92, 0x80e0, 0x89ee, 0x24ae, 0x2b77, 0x1, 0x1);
        gbc.writeMem(0x99c6, { 0xda, 0x64, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xfc92);
        EXPECT(gbc.pc(), 0x99c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99c6), 0xda);
        EXPECT(gbc.readMem(0x99c7), 0x64);
        EXPECT(gbc.readMem(0x99c8), 0x33);
        // DA 03D1
        gbc.setState(0x743c, 0x54bf, 0xdd40, 0x6ccd, 0xedca, 0x9b5b, 0x1, 0x0);
        gbc.writeMem(0x743c, { 0xda, 0x70, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x54bf);
        EXPECT(gbc.pc(), 0x743f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 03D2
        gbc.setState(0x85a4, 0x54c, 0xc510, 0x1123, 0xefbf, 0xf289, 0x1, 0x1);
        gbc.writeMem(0x85a4, { 0xda, 0xf5, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x54c);
        EXPECT(gbc.pc(), 0xbf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85a4), 0xda);
        EXPECT(gbc.readMem(0x85a5), 0xf5);
        EXPECT(gbc.readMem(0x85a6), 0xb);
        // DA 03D3
        gbc.setState(0x2858, 0xc605, 0x4290, 0xae3e, 0xf658, 0x7c74, 0x1, 0x0);
        gbc.writeMem(0x2858, { 0xda, 0x4c, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc605);
        EXPECT(gbc.pc(), 0x6d4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03D4
        gbc.setState(0x1150, 0x313d, 0x5830, 0x7e23, 0xcd9e, 0xa1c4, 0x0, 0x1);
        gbc.writeMem(0x1150, { 0xda, 0xc9, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x313d);
        EXPECT(gbc.pc(), 0xfc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // DA 03D5
        gbc.setState(0x34f3, 0x34ec, 0xa9a0, 0xf609, 0x395d, 0x2d0d, 0x0, 0x1);
        gbc.writeMem(0x34f3, { 0xda, 0xb3, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x34ec);
        EXPECT(gbc.pc(), 0x34f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03D6
        gbc.setState(0xbb0c, 0xe986, 0x4260, 0xb1eb, 0xa7b0, 0x798c, 0x0, 0x1);
        gbc.writeMem(0xbb0c, { 0xda, 0x67, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe986);
        EXPECT(gbc.pc(), 0xbb0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb0c), 0xda);
        EXPECT(gbc.readMem(0xbb0d), 0x67);
        EXPECT(gbc.readMem(0xbb0e), 0xc);
        // DA 03D7
        gbc.setState(0x6603, 0x2ec7, 0x3c60, 0x68b1, 0x19ff, 0x896e, 0x0, 0x0);
        gbc.writeMem(0x6603, { 0xda, 0x84, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x2ec7);
        EXPECT(gbc.pc(), 0x6606);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03D8
        gbc.setState(0x9b2, 0xaf48, 0xd4e0, 0x81a1, 0xc0ca, 0x4096, 0x0, 0x0);
        gbc.writeMem(0x9b2, { 0xda, 0x9e, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xaf48);
        EXPECT(gbc.pc(), 0x9b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03D9
        gbc.setState(0xef8, 0x40a9, 0x4900, 0x4626, 0xf4aa, 0xb12d, 0x1, 0x1);
        gbc.writeMem(0xef8, { 0xda, 0x97, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x40a9);
        EXPECT(gbc.pc(), 0xefb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // DA 03DA
        gbc.setState(0x3fce, 0x2a3b, 0xe950, 0xdbba, 0x9ffa, 0x37ad, 0x0, 0x1);
        gbc.writeMem(0x3fce, { 0xda, 0x85, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x2a3b);
        EXPECT(gbc.pc(), 0x4f85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03DB
        gbc.setState(0xc1d3, 0xd322, 0xfb20, 0xf77, 0x3779, 0x199d, 0x1, 0x0);
        gbc.writeMem(0xc1d3, { 0xda, 0x6c, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd322);
        EXPECT(gbc.pc(), 0xc1d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1d3), 0xda);
        EXPECT(gbc.readMem(0xc1d4), 0x6c);
        EXPECT(gbc.readMem(0xc1d5), 0x6b);
        // DA 03DC
        gbc.setState(0xac98, 0xd754, 0x78c0, 0x480d, 0x51c5, 0x68e2, 0x1, 0x1);
        gbc.writeMem(0xac98, { 0xda, 0x60, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xd754);
        EXPECT(gbc.pc(), 0xac9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac98), 0xda);
        EXPECT(gbc.readMem(0xac99), 0x60);
        EXPECT(gbc.readMem(0xac9a), 0x95);
        // DA 03DD
        gbc.setState(0xc495, 0x1104, 0xc580, 0xfc4a, 0x1bd5, 0xe51f, 0x0, 0x0);
        gbc.writeMem(0xc495, { 0xda, 0x7e, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1104);
        EXPECT(gbc.pc(), 0xc498);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc495), 0xda);
        EXPECT(gbc.readMem(0xc496), 0x7e);
        EXPECT(gbc.readMem(0xc497), 0x7c);
        // DA 03DE
        gbc.setState(0x71f4, 0x7034, 0x9350, 0x936d, 0x3915, 0xf302, 0x0, 0x0);
        gbc.writeMem(0x71f4, { 0xda, 0x39, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x7034);
        EXPECT(gbc.pc(), 0x3639);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03DF
        gbc.setState(0x3740, 0x1d72, 0x5fa0, 0x803a, 0x16c1, 0xe4e7, 0x1, 0x0);
        gbc.writeMem(0x3740, { 0xda, 0x63, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x1d72);
        EXPECT(gbc.pc(), 0x3743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // DA 03E0
        gbc.setState(0x862b, 0x845a, 0xbb70, 0x3d1a, 0x7726, 0xbaed, 0x1, 0x0);
        gbc.writeMem(0x862b, { 0xda, 0xb8, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x845a);
        EXPECT(gbc.pc(), 0xd9b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x862b), 0xda);
        EXPECT(gbc.readMem(0x862c), 0xb8);
        EXPECT(gbc.readMem(0x862d), 0xd9);
        // DA 03E1
        gbc.setState(0xd275, 0x9670, 0x3bc0, 0xdc4e, 0x4723, 0xef6a, 0x0, 0x1);
        gbc.writeMem(0xd275, { 0xda, 0x0, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x9670);
        EXPECT(gbc.pc(), 0xd278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd275), 0xda);
        EXPECT(gbc.readMem(0xd276), 0x0);
        EXPECT(gbc.readMem(0xd277), 0x96);
        // DA 03E2
        gbc.setState(0xb5bf, 0xa237, 0x3cf0, 0x4bd7, 0x6c2e, 0x9665, 0x0, 0x0);
        gbc.writeMem(0xb5bf, { 0xda, 0x94, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xa237);
        EXPECT(gbc.pc(), 0x2b94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5bf), 0xda);
        EXPECT(gbc.readMem(0xb5c0), 0x94);
        EXPECT(gbc.readMem(0xb5c1), 0x2b);
        // DA 03E3
        gbc.setState(0x902e, 0x834a, 0xda10, 0x4c68, 0x26ce, 0xcea2, 0x1, 0x0);
        gbc.writeMem(0x902e, { 0xda, 0x31, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x834a);
        EXPECT(gbc.pc(), 0xb631);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x902e), 0xda);
        EXPECT(gbc.readMem(0x902f), 0x31);
        EXPECT(gbc.readMem(0x9030), 0xb6);
        // DA 03E4
        gbc.setState(0xb9a7, 0xc356, 0xa130, 0xeac3, 0xcc3d, 0x4201, 0x1, 0x0);
        gbc.writeMem(0xb9a7, { 0xda, 0x8e, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xc356);
        EXPECT(gbc.pc(), 0xdf8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9a7), 0xda);
        EXPECT(gbc.readMem(0xb9a8), 0x8e);
        EXPECT(gbc.readMem(0xb9a9), 0xdf);
        // DA 03E5
        gbc.setState(0x2f31, 0xd91d, 0x4090, 0x1061, 0x6165, 0x335, 0x1, 0x0);
        gbc.writeMem(0x2f31, { 0xda, 0x7b, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xd91d);
        EXPECT(gbc.pc(), 0xbd7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // DA 03E6
        gbc.setState(0xdd7b, 0x6396, 0x6320, 0x96e9, 0xf09a, 0x9403, 0x1, 0x0);
        gbc.writeMem(0xdd7b, { 0xda, 0xf2, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x6396);
        EXPECT(gbc.pc(), 0xdd7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd7b), 0xda);
        EXPECT(gbc.readMem(0xdd7c), 0xf2);
        EXPECT(gbc.readMem(0xdd7d), 0x99);
        // DA 03E7
        gbc.setState(0xc9de, 0x896, 0x2a60, 0xde24, 0x69f1, 0xc120, 0x0, 0x1);
        gbc.writeMem(0xc9de, { 0xda, 0xbf, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x896);
        EXPECT(gbc.pc(), 0xc9e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9de), 0xda);
        EXPECT(gbc.readMem(0xc9df), 0xbf);
        EXPECT(gbc.readMem(0xc9e0), 0x90);
    }
