#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_cb_7a)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_cb_7a) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 7A 0000
        gbc.setState(0xad3, 0x7adf, 0xab50, 0x80c0, 0xe3e4, 0xa660, 0x0, 0x1);
        gbc.writeMem(0xad3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x7adf);
        EXPECT(gbc.pc(), 0xad5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0001
        gbc.setState(0xdd54, 0x559b, 0x12c0, 0xc4c5, 0xbd05, 0x4c61, 0x0, 0x1);
        gbc.writeMem(0xdd54, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x559b);
        EXPECT(gbc.pc(), 0xdd56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd54), 0xcb);
        EXPECT(gbc.readMem(0xdd55), 0x7a);
        // CB 7A 0002
        gbc.setState(0x7c86, 0x4d8f, 0xf370, 0x2f0d, 0xff3f, 0xc6ea, 0x0, 0x1);
        gbc.writeMem(0x7c86, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4d8f);
        EXPECT(gbc.pc(), 0x7c88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0003
        gbc.setState(0xa594, 0x44a2, 0xfbb0, 0x3834, 0xfef8, 0xa2fd, 0x0, 0x1);
        gbc.writeMem(0xa594, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x44a2);
        EXPECT(gbc.pc(), 0xa596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa594), 0xcb);
        EXPECT(gbc.readMem(0xa595), 0x7a);
        // CB 7A 0004
        gbc.setState(0xc79, 0x9a7c, 0x91a0, 0xd838, 0x4875, 0x1618, 0x0, 0x0);
        gbc.writeMem(0xc79, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9a7c);
        EXPECT(gbc.pc(), 0xc7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0005
        gbc.setState(0x7614, 0xc46c, 0xdf20, 0xf2ed, 0x46e5, 0xbfac, 0x0, 0x1);
        gbc.writeMem(0x7614, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc46c);
        EXPECT(gbc.pc(), 0x7616);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0006
        gbc.setState(0xcd16, 0xaf5c, 0x8480, 0xeabe, 0x6bd7, 0x9221, 0x0, 0x0);
        gbc.writeMem(0xcd16, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xaf5c);
        EXPECT(gbc.pc(), 0xcd18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd16), 0xcb);
        EXPECT(gbc.readMem(0xcd17), 0x7a);
        // CB 7A 0007
        gbc.setState(0xb7a3, 0xcfee, 0x8d30, 0x47cf, 0x808, 0xa69b, 0x1, 0x0);
        gbc.writeMem(0xb7a3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xcfee);
        EXPECT(gbc.pc(), 0xb7a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7a3), 0xcb);
        EXPECT(gbc.readMem(0xb7a4), 0x7a);
        // CB 7A 0008
        gbc.setState(0xc970, 0xe343, 0x8160, 0xd842, 0xcddb, 0x1668, 0x0, 0x0);
        gbc.writeMem(0xc970, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe343);
        EXPECT(gbc.pc(), 0xc972);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc970), 0xcb);
        EXPECT(gbc.readMem(0xc971), 0x7a);
        // CB 7A 0009
        gbc.setState(0x5627, 0x2aef, 0xbda0, 0x52d1, 0x852a, 0x128a, 0x0, 0x1);
        gbc.writeMem(0x5627, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x2aef);
        EXPECT(gbc.pc(), 0x5629);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 000A
        gbc.setState(0xb9c1, 0x335c, 0xe8e0, 0x58b4, 0xce23, 0x577d, 0x1, 0x0);
        gbc.writeMem(0xb9c1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x335c);
        EXPECT(gbc.pc(), 0xb9c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9c1), 0xcb);
        EXPECT(gbc.readMem(0xb9c2), 0x7a);
        // CB 7A 000B
        gbc.setState(0x1426, 0xbcce, 0x2000, 0x4533, 0xb16e, 0x25b0, 0x0, 0x1);
        gbc.writeMem(0x1426, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xbcce);
        EXPECT(gbc.pc(), 0x1428);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 000C
        gbc.setState(0x61e9, 0x9b03, 0x79a0, 0x2220, 0xc6be, 0xb979, 0x1, 0x1);
        gbc.writeMem(0x61e9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9b03);
        EXPECT(gbc.pc(), 0x61eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 000D
        gbc.setState(0x7d11, 0xc688, 0x8ab0, 0xc974, 0x78fa, 0xf08a, 0x0, 0x0);
        gbc.writeMem(0x7d11, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xc688);
        EXPECT(gbc.pc(), 0x7d13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 000E
        gbc.setState(0xd459, 0x6c23, 0x7160, 0x4eb8, 0x7bfb, 0x580d, 0x0, 0x1);
        gbc.writeMem(0xd459, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6c23);
        EXPECT(gbc.pc(), 0xd45b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd459), 0xcb);
        EXPECT(gbc.readMem(0xd45a), 0x7a);
        // CB 7A 000F
        gbc.setState(0xb890, 0x7a19, 0xd740, 0xade6, 0x864a, 0xe936, 0x1, 0x0);
        gbc.writeMem(0xb890, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x7a19);
        EXPECT(gbc.pc(), 0xb892);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb890), 0xcb);
        EXPECT(gbc.readMem(0xb891), 0x7a);
        // CB 7A 0010
        gbc.setState(0x57d, 0xbc90, 0x600, 0x3106, 0xc221, 0xe952, 0x0, 0x1);
        gbc.writeMem(0x57d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xbc90);
        EXPECT(gbc.pc(), 0x57f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0011
        gbc.setState(0x3622, 0x1e99, 0xde20, 0x531a, 0x8a9e, 0xcbaa, 0x0, 0x0);
        gbc.writeMem(0x3622, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1e99);
        EXPECT(gbc.pc(), 0x3624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0012
        gbc.setState(0xb9cb, 0xda65, 0xfc80, 0x222a, 0x0, 0x1f60, 0x0, 0x0);
        gbc.writeMem(0xb9cb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xda65);
        EXPECT(gbc.pc(), 0xb9cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9cb), 0xcb);
        EXPECT(gbc.readMem(0xb9cc), 0x7a);
        // CB 7A 0013
        gbc.setState(0xcfe0, 0x506e, 0x5fa0, 0xcab8, 0x8772, 0xfa7b, 0x1, 0x1);
        gbc.writeMem(0xcfe0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x506e);
        EXPECT(gbc.pc(), 0xcfe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfe0), 0xcb);
        EXPECT(gbc.readMem(0xcfe1), 0x7a);
        // CB 7A 0014
        gbc.setState(0xb630, 0x2c38, 0x7530, 0xd767, 0xcd58, 0x359d, 0x1, 0x1);
        gbc.writeMem(0xb630, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x2c38);
        EXPECT(gbc.pc(), 0xb632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb630), 0xcb);
        EXPECT(gbc.readMem(0xb631), 0x7a);
        // CB 7A 0015
        gbc.setState(0x43e5, 0x9521, 0x5d0, 0x386d, 0x627b, 0xc85e, 0x0, 0x0);
        gbc.writeMem(0x43e5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x9521);
        EXPECT(gbc.pc(), 0x43e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0016
        gbc.setState(0xb244, 0xdc5f, 0x4fc0, 0x516a, 0x60d3, 0x74c2, 0x1, 0x0);
        gbc.writeMem(0xb244, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xdc5f);
        EXPECT(gbc.pc(), 0xb246);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb244), 0xcb);
        EXPECT(gbc.readMem(0xb245), 0x7a);
        // CB 7A 0018
        gbc.setState(0x3243, 0x1024, 0x1510, 0x9b06, 0x8aaf, 0x600b, 0x0, 0x0);
        gbc.writeMem(0x3243, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1024);
        EXPECT(gbc.pc(), 0x3245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0019
        gbc.setState(0xeae0, 0x81d9, 0xf200, 0xd7bb, 0x222a, 0xab4d, 0x0, 0x1);
        gbc.writeMem(0xeae0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x81d9);
        EXPECT(gbc.pc(), 0xeae2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeae0), 0xcb);
        EXPECT(gbc.readMem(0xeae1), 0x7a);
        // CB 7A 001A
        gbc.setState(0xb5, 0xd5, 0xe9e0, 0x5911, 0xb100, 0x178f, 0x0, 0x1);
        gbc.writeMem(0xb5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd5);
        EXPECT(gbc.pc(), 0xb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 001B
        gbc.setState(0xe3c, 0x788f, 0x7610, 0x6b32, 0x2c36, 0x4ab8, 0x1, 0x0);
        gbc.writeMem(0xe3c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x788f);
        EXPECT(gbc.pc(), 0xe3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 001C
        gbc.setState(0xe1b0, 0x9b39, 0x4d90, 0xa5f, 0xfcad, 0xa921, 0x1, 0x0);
        gbc.writeMem(0xe1b0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x9b39);
        EXPECT(gbc.pc(), 0xe1b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1b0), 0xcb);
        EXPECT(gbc.readMem(0xe1b1), 0x7a);
        // CB 7A 001D
        gbc.setState(0x5eee, 0x5275, 0x50d0, 0x52db, 0xb201, 0x86df, 0x1, 0x1);
        gbc.writeMem(0x5eee, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5275);
        EXPECT(gbc.pc(), 0x5ef0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 001E
        gbc.setState(0xb988, 0x4286, 0x64d0, 0x86e7, 0x167e, 0x31a6, 0x0, 0x0);
        gbc.writeMem(0xb988, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4286);
        EXPECT(gbc.pc(), 0xb98a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb988), 0xcb);
        EXPECT(gbc.readMem(0xb989), 0x7a);
        // CB 7A 0020
        gbc.setState(0x9c3f, 0x7a4e, 0xe890, 0xf962, 0xe28c, 0x384b, 0x1, 0x1);
        gbc.writeMem(0x9c3f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x7a4e);
        EXPECT(gbc.pc(), 0x9c41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c3f), 0xcb);
        EXPECT(gbc.readMem(0x9c40), 0x7a);
        // CB 7A 0021
        gbc.setState(0x9381, 0xa656, 0x5120, 0xf1f5, 0xde5a, 0xb296, 0x0, 0x0);
        gbc.writeMem(0x9381, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xa656);
        EXPECT(gbc.pc(), 0x9383);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9381), 0xcb);
        EXPECT(gbc.readMem(0x9382), 0x7a);
        // CB 7A 0022
        gbc.setState(0xee52, 0xd589, 0x8c00, 0xf198, 0x77de, 0x9fa8, 0x0, 0x1);
        gbc.writeMem(0xee52, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xd589);
        EXPECT(gbc.pc(), 0xee54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee52), 0xcb);
        EXPECT(gbc.readMem(0xee53), 0x7a);
        // CB 7A 0023
        gbc.setState(0x702b, 0xc4df, 0xcd20, 0x3ed0, 0x592c, 0xe214, 0x1, 0x0);
        gbc.writeMem(0x702b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc4df);
        EXPECT(gbc.pc(), 0x702d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0024
        gbc.setState(0xa3f6, 0xa38a, 0x9b20, 0x3b08, 0x2943, 0x6ff4, 0x1, 0x1);
        gbc.writeMem(0xa3f6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa38a);
        EXPECT(gbc.pc(), 0xa3f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3f6), 0xcb);
        EXPECT(gbc.readMem(0xa3f7), 0x7a);
        // CB 7A 0025
        gbc.setState(0x2b81, 0xfe21, 0x4320, 0x2356, 0x73c8, 0xe64d, 0x1, 0x0);
        gbc.writeMem(0x2b81, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xfe21);
        EXPECT(gbc.pc(), 0x2b83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0026
        gbc.setState(0x6df8, 0xc382, 0xc390, 0xae45, 0xc2a5, 0xe5a8, 0x1, 0x1);
        gbc.writeMem(0x6df8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc382);
        EXPECT(gbc.pc(), 0x6dfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0027
        gbc.setState(0xe66a, 0x62f8, 0x5000, 0x37cd, 0x11ba, 0xd14c, 0x0, 0x1);
        gbc.writeMem(0xe66a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x62f8);
        EXPECT(gbc.pc(), 0xe66c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe66a), 0xcb);
        EXPECT(gbc.readMem(0xe66b), 0x7a);
        // CB 7A 0028
        gbc.setState(0xb150, 0xebff, 0x7450, 0x8e46, 0xcbdd, 0x1ec8, 0x1, 0x0);
        gbc.writeMem(0xb150, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xebff);
        EXPECT(gbc.pc(), 0xb152);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb150), 0xcb);
        EXPECT(gbc.readMem(0xb151), 0x7a);
        // CB 7A 0029
        gbc.setState(0x456c, 0xc904, 0xfc70, 0x37b0, 0xfeb9, 0xaba4, 0x0, 0x0);
        gbc.writeMem(0x456c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc904);
        EXPECT(gbc.pc(), 0x456e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 002A
        gbc.setState(0xc4b1, 0x1b25, 0x2360, 0x195, 0xec57, 0x6445, 0x0, 0x0);
        gbc.writeMem(0xc4b1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1b25);
        EXPECT(gbc.pc(), 0xc4b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4b1), 0xcb);
        EXPECT(gbc.readMem(0xc4b2), 0x7a);
        // CB 7A 002B
        gbc.setState(0x49b5, 0x3737, 0xfc20, 0x4e4f, 0x4ad7, 0xc5b, 0x1, 0x0);
        gbc.writeMem(0x49b5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3737);
        EXPECT(gbc.pc(), 0x49b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 002C
        gbc.setState(0x5446, 0x1436, 0x100, 0xba36, 0xfbf8, 0xfdfd, 0x1, 0x0);
        gbc.writeMem(0x5446, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x1436);
        EXPECT(gbc.pc(), 0x5448);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 002D
        gbc.setState(0x2c50, 0x5ca3, 0xc6c0, 0x6586, 0x369, 0x17a5, 0x1, 0x0);
        gbc.writeMem(0x2c50, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5ca3);
        EXPECT(gbc.pc(), 0x2c52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 002E
        gbc.setState(0x4540, 0x6ec2, 0xc2e0, 0x5bbe, 0xd510, 0xd702, 0x0, 0x0);
        gbc.writeMem(0x4540, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x6ec2);
        EXPECT(gbc.pc(), 0x4542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 002F
        gbc.setState(0xdd0e, 0x7a16, 0x4630, 0x3d7, 0xd34, 0x25cc, 0x1, 0x0);
        gbc.writeMem(0xdd0e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7a16);
        EXPECT(gbc.pc(), 0xdd10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd0e), 0xcb);
        EXPECT(gbc.readMem(0xdd0f), 0x7a);
        // CB 7A 0030
        gbc.setState(0x26b1, 0x7b1f, 0xb1b0, 0x176f, 0xaf88, 0x8f32, 0x1, 0x1);
        gbc.writeMem(0x26b1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7b1f);
        EXPECT(gbc.pc(), 0x26b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0031
        gbc.setState(0xd20, 0xaab1, 0xed70, 0x94c3, 0xb146, 0x57e6, 0x1, 0x0);
        gbc.writeMem(0xd20, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xaab1);
        EXPECT(gbc.pc(), 0xd22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0032
        gbc.setState(0x2ce4, 0x6335, 0xfd40, 0x69d1, 0x5e8c, 0xce2b, 0x0, 0x1);
        gbc.writeMem(0x2ce4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x6335);
        EXPECT(gbc.pc(), 0x2ce6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0033
        gbc.setState(0x9eb4, 0xa040, 0x6c20, 0x6487, 0x7d3d, 0xd179, 0x0, 0x0);
        gbc.writeMem(0x9eb4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xa040);
        EXPECT(gbc.pc(), 0x9eb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eb4), 0xcb);
        EXPECT(gbc.readMem(0x9eb5), 0x7a);
        // CB 7A 0034
        gbc.setState(0x2436, 0xade1, 0x890, 0x25ec, 0xa57, 0xb526, 0x0, 0x1);
        gbc.writeMem(0x2436, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xade1);
        EXPECT(gbc.pc(), 0x2438);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0035
        gbc.setState(0xcfff, 0x5213, 0xc760, 0xbba1, 0x24b2, 0x805, 0x1, 0x1);
        gbc.writeMem(0xcfff, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x5213);
        EXPECT(gbc.pc(), 0xd001);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfff), 0xcb);
        EXPECT(gbc.readMem(0xd000), 0x7a);
        // CB 7A 0036
        gbc.setState(0x479d, 0x2d14, 0x94d0, 0xa352, 0x3559, 0xadb9, 0x1, 0x1);
        gbc.writeMem(0x479d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x2d14);
        EXPECT(gbc.pc(), 0x479f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0037
        gbc.setState(0x33c3, 0x2a94, 0x1f70, 0x9a4c, 0xcb76, 0x6375, 0x0, 0x0);
        gbc.writeMem(0x33c3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2a94);
        EXPECT(gbc.pc(), 0x33c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0039
        gbc.setState(0x221d, 0xa721, 0xab40, 0x3e7a, 0xfbdb, 0xc987, 0x0, 0x1);
        gbc.writeMem(0x221d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa721);
        EXPECT(gbc.pc(), 0x221f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 003A
        gbc.setState(0xe05b, 0xf3a2, 0x6810, 0xe7a0, 0xc052, 0xdcb5, 0x0, 0x1);
        gbc.writeMem(0xe05b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf3a2);
        EXPECT(gbc.pc(), 0xe05d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe05b), 0xcb);
        EXPECT(gbc.readMem(0xe05c), 0x7a);
        // CB 7A 003B
        gbc.setState(0xbf7a, 0x403, 0xb950, 0x5332, 0xa0e4, 0x6d60, 0x1, 0x1);
        gbc.writeMem(0xbf7a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x403);
        EXPECT(gbc.pc(), 0xbf7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf7a), 0xcb);
        EXPECT(gbc.readMem(0xbf7b), 0x7a);
        // CB 7A 003C
        gbc.setState(0x6c50, 0x67a9, 0xd030, 0xa8d8, 0xe012, 0x189c, 0x0, 0x0);
        gbc.writeMem(0x6c50, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x67a9);
        EXPECT(gbc.pc(), 0x6c52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 003D
        gbc.setState(0x6973, 0x71d9, 0xceb0, 0xa6a9, 0x10e7, 0x9290, 0x0, 0x0);
        gbc.writeMem(0x6973, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x71d9);
        EXPECT(gbc.pc(), 0x6975);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 003F
        gbc.setState(0x9b57, 0xda3d, 0xf60, 0xb6bb, 0xbd12, 0xef23, 0x0, 0x1);
        gbc.writeMem(0x9b57, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xda3d);
        EXPECT(gbc.pc(), 0x9b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b57), 0xcb);
        EXPECT(gbc.readMem(0x9b58), 0x7a);
        // CB 7A 0040
        gbc.setState(0x372, 0xf20f, 0x65e0, 0x8a4b, 0xc7aa, 0x43e1, 0x1, 0x1);
        gbc.writeMem(0x372, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf20f);
        EXPECT(gbc.pc(), 0x374);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0041
        gbc.setState(0x4fc0, 0xbc30, 0x7db0, 0x61f5, 0xd280, 0xf7e9, 0x1, 0x1);
        gbc.writeMem(0x4fc0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xbc30);
        EXPECT(gbc.pc(), 0x4fc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0042
        gbc.setState(0xad41, 0x8f8f, 0x1df0, 0x5ba6, 0x4e27, 0xea7b, 0x1, 0x0);
        gbc.writeMem(0xad41, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x8f8f);
        EXPECT(gbc.pc(), 0xad43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad41), 0xcb);
        EXPECT(gbc.readMem(0xad42), 0x7a);
        // CB 7A 0043
        gbc.setState(0x5b62, 0x7d33, 0xa350, 0x9cad, 0x48e9, 0xe736, 0x0, 0x0);
        gbc.writeMem(0x5b62, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x7d33);
        EXPECT(gbc.pc(), 0x5b64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0044
        gbc.setState(0x50e, 0x39ac, 0x56c0, 0xdbc1, 0x5eab, 0x63fe, 0x0, 0x0);
        gbc.writeMem(0x50e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x39ac);
        EXPECT(gbc.pc(), 0x510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0045
        gbc.setState(0x6559, 0x41f9, 0x94a0, 0xecc6, 0x8a3e, 0x141f, 0x1, 0x0);
        gbc.writeMem(0x6559, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x41f9);
        EXPECT(gbc.pc(), 0x655b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0046
        gbc.setState(0x1100, 0x1e3a, 0x63e0, 0xbab8, 0x6acd, 0x2fe2, 0x0, 0x1);
        gbc.writeMem(0x1100, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x1e3a);
        EXPECT(gbc.pc(), 0x1102);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0047
        gbc.setState(0xc4b5, 0x87fa, 0xaa70, 0xafcd, 0xe2a0, 0x257d, 0x0, 0x1);
        gbc.writeMem(0xc4b5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x87fa);
        EXPECT(gbc.pc(), 0xc4b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4b5), 0xcb);
        EXPECT(gbc.readMem(0xc4b6), 0x7a);
        // CB 7A 0048
        gbc.setState(0xecd3, 0x4f55, 0x2210, 0x3c8, 0xbd97, 0x81ee, 0x1, 0x1);
        gbc.writeMem(0xecd3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4f55);
        EXPECT(gbc.pc(), 0xecd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecd3), 0xcb);
        EXPECT(gbc.readMem(0xecd4), 0x7a);
        // CB 7A 0049
        gbc.setState(0x5905, 0x6c65, 0x88d0, 0x93f8, 0x578e, 0x6274, 0x1, 0x1);
        gbc.writeMem(0x5905, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6c65);
        EXPECT(gbc.pc(), 0x5907);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 004A
        gbc.setState(0x9069, 0xca44, 0xfc50, 0x253c, 0xc28c, 0x7bd5, 0x0, 0x1);
        gbc.writeMem(0x9069, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xca44);
        EXPECT(gbc.pc(), 0x906b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9069), 0xcb);
        EXPECT(gbc.readMem(0x906a), 0x7a);
        // CB 7A 004B
        gbc.setState(0xe7eb, 0xbb25, 0x7e00, 0x65c, 0x325e, 0x81f9, 0x1, 0x1);
        gbc.writeMem(0xe7eb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xbb25);
        EXPECT(gbc.pc(), 0xe7ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7eb), 0xcb);
        EXPECT(gbc.readMem(0xe7ec), 0x7a);
        // CB 7A 004C
        gbc.setState(0x786f, 0x39c, 0x4260, 0xa865, 0x2bc1, 0x5f66, 0x0, 0x0);
        gbc.writeMem(0x786f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x39c);
        EXPECT(gbc.pc(), 0x7871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 004D
        gbc.setState(0x83de, 0xeff1, 0xc540, 0x1e97, 0xbbe8, 0xaba1, 0x1, 0x0);
        gbc.writeMem(0x83de, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xeff1);
        EXPECT(gbc.pc(), 0x83e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83de), 0xcb);
        EXPECT(gbc.readMem(0x83df), 0x7a);
        // CB 7A 004E
        gbc.setState(0x803, 0x690a, 0xb570, 0xe6c7, 0x1495, 0x642d, 0x1, 0x1);
        gbc.writeMem(0x803, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x690a);
        EXPECT(gbc.pc(), 0x805);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 004F
        gbc.setState(0x81e, 0xe1d6, 0xe630, 0x140d, 0x3395, 0x702f, 0x0, 0x0);
        gbc.writeMem(0x81e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe1d6);
        EXPECT(gbc.pc(), 0x820);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0050
        gbc.setState(0x283b, 0xb20a, 0xbb80, 0xee41, 0x75af, 0x6ad7, 0x0, 0x1);
        gbc.writeMem(0x283b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb20a);
        EXPECT(gbc.pc(), 0x283d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0051
        gbc.setState(0x647d, 0xceec, 0x22f0, 0xa01a, 0xa9f5, 0x2a25, 0x1, 0x0);
        gbc.writeMem(0x647d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xceec);
        EXPECT(gbc.pc(), 0x647f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0052
        gbc.setState(0x4ec5, 0x8391, 0xece0, 0x96d1, 0x4a4f, 0x293f, 0x1, 0x0);
        gbc.writeMem(0x4ec5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x8391);
        EXPECT(gbc.pc(), 0x4ec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0053
        gbc.setState(0x506f, 0x5abf, 0xb620, 0xd84c, 0xb56a, 0x2624, 0x0, 0x1);
        gbc.writeMem(0x506f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x5abf);
        EXPECT(gbc.pc(), 0x5071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0054
        gbc.setState(0xb279, 0x406d, 0xa9a0, 0x3064, 0x3bcb, 0xce18, 0x0, 0x0);
        gbc.writeMem(0xb279, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x406d);
        EXPECT(gbc.pc(), 0xb27b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb279), 0xcb);
        EXPECT(gbc.readMem(0xb27a), 0x7a);
        // CB 7A 0055
        gbc.setState(0x47b5, 0xb31d, 0x1c40, 0x9d82, 0xad1f, 0x397c, 0x0, 0x0);
        gbc.writeMem(0x47b5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb31d);
        EXPECT(gbc.pc(), 0x47b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0056
        gbc.setState(0x55b, 0x9b37, 0x1810, 0xc40f, 0x66f7, 0x5e42, 0x0, 0x0);
        gbc.writeMem(0x55b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x9b37);
        EXPECT(gbc.pc(), 0x55d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0057
        gbc.setState(0x314d, 0x5c62, 0xfd80, 0xbf3b, 0xb3e1, 0xe96, 0x1, 0x0);
        gbc.writeMem(0x314d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5c62);
        EXPECT(gbc.pc(), 0x314f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0058
        gbc.setState(0x3a59, 0x893f, 0x89b0, 0xd39b, 0x9779, 0x1ecb, 0x1, 0x0);
        gbc.writeMem(0x3a59, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x893f);
        EXPECT(gbc.pc(), 0x3a5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0059
        gbc.setState(0x548f, 0x94bd, 0x8030, 0x60b2, 0xdfb0, 0x6249, 0x0, 0x1);
        gbc.writeMem(0x548f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x94bd);
        EXPECT(gbc.pc(), 0x5491);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 005A
        gbc.setState(0xeb72, 0x54fd, 0x3f30, 0xbb90, 0x9e12, 0xf795, 0x0, 0x1);
        gbc.writeMem(0xeb72, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x54fd);
        EXPECT(gbc.pc(), 0xeb74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb72), 0xcb);
        EXPECT(gbc.readMem(0xeb73), 0x7a);
        // CB 7A 005B
        gbc.setState(0x5337, 0xf8fa, 0xb190, 0xde2c, 0x88af, 0xef3b, 0x0, 0x0);
        gbc.writeMem(0x5337, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xf8fa);
        EXPECT(gbc.pc(), 0x5339);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 005C
        gbc.setState(0x50ab, 0xd8c1, 0x9610, 0xe22a, 0xb307, 0x8f3, 0x1, 0x0);
        gbc.writeMem(0x50ab, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd8c1);
        EXPECT(gbc.pc(), 0x50ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 005D
        gbc.setState(0x5ba0, 0xa908, 0x7fb0, 0x569c, 0xe12e, 0xf73a, 0x1, 0x1);
        gbc.writeMem(0x5ba0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xa908);
        EXPECT(gbc.pc(), 0x5ba2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 005E
        gbc.setState(0x8fd2, 0x2e61, 0x3360, 0xd009, 0xdd08, 0xf3a5, 0x0, 0x0);
        gbc.writeMem(0x8fd2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2e61);
        EXPECT(gbc.pc(), 0x8fd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fd2), 0xcb);
        EXPECT(gbc.readMem(0x8fd3), 0x7a);
        // CB 7A 005F
        gbc.setState(0xedfe, 0xcfb1, 0xbc40, 0xf677, 0xed36, 0x7c73, 0x1, 0x0);
        gbc.writeMem(0xedfe, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xcfb1);
        EXPECT(gbc.pc(), 0xee00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedfe), 0xcb);
        EXPECT(gbc.readMem(0xedff), 0x7a);
        // CB 7A 0060
        gbc.setState(0xec5e, 0x4dbf, 0xd380, 0x5d9, 0x633f, 0x5eb6, 0x1, 0x0);
        gbc.writeMem(0xec5e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x4dbf);
        EXPECT(gbc.pc(), 0xec60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec5e), 0xcb);
        EXPECT(gbc.readMem(0xec5f), 0x7a);
        // CB 7A 0061
        gbc.setState(0x3260, 0x606d, 0x3dd0, 0xe8d9, 0x5911, 0xfe5a, 0x1, 0x0);
        gbc.writeMem(0x3260, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x606d);
        EXPECT(gbc.pc(), 0x3262);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0062
        gbc.setState(0xdce, 0x9675, 0x61d0, 0x624d, 0x48f1, 0xc5c3, 0x1, 0x1);
        gbc.writeMem(0xdce, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x9675);
        EXPECT(gbc.pc(), 0xdd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0063
        gbc.setState(0x8829, 0xd4cf, 0xaf90, 0xe5e9, 0xdb12, 0xd12b, 0x1, 0x0);
        gbc.writeMem(0x8829, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd4cf);
        EXPECT(gbc.pc(), 0x882b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8829), 0xcb);
        EXPECT(gbc.readMem(0x882a), 0x7a);
        // CB 7A 0064
        gbc.setState(0x70b7, 0x7ddf, 0x3d00, 0xb566, 0x21ac, 0x48d3, 0x1, 0x0);
        gbc.writeMem(0x70b7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x7ddf);
        EXPECT(gbc.pc(), 0x70b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0065
        gbc.setState(0x4cf4, 0xc1c7, 0xff40, 0x2d30, 0x8a04, 0x63c0, 0x0, 0x1);
        gbc.writeMem(0x4cf4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc1c7);
        EXPECT(gbc.pc(), 0x4cf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0066
        gbc.setState(0xa383, 0xd3a6, 0x5d80, 0x2a78, 0x392, 0xc84c, 0x0, 0x1);
        gbc.writeMem(0xa383, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xd3a6);
        EXPECT(gbc.pc(), 0xa385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa383), 0xcb);
        EXPECT(gbc.readMem(0xa384), 0x7a);
        // CB 7A 0067
        gbc.setState(0x6fd8, 0x64a6, 0x7150, 0x903a, 0xebd7, 0x31f9, 0x0, 0x0);
        gbc.writeMem(0x6fd8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x64a6);
        EXPECT(gbc.pc(), 0x6fda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0068
        gbc.setState(0xd66f, 0xc80a, 0x6490, 0xabb, 0x6e3b, 0x33d3, 0x0, 0x0);
        gbc.writeMem(0xd66f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc80a);
        EXPECT(gbc.pc(), 0xd671);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd66f), 0xcb);
        EXPECT(gbc.readMem(0xd670), 0x7a);
        // CB 7A 0069
        gbc.setState(0xaae7, 0xfc04, 0x6d0, 0xbd43, 0xb924, 0xc33e, 0x1, 0x1);
        gbc.writeMem(0xaae7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xfc04);
        EXPECT(gbc.pc(), 0xaae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaae7), 0xcb);
        EXPECT(gbc.readMem(0xaae8), 0x7a);
        // CB 7A 006A
        gbc.setState(0xd930, 0x3e4, 0xe450, 0x1aea, 0xc422, 0x155f, 0x1, 0x0);
        gbc.writeMem(0xd930, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x3e4);
        EXPECT(gbc.pc(), 0xd932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd930), 0xcb);
        EXPECT(gbc.readMem(0xd931), 0x7a);
        // CB 7A 006B
        gbc.setState(0xbcc1, 0xbad3, 0x6f20, 0x45ca, 0x8e07, 0x4321, 0x1, 0x0);
        gbc.writeMem(0xbcc1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xbad3);
        EXPECT(gbc.pc(), 0xbcc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcc1), 0xcb);
        EXPECT(gbc.readMem(0xbcc2), 0x7a);
        // CB 7A 006C
        gbc.setState(0x859f, 0x505a, 0xbe0, 0x2822, 0x3986, 0x91bb, 0x1, 0x0);
        gbc.writeMem(0x859f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x505a);
        EXPECT(gbc.pc(), 0x85a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x859f), 0xcb);
        EXPECT(gbc.readMem(0x85a0), 0x7a);
        // CB 7A 006D
        gbc.setState(0x48f3, 0xcc2, 0x4b70, 0x3785, 0x5730, 0x62c, 0x0, 0x0);
        gbc.writeMem(0x48f3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xcc2);
        EXPECT(gbc.pc(), 0x48f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 006E
        gbc.setState(0x840, 0xb01a, 0x6680, 0xe678, 0xadb7, 0x1659, 0x0, 0x1);
        gbc.writeMem(0x840, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xb01a);
        EXPECT(gbc.pc(), 0x842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 006F
        gbc.setState(0x6406, 0xe5cd, 0xae60, 0xb490, 0x1517, 0xda2, 0x0, 0x0);
        gbc.writeMem(0x6406, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xe5cd);
        EXPECT(gbc.pc(), 0x6408);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0070
        gbc.setState(0xbda1, 0x306b, 0xca70, 0xdc7b, 0xdc0d, 0x5901, 0x0, 0x1);
        gbc.writeMem(0xbda1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x306b);
        EXPECT(gbc.pc(), 0xbda3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbda1), 0xcb);
        EXPECT(gbc.readMem(0xbda2), 0x7a);
        // CB 7A 0071
        gbc.setState(0x6762, 0x2672, 0x8fb0, 0x649e, 0x5196, 0xdcf0, 0x1, 0x0);
        gbc.writeMem(0x6762, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x2672);
        EXPECT(gbc.pc(), 0x6764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0072
        gbc.setState(0x4cda, 0xb4e3, 0x7cd0, 0xf3bf, 0xd9d5, 0xbea6, 0x0, 0x1);
        gbc.writeMem(0x4cda, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb4e3);
        EXPECT(gbc.pc(), 0x4cdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0073
        gbc.setState(0x3bb0, 0x45fd, 0xad90, 0x23c9, 0x23f7, 0xd9c, 0x1, 0x0);
        gbc.writeMem(0x3bb0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x45fd);
        EXPECT(gbc.pc(), 0x3bb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0074
        gbc.setState(0xab66, 0xd665, 0x38d0, 0x84a2, 0x3242, 0xfe75, 0x0, 0x0);
        gbc.writeMem(0xab66, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xd665);
        EXPECT(gbc.pc(), 0xab68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab66), 0xcb);
        EXPECT(gbc.readMem(0xab67), 0x7a);
        // CB 7A 0075
        gbc.setState(0x64c0, 0x6298, 0x2ee0, 0x37d0, 0xf826, 0x2d6, 0x0, 0x0);
        gbc.writeMem(0x64c0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x6298);
        EXPECT(gbc.pc(), 0x64c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0076
        gbc.setState(0x339b, 0x4488, 0x9790, 0xf4c8, 0xac79, 0x287a, 0x0, 0x0);
        gbc.writeMem(0x339b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4488);
        EXPECT(gbc.pc(), 0x339d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0077
        gbc.setState(0x8ca5, 0x2f76, 0x49a0, 0x2714, 0xb96f, 0x9050, 0x1, 0x0);
        gbc.writeMem(0x8ca5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2f76);
        EXPECT(gbc.pc(), 0x8ca7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca5), 0xcb);
        EXPECT(gbc.readMem(0x8ca6), 0x7a);
        // CB 7A 0078
        gbc.setState(0x7ab7, 0x4d03, 0x11b0, 0xc236, 0x2b9f, 0x90e7, 0x0, 0x0);
        gbc.writeMem(0x7ab7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4d03);
        EXPECT(gbc.pc(), 0x7ab9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0079
        gbc.setState(0x9a1d, 0x559c, 0x5a50, 0x9a8e, 0xcfde, 0xa5bb, 0x0, 0x1);
        gbc.writeMem(0x9a1d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x559c);
        EXPECT(gbc.pc(), 0x9a1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a1d), 0xcb);
        EXPECT(gbc.readMem(0x9a1e), 0x7a);
        // CB 7A 007A
        gbc.setState(0x45e1, 0x371b, 0x4380, 0x862a, 0x2bd3, 0xdfa6, 0x0, 0x1);
        gbc.writeMem(0x45e1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x371b);
        EXPECT(gbc.pc(), 0x45e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 007B
        gbc.setState(0x5af3, 0x300f, 0x9520, 0x8b82, 0xe2be, 0xe101, 0x1, 0x1);
        gbc.writeMem(0x5af3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x300f);
        EXPECT(gbc.pc(), 0x5af5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 007C
        gbc.setState(0xd855, 0xc440, 0x1e40, 0x1293, 0x9ddb, 0x9331, 0x1, 0x1);
        gbc.writeMem(0xd855, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc440);
        EXPECT(gbc.pc(), 0xd857);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd855), 0xcb);
        EXPECT(gbc.readMem(0xd856), 0x7a);
        // CB 7A 007D
        gbc.setState(0x2f77, 0x452d, 0x7a60, 0x56e, 0xc586, 0x70b2, 0x1, 0x1);
        gbc.writeMem(0x2f77, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x452d);
        EXPECT(gbc.pc(), 0x2f79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 007F
        gbc.setState(0x6dd1, 0x1b54, 0x6f40, 0xfda6, 0x81da, 0xa185, 0x1, 0x1);
        gbc.writeMem(0x6dd1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1b54);
        EXPECT(gbc.pc(), 0x6dd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0081
        gbc.setState(0x67e, 0xe723, 0x5500, 0xc454, 0xee12, 0x4916, 0x0, 0x1);
        gbc.writeMem(0x67e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xe723);
        EXPECT(gbc.pc(), 0x680);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0082
        gbc.setState(0xb4d1, 0x64a8, 0x8ce0, 0xb34a, 0x4cf7, 0xeaea, 0x0, 0x0);
        gbc.writeMem(0xb4d1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x64a8);
        EXPECT(gbc.pc(), 0xb4d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d1), 0xcb);
        EXPECT(gbc.readMem(0xb4d2), 0x7a);
        // CB 7A 0083
        gbc.setState(0x27e, 0x3603, 0x33a0, 0x607e, 0xd3c8, 0x2dea, 0x1, 0x1);
        gbc.writeMem(0x27e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x3603);
        EXPECT(gbc.pc(), 0x280);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0084
        gbc.setState(0xc290, 0xcb22, 0x9f30, 0xd746, 0x9d58, 0x7bb5, 0x1, 0x1);
        gbc.writeMem(0xc290, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xcb22);
        EXPECT(gbc.pc(), 0xc292);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc290), 0xcb);
        EXPECT(gbc.readMem(0xc291), 0x7a);
        // CB 7A 0085
        gbc.setState(0x6750, 0xc9f6, 0x5460, 0xe226, 0xcc34, 0xeaad, 0x1, 0x0);
        gbc.writeMem(0x6750, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc9f6);
        EXPECT(gbc.pc(), 0x6752);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0086
        gbc.setState(0x3e86, 0x4ab4, 0x1bb0, 0x252b, 0x2d0d, 0xd863, 0x1, 0x0);
        gbc.writeMem(0x3e86, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x4ab4);
        EXPECT(gbc.pc(), 0x3e88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0087
        gbc.setState(0x6c61, 0x68ad, 0xb380, 0x9455, 0xc23, 0x90b2, 0x1, 0x0);
        gbc.writeMem(0x6c61, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x68ad);
        EXPECT(gbc.pc(), 0x6c63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0088
        gbc.setState(0x19c6, 0xfc7d, 0x9270, 0xc59f, 0x11d8, 0x29e3, 0x0, 0x0);
        gbc.writeMem(0x19c6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xfc7d);
        EXPECT(gbc.pc(), 0x19c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0089
        gbc.setState(0xd94c, 0x6362, 0x38c0, 0x52f, 0x3e39, 0x7085, 0x0, 0x0);
        gbc.writeMem(0xd94c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x6362);
        EXPECT(gbc.pc(), 0xd94e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd94c), 0xcb);
        EXPECT(gbc.readMem(0xd94d), 0x7a);
        // CB 7A 008A
        gbc.setState(0x26a, 0x6215, 0x8230, 0x9230, 0x3d82, 0x41a, 0x0, 0x0);
        gbc.writeMem(0x26a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x6215);
        EXPECT(gbc.pc(), 0x26c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 008B
        gbc.setState(0x2ef, 0xdfd, 0x780, 0x2451, 0x893d, 0xafbd, 0x0, 0x1);
        gbc.writeMem(0x2ef, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xdfd);
        EXPECT(gbc.pc(), 0x2f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 008C
        gbc.setState(0x4fd2, 0x57f9, 0x240, 0xc3f9, 0x228f, 0xf28e, 0x1, 0x1);
        gbc.writeMem(0x4fd2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x57f9);
        EXPECT(gbc.pc(), 0x4fd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 008D
        gbc.setState(0x37f9, 0x457c, 0xbdf0, 0xcd3b, 0x580f, 0xa8dc, 0x1, 0x0);
        gbc.writeMem(0x37f9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x457c);
        EXPECT(gbc.pc(), 0x37fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 008E
        gbc.setState(0x81ef, 0xea49, 0x9c80, 0xc0a4, 0x3e47, 0x6e89, 0x1, 0x0);
        gbc.writeMem(0x81ef, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xea49);
        EXPECT(gbc.pc(), 0x81f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ef), 0xcb);
        EXPECT(gbc.readMem(0x81f0), 0x7a);
        // CB 7A 008F
        gbc.setState(0x3e8b, 0xaa54, 0xa700, 0x1a96, 0x7a7f, 0xd112, 0x1, 0x0);
        gbc.writeMem(0x3e8b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xaa54);
        EXPECT(gbc.pc(), 0x3e8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0090
        gbc.setState(0xdaa8, 0xf514, 0xc1d0, 0x1364, 0x67c2, 0x86f3, 0x1, 0x0);
        gbc.writeMem(0xdaa8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf514);
        EXPECT(gbc.pc(), 0xdaaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaa8), 0xcb);
        EXPECT(gbc.readMem(0xdaa9), 0x7a);
        // CB 7A 0091
        gbc.setState(0x2027, 0xaca5, 0x1fc0, 0x5f03, 0xe19d, 0x772b, 0x1, 0x1);
        gbc.writeMem(0x2027, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xaca5);
        EXPECT(gbc.pc(), 0x2029);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0092
        gbc.setState(0xa480, 0x1bab, 0x6ce0, 0xf51f, 0x7980, 0x4a27, 0x0, 0x0);
        gbc.writeMem(0xa480, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x1bab);
        EXPECT(gbc.pc(), 0xa482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa480), 0xcb);
        EXPECT(gbc.readMem(0xa481), 0x7a);
        // CB 7A 0093
        gbc.setState(0x7dca, 0xadeb, 0x1300, 0xe637, 0x24aa, 0xb746, 0x1, 0x0);
        gbc.writeMem(0x7dca, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xadeb);
        EXPECT(gbc.pc(), 0x7dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0094
        gbc.setState(0xe98d, 0x5460, 0xfbf0, 0x6cc1, 0x948e, 0xe9f1, 0x1, 0x0);
        gbc.writeMem(0xe98d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x5460);
        EXPECT(gbc.pc(), 0xe98f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe98d), 0xcb);
        EXPECT(gbc.readMem(0xe98e), 0x7a);
        // CB 7A 0095
        gbc.setState(0xebda, 0x4b9, 0x11e0, 0x8401, 0x430, 0x5a99, 0x1, 0x1);
        gbc.writeMem(0xebda, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x4b9);
        EXPECT(gbc.pc(), 0xebdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebda), 0xcb);
        EXPECT(gbc.readMem(0xebdb), 0x7a);
        // CB 7A 0096
        gbc.setState(0xd6c5, 0x2e9, 0x1df0, 0x58df, 0x57cd, 0x4636, 0x1, 0x1);
        gbc.writeMem(0xd6c5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2e9);
        EXPECT(gbc.pc(), 0xd6c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6c5), 0xcb);
        EXPECT(gbc.readMem(0xd6c6), 0x7a);
        // CB 7A 0097
        gbc.setState(0xd729, 0xf409, 0xa160, 0xb66f, 0x63b8, 0x82db, 0x0, 0x0);
        gbc.writeMem(0xd729, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf409);
        EXPECT(gbc.pc(), 0xd72b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd729), 0xcb);
        EXPECT(gbc.readMem(0xd72a), 0x7a);
        // CB 7A 0098
        gbc.setState(0xb63a, 0x4172, 0x9b80, 0xdfe0, 0xe739, 0x8822, 0x1, 0x0);
        gbc.writeMem(0xb63a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4172);
        EXPECT(gbc.pc(), 0xb63c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb63a), 0xcb);
        EXPECT(gbc.readMem(0xb63b), 0x7a);
        // CB 7A 009A
        gbc.setState(0x23ff, 0x8faa, 0xe6b0, 0x832b, 0x1778, 0x338c, 0x1, 0x1);
        gbc.writeMem(0x23ff, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8faa);
        EXPECT(gbc.pc(), 0x2401);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 009C
        gbc.setState(0x7c00, 0x3af, 0xd210, 0xe36b, 0x31f4, 0x8f13, 0x1, 0x0);
        gbc.writeMem(0x7c00, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x3af);
        EXPECT(gbc.pc(), 0x7c02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 009D
        gbc.setState(0xc171, 0x91de, 0xa570, 0xf036, 0xb3ca, 0x4e37, 0x0, 0x0);
        gbc.writeMem(0xc171, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x91de);
        EXPECT(gbc.pc(), 0xc173);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc171), 0xcb);
        EXPECT(gbc.readMem(0xc172), 0x7a);
        // CB 7A 009E
        gbc.setState(0x21fb, 0x91b2, 0xa150, 0xe47e, 0x6929, 0xf60e, 0x0, 0x0);
        gbc.writeMem(0x21fb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x91b2);
        EXPECT(gbc.pc(), 0x21fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 009F
        gbc.setState(0x3305, 0x874, 0x6d70, 0xd4e0, 0x9deb, 0x2bd2, 0x0, 0x0);
        gbc.writeMem(0x3305, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x874);
        EXPECT(gbc.pc(), 0x3307);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00A0
        gbc.setState(0xb547, 0xed62, 0xd2a0, 0x4c1a, 0x7677, 0xea90, 0x0, 0x0);
        gbc.writeMem(0xb547, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xed62);
        EXPECT(gbc.pc(), 0xb549);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb547), 0xcb);
        EXPECT(gbc.readMem(0xb548), 0x7a);
        // CB 7A 00A1
        gbc.setState(0xb267, 0xee7, 0x7740, 0x5e96, 0xa2cc, 0xd4c3, 0x1, 0x1);
        gbc.writeMem(0xb267, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xee7);
        EXPECT(gbc.pc(), 0xb269);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb267), 0xcb);
        EXPECT(gbc.readMem(0xb268), 0x7a);
        // CB 7A 00A2
        gbc.setState(0xe664, 0xc8f2, 0x4970, 0x8784, 0x44d6, 0xaf5, 0x1, 0x0);
        gbc.writeMem(0xe664, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xc8f2);
        EXPECT(gbc.pc(), 0xe666);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe664), 0xcb);
        EXPECT(gbc.readMem(0xe665), 0x7a);
        // CB 7A 00A3
        gbc.setState(0x477, 0x34a1, 0x7040, 0x9e70, 0xdf31, 0x46bc, 0x0, 0x1);
        gbc.writeMem(0x477, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x34a1);
        EXPECT(gbc.pc(), 0x479);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00A4
        gbc.setState(0x39a1, 0xff0f, 0x110, 0x1164, 0xbba1, 0xcff3, 0x0, 0x1);
        gbc.writeMem(0x39a1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xff0f);
        EXPECT(gbc.pc(), 0x39a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00A5
        gbc.setState(0xe72a, 0x22ee, 0xbf40, 0xb473, 0xc54f, 0x1396, 0x1, 0x1);
        gbc.writeMem(0xe72a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x22ee);
        EXPECT(gbc.pc(), 0xe72c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe72a), 0xcb);
        EXPECT(gbc.readMem(0xe72b), 0x7a);
        // CB 7A 00A6
        gbc.setState(0x8ca0, 0x11a3, 0xe5e0, 0x9d10, 0xee09, 0x3e39, 0x0, 0x1);
        gbc.writeMem(0x8ca0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x11a3);
        EXPECT(gbc.pc(), 0x8ca2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca0), 0xcb);
        EXPECT(gbc.readMem(0x8ca1), 0x7a);
        // CB 7A 00A8
        gbc.setState(0xeed, 0x8014, 0xaf80, 0x89bc, 0x7802, 0xf22e, 0x1, 0x0);
        gbc.writeMem(0xeed, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x8014);
        EXPECT(gbc.pc(), 0xeef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00A9
        gbc.setState(0xef16, 0x1ffe, 0xe500, 0xe279, 0x3b51, 0xf951, 0x0, 0x0);
        gbc.writeMem(0xef16, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x1ffe);
        EXPECT(gbc.pc(), 0xef18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef16), 0xcb);
        EXPECT(gbc.readMem(0xef17), 0x7a);
        // CB 7A 00AA
        gbc.setState(0xd1a8, 0xb44a, 0x6fd0, 0xb4, 0xc6d0, 0x6bc, 0x0, 0x0);
        gbc.writeMem(0xd1a8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb44a);
        EXPECT(gbc.pc(), 0xd1aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1a8), 0xcb);
        EXPECT(gbc.readMem(0xd1a9), 0x7a);
        // CB 7A 00AB
        gbc.setState(0x61c7, 0xc895, 0x6e80, 0xa19f, 0x5602, 0x149b, 0x0, 0x0);
        gbc.writeMem(0x61c7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc895);
        EXPECT(gbc.pc(), 0x61c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00AC
        gbc.setState(0x95d, 0x3537, 0x5300, 0xf383, 0x992d, 0x7bfe, 0x1, 0x1);
        gbc.writeMem(0x95d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x3537);
        EXPECT(gbc.pc(), 0x95f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00AD
        gbc.setState(0x2f38, 0xaf8b, 0x5470, 0x45a0, 0xc1a9, 0x2e46, 0x1, 0x0);
        gbc.writeMem(0x2f38, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xaf8b);
        EXPECT(gbc.pc(), 0x2f3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00AE
        gbc.setState(0x2aa6, 0x299b, 0x7a60, 0x8316, 0x5664, 0x42a4, 0x1, 0x0);
        gbc.writeMem(0x2aa6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x299b);
        EXPECT(gbc.pc(), 0x2aa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00AF
        gbc.setState(0x19c3, 0xb4b, 0xb1c0, 0x3847, 0x295e, 0xc275, 0x0, 0x1);
        gbc.writeMem(0x19c3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xb4b);
        EXPECT(gbc.pc(), 0x19c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00B0
        gbc.setState(0x3330, 0xe183, 0x73b0, 0x307e, 0x3c37, 0xc7dd, 0x1, 0x0);
        gbc.writeMem(0x3330, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe183);
        EXPECT(gbc.pc(), 0x3332);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00B1
        gbc.setState(0x5407, 0x7393, 0xd870, 0x7012, 0xaccc, 0xe023, 0x0, 0x0);
        gbc.writeMem(0x5407, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7393);
        EXPECT(gbc.pc(), 0x5409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00B2
        gbc.setState(0x79f1, 0xe8e7, 0x6dd0, 0x29b0, 0x35d8, 0x5473, 0x0, 0x1);
        gbc.writeMem(0x79f1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xe8e7);
        EXPECT(gbc.pc(), 0x79f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00B3
        gbc.setState(0xf73, 0x812f, 0x7220, 0x5e7b, 0x2f66, 0x896e, 0x1, 0x1);
        gbc.writeMem(0xf73, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x812f);
        EXPECT(gbc.pc(), 0xf75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00B4
        gbc.setState(0x12e2, 0x1373, 0x7cf0, 0xe7bc, 0x6569, 0xe8d4, 0x1, 0x0);
        gbc.writeMem(0x12e2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x1373);
        EXPECT(gbc.pc(), 0x12e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00B5
        gbc.setState(0xa7cc, 0x5583, 0xbda0, 0xbe7e, 0x3aab, 0xdc3, 0x0, 0x0);
        gbc.writeMem(0xa7cc, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5583);
        EXPECT(gbc.pc(), 0xa7ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7cc), 0xcb);
        EXPECT(gbc.readMem(0xa7cd), 0x7a);
        // CB 7A 00B6
        gbc.setState(0x70da, 0x526f, 0x2600, 0x6660, 0x1d38, 0xdd90, 0x0, 0x0);
        gbc.writeMem(0x70da, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x526f);
        EXPECT(gbc.pc(), 0x70dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00B7
        gbc.setState(0x6aef, 0xc417, 0x2720, 0x6398, 0xbee, 0x2a1a, 0x0, 0x1);
        gbc.writeMem(0x6aef, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xc417);
        EXPECT(gbc.pc(), 0x6af1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00B8
        gbc.setState(0xae14, 0x8626, 0xe030, 0xf611, 0x874f, 0x2a7, 0x1, 0x0);
        gbc.writeMem(0xae14, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8626);
        EXPECT(gbc.pc(), 0xae16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae14), 0xcb);
        EXPECT(gbc.readMem(0xae15), 0x7a);
        // CB 7A 00B9
        gbc.setState(0x5a06, 0xee3a, 0x5700, 0xf79, 0x90ee, 0x5543, 0x0, 0x1);
        gbc.writeMem(0x5a06, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xee3a);
        EXPECT(gbc.pc(), 0x5a08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00BA
        gbc.setState(0x8cd, 0xf6ea, 0x1060, 0x4449, 0x5f64, 0x4903, 0x1, 0x0);
        gbc.writeMem(0x8cd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf6ea);
        EXPECT(gbc.pc(), 0x8cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00BB
        gbc.setState(0x16c0, 0x960d, 0xb400, 0x5f3c, 0x9549, 0x621, 0x0, 0x0);
        gbc.writeMem(0x16c0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x960d);
        EXPECT(gbc.pc(), 0x16c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00BC
        gbc.setState(0x19fd, 0x41dd, 0xa9c0, 0x1ff6, 0xcc4e, 0xcb09, 0x0, 0x0);
        gbc.writeMem(0x19fd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x41dd);
        EXPECT(gbc.pc(), 0x19ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00BD
        gbc.setState(0x3dfc, 0x818e, 0x6650, 0x5a03, 0xf08c, 0x70d7, 0x1, 0x1);
        gbc.writeMem(0x3dfc, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x818e);
        EXPECT(gbc.pc(), 0x3dfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00BE
        gbc.setState(0x58b9, 0x9a2f, 0x6780, 0x8d0e, 0x26e1, 0x8166, 0x0, 0x0);
        gbc.writeMem(0x58b9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x9a2f);
        EXPECT(gbc.pc(), 0x58bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00BF
        gbc.setState(0x6bfd, 0x9e5, 0x6400, 0x6c25, 0x621f, 0xf3e7, 0x1, 0x1);
        gbc.writeMem(0x6bfd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9e5);
        EXPECT(gbc.pc(), 0x6bff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00C0
        gbc.setState(0x6fd8, 0x948c, 0x8430, 0x6b08, 0xfd1, 0xed57, 0x0, 0x1);
        gbc.writeMem(0x6fd8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x948c);
        EXPECT(gbc.pc(), 0x6fda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00C1
        gbc.setState(0xe4d8, 0x7f1d, 0xffb0, 0xaa55, 0xa076, 0x396b, 0x1, 0x0);
        gbc.writeMem(0xe4d8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7f1d);
        EXPECT(gbc.pc(), 0xe4da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4d8), 0xcb);
        EXPECT(gbc.readMem(0xe4d9), 0x7a);
        // CB 7A 00C2
        gbc.setState(0x234c, 0xcf28, 0xffd0, 0x1af6, 0xce15, 0xe7f, 0x1, 0x1);
        gbc.writeMem(0x234c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xcf28);
        EXPECT(gbc.pc(), 0x234e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00C3
        gbc.setState(0x324d, 0xa1cf, 0x2a00, 0xc8b2, 0x46, 0x7c19, 0x0, 0x1);
        gbc.writeMem(0x324d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa1cf);
        EXPECT(gbc.pc(), 0x324f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00C4
        gbc.setState(0x574e, 0xe276, 0x3510, 0x35ad, 0x814b, 0xa92f, 0x1, 0x1);
        gbc.writeMem(0x574e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe276);
        EXPECT(gbc.pc(), 0x5750);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00C5
        gbc.setState(0xbd5f, 0xdab7, 0x7f50, 0x3b44, 0xbe58, 0x4fe1, 0x0, 0x1);
        gbc.writeMem(0xbd5f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xdab7);
        EXPECT(gbc.pc(), 0xbd61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd5f), 0xcb);
        EXPECT(gbc.readMem(0xbd60), 0x7a);
        // CB 7A 00C6
        gbc.setState(0xa446, 0xcdff, 0x56c0, 0x19cf, 0x7f62, 0xe567, 0x1, 0x0);
        gbc.writeMem(0xa446, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xcdff);
        EXPECT(gbc.pc(), 0xa448);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa446), 0xcb);
        EXPECT(gbc.readMem(0xa447), 0x7a);
        // CB 7A 00C8
        gbc.setState(0x1be8, 0xbe56, 0xd950, 0x2a55, 0xe23b, 0x3f57, 0x1, 0x1);
        gbc.writeMem(0x1be8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xbe56);
        EXPECT(gbc.pc(), 0x1bea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00C9
        gbc.setState(0xd158, 0x849b, 0x7750, 0xf20, 0x86c3, 0xd67c, 0x0, 0x0);
        gbc.writeMem(0xd158, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x849b);
        EXPECT(gbc.pc(), 0xd15a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd158), 0xcb);
        EXPECT(gbc.readMem(0xd159), 0x7a);
        // CB 7A 00CA
        gbc.setState(0x993f, 0xa537, 0xfeb0, 0x6eff, 0x46dc, 0x5323, 0x0, 0x0);
        gbc.writeMem(0x993f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xa537);
        EXPECT(gbc.pc(), 0x9941);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x993f), 0xcb);
        EXPECT(gbc.readMem(0x9940), 0x7a);
        // CB 7A 00CB
        gbc.setState(0xba52, 0x9626, 0x47d0, 0xa85c, 0xbdfc, 0x2dd5, 0x0, 0x0);
        gbc.writeMem(0xba52, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9626);
        EXPECT(gbc.pc(), 0xba54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba52), 0xcb);
        EXPECT(gbc.readMem(0xba53), 0x7a);
        // CB 7A 00CC
        gbc.setState(0x3efb, 0xbf40, 0xa160, 0x539d, 0xa933, 0x5bc7, 0x1, 0x0);
        gbc.writeMem(0x3efb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xbf40);
        EXPECT(gbc.pc(), 0x3efd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00CD
        gbc.setState(0x2f12, 0x55e7, 0xf5b0, 0xa5f5, 0xf511, 0xf334, 0x0, 0x0);
        gbc.writeMem(0x2f12, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x55e7);
        EXPECT(gbc.pc(), 0x2f14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00CE
        gbc.setState(0x8940, 0x9a13, 0xe8d0, 0xa8c1, 0x2c79, 0xc83c, 0x1, 0x0);
        gbc.writeMem(0x8940, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x9a13);
        EXPECT(gbc.pc(), 0x8942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8940), 0xcb);
        EXPECT(gbc.readMem(0x8941), 0x7a);
        // CB 7A 00D0
        gbc.setState(0xace4, 0xd500, 0x40, 0x1608, 0xbaa1, 0xc709, 0x1, 0x0);
        gbc.writeMem(0xace4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xd500);
        EXPECT(gbc.pc(), 0xace6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xace4), 0xcb);
        EXPECT(gbc.readMem(0xace5), 0x7a);
        // CB 7A 00D1
        gbc.setState(0x6639, 0xb292, 0x2d70, 0x366b, 0xf88a, 0x4f11, 0x0, 0x1);
        gbc.writeMem(0x6639, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb292);
        EXPECT(gbc.pc(), 0x663b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00D2
        gbc.setState(0x6f1, 0x952e, 0x35f0, 0xeb9e, 0xac5b, 0x4386, 0x0, 0x1);
        gbc.writeMem(0x6f1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x952e);
        EXPECT(gbc.pc(), 0x6f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00D3
        gbc.setState(0xd541, 0xe3be, 0xe230, 0x3c91, 0x1275, 0x3689, 0x1, 0x1);
        gbc.writeMem(0xd541, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xe3be);
        EXPECT(gbc.pc(), 0xd543);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd541), 0xcb);
        EXPECT(gbc.readMem(0xd542), 0x7a);
        // CB 7A 00D4
        gbc.setState(0x86e6, 0x3f48, 0xd800, 0xeb5a, 0x826d, 0xd1a6, 0x1, 0x0);
        gbc.writeMem(0x86e6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3f48);
        EXPECT(gbc.pc(), 0x86e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e6), 0xcb);
        EXPECT(gbc.readMem(0x86e7), 0x7a);
        // CB 7A 00D5
        gbc.setState(0x74a8, 0xb9f8, 0x3340, 0x24eb, 0x3d7, 0xb335, 0x0, 0x0);
        gbc.writeMem(0x74a8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb9f8);
        EXPECT(gbc.pc(), 0x74aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00D6
        gbc.setState(0x3007, 0xc927, 0x7720, 0x4ef3, 0x6f85, 0x8064, 0x0, 0x0);
        gbc.writeMem(0x3007, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xc927);
        EXPECT(gbc.pc(), 0x3009);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00D7
        gbc.setState(0xa517, 0x90c0, 0xea90, 0x5bbf, 0x6a4c, 0x46d2, 0x1, 0x0);
        gbc.writeMem(0xa517, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x90c0);
        EXPECT(gbc.pc(), 0xa519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa517), 0xcb);
        EXPECT(gbc.readMem(0xa518), 0x7a);
        // CB 7A 00D8
        gbc.setState(0x5034, 0xe5f9, 0x5f40, 0xad02, 0x9542, 0x9592, 0x1, 0x0);
        gbc.writeMem(0x5034, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe5f9);
        EXPECT(gbc.pc(), 0x5036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00D9
        gbc.setState(0x9432, 0xdd9a, 0xa870, 0xf3f9, 0x6bc0, 0x9d67, 0x1, 0x0);
        gbc.writeMem(0x9432, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xdd9a);
        EXPECT(gbc.pc(), 0x9434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9432), 0xcb);
        EXPECT(gbc.readMem(0x9433), 0x7a);
        // CB 7A 00DA
        gbc.setState(0x45d, 0xa7a4, 0x2e80, 0xa5d, 0x3601, 0xdf82, 0x1, 0x1);
        gbc.writeMem(0x45d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa7a4);
        EXPECT(gbc.pc(), 0x45f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00DB
        gbc.setState(0x4c12, 0x10ad, 0x7c20, 0xe775, 0xb770, 0x39a0, 0x1, 0x0);
        gbc.writeMem(0x4c12, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x10ad);
        EXPECT(gbc.pc(), 0x4c14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00DC
        gbc.setState(0x4ea2, 0xc1c9, 0xbcf0, 0xa9a6, 0x192a, 0x33cc, 0x1, 0x0);
        gbc.writeMem(0x4ea2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc1c9);
        EXPECT(gbc.pc(), 0x4ea4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00DE
        gbc.setState(0xb6b, 0x1b03, 0x6000, 0x2220, 0x566f, 0xb5c2, 0x1, 0x0);
        gbc.writeMem(0xb6b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1b03);
        EXPECT(gbc.pc(), 0xb6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00DF
        gbc.setState(0x52c3, 0x5214, 0x8060, 0xeb21, 0x75c6, 0xa911, 0x1, 0x1);
        gbc.writeMem(0x52c3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5214);
        EXPECT(gbc.pc(), 0x52c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00E0
        gbc.setState(0x388a, 0x175f, 0xf980, 0x52ad, 0x9b3, 0x69fb, 0x1, 0x0);
        gbc.writeMem(0x388a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x175f);
        EXPECT(gbc.pc(), 0x388c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00E1
        gbc.setState(0xcc17, 0xd417, 0xc2f0, 0xe511, 0xf866, 0xe887, 0x0, 0x1);
        gbc.writeMem(0xcc17, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xd417);
        EXPECT(gbc.pc(), 0xcc19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc17), 0xcb);
        EXPECT(gbc.readMem(0xcc18), 0x7a);
        // CB 7A 00E3
        gbc.setState(0x52b1, 0x927d, 0x5020, 0xa220, 0x55fc, 0x48a7, 0x1, 0x1);
        gbc.writeMem(0x52b1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x927d);
        EXPECT(gbc.pc(), 0x52b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00E4
        gbc.setState(0x6917, 0x8ec1, 0x96f0, 0x5bc0, 0x455, 0x3c59, 0x0, 0x0);
        gbc.writeMem(0x6917, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8ec1);
        EXPECT(gbc.pc(), 0x6919);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00E5
        gbc.setState(0x142b, 0xd349, 0xd0d0, 0x5aa9, 0x67b8, 0x6d39, 0x1, 0x0);
        gbc.writeMem(0x142b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd349);
        EXPECT(gbc.pc(), 0x142d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00E6
        gbc.setState(0x6770, 0xdae7, 0x5430, 0x268c, 0xa970, 0xd767, 0x1, 0x1);
        gbc.writeMem(0x6770, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xdae7);
        EXPECT(gbc.pc(), 0x6772);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00E7
        gbc.setState(0x202e, 0xe465, 0x7130, 0x36e6, 0xa723, 0x2dd, 0x0, 0x0);
        gbc.writeMem(0x202e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe465);
        EXPECT(gbc.pc(), 0x2030);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00E8
        gbc.setState(0x3723, 0x20d0, 0x3600, 0x9ec8, 0x4d27, 0xcb2, 0x1, 0x0);
        gbc.writeMem(0x3723, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x20d0);
        EXPECT(gbc.pc(), 0x3725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00E9
        gbc.setState(0xb5, 0xde77, 0x3870, 0xd2a6, 0xb138, 0xbbcf, 0x0, 0x0);
        gbc.writeMem(0xb5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xde77);
        EXPECT(gbc.pc(), 0xb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00EA
        gbc.setState(0xc324, 0xa04c, 0x8bd0, 0x8868, 0x6d7f, 0xb8f7, 0x1, 0x0);
        gbc.writeMem(0xc324, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa04c);
        EXPECT(gbc.pc(), 0xc326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc324), 0xcb);
        EXPECT(gbc.readMem(0xc325), 0x7a);
        // CB 7A 00EC
        gbc.setState(0x4930, 0xfac9, 0xb760, 0x7fc6, 0x9c31, 0x3c1e, 0x0, 0x1);
        gbc.writeMem(0x4930, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xfac9);
        EXPECT(gbc.pc(), 0x4932);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00ED
        gbc.setState(0xc1f3, 0xdd93, 0xc5f0, 0x528f, 0xe5c4, 0x7cc3, 0x0, 0x0);
        gbc.writeMem(0xc1f3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xdd93);
        EXPECT(gbc.pc(), 0xc1f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1f3), 0xcb);
        EXPECT(gbc.readMem(0xc1f4), 0x7a);
        // CB 7A 00EE
        gbc.setState(0xe3af, 0x5f52, 0x4a0, 0x1f9e, 0x6ca0, 0x56f2, 0x1, 0x1);
        gbc.writeMem(0xe3af, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5f52);
        EXPECT(gbc.pc(), 0xe3b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3af), 0xcb);
        EXPECT(gbc.readMem(0xe3b0), 0x7a);
        // CB 7A 00EF
        gbc.setState(0xb1dd, 0x4336, 0xd470, 0x9bf8, 0x1226, 0xeea2, 0x1, 0x0);
        gbc.writeMem(0xb1dd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x4336);
        EXPECT(gbc.pc(), 0xb1df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1dd), 0xcb);
        EXPECT(gbc.readMem(0xb1de), 0x7a);
        // CB 7A 00F0
        gbc.setState(0x33ab, 0x3eab, 0x49f0, 0x7b06, 0x1189, 0x36c9, 0x1, 0x0);
        gbc.writeMem(0x33ab, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x3eab);
        EXPECT(gbc.pc(), 0x33ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00F3
        gbc.setState(0xbd68, 0x8936, 0x8270, 0xee99, 0x524e, 0x23bd, 0x1, 0x1);
        gbc.writeMem(0xbd68, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x8936);
        EXPECT(gbc.pc(), 0xbd6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd68), 0xcb);
        EXPECT(gbc.readMem(0xbd69), 0x7a);
        // CB 7A 00F4
        gbc.setState(0x39d4, 0x6109, 0x91a0, 0xa769, 0xaeea, 0xd31c, 0x0, 0x1);
        gbc.writeMem(0x39d4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6109);
        EXPECT(gbc.pc(), 0x39d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00F5
        gbc.setState(0x944f, 0xd39c, 0x8450, 0x4097, 0x732d, 0x315c, 0x1, 0x1);
        gbc.writeMem(0x944f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xd39c);
        EXPECT(gbc.pc(), 0x9451);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x944f), 0xcb);
        EXPECT(gbc.readMem(0x9450), 0x7a);
        // CB 7A 00F7
        gbc.setState(0xe850, 0xc3f4, 0x1750, 0xf074, 0x26e4, 0x2e63, 0x0, 0x1);
        gbc.writeMem(0xe850, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc3f4);
        EXPECT(gbc.pc(), 0xe852);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe850), 0xcb);
        EXPECT(gbc.readMem(0xe851), 0x7a);
        // CB 7A 00F8
        gbc.setState(0x8bf7, 0xaf08, 0xc590, 0x204e, 0x7010, 0x2bff, 0x1, 0x0);
        gbc.writeMem(0x8bf7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xaf08);
        EXPECT(gbc.pc(), 0x8bf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bf7), 0xcb);
        EXPECT(gbc.readMem(0x8bf8), 0x7a);
        // CB 7A 00F9
        gbc.setState(0x39f4, 0xe113, 0xdd80, 0x3456, 0x67d1, 0xaa7d, 0x1, 0x0);
        gbc.writeMem(0x39f4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe113);
        EXPECT(gbc.pc(), 0x39f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00FA
        gbc.setState(0x1259, 0x2bc5, 0x6bf0, 0xb33a, 0xb0c, 0x5427, 0x0, 0x0);
        gbc.writeMem(0x1259, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2bc5);
        EXPECT(gbc.pc(), 0x125b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00FB
        gbc.setState(0x2ca2, 0xc19d, 0x5f00, 0x4bdf, 0x8e7d, 0xeb45, 0x1, 0x0);
        gbc.writeMem(0x2ca2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc19d);
        EXPECT(gbc.pc(), 0x2ca4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00FC
        gbc.setState(0x22f1, 0x5100, 0xf410, 0xa7dc, 0x468d, 0xd108, 0x1, 0x1);
        gbc.writeMem(0x22f1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5100);
        EXPECT(gbc.pc(), 0x22f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 00FD
        gbc.setState(0xc4ef, 0x4156, 0x57b0, 0xd297, 0xfade, 0xf851, 0x1, 0x0);
        gbc.writeMem(0xc4ef, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4156);
        EXPECT(gbc.pc(), 0xc4f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4ef), 0xcb);
        EXPECT(gbc.readMem(0xc4f0), 0x7a);
        // CB 7A 00FE
        gbc.setState(0x874, 0xc970, 0xd000, 0xf334, 0x782e, 0x1b04, 0x1, 0x1);
        gbc.writeMem(0x874, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc970);
        EXPECT(gbc.pc(), 0x876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 00FF
        gbc.setState(0xd28f, 0x332c, 0x4a0, 0x29db, 0xb715, 0x7406, 0x0, 0x0);
        gbc.writeMem(0xd28f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x332c);
        EXPECT(gbc.pc(), 0xd291);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd28f), 0xcb);
        EXPECT(gbc.readMem(0xd290), 0x7a);
        // CB 7A 0100
        gbc.setState(0x373a, 0x4b65, 0xfa50, 0x180d, 0x11d6, 0x4429, 0x0, 0x1);
        gbc.writeMem(0x373a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4b65);
        EXPECT(gbc.pc(), 0x373c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0101
        gbc.setState(0x77ea, 0x32b, 0x5190, 0x100f, 0x189d, 0xfd1d, 0x1, 0x1);
        gbc.writeMem(0x77ea, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x32b);
        EXPECT(gbc.pc(), 0x77ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0102
        gbc.setState(0x3caf, 0x61a0, 0xcbf0, 0xad42, 0xe0fa, 0xd1e0, 0x1, 0x0);
        gbc.writeMem(0x3caf, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x61a0);
        EXPECT(gbc.pc(), 0x3cb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0103
        gbc.setState(0xabf4, 0x6794, 0x97a0, 0x1319, 0xa647, 0xc9f0, 0x1, 0x0);
        gbc.writeMem(0xabf4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6794);
        EXPECT(gbc.pc(), 0xabf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabf4), 0xcb);
        EXPECT(gbc.readMem(0xabf5), 0x7a);
        // CB 7A 0104
        gbc.setState(0xdd9, 0x226, 0x7a30, 0xc4f9, 0x9376, 0xf4b3, 0x0, 0x1);
        gbc.writeMem(0xdd9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x226);
        EXPECT(gbc.pc(), 0xddb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0106
        gbc.setState(0x608e, 0xfd99, 0x6560, 0xe087, 0xdb80, 0xd80c, 0x1, 0x1);
        gbc.writeMem(0x608e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xfd99);
        EXPECT(gbc.pc(), 0x6090);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0107
        gbc.setState(0xa9e2, 0x3cb9, 0x3100, 0x13ee, 0xde19, 0x5df4, 0x1, 0x1);
        gbc.writeMem(0xa9e2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x3cb9);
        EXPECT(gbc.pc(), 0xa9e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9e2), 0xcb);
        EXPECT(gbc.readMem(0xa9e3), 0x7a);
        // CB 7A 0108
        gbc.setState(0x25f9, 0xb587, 0x1660, 0x6bb, 0x7fc0, 0xf58, 0x0, 0x0);
        gbc.writeMem(0x25f9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xb587);
        EXPECT(gbc.pc(), 0x25fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0109
        gbc.setState(0x8706, 0x316, 0xd780, 0xc134, 0x3bb2, 0x5f2, 0x1, 0x1);
        gbc.writeMem(0x8706, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x316);
        EXPECT(gbc.pc(), 0x8708);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8706), 0xcb);
        EXPECT(gbc.readMem(0x8707), 0x7a);
        // CB 7A 010A
        gbc.setState(0x20e3, 0xe728, 0xd600, 0xcdff, 0x3eeb, 0x37ce, 0x0, 0x0);
        gbc.writeMem(0x20e3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xe728);
        EXPECT(gbc.pc(), 0x20e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 010B
        gbc.setState(0x273e, 0x5ffa, 0xc10, 0xfbca, 0x3439, 0x94ea, 0x1, 0x1);
        gbc.writeMem(0x273e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5ffa);
        EXPECT(gbc.pc(), 0x2740);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 010C
        gbc.setState(0x9d93, 0x9bf8, 0x10, 0x6e04, 0xf3ad, 0x9358, 0x1, 0x0);
        gbc.writeMem(0x9d93, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x9bf8);
        EXPECT(gbc.pc(), 0x9d95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d93), 0xcb);
        EXPECT(gbc.readMem(0x9d94), 0x7a);
        // CB 7A 010D
        gbc.setState(0x9408, 0x723e, 0x1c00, 0xe40a, 0x47c1, 0x9f8, 0x1, 0x0);
        gbc.writeMem(0x9408, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x723e);
        EXPECT(gbc.pc(), 0x940a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9408), 0xcb);
        EXPECT(gbc.readMem(0x9409), 0x7a);
        // CB 7A 010E
        gbc.setState(0xe7ec, 0xd653, 0x9b20, 0xde32, 0xc342, 0x749a, 0x1, 0x0);
        gbc.writeMem(0xe7ec, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xd653);
        EXPECT(gbc.pc(), 0xe7ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7ec), 0xcb);
        EXPECT(gbc.readMem(0xe7ed), 0x7a);
        // CB 7A 010F
        gbc.setState(0xab47, 0x4da0, 0xa740, 0x2a9b, 0x5a7b, 0x96f1, 0x1, 0x1);
        gbc.writeMem(0xab47, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x4da0);
        EXPECT(gbc.pc(), 0xab49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab47), 0xcb);
        EXPECT(gbc.readMem(0xab48), 0x7a);
        // CB 7A 0112
        gbc.setState(0x2e4a, 0x7c92, 0x8020, 0xb136, 0x1a68, 0xc5c, 0x1, 0x1);
        gbc.writeMem(0x2e4a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x7c92);
        EXPECT(gbc.pc(), 0x2e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0113
        gbc.setState(0x40c1, 0x7b3, 0x3080, 0xc1f0, 0x86dd, 0x50b1, 0x0, 0x1);
        gbc.writeMem(0x40c1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7b3);
        EXPECT(gbc.pc(), 0x40c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0114
        gbc.setState(0x1d2d, 0x6f4c, 0x9e40, 0x80c2, 0x12e5, 0x4571, 0x0, 0x0);
        gbc.writeMem(0x1d2d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6f4c);
        EXPECT(gbc.pc(), 0x1d2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0115
        gbc.setState(0x84e8, 0xc673, 0x7a90, 0x5631, 0xdeb1, 0xd3c9, 0x1, 0x0);
        gbc.writeMem(0x84e8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xc673);
        EXPECT(gbc.pc(), 0x84ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84e8), 0xcb);
        EXPECT(gbc.readMem(0x84e9), 0x7a);
        // CB 7A 0116
        gbc.setState(0x394d, 0xd74a, 0x2ca0, 0x1098, 0xdbb5, 0xc639, 0x0, 0x0);
        gbc.writeMem(0x394d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd74a);
        EXPECT(gbc.pc(), 0x394f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0118
        gbc.setState(0x45b7, 0x3f23, 0xe110, 0xd5ce, 0x94d6, 0xa3eb, 0x1, 0x0);
        gbc.writeMem(0x45b7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3f23);
        EXPECT(gbc.pc(), 0x45b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0119
        gbc.setState(0x5ba0, 0xc74b, 0xd110, 0xe009, 0xf758, 0x6129, 0x1, 0x0);
        gbc.writeMem(0x5ba0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc74b);
        EXPECT(gbc.pc(), 0x5ba2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 011A
        gbc.setState(0x81ad, 0xb6ec, 0xbf60, 0xf8ee, 0x64d6, 0x19a6, 0x0, 0x1);
        gbc.writeMem(0x81ad, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb6ec);
        EXPECT(gbc.pc(), 0x81af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ad), 0xcb);
        EXPECT(gbc.readMem(0x81ae), 0x7a);
        // CB 7A 011B
        gbc.setState(0x4ad1, 0x7da4, 0xf800, 0xa6c7, 0xd72e, 0x5a12, 0x1, 0x0);
        gbc.writeMem(0x4ad1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7da4);
        EXPECT(gbc.pc(), 0x4ad3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 011C
        gbc.setState(0xaeb6, 0x9594, 0xc070, 0x1e73, 0x6858, 0x1c9c, 0x0, 0x1);
        gbc.writeMem(0xaeb6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9594);
        EXPECT(gbc.pc(), 0xaeb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaeb6), 0xcb);
        EXPECT(gbc.readMem(0xaeb7), 0x7a);
        // CB 7A 011D
        gbc.setState(0x3ec7, 0xe535, 0xb7c0, 0x7d, 0x8c63, 0x7c29, 0x1, 0x1);
        gbc.writeMem(0x3ec7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xe535);
        EXPECT(gbc.pc(), 0x3ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 011E
        gbc.setState(0x59b8, 0xb914, 0x24a0, 0x5bc9, 0xa481, 0x8b01, 0x0, 0x0);
        gbc.writeMem(0x59b8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb914);
        EXPECT(gbc.pc(), 0x59ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 011F
        gbc.setState(0x9e7b, 0xbd01, 0x81c0, 0x2b78, 0x36f9, 0x8c80, 0x0, 0x1);
        gbc.writeMem(0x9e7b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbd01);
        EXPECT(gbc.pc(), 0x9e7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e7b), 0xcb);
        EXPECT(gbc.readMem(0x9e7c), 0x7a);
        // CB 7A 0120
        gbc.setState(0x65b5, 0x9152, 0xc300, 0x7b4, 0x7073, 0x4bf0, 0x1, 0x0);
        gbc.writeMem(0x65b5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9152);
        EXPECT(gbc.pc(), 0x65b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0121
        gbc.setState(0xf73, 0xfb79, 0xd080, 0xcba7, 0x7f67, 0xea60, 0x1, 0x1);
        gbc.writeMem(0xf73, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xfb79);
        EXPECT(gbc.pc(), 0xf75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0122
        gbc.setState(0xd8d2, 0x6652, 0xb540, 0xb9b9, 0xb405, 0xb6d2, 0x0, 0x1);
        gbc.writeMem(0xd8d2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6652);
        EXPECT(gbc.pc(), 0xd8d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8d2), 0xcb);
        EXPECT(gbc.readMem(0xd8d3), 0x7a);
        // CB 7A 0123
        gbc.setState(0x3f20, 0x2ef6, 0x37b0, 0xe01f, 0x67ed, 0x3a4d, 0x1, 0x0);
        gbc.writeMem(0x3f20, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2ef6);
        EXPECT(gbc.pc(), 0x3f22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0124
        gbc.setState(0x8a5, 0xda3e, 0x27d0, 0x8ac9, 0x935e, 0xacf4, 0x1, 0x1);
        gbc.writeMem(0x8a5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xda3e);
        EXPECT(gbc.pc(), 0x8a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0125
        gbc.setState(0x1bdd, 0x949, 0x77a0, 0x6138, 0xf27d, 0x1ee4, 0x1, 0x0);
        gbc.writeMem(0x1bdd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x949);
        EXPECT(gbc.pc(), 0x1bdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0126
        gbc.setState(0x121, 0x6b8a, 0x4a60, 0xe638, 0xd8b, 0x73b9, 0x0, 0x1);
        gbc.writeMem(0x121, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6b8a);
        EXPECT(gbc.pc(), 0x123);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0127
        gbc.setState(0xba09, 0xe7e0, 0x7050, 0x9c1e, 0x15ee, 0x7957, 0x0, 0x0);
        gbc.writeMem(0xba09, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe7e0);
        EXPECT(gbc.pc(), 0xba0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba09), 0xcb);
        EXPECT(gbc.readMem(0xba0a), 0x7a);
        // CB 7A 0128
        gbc.setState(0x6ef7, 0x9516, 0xd8f0, 0x2b35, 0x11f7, 0x1734, 0x1, 0x1);
        gbc.writeMem(0x6ef7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9516);
        EXPECT(gbc.pc(), 0x6ef9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0129
        gbc.setState(0x79cc, 0xefbc, 0xc8e0, 0x59bc, 0x2890, 0x19c6, 0x0, 0x0);
        gbc.writeMem(0x79cc, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xefbc);
        EXPECT(gbc.pc(), 0x79ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 012A
        gbc.setState(0x39db, 0x2463, 0x9360, 0x3d32, 0xa439, 0x744b, 0x1, 0x1);
        gbc.writeMem(0x39db, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2463);
        EXPECT(gbc.pc(), 0x39dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 012B
        gbc.setState(0x1cbc, 0x8675, 0x61d0, 0xc4ba, 0xf5fe, 0x4a5a, 0x0, 0x1);
        gbc.writeMem(0x1cbc, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8675);
        EXPECT(gbc.pc(), 0x1cbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 012C
        gbc.setState(0x6145, 0x69f6, 0xd2d0, 0x2596, 0xdc61, 0xe0eb, 0x0, 0x0);
        gbc.writeMem(0x6145, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x69f6);
        EXPECT(gbc.pc(), 0x6147);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 012D
        gbc.setState(0x785b, 0x4e4a, 0xb60, 0x3007, 0xadc3, 0x2d76, 0x1, 0x1);
        gbc.writeMem(0x785b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x4e4a);
        EXPECT(gbc.pc(), 0x785d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 012E
        gbc.setState(0x810c, 0xa42a, 0x79a0, 0x9bfc, 0x7b54, 0x9650, 0x1, 0x0);
        gbc.writeMem(0x810c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa42a);
        EXPECT(gbc.pc(), 0x810e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x810c), 0xcb);
        EXPECT(gbc.readMem(0x810d), 0x7a);
        // CB 7A 012F
        gbc.setState(0xbd98, 0x5496, 0xd830, 0xdef1, 0xd193, 0x3a7c, 0x1, 0x0);
        gbc.writeMem(0xbd98, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x5496);
        EXPECT(gbc.pc(), 0xbd9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd98), 0xcb);
        EXPECT(gbc.readMem(0xbd99), 0x7a);
        // CB 7A 0130
        gbc.setState(0x4c47, 0xc91b, 0x17f0, 0x7e02, 0xf345, 0x3cd7, 0x0, 0x0);
        gbc.writeMem(0x4c47, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xc91b);
        EXPECT(gbc.pc(), 0x4c49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0131
        gbc.setState(0xafb8, 0x7095, 0x80b0, 0xfffe, 0xb813, 0xd24a, 0x0, 0x0);
        gbc.writeMem(0xafb8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7095);
        EXPECT(gbc.pc(), 0xafba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafb8), 0xcb);
        EXPECT(gbc.readMem(0xafb9), 0x7a);
        // CB 7A 0132
        gbc.setState(0xc39e, 0x5849, 0x71a0, 0x6194, 0xfea4, 0x5296, 0x1, 0x0);
        gbc.writeMem(0xc39e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5849);
        EXPECT(gbc.pc(), 0xc3a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc39e), 0xcb);
        EXPECT(gbc.readMem(0xc39f), 0x7a);
        // CB 7A 0133
        gbc.setState(0x575e, 0xaa1d, 0xc940, 0x1a0b, 0x4621, 0xd3b8, 0x1, 0x1);
        gbc.writeMem(0x575e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xaa1d);
        EXPECT(gbc.pc(), 0x5760);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0134
        gbc.setState(0x2f8f, 0x36a7, 0x27c0, 0xb9f4, 0x14e3, 0x1630, 0x0, 0x0);
        gbc.writeMem(0x2f8f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x36a7);
        EXPECT(gbc.pc(), 0x2f91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0135
        gbc.setState(0xbdd1, 0x8de9, 0x5620, 0xb8d1, 0xabb7, 0x2eb0, 0x0, 0x0);
        gbc.writeMem(0xbdd1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x8de9);
        EXPECT(gbc.pc(), 0xbdd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdd1), 0xcb);
        EXPECT(gbc.readMem(0xbdd2), 0x7a);
        // CB 7A 0136
        gbc.setState(0xac96, 0x6827, 0xa090, 0x6239, 0x47cc, 0xbc9a, 0x1, 0x0);
        gbc.writeMem(0xac96, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x6827);
        EXPECT(gbc.pc(), 0xac98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac96), 0xcb);
        EXPECT(gbc.readMem(0xac97), 0x7a);
        // CB 7A 0137
        gbc.setState(0xe721, 0x355e, 0xe140, 0xa0fe, 0x12d6, 0xd97e, 0x1, 0x0);
        gbc.writeMem(0xe721, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x355e);
        EXPECT(gbc.pc(), 0xe723);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe721), 0xcb);
        EXPECT(gbc.readMem(0xe722), 0x7a);
        // CB 7A 0138
        gbc.setState(0x729b, 0x8d17, 0x88b0, 0x7bd7, 0x19e7, 0x6be6, 0x0, 0x1);
        gbc.writeMem(0x729b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x8d17);
        EXPECT(gbc.pc(), 0x729d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0139
        gbc.setState(0xc533, 0x671b, 0x70b0, 0x9d65, 0xea98, 0xc2b7, 0x1, 0x1);
        gbc.writeMem(0xc533, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x671b);
        EXPECT(gbc.pc(), 0xc535);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc533), 0xcb);
        EXPECT(gbc.readMem(0xc534), 0x7a);
        // CB 7A 013B
        gbc.setState(0xc250, 0xe634, 0xc500, 0x5fea, 0xd5d1, 0xe2e3, 0x1, 0x1);
        gbc.writeMem(0xc250, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe634);
        EXPECT(gbc.pc(), 0xc252);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc250), 0xcb);
        EXPECT(gbc.readMem(0xc251), 0x7a);
        // CB 7A 013D
        gbc.setState(0x897d, 0xfa0f, 0xb370, 0xd44b, 0x9d2d, 0x7db1, 0x0, 0x1);
        gbc.writeMem(0x897d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xfa0f);
        EXPECT(gbc.pc(), 0x897f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x897d), 0xcb);
        EXPECT(gbc.readMem(0x897e), 0x7a);
        // CB 7A 013E
        gbc.setState(0x682, 0x6859, 0xf7c0, 0x2cbe, 0x70f7, 0x6e90, 0x1, 0x0);
        gbc.writeMem(0x682, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x6859);
        EXPECT(gbc.pc(), 0x684);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0140
        gbc.setState(0xee8b, 0x8df6, 0x2340, 0x895a, 0x17ac, 0x9538, 0x1, 0x1);
        gbc.writeMem(0xee8b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8df6);
        EXPECT(gbc.pc(), 0xee8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee8b), 0xcb);
        EXPECT(gbc.readMem(0xee8c), 0x7a);
        // CB 7A 0141
        gbc.setState(0xb888, 0xe523, 0xe3e0, 0x5242, 0x6278, 0x1fc7, 0x1, 0x0);
        gbc.writeMem(0xb888, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xe523);
        EXPECT(gbc.pc(), 0xb88a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb888), 0xcb);
        EXPECT(gbc.readMem(0xb889), 0x7a);
        // CB 7A 0142
        gbc.setState(0x8435, 0xae0e, 0x5890, 0x25, 0x5cf0, 0xb229, 0x1, 0x1);
        gbc.writeMem(0x8435, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xae0e);
        EXPECT(gbc.pc(), 0x8437);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8435), 0xcb);
        EXPECT(gbc.readMem(0x8436), 0x7a);
        // CB 7A 0143
        gbc.setState(0xb984, 0xb709, 0x8d50, 0x145b, 0x4270, 0x40eb, 0x1, 0x0);
        gbc.writeMem(0xb984, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb709);
        EXPECT(gbc.pc(), 0xb986);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb984), 0xcb);
        EXPECT(gbc.readMem(0xb985), 0x7a);
        // CB 7A 0144
        gbc.setState(0x23d4, 0x86ae, 0x4660, 0xec4d, 0x5de4, 0x88bd, 0x0, 0x0);
        gbc.writeMem(0x23d4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x86ae);
        EXPECT(gbc.pc(), 0x23d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0145
        gbc.setState(0x5c73, 0x79fd, 0xb5c0, 0x4c02, 0xacee, 0xad65, 0x0, 0x0);
        gbc.writeMem(0x5c73, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x79fd);
        EXPECT(gbc.pc(), 0x5c75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0146
        gbc.setState(0x8aee, 0xc622, 0x18c0, 0x98f8, 0x9485, 0x9559, 0x1, 0x1);
        gbc.writeMem(0x8aee, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc622);
        EXPECT(gbc.pc(), 0x8af0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aee), 0xcb);
        EXPECT(gbc.readMem(0x8aef), 0x7a);
        // CB 7A 0147
        gbc.setState(0xd8da, 0xdd13, 0xc400, 0xfb0f, 0x5e4f, 0xcbc0, 0x1, 0x1);
        gbc.writeMem(0xd8da, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xdd13);
        EXPECT(gbc.pc(), 0xd8dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8da), 0xcb);
        EXPECT(gbc.readMem(0xd8db), 0x7a);
        // CB 7A 0148
        gbc.setState(0x6eca, 0x601f, 0x2670, 0x4ae, 0x9a71, 0x9583, 0x0, 0x0);
        gbc.writeMem(0x6eca, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x601f);
        EXPECT(gbc.pc(), 0x6ecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0149
        gbc.setState(0x2415, 0xe6bf, 0x7340, 0xd7ba, 0xf1e, 0x3519, 0x1, 0x0);
        gbc.writeMem(0x2415, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xe6bf);
        EXPECT(gbc.pc(), 0x2417);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 014A
        gbc.setState(0x786d, 0xce5e, 0x200, 0xd311, 0x2500, 0x5212, 0x0, 0x0);
        gbc.writeMem(0x786d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xce5e);
        EXPECT(gbc.pc(), 0x786f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 014B
        gbc.setState(0xe68a, 0x1dab, 0x48d0, 0xd02e, 0x5834, 0x6bb7, 0x0, 0x0);
        gbc.writeMem(0xe68a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1dab);
        EXPECT(gbc.pc(), 0xe68c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe68a), 0xcb);
        EXPECT(gbc.readMem(0xe68b), 0x7a);
        // CB 7A 014C
        gbc.setState(0x65f5, 0x2530, 0x8ae0, 0xb17e, 0x40e4, 0x8d33, 0x1, 0x1);
        gbc.writeMem(0x65f5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x2530);
        EXPECT(gbc.pc(), 0x65f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 014D
        gbc.setState(0x4fdb, 0x3509, 0x5c40, 0x7ab6, 0x7ddb, 0xe7ab, 0x0, 0x1);
        gbc.writeMem(0x4fdb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3509);
        EXPECT(gbc.pc(), 0x4fdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 014E
        gbc.setState(0xd319, 0xa116, 0x5b30, 0xef4e, 0x94f3, 0x319, 0x0, 0x0);
        gbc.writeMem(0xd319, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa116);
        EXPECT(gbc.pc(), 0xd31b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd319), 0xcb);
        EXPECT(gbc.readMem(0xd31a), 0x7a);
        // CB 7A 014F
        gbc.setState(0x2e72, 0x31be, 0x7250, 0xc205, 0x9e9a, 0xf904, 0x0, 0x0);
        gbc.writeMem(0x2e72, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x31be);
        EXPECT(gbc.pc(), 0x2e74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0150
        gbc.setState(0xa404, 0x4102, 0x1020, 0x818f, 0x9ec9, 0xcb15, 0x0, 0x1);
        gbc.writeMem(0xa404, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4102);
        EXPECT(gbc.pc(), 0xa406);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa404), 0xcb);
        EXPECT(gbc.readMem(0xa405), 0x7a);
        // CB 7A 0151
        gbc.setState(0x8907, 0xa4d2, 0x6560, 0xc01a, 0xc802, 0x6209, 0x1, 0x0);
        gbc.writeMem(0x8907, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa4d2);
        EXPECT(gbc.pc(), 0x8909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8907), 0xcb);
        EXPECT(gbc.readMem(0x8908), 0x7a);
        // CB 7A 0152
        gbc.setState(0x18d7, 0xb1b5, 0x1690, 0xda28, 0xea1b, 0xc45, 0x1, 0x0);
        gbc.writeMem(0x18d7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xb1b5);
        EXPECT(gbc.pc(), 0x18d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0153
        gbc.setState(0xcc55, 0xcae4, 0x2980, 0x29a1, 0xebf, 0xe5e8, 0x0, 0x1);
        gbc.writeMem(0xcc55, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xcae4);
        EXPECT(gbc.pc(), 0xcc57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc55), 0xcb);
        EXPECT(gbc.readMem(0xcc56), 0x7a);
        // CB 7A 0154
        gbc.setState(0x4d19, 0x12ff, 0x4860, 0x6c96, 0x1e25, 0x57b, 0x0, 0x1);
        gbc.writeMem(0x4d19, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x12ff);
        EXPECT(gbc.pc(), 0x4d1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0155
        gbc.setState(0x6e0c, 0xca8, 0x6830, 0xa248, 0xab81, 0x4fe2, 0x1, 0x1);
        gbc.writeMem(0x6e0c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xca8);
        EXPECT(gbc.pc(), 0x6e0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0156
        gbc.setState(0xc758, 0x25b0, 0x9ee0, 0xb711, 0xde9c, 0x86f4, 0x1, 0x0);
        gbc.writeMem(0xc758, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x25b0);
        EXPECT(gbc.pc(), 0xc75a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc758), 0xcb);
        EXPECT(gbc.readMem(0xc759), 0x7a);
        // CB 7A 0157
        gbc.setState(0x2c32, 0xf29a, 0x6df0, 0xbc52, 0x59f8, 0x62c8, 0x1, 0x0);
        gbc.writeMem(0x2c32, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xf29a);
        EXPECT(gbc.pc(), 0x2c34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0158
        gbc.setState(0xdb88, 0x53d6, 0x9a60, 0x186, 0xb464, 0x3966, 0x1, 0x1);
        gbc.writeMem(0xdb88, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x53d6);
        EXPECT(gbc.pc(), 0xdb8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb88), 0xcb);
        EXPECT(gbc.readMem(0xdb89), 0x7a);
        // CB 7A 0159
        gbc.setState(0x6f84, 0x6feb, 0x19c0, 0xe582, 0xf754, 0xb6ca, 0x0, 0x0);
        gbc.writeMem(0x6f84, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x6feb);
        EXPECT(gbc.pc(), 0x6f86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 015A
        gbc.setState(0x86b0, 0x2c16, 0x3030, 0xc552, 0x7b58, 0x467f, 0x1, 0x1);
        gbc.writeMem(0x86b0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2c16);
        EXPECT(gbc.pc(), 0x86b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86b0), 0xcb);
        EXPECT(gbc.readMem(0x86b1), 0x7a);
        // CB 7A 015B
        gbc.setState(0x11a3, 0x21f0, 0x5a50, 0x36f6, 0x359d, 0x924d, 0x1, 0x1);
        gbc.writeMem(0x11a3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x21f0);
        EXPECT(gbc.pc(), 0x11a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 015C
        gbc.setState(0x642b, 0xb31f, 0xb530, 0x5452, 0xd982, 0x3a2a, 0x1, 0x0);
        gbc.writeMem(0x642b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xb31f);
        EXPECT(gbc.pc(), 0x642d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 015D
        gbc.setState(0xe9e2, 0xd27f, 0x9800, 0x8135, 0x1e72, 0x84bd, 0x1, 0x0);
        gbc.writeMem(0xe9e2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xd27f);
        EXPECT(gbc.pc(), 0xe9e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9e2), 0xcb);
        EXPECT(gbc.readMem(0xe9e3), 0x7a);
        // CB 7A 015E
        gbc.setState(0x86f9, 0x522d, 0x72c0, 0x80e1, 0x9808, 0x7ac8, 0x0, 0x0);
        gbc.writeMem(0x86f9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x522d);
        EXPECT(gbc.pc(), 0x86fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86f9), 0xcb);
        EXPECT(gbc.readMem(0x86fa), 0x7a);
        // CB 7A 015F
        gbc.setState(0xdc18, 0x1af3, 0x7d80, 0xa150, 0x5d60, 0xe62d, 0x0, 0x1);
        gbc.writeMem(0xdc18, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x1af3);
        EXPECT(gbc.pc(), 0xdc1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc18), 0xcb);
        EXPECT(gbc.readMem(0xdc19), 0x7a);
        // CB 7A 0160
        gbc.setState(0x3fdf, 0x4c9b, 0x1150, 0xe5df, 0x65c9, 0x5a95, 0x0, 0x1);
        gbc.writeMem(0x3fdf, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4c9b);
        EXPECT(gbc.pc(), 0x3fe1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0161
        gbc.setState(0x6008, 0x20a9, 0x44c0, 0xa746, 0x9771, 0xad34, 0x0, 0x1);
        gbc.writeMem(0x6008, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x20a9);
        EXPECT(gbc.pc(), 0x600a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0162
        gbc.setState(0x66f0, 0x9384, 0x830, 0xa306, 0xe628, 0x3776, 0x0, 0x0);
        gbc.writeMem(0x66f0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9384);
        EXPECT(gbc.pc(), 0x66f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0163
        gbc.setState(0x6a6f, 0xee37, 0xd5c0, 0x784c, 0x83a9, 0x27ec, 0x1, 0x1);
        gbc.writeMem(0x6a6f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xee37);
        EXPECT(gbc.pc(), 0x6a71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0164
        gbc.setState(0x2418, 0x9802, 0x9e10, 0xbab4, 0xb66e, 0xea2e, 0x0, 0x0);
        gbc.writeMem(0x2418, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x9802);
        EXPECT(gbc.pc(), 0x241a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0165
        gbc.setState(0x8d14, 0x57ee, 0x4b20, 0x8819, 0xb1b0, 0x8a69, 0x0, 0x0);
        gbc.writeMem(0x8d14, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x57ee);
        EXPECT(gbc.pc(), 0x8d16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d14), 0xcb);
        EXPECT(gbc.readMem(0x8d15), 0x7a);
        // CB 7A 0166
        gbc.setState(0xc6ec, 0xbe15, 0x1f80, 0x4584, 0xe717, 0xa252, 0x0, 0x0);
        gbc.writeMem(0xc6ec, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xbe15);
        EXPECT(gbc.pc(), 0xc6ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ec), 0xcb);
        EXPECT(gbc.readMem(0xc6ed), 0x7a);
        // CB 7A 0167
        gbc.setState(0x71aa, 0x469b, 0xfc20, 0x5d97, 0xce31, 0xd16b, 0x0, 0x1);
        gbc.writeMem(0x71aa, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x469b);
        EXPECT(gbc.pc(), 0x71ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0168
        gbc.setState(0x7e19, 0xd90d, 0xb80, 0xc838, 0x6a5, 0x72e8, 0x1, 0x0);
        gbc.writeMem(0x7e19, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd90d);
        EXPECT(gbc.pc(), 0x7e1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0169
        gbc.setState(0xc982, 0x1505, 0x9920, 0x5e4b, 0x3eb5, 0xbd0b, 0x1, 0x0);
        gbc.writeMem(0xc982, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1505);
        EXPECT(gbc.pc(), 0xc984);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc982), 0xcb);
        EXPECT(gbc.readMem(0xc983), 0x7a);
        // CB 7A 016A
        gbc.setState(0xf97, 0xba3b, 0xabc0, 0x53f2, 0xe1ed, 0xfb37, 0x0, 0x1);
        gbc.writeMem(0xf97, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xba3b);
        EXPECT(gbc.pc(), 0xf99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 016B
        gbc.setState(0x55cc, 0x51e7, 0xb1e0, 0xc45c, 0xa0af, 0xca93, 0x0, 0x0);
        gbc.writeMem(0x55cc, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x51e7);
        EXPECT(gbc.pc(), 0x55ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 016C
        gbc.setState(0x7f94, 0x27ea, 0x42f0, 0x4cac, 0xdfd4, 0x1126, 0x0, 0x1);
        gbc.writeMem(0x7f94, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x27ea);
        EXPECT(gbc.pc(), 0x7f96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 016D
        gbc.setState(0x72c8, 0xea45, 0x3ad0, 0x1374, 0xa74f, 0xc9fc, 0x0, 0x1);
        gbc.writeMem(0x72c8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xea45);
        EXPECT(gbc.pc(), 0x72ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 016E
        gbc.setState(0x659f, 0x658, 0x8ec0, 0x3d86, 0x67cc, 0x38eb, 0x0, 0x1);
        gbc.writeMem(0x659f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x658);
        EXPECT(gbc.pc(), 0x65a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 016F
        gbc.setState(0x91a5, 0x8922, 0xeb10, 0xd16b, 0x7243, 0xefee, 0x1, 0x0);
        gbc.writeMem(0x91a5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8922);
        EXPECT(gbc.pc(), 0x91a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91a5), 0xcb);
        EXPECT(gbc.readMem(0x91a6), 0x7a);
        // CB 7A 0171
        gbc.setState(0xac33, 0xdefe, 0xe610, 0x87de, 0x9ae3, 0xf08, 0x1, 0x0);
        gbc.writeMem(0xac33, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xdefe);
        EXPECT(gbc.pc(), 0xac35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac33), 0xcb);
        EXPECT(gbc.readMem(0xac34), 0x7a);
        // CB 7A 0172
        gbc.setState(0x6a32, 0x503a, 0x5e10, 0x4ee7, 0x339e, 0x9de1, 0x1, 0x0);
        gbc.writeMem(0x6a32, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x503a);
        EXPECT(gbc.pc(), 0x6a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0173
        gbc.setState(0x36b, 0x689f, 0x9750, 0xce75, 0xc118, 0x51a0, 0x0, 0x1);
        gbc.writeMem(0x36b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x689f);
        EXPECT(gbc.pc(), 0x36d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0174
        gbc.setState(0x297c, 0xe397, 0xe660, 0xc40e, 0x1ae2, 0x6637, 0x0, 0x0);
        gbc.writeMem(0x297c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe397);
        EXPECT(gbc.pc(), 0x297e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0175
        gbc.setState(0x5306, 0x7a4c, 0x4a40, 0xb349, 0xc1b1, 0xb460, 0x1, 0x0);
        gbc.writeMem(0x5306, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x7a4c);
        EXPECT(gbc.pc(), 0x5308);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0176
        gbc.setState(0x826c, 0x4905, 0x56b0, 0xef1c, 0xe840, 0x5b0e, 0x0, 0x1);
        gbc.writeMem(0x826c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x4905);
        EXPECT(gbc.pc(), 0x826e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x826c), 0xcb);
        EXPECT(gbc.readMem(0x826d), 0x7a);
        // CB 7A 0177
        gbc.setState(0xa037, 0xb4ea, 0x4c60, 0xa55a, 0x79bf, 0xc724, 0x0, 0x0);
        gbc.writeMem(0xa037, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb4ea);
        EXPECT(gbc.pc(), 0xa039);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa037), 0xcb);
        EXPECT(gbc.readMem(0xa038), 0x7a);
        // CB 7A 0178
        gbc.setState(0xe809, 0x9906, 0x5580, 0x6f63, 0xe5dd, 0xedfc, 0x0, 0x0);
        gbc.writeMem(0xe809, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x9906);
        EXPECT(gbc.pc(), 0xe80b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe809), 0xcb);
        EXPECT(gbc.readMem(0xe80a), 0x7a);
        // CB 7A 0179
        gbc.setState(0x8de2, 0xb7e8, 0xeac0, 0x6915, 0xfa98, 0x3290, 0x1, 0x0);
        gbc.writeMem(0x8de2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xb7e8);
        EXPECT(gbc.pc(), 0x8de4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8de2), 0xcb);
        EXPECT(gbc.readMem(0x8de3), 0x7a);
        // CB 7A 017A
        gbc.setState(0xaaeb, 0x708c, 0x6640, 0x557e, 0x5a99, 0xa873, 0x0, 0x1);
        gbc.writeMem(0xaaeb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x708c);
        EXPECT(gbc.pc(), 0xaaed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaeb), 0xcb);
        EXPECT(gbc.readMem(0xaaec), 0x7a);
        // CB 7A 017B
        gbc.setState(0x5558, 0x9d34, 0xdb50, 0xf79e, 0xcd91, 0xf798, 0x0, 0x0);
        gbc.writeMem(0x5558, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9d34);
        EXPECT(gbc.pc(), 0x555a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 017C
        gbc.setState(0x7595, 0xb9cf, 0xd800, 0xdcd1, 0x93bc, 0x2b21, 0x0, 0x0);
        gbc.writeMem(0x7595, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb9cf);
        EXPECT(gbc.pc(), 0x7597);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 017D
        gbc.setState(0xe99e, 0x6312, 0x7340, 0x234f, 0x7c9f, 0x23e8, 0x0, 0x0);
        gbc.writeMem(0xe99e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6312);
        EXPECT(gbc.pc(), 0xe9a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe99e), 0xcb);
        EXPECT(gbc.readMem(0xe99f), 0x7a);
        // CB 7A 017E
        gbc.setState(0xd45, 0xa3e3, 0x9040, 0xdddb, 0x3aea, 0x8ca7, 0x0, 0x0);
        gbc.writeMem(0xd45, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xa3e3);
        EXPECT(gbc.pc(), 0xd47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 017F
        gbc.setState(0xba43, 0x6d6f, 0x8bd0, 0x24e1, 0xc444, 0x21e8, 0x0, 0x0);
        gbc.writeMem(0xba43, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6d6f);
        EXPECT(gbc.pc(), 0xba45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba43), 0xcb);
        EXPECT(gbc.readMem(0xba44), 0x7a);
        // CB 7A 0181
        gbc.setState(0xdefe, 0x7fb5, 0x4490, 0xa171, 0xd81a, 0xa78a, 0x0, 0x0);
        gbc.writeMem(0xdefe, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x7fb5);
        EXPECT(gbc.pc(), 0xdf00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdefe), 0xcb);
        EXPECT(gbc.readMem(0xdeff), 0x7a);
        // CB 7A 0182
        gbc.setState(0x7b9c, 0xa7fc, 0x9950, 0x7abd, 0x503c, 0xd43b, 0x0, 0x1);
        gbc.writeMem(0x7b9c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xa7fc);
        EXPECT(gbc.pc(), 0x7b9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0183
        gbc.setState(0xa4f1, 0x1791, 0x74e0, 0xce0f, 0xb64c, 0x61eb, 0x0, 0x0);
        gbc.writeMem(0xa4f1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x1791);
        EXPECT(gbc.pc(), 0xa4f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4f1), 0xcb);
        EXPECT(gbc.readMem(0xa4f2), 0x7a);
        // CB 7A 0184
        gbc.setState(0x70b6, 0x40fb, 0x8ed0, 0x2cbf, 0x7275, 0x42fe, 0x0, 0x1);
        gbc.writeMem(0x70b6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x40fb);
        EXPECT(gbc.pc(), 0x70b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0185
        gbc.setState(0xa268, 0xca13, 0x73a0, 0xc981, 0xe4f5, 0xa823, 0x1, 0x1);
        gbc.writeMem(0xa268, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xca13);
        EXPECT(gbc.pc(), 0xa26a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa268), 0xcb);
        EXPECT(gbc.readMem(0xa269), 0x7a);
        // CB 7A 0186
        gbc.setState(0xb213, 0xcf69, 0x9fc0, 0x1462, 0xf992, 0x8c95, 0x1, 0x1);
        gbc.writeMem(0xb213, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xcf69);
        EXPECT(gbc.pc(), 0xb215);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb213), 0xcb);
        EXPECT(gbc.readMem(0xb214), 0x7a);
        // CB 7A 0187
        gbc.setState(0x2ad, 0xb94a, 0x2850, 0x8490, 0x99ca, 0xaba7, 0x0, 0x0);
        gbc.writeMem(0x2ad, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xb94a);
        EXPECT(gbc.pc(), 0x2af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0188
        gbc.setState(0x71e6, 0xbcaf, 0x2a20, 0x4987, 0x826, 0x8fc6, 0x0, 0x0);
        gbc.writeMem(0x71e6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xbcaf);
        EXPECT(gbc.pc(), 0x71e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0189
        gbc.setState(0x4472, 0x7d49, 0x9f20, 0x9754, 0x844a, 0x5178, 0x1, 0x0);
        gbc.writeMem(0x4472, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x7d49);
        EXPECT(gbc.pc(), 0x4474);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 018A
        gbc.setState(0xc68, 0xf51b, 0x4eb0, 0x49b9, 0x6260, 0xe80f, 0x0, 0x0);
        gbc.writeMem(0xc68, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xf51b);
        EXPECT(gbc.pc(), 0xc6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 018B
        gbc.setState(0x3472, 0x4a82, 0x5650, 0x61b0, 0x3b20, 0xcba8, 0x1, 0x1);
        gbc.writeMem(0x3472, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x4a82);
        EXPECT(gbc.pc(), 0x3474);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 018C
        gbc.setState(0xaf2c, 0xc65b, 0x7950, 0x43cc, 0x9d45, 0x3927, 0x1, 0x0);
        gbc.writeMem(0xaf2c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc65b);
        EXPECT(gbc.pc(), 0xaf2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf2c), 0xcb);
        EXPECT(gbc.readMem(0xaf2d), 0x7a);
        // CB 7A 018D
        gbc.setState(0x927f, 0x6545, 0x62c0, 0xae2a, 0x57d9, 0xae68, 0x1, 0x0);
        gbc.writeMem(0x927f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x6545);
        EXPECT(gbc.pc(), 0x9281);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x927f), 0xcb);
        EXPECT(gbc.readMem(0x9280), 0x7a);
        // CB 7A 018F
        gbc.setState(0x5d17, 0x8107, 0x7570, 0xaed8, 0x2600, 0xded4, 0x1, 0x0);
        gbc.writeMem(0x5d17, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x8107);
        EXPECT(gbc.pc(), 0x5d19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0190
        gbc.setState(0xcc91, 0xbfef, 0xb630, 0xfacb, 0x1a3c, 0x3bd9, 0x0, 0x0);
        gbc.writeMem(0xcc91, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xbfef);
        EXPECT(gbc.pc(), 0xcc93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc91), 0xcb);
        EXPECT(gbc.readMem(0xcc92), 0x7a);
        // CB 7A 0191
        gbc.setState(0x624b, 0x7f62, 0x2270, 0xa7f3, 0xab16, 0x9db9, 0x0, 0x0);
        gbc.writeMem(0x624b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7f62);
        EXPECT(gbc.pc(), 0x624d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0192
        gbc.setState(0x3e72, 0xc211, 0x4a80, 0x5dbd, 0x2862, 0xba9b, 0x1, 0x0);
        gbc.writeMem(0x3e72, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc211);
        EXPECT(gbc.pc(), 0x3e74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0193
        gbc.setState(0x704b, 0xf28d, 0xb620, 0xff9, 0xd0bd, 0x14c8, 0x1, 0x0);
        gbc.writeMem(0x704b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xf28d);
        EXPECT(gbc.pc(), 0x704d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0194
        gbc.setState(0xdeab, 0xdc7e, 0xf780, 0x8dee, 0xf242, 0xf19e, 0x1, 0x1);
        gbc.writeMem(0xdeab, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xdc7e);
        EXPECT(gbc.pc(), 0xdead);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeab), 0xcb);
        EXPECT(gbc.readMem(0xdeac), 0x7a);
        // CB 7A 0196
        gbc.setState(0x9a08, 0x266e, 0xdcb0, 0x8c1a, 0x18d0, 0x5c0b, 0x0, 0x1);
        gbc.writeMem(0x9a08, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x266e);
        EXPECT(gbc.pc(), 0x9a0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a08), 0xcb);
        EXPECT(gbc.readMem(0x9a09), 0x7a);
        // CB 7A 0197
        gbc.setState(0x9443, 0xc13a, 0xdb10, 0x8aa3, 0x5dff, 0x6b35, 0x1, 0x1);
        gbc.writeMem(0x9443, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc13a);
        EXPECT(gbc.pc(), 0x9445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9443), 0xcb);
        EXPECT(gbc.readMem(0x9444), 0x7a);
        // CB 7A 0198
        gbc.setState(0x3d45, 0xe3ad, 0xb410, 0xd1e7, 0x8727, 0x1224, 0x1, 0x1);
        gbc.writeMem(0x3d45, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xe3ad);
        EXPECT(gbc.pc(), 0x3d47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0199
        gbc.setState(0x1573, 0xe49f, 0x6ac0, 0x68ce, 0xb10e, 0x8599, 0x0, 0x1);
        gbc.writeMem(0x1573, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xe49f);
        EXPECT(gbc.pc(), 0x1575);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 019A
        gbc.setState(0xd8c, 0x983e, 0xde80, 0xec93, 0x4f6a, 0x6015, 0x1, 0x1);
        gbc.writeMem(0xd8c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x983e);
        EXPECT(gbc.pc(), 0xd8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 019B
        gbc.setState(0x486d, 0x33b9, 0x3bc0, 0x785d, 0x5a46, 0x2436, 0x1, 0x0);
        gbc.writeMem(0x486d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x33b9);
        EXPECT(gbc.pc(), 0x486f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 019C
        gbc.setState(0xed30, 0x607c, 0x4250, 0xcf13, 0x5ff5, 0xf773, 0x1, 0x1);
        gbc.writeMem(0xed30, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x607c);
        EXPECT(gbc.pc(), 0xed32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed30), 0xcb);
        EXPECT(gbc.readMem(0xed31), 0x7a);
        // CB 7A 019D
        gbc.setState(0xe37, 0xd081, 0x66b0, 0x23bc, 0x173, 0xdc97, 0x1, 0x1);
        gbc.writeMem(0xe37, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd081);
        EXPECT(gbc.pc(), 0xe39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 019E
        gbc.setState(0xaffe, 0x8abd, 0x62d0, 0xf476, 0x2701, 0xec5, 0x1, 0x0);
        gbc.writeMem(0xaffe, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8abd);
        EXPECT(gbc.pc(), 0xb000);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaffe), 0xcb);
        EXPECT(gbc.readMem(0xafff), 0x7a);
        // CB 7A 019F
        gbc.setState(0x4e9f, 0x2d4e, 0x18d0, 0x533c, 0x2ab2, 0x1589, 0x1, 0x1);
        gbc.writeMem(0x4e9f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x2d4e);
        EXPECT(gbc.pc(), 0x4ea1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01A0
        gbc.setState(0x5762, 0x340b, 0xfd0, 0xfae2, 0xa34b, 0x86dc, 0x1, 0x1);
        gbc.writeMem(0x5762, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x340b);
        EXPECT(gbc.pc(), 0x5764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01A1
        gbc.setState(0x6d46, 0xc709, 0x9d0, 0xc0cf, 0x770b, 0xd034, 0x1, 0x1);
        gbc.writeMem(0x6d46, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xc709);
        EXPECT(gbc.pc(), 0x6d48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01A2
        gbc.setState(0xb97b, 0xcd98, 0xe650, 0xa47a, 0x19c7, 0x41f3, 0x0, 0x1);
        gbc.writeMem(0xb97b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xcd98);
        EXPECT(gbc.pc(), 0xb97d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb97b), 0xcb);
        EXPECT(gbc.readMem(0xb97c), 0x7a);
        // CB 7A 01A3
        gbc.setState(0x7e9c, 0x7882, 0x72e0, 0xb8e8, 0xa9f6, 0xf040, 0x1, 0x1);
        gbc.writeMem(0x7e9c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7882);
        EXPECT(gbc.pc(), 0x7e9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01A4
        gbc.setState(0xa190, 0x818a, 0x8f00, 0x17c1, 0x88c5, 0x39fb, 0x1, 0x0);
        gbc.writeMem(0xa190, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x818a);
        EXPECT(gbc.pc(), 0xa192);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa190), 0xcb);
        EXPECT(gbc.readMem(0xa191), 0x7a);
        // CB 7A 01A5
        gbc.setState(0x6417, 0xeaa6, 0xe8f0, 0xa9e9, 0x1644, 0x9859, 0x1, 0x0);
        gbc.writeMem(0x6417, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xeaa6);
        EXPECT(gbc.pc(), 0x6419);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01A6
        gbc.setState(0x8285, 0xd2e, 0x3390, 0x998e, 0xa7d1, 0xc62d, 0x1, 0x1);
        gbc.writeMem(0x8285, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xd2e);
        EXPECT(gbc.pc(), 0x8287);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8285), 0xcb);
        EXPECT(gbc.readMem(0x8286), 0x7a);
        // CB 7A 01A7
        gbc.setState(0xaa6, 0xaa9d, 0x43a0, 0x5c58, 0x876e, 0x6da7, 0x1, 0x0);
        gbc.writeMem(0xaa6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xaa9d);
        EXPECT(gbc.pc(), 0xaa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01A8
        gbc.setState(0x51f, 0x8c41, 0x2e0, 0xbe4c, 0x5be9, 0xb6a5, 0x0, 0x0);
        gbc.writeMem(0x51f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x8c41);
        EXPECT(gbc.pc(), 0x521);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01A9
        gbc.setState(0xd2ca, 0xf4b8, 0x450, 0x437a, 0x863, 0xb5ca, 0x1, 0x1);
        gbc.writeMem(0xd2ca, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf4b8);
        EXPECT(gbc.pc(), 0xd2cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2ca), 0xcb);
        EXPECT(gbc.readMem(0xd2cb), 0x7a);
        // CB 7A 01AA
        gbc.setState(0x321c, 0x4127, 0x43d0, 0xb89a, 0xaea8, 0x766e, 0x0, 0x0);
        gbc.writeMem(0x321c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x4127);
        EXPECT(gbc.pc(), 0x321e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01AB
        gbc.setState(0xe8d6, 0x3c4d, 0xd0, 0xccea, 0xb231, 0xd30b, 0x0, 0x1);
        gbc.writeMem(0xe8d6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x3c4d);
        EXPECT(gbc.pc(), 0xe8d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8d6), 0xcb);
        EXPECT(gbc.readMem(0xe8d7), 0x7a);
        // CB 7A 01AC
        gbc.setState(0x19a2, 0x4766, 0x7df0, 0x9998, 0xad54, 0x7046, 0x0, 0x0);
        gbc.writeMem(0x19a2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4766);
        EXPECT(gbc.pc(), 0x19a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01AD
        gbc.setState(0x2110, 0x598b, 0x30c0, 0x9b42, 0x14f6, 0xdb1, 0x1, 0x0);
        gbc.writeMem(0x2110, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x598b);
        EXPECT(gbc.pc(), 0x2112);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01AE
        gbc.setState(0x303, 0x89db, 0xea40, 0x2e0c, 0xc497, 0x61bd, 0x0, 0x0);
        gbc.writeMem(0x303, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x89db);
        EXPECT(gbc.pc(), 0x305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01AF
        gbc.setState(0xbeea, 0x572d, 0xd150, 0x8f6a, 0x4f29, 0x1f1a, 0x1, 0x0);
        gbc.writeMem(0xbeea, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x572d);
        EXPECT(gbc.pc(), 0xbeec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeea), 0xcb);
        EXPECT(gbc.readMem(0xbeeb), 0x7a);
        // CB 7A 01B0
        gbc.setState(0x3ebb, 0x6cac, 0x8a60, 0x9af1, 0xf642, 0x4a34, 0x1, 0x0);
        gbc.writeMem(0x3ebb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x6cac);
        EXPECT(gbc.pc(), 0x3ebd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01B1
        gbc.setState(0x3270, 0xf89e, 0x5090, 0x5e7a, 0x297c, 0xf518, 0x1, 0x0);
        gbc.writeMem(0x3270, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf89e);
        EXPECT(gbc.pc(), 0x3272);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01B2
        gbc.setState(0x1891, 0xecfd, 0x6e30, 0x6903, 0x176, 0x2218, 0x0, 0x0);
        gbc.writeMem(0x1891, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xecfd);
        EXPECT(gbc.pc(), 0x1893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01B3
        gbc.setState(0xd778, 0x14e3, 0x6cc0, 0xb449, 0x7379, 0x9d06, 0x0, 0x0);
        gbc.writeMem(0xd778, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x14e3);
        EXPECT(gbc.pc(), 0xd77a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd778), 0xcb);
        EXPECT(gbc.readMem(0xd779), 0x7a);
        // CB 7A 01B4
        gbc.setState(0xcf20, 0xdc7a, 0xd860, 0x2695, 0xd592, 0xb60d, 0x0, 0x1);
        gbc.writeMem(0xcf20, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xdc7a);
        EXPECT(gbc.pc(), 0xcf22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf20), 0xcb);
        EXPECT(gbc.readMem(0xcf21), 0x7a);
        // CB 7A 01B5
        gbc.setState(0xe2fa, 0x85e9, 0xf580, 0x4c84, 0x9852, 0x8737, 0x1, 0x0);
        gbc.writeMem(0xe2fa, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x85e9);
        EXPECT(gbc.pc(), 0xe2fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2fa), 0xcb);
        EXPECT(gbc.readMem(0xe2fb), 0x7a);
        // CB 7A 01B6
        gbc.setState(0x863c, 0xb8ad, 0xce90, 0xf872, 0x3a34, 0x1500, 0x1, 0x1);
        gbc.writeMem(0x863c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb8ad);
        EXPECT(gbc.pc(), 0x863e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x863c), 0xcb);
        EXPECT(gbc.readMem(0x863d), 0x7a);
        // CB 7A 01B7
        gbc.setState(0xed51, 0x9584, 0xa5a0, 0x2382, 0x3a57, 0xcb18, 0x0, 0x0);
        gbc.writeMem(0xed51, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9584);
        EXPECT(gbc.pc(), 0xed53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed51), 0xcb);
        EXPECT(gbc.readMem(0xed52), 0x7a);
        // CB 7A 01B8
        gbc.setState(0x3a3f, 0xcf03, 0x42a0, 0xb6f4, 0x68e6, 0x4c82, 0x0, 0x1);
        gbc.writeMem(0x3a3f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xcf03);
        EXPECT(gbc.pc(), 0x3a41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01B9
        gbc.setState(0x1a11, 0xe774, 0xb1c0, 0xc507, 0x855e, 0x8cb2, 0x1, 0x1);
        gbc.writeMem(0x1a11, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe774);
        EXPECT(gbc.pc(), 0x1a13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01BA
        gbc.setState(0x8d4f, 0xadb1, 0x81c0, 0xf0cc, 0x778f, 0x4976, 0x0, 0x0);
        gbc.writeMem(0x8d4f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xadb1);
        EXPECT(gbc.pc(), 0x8d51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d4f), 0xcb);
        EXPECT(gbc.readMem(0x8d50), 0x7a);
        // CB 7A 01BB
        gbc.setState(0x38e6, 0x8719, 0x4320, 0x2199, 0x7485, 0x4a14, 0x1, 0x1);
        gbc.writeMem(0x38e6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8719);
        EXPECT(gbc.pc(), 0x38e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01BC
        gbc.setState(0xe237, 0x95eb, 0x63b0, 0xa713, 0x2909, 0x49f4, 0x1, 0x0);
        gbc.writeMem(0xe237, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x95eb);
        EXPECT(gbc.pc(), 0xe239);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe237), 0xcb);
        EXPECT(gbc.readMem(0xe238), 0x7a);
        // CB 7A 01BD
        gbc.setState(0xa600, 0xaab3, 0xaa90, 0x1429, 0xc530, 0x514b, 0x1, 0x1);
        gbc.writeMem(0xa600, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xaab3);
        EXPECT(gbc.pc(), 0xa602);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa600), 0xcb);
        EXPECT(gbc.readMem(0xa601), 0x7a);
        // CB 7A 01BE
        gbc.setState(0x262d, 0xfbfb, 0x9e70, 0x9b91, 0x273b, 0xe6cc, 0x0, 0x1);
        gbc.writeMem(0x262d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xfbfb);
        EXPECT(gbc.pc(), 0x262f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01BF
        gbc.setState(0x8f98, 0x3a69, 0x2cd0, 0x3c02, 0x44c8, 0x9e18, 0x0, 0x0);
        gbc.writeMem(0x8f98, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x3a69);
        EXPECT(gbc.pc(), 0x8f9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f98), 0xcb);
        EXPECT(gbc.readMem(0x8f99), 0x7a);
        // CB 7A 01C0
        gbc.setState(0x11f9, 0xcb83, 0x1480, 0x138e, 0x29fe, 0xa153, 0x1, 0x0);
        gbc.writeMem(0x11f9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xcb83);
        EXPECT(gbc.pc(), 0x11fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01C1
        gbc.setState(0x8fe2, 0x8fe5, 0x870, 0x54e7, 0xc881, 0x4da6, 0x0, 0x1);
        gbc.writeMem(0x8fe2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8fe5);
        EXPECT(gbc.pc(), 0x8fe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fe2), 0xcb);
        EXPECT(gbc.readMem(0x8fe3), 0x7a);
        // CB 7A 01C3
        gbc.setState(0x42b2, 0xc7db, 0x8240, 0xbd6f, 0x43d9, 0x3dd8, 0x1, 0x1);
        gbc.writeMem(0x42b2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xc7db);
        EXPECT(gbc.pc(), 0x42b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01C4
        gbc.setState(0xa4f, 0x3e0a, 0xfc60, 0x8d59, 0x34d2, 0xb737, 0x0, 0x1);
        gbc.writeMem(0xa4f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x3e0a);
        EXPECT(gbc.pc(), 0xa51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01C5
        gbc.setState(0x6581, 0xe534, 0x8ea0, 0x249a, 0x724d, 0x34f4, 0x1, 0x1);
        gbc.writeMem(0x6581, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xe534);
        EXPECT(gbc.pc(), 0x6583);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01C6
        gbc.setState(0xd6b2, 0xf74, 0x8620, 0x5a2e, 0x8426, 0x8515, 0x1, 0x0);
        gbc.writeMem(0xd6b2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xf74);
        EXPECT(gbc.pc(), 0xd6b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6b2), 0xcb);
        EXPECT(gbc.readMem(0xd6b3), 0x7a);
        // CB 7A 01C7
        gbc.setState(0x8dc8, 0x57ed, 0xfda0, 0xcc32, 0xb69a, 0x4de9, 0x0, 0x1);
        gbc.writeMem(0x8dc8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x57ed);
        EXPECT(gbc.pc(), 0x8dca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dc8), 0xcb);
        EXPECT(gbc.readMem(0x8dc9), 0x7a);
        // CB 7A 01C8
        gbc.setState(0x9697, 0x42dc, 0xbe70, 0xcc5a, 0x2d41, 0xa018, 0x0, 0x0);
        gbc.writeMem(0x9697, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x42dc);
        EXPECT(gbc.pc(), 0x9699);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9697), 0xcb);
        EXPECT(gbc.readMem(0x9698), 0x7a);
        // CB 7A 01C9
        gbc.setState(0x3565, 0xdabd, 0xa1c0, 0xc4fc, 0xdc20, 0xa203, 0x1, 0x0);
        gbc.writeMem(0x3565, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xdabd);
        EXPECT(gbc.pc(), 0x3567);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01CA
        gbc.setState(0x8d85, 0xbb53, 0x6460, 0x1426, 0x143c, 0x90cb, 0x1, 0x0);
        gbc.writeMem(0x8d85, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xbb53);
        EXPECT(gbc.pc(), 0x8d87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d85), 0xcb);
        EXPECT(gbc.readMem(0x8d86), 0x7a);
        // CB 7A 01CB
        gbc.setState(0x1ec5, 0x4727, 0xf470, 0x5af7, 0xbc97, 0xc993, 0x0, 0x0);
        gbc.writeMem(0x1ec5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x4727);
        EXPECT(gbc.pc(), 0x1ec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01CC
        gbc.setState(0xc69f, 0x509e, 0x72a0, 0x595d, 0xa21d, 0x217c, 0x1, 0x0);
        gbc.writeMem(0xc69f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x509e);
        EXPECT(gbc.pc(), 0xc6a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc69f), 0xcb);
        EXPECT(gbc.readMem(0xc6a0), 0x7a);
        // CB 7A 01CD
        gbc.setState(0xd828, 0xf71, 0xb8f0, 0xdaa1, 0xadcc, 0x4213, 0x0, 0x0);
        gbc.writeMem(0xd828, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xf71);
        EXPECT(gbc.pc(), 0xd82a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd828), 0xcb);
        EXPECT(gbc.readMem(0xd829), 0x7a);
        // CB 7A 01CE
        gbc.setState(0x6ab, 0xca82, 0x8840, 0x1a5f, 0x80a5, 0x7db1, 0x0, 0x1);
        gbc.writeMem(0x6ab, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xca82);
        EXPECT(gbc.pc(), 0x6ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01CF
        gbc.setState(0x59a5, 0x3357, 0x940, 0x885b, 0xbe8f, 0x4d64, 0x0, 0x0);
        gbc.writeMem(0x59a5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x3357);
        EXPECT(gbc.pc(), 0x59a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01D0
        gbc.setState(0x2225, 0x7014, 0xd680, 0xff4, 0xaa7c, 0x14f3, 0x0, 0x0);
        gbc.writeMem(0x2225, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7014);
        EXPECT(gbc.pc(), 0x2227);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01D1
        gbc.setState(0xcffb, 0xefc1, 0xf3e0, 0x8393, 0xd179, 0xe4ea, 0x0, 0x0);
        gbc.writeMem(0xcffb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xefc1);
        EXPECT(gbc.pc(), 0xcffd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcffb), 0xcb);
        EXPECT(gbc.readMem(0xcffc), 0x7a);
        // CB 7A 01D2
        gbc.setState(0x85e, 0xcbea, 0x79c0, 0x9416, 0xb554, 0xd7e0, 0x1, 0x0);
        gbc.writeMem(0x85e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xcbea);
        EXPECT(gbc.pc(), 0x860);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01D3
        gbc.setState(0x2ab1, 0x4eef, 0xd4b0, 0xe1ad, 0x1553, 0x2018, 0x1, 0x0);
        gbc.writeMem(0x2ab1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x4eef);
        EXPECT(gbc.pc(), 0x2ab3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01D4
        gbc.setState(0xc796, 0x4f69, 0xe290, 0xbd92, 0x3db9, 0x7892, 0x0, 0x0);
        gbc.writeMem(0xc796, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4f69);
        EXPECT(gbc.pc(), 0xc798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc796), 0xcb);
        EXPECT(gbc.readMem(0xc797), 0x7a);
        // CB 7A 01D5
        gbc.setState(0xdc86, 0x414d, 0x8fc0, 0x2e1a, 0x57c4, 0x49ae, 0x0, 0x0);
        gbc.writeMem(0xdc86, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x414d);
        EXPECT(gbc.pc(), 0xdc88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc86), 0xcb);
        EXPECT(gbc.readMem(0xdc87), 0x7a);
        // CB 7A 01D6
        gbc.setState(0xddf, 0x8580, 0xe9d0, 0x560e, 0x4f19, 0x70ae, 0x1, 0x0);
        gbc.writeMem(0xddf, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x8580);
        EXPECT(gbc.pc(), 0xde1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01D7
        gbc.setState(0xb573, 0xd65d, 0xb660, 0xc32d, 0x4aad, 0x30bc, 0x1, 0x1);
        gbc.writeMem(0xb573, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd65d);
        EXPECT(gbc.pc(), 0xb575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb573), 0xcb);
        EXPECT(gbc.readMem(0xb574), 0x7a);
        // CB 7A 01D9
        gbc.setState(0x12d7, 0xe4de, 0xfec0, 0x9a31, 0x1473, 0xe963, 0x0, 0x0);
        gbc.writeMem(0x12d7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xe4de);
        EXPECT(gbc.pc(), 0x12d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01DA
        gbc.setState(0x5542, 0xcacc, 0x1740, 0x3b9a, 0x311e, 0xfb59, 0x1, 0x1);
        gbc.writeMem(0x5542, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xcacc);
        EXPECT(gbc.pc(), 0x5544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01DB
        gbc.setState(0x6501, 0x26a8, 0x7bd0, 0xe90a, 0xd03, 0xd5e8, 0x0, 0x1);
        gbc.writeMem(0x6501, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x26a8);
        EXPECT(gbc.pc(), 0x6503);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01DD
        gbc.setState(0xbda6, 0x53f6, 0x3f10, 0x585e, 0xba5f, 0xb00d, 0x0, 0x0);
        gbc.writeMem(0xbda6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x53f6);
        EXPECT(gbc.pc(), 0xbda8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbda6), 0xcb);
        EXPECT(gbc.readMem(0xbda7), 0x7a);
        // CB 7A 01DE
        gbc.setState(0x7066, 0x7d02, 0x6940, 0xfbc6, 0x7a8, 0xcc4d, 0x0, 0x0);
        gbc.writeMem(0x7066, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x7d02);
        EXPECT(gbc.pc(), 0x7068);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01DF
        gbc.setState(0x9537, 0xcde3, 0x600, 0x59a0, 0x9841, 0xf9f5, 0x0, 0x0);
        gbc.writeMem(0x9537, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xcde3);
        EXPECT(gbc.pc(), 0x9539);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9537), 0xcb);
        EXPECT(gbc.readMem(0x9538), 0x7a);
        // CB 7A 01E0
        gbc.setState(0xefe5, 0x10c, 0xaba0, 0x815c, 0xfafd, 0x818e, 0x1, 0x0);
        gbc.writeMem(0xefe5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x10c);
        EXPECT(gbc.pc(), 0xefe7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefe5), 0xcb);
        EXPECT(gbc.readMem(0xefe6), 0x7a);
        // CB 7A 01E1
        gbc.setState(0xdbb7, 0x67bc, 0xf710, 0xb5c6, 0x89b, 0x8a6, 0x1, 0x1);
        gbc.writeMem(0xdbb7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x67bc);
        EXPECT(gbc.pc(), 0xdbb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbb7), 0xcb);
        EXPECT(gbc.readMem(0xdbb8), 0x7a);
        // CB 7A 01E2
        gbc.setState(0x2be7, 0x9d13, 0x7150, 0xef4, 0xca38, 0xaf9c, 0x1, 0x0);
        gbc.writeMem(0x2be7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9d13);
        EXPECT(gbc.pc(), 0x2be9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01E3
        gbc.setState(0x668d, 0x4684, 0xc910, 0x3224, 0x11ae, 0x6acf, 0x1, 0x0);
        gbc.writeMem(0x668d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4684);
        EXPECT(gbc.pc(), 0x668f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01E4
        gbc.setState(0xc26a, 0x445b, 0xaeb0, 0x756d, 0xe93c, 0xec37, 0x0, 0x0);
        gbc.writeMem(0xc26a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x445b);
        EXPECT(gbc.pc(), 0xc26c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc26a), 0xcb);
        EXPECT(gbc.readMem(0xc26b), 0x7a);
        // CB 7A 01E5
        gbc.setState(0xb3b3, 0x6b84, 0xae30, 0x2e7b, 0x634e, 0xb06b, 0x1, 0x0);
        gbc.writeMem(0xb3b3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x6b84);
        EXPECT(gbc.pc(), 0xb3b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3b3), 0xcb);
        EXPECT(gbc.readMem(0xb3b4), 0x7a);
        // CB 7A 01E6
        gbc.setState(0x5028, 0x39f4, 0xafa0, 0xff76, 0xc760, 0x879c, 0x1, 0x1);
        gbc.writeMem(0x5028, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x39f4);
        EXPECT(gbc.pc(), 0x502a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01E7
        gbc.setState(0xa4e6, 0x911d, 0x2a50, 0x51e8, 0x39fb, 0x7071, 0x0, 0x0);
        gbc.writeMem(0xa4e6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x911d);
        EXPECT(gbc.pc(), 0xa4e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4e6), 0xcb);
        EXPECT(gbc.readMem(0xa4e7), 0x7a);
        // CB 7A 01E8
        gbc.setState(0x8af1, 0xfd9c, 0xced0, 0xc3a0, 0x94f9, 0x58e0, 0x1, 0x0);
        gbc.writeMem(0x8af1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xfd9c);
        EXPECT(gbc.pc(), 0x8af3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8af1), 0xcb);
        EXPECT(gbc.readMem(0x8af2), 0x7a);
        // CB 7A 01EA
        gbc.setState(0x5f9f, 0xc086, 0x11d0, 0xdee4, 0x6fea, 0x43a, 0x1, 0x0);
        gbc.writeMem(0x5f9f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc086);
        EXPECT(gbc.pc(), 0x5fa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01EB
        gbc.setState(0x2430, 0x92d, 0x1bc0, 0xfbae, 0x1488, 0x3f9, 0x1, 0x0);
        gbc.writeMem(0x2430, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x92d);
        EXPECT(gbc.pc(), 0x2432);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01EC
        gbc.setState(0xa729, 0x6ca7, 0xdd10, 0xaecf, 0x870e, 0x8268, 0x0, 0x1);
        gbc.writeMem(0xa729, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x6ca7);
        EXPECT(gbc.pc(), 0xa72b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa729), 0xcb);
        EXPECT(gbc.readMem(0xa72a), 0x7a);
        // CB 7A 01ED
        gbc.setState(0x3258, 0xc51b, 0xff60, 0xc7dc, 0x6abe, 0x8cf2, 0x0, 0x1);
        gbc.writeMem(0x3258, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc51b);
        EXPECT(gbc.pc(), 0x325a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01EE
        gbc.setState(0x831c, 0x4873, 0x5d0, 0xf787, 0xe17e, 0xd47, 0x1, 0x0);
        gbc.writeMem(0x831c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4873);
        EXPECT(gbc.pc(), 0x831e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x831c), 0xcb);
        EXPECT(gbc.readMem(0x831d), 0x7a);
        // CB 7A 01EF
        gbc.setState(0xc5c1, 0x51a2, 0x1740, 0xc503, 0x9487, 0xf02e, 0x1, 0x0);
        gbc.writeMem(0xc5c1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x51a2);
        EXPECT(gbc.pc(), 0xc5c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5c1), 0xcb);
        EXPECT(gbc.readMem(0xc5c2), 0x7a);
        // CB 7A 01F1
        gbc.setState(0xdf20, 0x94c8, 0xeea0, 0xc8ac, 0xd1a9, 0x3881, 0x1, 0x0);
        gbc.writeMem(0xdf20, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x94c8);
        EXPECT(gbc.pc(), 0xdf22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf20), 0xcb);
        EXPECT(gbc.readMem(0xdf21), 0x7a);
        // CB 7A 01F2
        gbc.setState(0xa03d, 0xd0d5, 0xec70, 0xdc50, 0x8b63, 0x74ac, 0x1, 0x0);
        gbc.writeMem(0xa03d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd0d5);
        EXPECT(gbc.pc(), 0xa03f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa03d), 0xcb);
        EXPECT(gbc.readMem(0xa03e), 0x7a);
        // CB 7A 01F3
        gbc.setState(0xe412, 0x3242, 0x33c0, 0xba1b, 0x26e8, 0x5590, 0x1, 0x1);
        gbc.writeMem(0xe412, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x3242);
        EXPECT(gbc.pc(), 0xe414);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe412), 0xcb);
        EXPECT(gbc.readMem(0xe413), 0x7a);
        // CB 7A 01F4
        gbc.setState(0xac3b, 0xfdbc, 0x8480, 0x832c, 0x2466, 0xd91b, 0x1, 0x0);
        gbc.writeMem(0xac3b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xfdbc);
        EXPECT(gbc.pc(), 0xac3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac3b), 0xcb);
        EXPECT(gbc.readMem(0xac3c), 0x7a);
        // CB 7A 01F5
        gbc.setState(0x1c0e, 0x768, 0x3cd0, 0x2f38, 0x8b25, 0x1a19, 0x0, 0x0);
        gbc.writeMem(0x1c0e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x768);
        EXPECT(gbc.pc(), 0x1c10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01F6
        gbc.setState(0xb95c, 0xb705, 0x7510, 0xc9c3, 0xbb78, 0x544f, 0x1, 0x1);
        gbc.writeMem(0xb95c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xb705);
        EXPECT(gbc.pc(), 0xb95e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb95c), 0xcb);
        EXPECT(gbc.readMem(0xb95d), 0x7a);
        // CB 7A 01F7
        gbc.setState(0xc2ba, 0x1747, 0x4360, 0xeb66, 0x2b4f, 0xf40e, 0x1, 0x1);
        gbc.writeMem(0xc2ba, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x1747);
        EXPECT(gbc.pc(), 0xc2bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2ba), 0xcb);
        EXPECT(gbc.readMem(0xc2bb), 0x7a);
        // CB 7A 01F9
        gbc.setState(0xc158, 0xa978, 0xd490, 0x6521, 0xffb9, 0xc00d, 0x1, 0x0);
        gbc.writeMem(0xc158, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa978);
        EXPECT(gbc.pc(), 0xc15a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc158), 0xcb);
        EXPECT(gbc.readMem(0xc159), 0x7a);
        // CB 7A 01FA
        gbc.setState(0x54b1, 0x9191, 0x39d0, 0x5f4, 0xfb06, 0xd719, 0x1, 0x0);
        gbc.writeMem(0x54b1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9191);
        EXPECT(gbc.pc(), 0x54b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01FB
        gbc.setState(0x4526, 0x8c77, 0xe2d0, 0x7695, 0x3bd9, 0xb2da, 0x0, 0x1);
        gbc.writeMem(0x4526, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8c77);
        EXPECT(gbc.pc(), 0x4528);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01FC
        gbc.setState(0xd625, 0xee9e, 0xe200, 0xd17e, 0x9eab, 0x5f45, 0x0, 0x0);
        gbc.writeMem(0xd625, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xee9e);
        EXPECT(gbc.pc(), 0xd627);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd625), 0xcb);
        EXPECT(gbc.readMem(0xd626), 0x7a);
        // CB 7A 01FD
        gbc.setState(0x7e14, 0x6537, 0xfbd0, 0x5612, 0xdd7, 0x5ff1, 0x0, 0x0);
        gbc.writeMem(0x7e14, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x6537);
        EXPECT(gbc.pc(), 0x7e16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 01FE
        gbc.setState(0x2d9d, 0x763f, 0x9860, 0x9d17, 0x1e0d, 0x252c, 0x0, 0x1);
        gbc.writeMem(0x2d9d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x763f);
        EXPECT(gbc.pc(), 0x2d9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 01FF
        gbc.setState(0x5a6b, 0x3bd8, 0xeeb0, 0x2bc, 0x215d, 0x323c, 0x0, 0x0);
        gbc.writeMem(0x5a6b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3bd8);
        EXPECT(gbc.pc(), 0x5a6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0200
        gbc.setState(0x5895, 0x8db4, 0x6a60, 0xca27, 0x3ecf, 0x69b8, 0x0, 0x0);
        gbc.writeMem(0x5895, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8db4);
        EXPECT(gbc.pc(), 0x5897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0201
        gbc.setState(0x27be, 0xe793, 0xb1c0, 0x8f11, 0xda8d, 0x3618, 0x0, 0x1);
        gbc.writeMem(0x27be, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xe793);
        EXPECT(gbc.pc(), 0x27c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0202
        gbc.setState(0x90e3, 0x613d, 0xe140, 0x8152, 0xf98f, 0x27f0, 0x0, 0x0);
        gbc.writeMem(0x90e3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x613d);
        EXPECT(gbc.pc(), 0x90e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e3), 0xcb);
        EXPECT(gbc.readMem(0x90e4), 0x7a);
        // CB 7A 0203
        gbc.setState(0x1d69, 0x8097, 0x8720, 0xf7b6, 0xe379, 0x4c02, 0x1, 0x1);
        gbc.writeMem(0x1d69, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8097);
        EXPECT(gbc.pc(), 0x1d6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0204
        gbc.setState(0x5579, 0xc359, 0xe560, 0x8e40, 0x4525, 0x2c, 0x0, 0x0);
        gbc.writeMem(0x5579, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xc359);
        EXPECT(gbc.pc(), 0x557b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0205
        gbc.setState(0xf90, 0xd858, 0x1680, 0x2993, 0x4354, 0x434e, 0x1, 0x0);
        gbc.writeMem(0xf90, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd858);
        EXPECT(gbc.pc(), 0xf92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0206
        gbc.setState(0xd146, 0xe948, 0x680, 0x2b31, 0x98fb, 0x2430, 0x0, 0x1);
        gbc.writeMem(0xd146, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xe948);
        EXPECT(gbc.pc(), 0xd148);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd146), 0xcb);
        EXPECT(gbc.readMem(0xd147), 0x7a);
        // CB 7A 0207
        gbc.setState(0x3b63, 0x4bdc, 0x7170, 0x6736, 0x45ce, 0xa2b4, 0x0, 0x0);
        gbc.writeMem(0x3b63, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x4bdc);
        EXPECT(gbc.pc(), 0x3b65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0208
        gbc.setState(0x9227, 0x68e9, 0x5e20, 0xd392, 0x58cd, 0x2e62, 0x1, 0x1);
        gbc.writeMem(0x9227, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x68e9);
        EXPECT(gbc.pc(), 0x9229);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9227), 0xcb);
        EXPECT(gbc.readMem(0x9228), 0x7a);
        // CB 7A 0209
        gbc.setState(0x87f0, 0xe59c, 0xe050, 0xc255, 0x1bee, 0x5f86, 0x1, 0x0);
        gbc.writeMem(0x87f0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe59c);
        EXPECT(gbc.pc(), 0x87f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87f0), 0xcb);
        EXPECT(gbc.readMem(0x87f1), 0x7a);
        // CB 7A 020A
        gbc.setState(0x815d, 0x2b7b, 0xf610, 0x2d17, 0x704c, 0x6d44, 0x1, 0x1);
        gbc.writeMem(0x815d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x2b7b);
        EXPECT(gbc.pc(), 0x815f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x815d), 0xcb);
        EXPECT(gbc.readMem(0x815e), 0x7a);
        // CB 7A 020B
        gbc.setState(0x67ea, 0xdbf5, 0x6ca0, 0x8912, 0x4fae, 0x3f17, 0x0, 0x0);
        gbc.writeMem(0x67ea, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xdbf5);
        EXPECT(gbc.pc(), 0x67ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 020D
        gbc.setState(0xd706, 0xa1f9, 0xba40, 0x8b7c, 0x4db1, 0xe439, 0x0, 0x1);
        gbc.writeMem(0xd706, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xa1f9);
        EXPECT(gbc.pc(), 0xd708);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd706), 0xcb);
        EXPECT(gbc.readMem(0xd707), 0x7a);
        // CB 7A 020E
        gbc.setState(0x60eb, 0x2f7e, 0xc560, 0x303d, 0x526c, 0x30c2, 0x1, 0x1);
        gbc.writeMem(0x60eb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2f7e);
        EXPECT(gbc.pc(), 0x60ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 020F
        gbc.setState(0x418b, 0x9ccb, 0xd6e0, 0x2307, 0x85d4, 0x6be6, 0x1, 0x0);
        gbc.writeMem(0x418b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x9ccb);
        EXPECT(gbc.pc(), 0x418d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0210
        gbc.setState(0x3021, 0x3a6c, 0xc7c0, 0x830e, 0xfb31, 0xd20f, 0x1, 0x1);
        gbc.writeMem(0x3021, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3a6c);
        EXPECT(gbc.pc(), 0x3023);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0211
        gbc.setState(0x6229, 0x33b9, 0xb340, 0x735f, 0xb8fa, 0x2b01, 0x0, 0x1);
        gbc.writeMem(0x6229, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x33b9);
        EXPECT(gbc.pc(), 0x622b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0212
        gbc.setState(0x279c, 0xd8e4, 0xd790, 0x305a, 0x7429, 0x4704, 0x1, 0x0);
        gbc.writeMem(0x279c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xd8e4);
        EXPECT(gbc.pc(), 0x279e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0213
        gbc.setState(0x37e6, 0xdbaf, 0x8cb0, 0x349e, 0xf697, 0xdd59, 0x1, 0x0);
        gbc.writeMem(0x37e6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xdbaf);
        EXPECT(gbc.pc(), 0x37e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0214
        gbc.setState(0xd5ea, 0x7ec1, 0x7930, 0xb17c, 0xfbcf, 0xc043, 0x1, 0x0);
        gbc.writeMem(0xd5ea, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7ec1);
        EXPECT(gbc.pc(), 0xd5ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5ea), 0xcb);
        EXPECT(gbc.readMem(0xd5eb), 0x7a);
        // CB 7A 0215
        gbc.setState(0x6d8, 0xe432, 0x7b0, 0xf42c, 0xf028, 0x9891, 0x0, 0x1);
        gbc.writeMem(0x6d8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xe432);
        EXPECT(gbc.pc(), 0x6da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0216
        gbc.setState(0x3449, 0x36fa, 0x33d0, 0xb7a7, 0xdc23, 0x8d82, 0x1, 0x1);
        gbc.writeMem(0x3449, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x36fa);
        EXPECT(gbc.pc(), 0x344b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0217
        gbc.setState(0x13c6, 0x46c5, 0xc9d0, 0x66fd, 0x7cd1, 0xa581, 0x0, 0x1);
        gbc.writeMem(0x13c6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x46c5);
        EXPECT(gbc.pc(), 0x13c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0218
        gbc.setState(0x6c72, 0xda75, 0xe580, 0x12c1, 0xbb10, 0x9cb4, 0x0, 0x0);
        gbc.writeMem(0x6c72, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xda75);
        EXPECT(gbc.pc(), 0x6c74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0219
        gbc.setState(0x4169, 0xae4f, 0x8d80, 0x31ea, 0xcd24, 0xf403, 0x1, 0x1);
        gbc.writeMem(0x4169, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xae4f);
        EXPECT(gbc.pc(), 0x416b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 021A
        gbc.setState(0x78d2, 0x9757, 0xd0b0, 0xf274, 0x5c53, 0xbeeb, 0x1, 0x1);
        gbc.writeMem(0x78d2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9757);
        EXPECT(gbc.pc(), 0x78d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 021B
        gbc.setState(0x8ab6, 0x8208, 0xc9d0, 0xc783, 0x79ed, 0xeaa6, 0x1, 0x1);
        gbc.writeMem(0x8ab6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8208);
        EXPECT(gbc.pc(), 0x8ab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ab6), 0xcb);
        EXPECT(gbc.readMem(0x8ab7), 0x7a);
        // CB 7A 021C
        gbc.setState(0xb110, 0xa359, 0x3130, 0x973f, 0x25fb, 0x1fde, 0x1, 0x0);
        gbc.writeMem(0xb110, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa359);
        EXPECT(gbc.pc(), 0xb112);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb110), 0xcb);
        EXPECT(gbc.readMem(0xb111), 0x7a);
        // CB 7A 021D
        gbc.setState(0x43c0, 0x75c5, 0x12d0, 0xd6, 0x9be8, 0x24f1, 0x0, 0x0);
        gbc.writeMem(0x43c0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x75c5);
        EXPECT(gbc.pc(), 0x43c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 021E
        gbc.setState(0x4002, 0x18ee, 0x2fe0, 0xb334, 0xf6e8, 0xf462, 0x1, 0x1);
        gbc.writeMem(0x4002, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x18ee);
        EXPECT(gbc.pc(), 0x4004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 021F
        gbc.setState(0x29d3, 0xd8b5, 0x25e0, 0x4877, 0x5264, 0xec6b, 0x1, 0x1);
        gbc.writeMem(0x29d3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xd8b5);
        EXPECT(gbc.pc(), 0x29d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0220
        gbc.setState(0x6c52, 0xe1e8, 0x1b50, 0xeec1, 0x4f5d, 0x2fa0, 0x1, 0x0);
        gbc.writeMem(0x6c52, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xe1e8);
        EXPECT(gbc.pc(), 0x6c54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0221
        gbc.setState(0x1341, 0x518, 0xbdd0, 0x8467, 0x4b65, 0xaa32, 0x1, 0x0);
        gbc.writeMem(0x1341, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x518);
        EXPECT(gbc.pc(), 0x1343);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0222
        gbc.setState(0x325b, 0x3f07, 0x6420, 0x634d, 0xdbb3, 0x4b96, 0x1, 0x1);
        gbc.writeMem(0x325b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3f07);
        EXPECT(gbc.pc(), 0x325d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0223
        gbc.setState(0x50b9, 0x8f1b, 0x30f0, 0x4ec5, 0xd5c7, 0x4b7c, 0x1, 0x0);
        gbc.writeMem(0x50b9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x8f1b);
        EXPECT(gbc.pc(), 0x50bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0224
        gbc.setState(0xd71d, 0x5a5c, 0x28e0, 0x8e2d, 0xe867, 0x1955, 0x0, 0x0);
        gbc.writeMem(0xd71d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x5a5c);
        EXPECT(gbc.pc(), 0xd71f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd71d), 0xcb);
        EXPECT(gbc.readMem(0xd71e), 0x7a);
        // CB 7A 0225
        gbc.setState(0x66ad, 0x9bbd, 0xa0c0, 0xe4f7, 0x974f, 0xe0d1, 0x0, 0x1);
        gbc.writeMem(0x66ad, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9bbd);
        EXPECT(gbc.pc(), 0x66af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0226
        gbc.setState(0xca6d, 0x857a, 0x3b20, 0xaf0d, 0x941f, 0x2a5, 0x1, 0x0);
        gbc.writeMem(0xca6d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x857a);
        EXPECT(gbc.pc(), 0xca6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca6d), 0xcb);
        EXPECT(gbc.readMem(0xca6e), 0x7a);
        // CB 7A 0227
        gbc.setState(0xe1cf, 0x5d39, 0x2f70, 0x35d3, 0x33a2, 0x1caf, 0x1, 0x1);
        gbc.writeMem(0xe1cf, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x5d39);
        EXPECT(gbc.pc(), 0xe1d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1cf), 0xcb);
        EXPECT(gbc.readMem(0xe1d0), 0x7a);
        // CB 7A 0228
        gbc.setState(0x4173, 0xc967, 0xb660, 0x79ec, 0xa53c, 0x95cd, 0x1, 0x1);
        gbc.writeMem(0x4173, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc967);
        EXPECT(gbc.pc(), 0x4175);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0229
        gbc.setState(0x7773, 0x7498, 0xb5a0, 0x3932, 0xc3ac, 0x62e4, 0x1, 0x1);
        gbc.writeMem(0x7773, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x7498);
        EXPECT(gbc.pc(), 0x7775);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 022A
        gbc.setState(0xa509, 0x1a5, 0x5530, 0x513, 0xdb79, 0xc53f, 0x0, 0x0);
        gbc.writeMem(0xa509, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1a5);
        EXPECT(gbc.pc(), 0xa50b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa509), 0xcb);
        EXPECT(gbc.readMem(0xa50a), 0x7a);
        // CB 7A 022B
        gbc.setState(0x5085, 0xa6d5, 0xe4e0, 0xa8dc, 0x8375, 0x6b2d, 0x0, 0x0);
        gbc.writeMem(0x5085, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xa6d5);
        EXPECT(gbc.pc(), 0x5087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 022C
        gbc.setState(0x1019, 0xa9a4, 0x53d0, 0xee38, 0x2d43, 0x4a00, 0x1, 0x1);
        gbc.writeMem(0x1019, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xa9a4);
        EXPECT(gbc.pc(), 0x101b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 022D
        gbc.setState(0xa22a, 0x63a2, 0x1280, 0xdefb, 0xf47, 0xe5e7, 0x1, 0x1);
        gbc.writeMem(0xa22a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x63a2);
        EXPECT(gbc.pc(), 0xa22c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa22a), 0xcb);
        EXPECT(gbc.readMem(0xa22b), 0x7a);
        // CB 7A 022E
        gbc.setState(0x745d, 0x709f, 0x23f0, 0x5a0e, 0x8291, 0x8c2d, 0x1, 0x1);
        gbc.writeMem(0x745d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x709f);
        EXPECT(gbc.pc(), 0x745f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 022F
        gbc.setState(0xaa97, 0xf490, 0xa370, 0xcef5, 0xe458, 0xf32, 0x0, 0x1);
        gbc.writeMem(0xaa97, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf490);
        EXPECT(gbc.pc(), 0xaa99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa97), 0xcb);
        EXPECT(gbc.readMem(0xaa98), 0x7a);
        // CB 7A 0230
        gbc.setState(0xa534, 0xa3d6, 0xdb50, 0xe42d, 0x3a6a, 0xc174, 0x1, 0x1);
        gbc.writeMem(0xa534, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xa3d6);
        EXPECT(gbc.pc(), 0xa536);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa534), 0xcb);
        EXPECT(gbc.readMem(0xa535), 0x7a);
        // CB 7A 0231
        gbc.setState(0xe7d1, 0xe67, 0xc2f0, 0x6393, 0x1bc4, 0xb43, 0x0, 0x1);
        gbc.writeMem(0xe7d1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe67);
        EXPECT(gbc.pc(), 0xe7d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7d1), 0xcb);
        EXPECT(gbc.readMem(0xe7d2), 0x7a);
        // CB 7A 0233
        gbc.setState(0xea57, 0x7a78, 0x8290, 0x1d21, 0xe5f6, 0xd842, 0x1, 0x0);
        gbc.writeMem(0xea57, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x7a78);
        EXPECT(gbc.pc(), 0xea59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea57), 0xcb);
        EXPECT(gbc.readMem(0xea58), 0x7a);
        // CB 7A 0234
        gbc.setState(0x5065, 0x5063, 0x4f0, 0x2461, 0x6379, 0x7f1a, 0x0, 0x1);
        gbc.writeMem(0x5065, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5063);
        EXPECT(gbc.pc(), 0x5067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0235
        gbc.setState(0x2a08, 0x54e5, 0xa000, 0xb0bd, 0x728b, 0x9e1e, 0x1, 0x0);
        gbc.writeMem(0x2a08, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x54e5);
        EXPECT(gbc.pc(), 0x2a0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0236
        gbc.setState(0xc76f, 0xd421, 0xa950, 0xd2be, 0x1523, 0xbaeb, 0x0, 0x0);
        gbc.writeMem(0xc76f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xd421);
        EXPECT(gbc.pc(), 0xc771);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc76f), 0xcb);
        EXPECT(gbc.readMem(0xc770), 0x7a);
        // CB 7A 0237
        gbc.setState(0xeec2, 0x3c8d, 0xe230, 0x7ed, 0x1eb3, 0x973d, 0x1, 0x0);
        gbc.writeMem(0xeec2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3c8d);
        EXPECT(gbc.pc(), 0xeec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeec2), 0xcb);
        EXPECT(gbc.readMem(0xeec3), 0x7a);
        // CB 7A 0238
        gbc.setState(0x99b0, 0xfcdb, 0xe890, 0x9316, 0x2fde, 0x5594, 0x0, 0x1);
        gbc.writeMem(0x99b0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xfcdb);
        EXPECT(gbc.pc(), 0x99b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99b0), 0xcb);
        EXPECT(gbc.readMem(0x99b1), 0x7a);
        // CB 7A 0239
        gbc.setState(0x2f68, 0xf66b, 0xd850, 0xd4bb, 0x79a0, 0xaae2, 0x1, 0x0);
        gbc.writeMem(0x2f68, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xf66b);
        EXPECT(gbc.pc(), 0x2f6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 023A
        gbc.setState(0xc56d, 0x81ee, 0x4540, 0x8687, 0xc879, 0xfa81, 0x0, 0x1);
        gbc.writeMem(0xc56d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x81ee);
        EXPECT(gbc.pc(), 0xc56f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc56d), 0xcb);
        EXPECT(gbc.readMem(0xc56e), 0x7a);
        // CB 7A 023B
        gbc.setState(0xb044, 0x2727, 0xa530, 0xd4a5, 0xdbd3, 0xe2f4, 0x0, 0x1);
        gbc.writeMem(0xb044, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2727);
        EXPECT(gbc.pc(), 0xb046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb044), 0xcb);
        EXPECT(gbc.readMem(0xb045), 0x7a);
        // CB 7A 023C
        gbc.setState(0xbfb6, 0x8a58, 0x90c0, 0xfd23, 0xcc1c, 0xbd82, 0x0, 0x0);
        gbc.writeMem(0xbfb6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x8a58);
        EXPECT(gbc.pc(), 0xbfb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfb6), 0xcb);
        EXPECT(gbc.readMem(0xbfb7), 0x7a);
        // CB 7A 023D
        gbc.setState(0x4fbd, 0xce18, 0x4de0, 0x6218, 0x4f6d, 0x6c8e, 0x0, 0x0);
        gbc.writeMem(0x4fbd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xce18);
        EXPECT(gbc.pc(), 0x4fbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 023E
        gbc.setState(0xd39, 0xdeba, 0x7a0, 0x2978, 0x2d84, 0x9d9d, 0x0, 0x1);
        gbc.writeMem(0xd39, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xdeba);
        EXPECT(gbc.pc(), 0xd3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 023F
        gbc.setState(0x71e9, 0x6e0f, 0x550, 0xeb36, 0x13af, 0xd445, 0x0, 0x1);
        gbc.writeMem(0x71e9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x6e0f);
        EXPECT(gbc.pc(), 0x71eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0240
        gbc.setState(0x7f1c, 0xad0b, 0x3770, 0xfd0c, 0x810f, 0x14a7, 0x0, 0x0);
        gbc.writeMem(0x7f1c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xad0b);
        EXPECT(gbc.pc(), 0x7f1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0241
        gbc.setState(0x4596, 0x3f81, 0x7740, 0xcb13, 0x9713, 0xd1a3, 0x1, 0x1);
        gbc.writeMem(0x4596, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x3f81);
        EXPECT(gbc.pc(), 0x4598);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0242
        gbc.setState(0xd60a, 0x3aec, 0xade0, 0xebae, 0x952b, 0x2342, 0x0, 0x1);
        gbc.writeMem(0xd60a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3aec);
        EXPECT(gbc.pc(), 0xd60c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd60a), 0xcb);
        EXPECT(gbc.readMem(0xd60b), 0x7a);
        // CB 7A 0243
        gbc.setState(0x3859, 0x956b, 0x5080, 0x2966, 0x253f, 0xd0ae, 0x1, 0x1);
        gbc.writeMem(0x3859, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x956b);
        EXPECT(gbc.pc(), 0x385b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0244
        gbc.setState(0x3652, 0xfcf4, 0x2ec0, 0x6fec, 0x682, 0xf14f, 0x0, 0x1);
        gbc.writeMem(0x3652, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xfcf4);
        EXPECT(gbc.pc(), 0x3654);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0245
        gbc.setState(0x65f3, 0x1d8, 0x9250, 0x6394, 0x43ce, 0x5ac0, 0x1, 0x0);
        gbc.writeMem(0x65f3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x1d8);
        EXPECT(gbc.pc(), 0x65f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0246
        gbc.setState(0x3e9c, 0x71ab, 0x9180, 0xa7ea, 0x1abb, 0xd308, 0x0, 0x0);
        gbc.writeMem(0x3e9c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x71ab);
        EXPECT(gbc.pc(), 0x3e9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0247
        gbc.setState(0x1eac, 0x259, 0xa240, 0xc2cd, 0x1e96, 0x787d, 0x1, 0x1);
        gbc.writeMem(0x1eac, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x259);
        EXPECT(gbc.pc(), 0x1eae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0248
        gbc.setState(0xa38f, 0xb6a0, 0xa320, 0x5a0d, 0x4e9f, 0xf86a, 0x1, 0x0);
        gbc.writeMem(0xa38f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xb6a0);
        EXPECT(gbc.pc(), 0xa391);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa38f), 0xcb);
        EXPECT(gbc.readMem(0xa390), 0x7a);
        // CB 7A 024B
        gbc.setState(0x43c3, 0xa83, 0x800, 0x83e0, 0xbf49, 0x6b31, 0x0, 0x1);
        gbc.writeMem(0x43c3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa83);
        EXPECT(gbc.pc(), 0x43c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 024C
        gbc.setState(0xc35a, 0xdb9d, 0x9770, 0xc91, 0xeeec, 0xb7b0, 0x1, 0x1);
        gbc.writeMem(0xc35a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xdb9d);
        EXPECT(gbc.pc(), 0xc35c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc35a), 0xcb);
        EXPECT(gbc.readMem(0xc35b), 0x7a);
        // CB 7A 024D
        gbc.setState(0x5293, 0x27a8, 0x26c0, 0x55e1, 0xb489, 0x90c0, 0x1, 0x0);
        gbc.writeMem(0x5293, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x27a8);
        EXPECT(gbc.pc(), 0x5295);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 024E
        gbc.setState(0x173b, 0xdffa, 0x13b0, 0xeff0, 0x7d67, 0xb257, 0x0, 0x1);
        gbc.writeMem(0x173b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xdffa);
        EXPECT(gbc.pc(), 0x173d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 024F
        gbc.setState(0xee4a, 0xab5f, 0x4fe0, 0x4318, 0x96be, 0x1278, 0x1, 0x1);
        gbc.writeMem(0xee4a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xab5f);
        EXPECT(gbc.pc(), 0xee4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee4a), 0xcb);
        EXPECT(gbc.readMem(0xee4b), 0x7a);
        // CB 7A 0251
        gbc.setState(0x1a08, 0xf511, 0xa690, 0x7c5a, 0x563, 0x83ea, 0x0, 0x0);
        gbc.writeMem(0x1a08, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xf511);
        EXPECT(gbc.pc(), 0x1a0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0252
        gbc.setState(0x7e5, 0x7af5, 0xc3a0, 0xe64f, 0x668f, 0x257d, 0x1, 0x1);
        gbc.writeMem(0x7e5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7af5);
        EXPECT(gbc.pc(), 0x7e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0253
        gbc.setState(0xa33a, 0xeea2, 0x8870, 0x2c7a, 0x73ab, 0xcdf0, 0x1, 0x1);
        gbc.writeMem(0xa33a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xeea2);
        EXPECT(gbc.pc(), 0xa33c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa33a), 0xcb);
        EXPECT(gbc.readMem(0xa33b), 0x7a);
        // CB 7A 0254
        gbc.setState(0xa2d6, 0x3050, 0x1c40, 0xa711, 0x1e36, 0x6a6b, 0x1, 0x0);
        gbc.writeMem(0xa2d6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3050);
        EXPECT(gbc.pc(), 0xa2d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2d6), 0xcb);
        EXPECT(gbc.readMem(0xa2d7), 0x7a);
        // CB 7A 0255
        gbc.setState(0x610c, 0xc79f, 0x340, 0x6cb8, 0xf153, 0xe34, 0x1, 0x1);
        gbc.writeMem(0x610c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xc79f);
        EXPECT(gbc.pc(), 0x610e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0256
        gbc.setState(0x572c, 0x8e1d, 0x5af0, 0xbed, 0x8ad8, 0x3fe7, 0x1, 0x0);
        gbc.writeMem(0x572c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x8e1d);
        EXPECT(gbc.pc(), 0x572e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0257
        gbc.setState(0x93be, 0xe11b, 0xdb90, 0xd18d, 0xb644, 0xdbb6, 0x0, 0x1);
        gbc.writeMem(0x93be, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xe11b);
        EXPECT(gbc.pc(), 0x93c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93be), 0xcb);
        EXPECT(gbc.readMem(0x93bf), 0x7a);
        // CB 7A 0258
        gbc.setState(0xe276, 0x726f, 0x3140, 0x3c15, 0x243a, 0x6fbf, 0x1, 0x1);
        gbc.writeMem(0xe276, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x726f);
        EXPECT(gbc.pc(), 0xe278);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe276), 0xcb);
        EXPECT(gbc.readMem(0xe277), 0x7a);
        // CB 7A 0259
        gbc.setState(0x2af6, 0x5115, 0x7220, 0x2c67, 0xac93, 0x9585, 0x0, 0x0);
        gbc.writeMem(0x2af6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5115);
        EXPECT(gbc.pc(), 0x2af8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 025A
        gbc.setState(0xc0f8, 0x1cef, 0x1b0, 0xf20e, 0x1365, 0x7ff0, 0x0, 0x1);
        gbc.writeMem(0xc0f8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x1cef);
        EXPECT(gbc.pc(), 0xc0fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0f8), 0xcb);
        EXPECT(gbc.readMem(0xc0f9), 0x7a);
        // CB 7A 025B
        gbc.setState(0xb396, 0xd998, 0x3530, 0x27a6, 0xc999, 0xec72, 0x0, 0x1);
        gbc.writeMem(0xb396, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd998);
        EXPECT(gbc.pc(), 0xb398);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb396), 0xcb);
        EXPECT(gbc.readMem(0xb397), 0x7a);
        // CB 7A 025C
        gbc.setState(0x44d0, 0x9c21, 0x8100, 0x19ba, 0x2493, 0xf2fe, 0x1, 0x1);
        gbc.writeMem(0x44d0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9c21);
        EXPECT(gbc.pc(), 0x44d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 025D
        gbc.setState(0x9bbc, 0xac20, 0x5930, 0x17c, 0xa1c0, 0x3175, 0x0, 0x1);
        gbc.writeMem(0x9bbc, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xac20);
        EXPECT(gbc.pc(), 0x9bbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bbc), 0xcb);
        EXPECT(gbc.readMem(0x9bbd), 0x7a);
        // CB 7A 025E
        gbc.setState(0xa112, 0x1f9c, 0xbb30, 0x68f9, 0x5707, 0x8a5b, 0x1, 0x0);
        gbc.writeMem(0xa112, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x1f9c);
        EXPECT(gbc.pc(), 0xa114);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa112), 0xcb);
        EXPECT(gbc.readMem(0xa113), 0x7a);
        // CB 7A 025F
        gbc.setState(0x3b7, 0xde6c, 0x8260, 0xf550, 0x4190, 0x238f, 0x1, 0x1);
        gbc.writeMem(0x3b7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xde6c);
        EXPECT(gbc.pc(), 0x3b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0260
        gbc.setState(0x5053, 0x1ee4, 0x6b50, 0x5fc3, 0x728c, 0xaa3e, 0x1, 0x1);
        gbc.writeMem(0x5053, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1ee4);
        EXPECT(gbc.pc(), 0x5055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0261
        gbc.setState(0xd737, 0x38a5, 0x7d10, 0x94d5, 0x4b42, 0x39f, 0x1, 0x1);
        gbc.writeMem(0xd737, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x38a5);
        EXPECT(gbc.pc(), 0xd739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd737), 0xcb);
        EXPECT(gbc.readMem(0xd738), 0x7a);
        // CB 7A 0262
        gbc.setState(0x2b36, 0x7ac4, 0xd920, 0xb40a, 0x622e, 0xfa34, 0x1, 0x0);
        gbc.writeMem(0x2b36, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7ac4);
        EXPECT(gbc.pc(), 0x2b38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0263
        gbc.setState(0x49cf, 0xb5f6, 0x8500, 0x1462, 0xb9a, 0xb536, 0x0, 0x1);
        gbc.writeMem(0x49cf, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb5f6);
        EXPECT(gbc.pc(), 0x49d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0264
        gbc.setState(0x7fb1, 0xaed7, 0x9c60, 0x997, 0x7229, 0x3db0, 0x0, 0x0);
        gbc.writeMem(0x7fb1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xaed7);
        EXPECT(gbc.pc(), 0x7fb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0265
        gbc.setState(0x8faf, 0x31fc, 0xf0b0, 0xa019, 0x76b0, 0xc95, 0x1, 0x1);
        gbc.writeMem(0x8faf, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x31fc);
        EXPECT(gbc.pc(), 0x8fb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8faf), 0xcb);
        EXPECT(gbc.readMem(0x8fb0), 0x7a);
        // CB 7A 0266
        gbc.setState(0xbbe1, 0xb6df, 0x68e0, 0xe544, 0x61c9, 0xe9d5, 0x0, 0x0);
        gbc.writeMem(0xbbe1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xb6df);
        EXPECT(gbc.pc(), 0xbbe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbe1), 0xcb);
        EXPECT(gbc.readMem(0xbbe2), 0x7a);
        // CB 7A 0267
        gbc.setState(0x1dfa, 0x6513, 0x6280, 0x4473, 0x74f3, 0x1318, 0x0, 0x0);
        gbc.writeMem(0x1dfa, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6513);
        EXPECT(gbc.pc(), 0x1dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0268
        gbc.setState(0x4172, 0x7f04, 0xc820, 0xab92, 0x4b7c, 0x82b1, 0x1, 0x0);
        gbc.writeMem(0x4172, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7f04);
        EXPECT(gbc.pc(), 0x4174);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0269
        gbc.setState(0xd8a0, 0x7a9c, 0x3b20, 0xda8c, 0x14da, 0x8dd3, 0x0, 0x1);
        gbc.writeMem(0xd8a0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x7a9c);
        EXPECT(gbc.pc(), 0xd8a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8a0), 0xcb);
        EXPECT(gbc.readMem(0xd8a1), 0x7a);
        // CB 7A 026A
        gbc.setState(0xde21, 0x97fd, 0xb430, 0xaba7, 0x6013, 0x78db, 0x0, 0x1);
        gbc.writeMem(0xde21, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x97fd);
        EXPECT(gbc.pc(), 0xde23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde21), 0xcb);
        EXPECT(gbc.readMem(0xde22), 0x7a);
        // CB 7A 026B
        gbc.setState(0xe183, 0xb450, 0x6480, 0x7525, 0x15b5, 0x2fab, 0x1, 0x1);
        gbc.writeMem(0xe183, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xb450);
        EXPECT(gbc.pc(), 0xe185);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe183), 0xcb);
        EXPECT(gbc.readMem(0xe184), 0x7a);
        // CB 7A 026C
        gbc.setState(0x9c04, 0x6ebc, 0xd5d0, 0x696b, 0x2e77, 0x365, 0x0, 0x1);
        gbc.writeMem(0x9c04, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x6ebc);
        EXPECT(gbc.pc(), 0x9c06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c04), 0xcb);
        EXPECT(gbc.readMem(0x9c05), 0x7a);
        // CB 7A 026D
        gbc.setState(0xc627, 0x1c7, 0x7c70, 0x24c8, 0x4e77, 0x30eb, 0x0, 0x1);
        gbc.writeMem(0xc627, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x1c7);
        EXPECT(gbc.pc(), 0xc629);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc627), 0xcb);
        EXPECT(gbc.readMem(0xc628), 0x7a);
        // CB 7A 026F
        gbc.setState(0xe9ea, 0x223b, 0x490, 0x62b, 0x6fe5, 0xed7b, 0x1, 0x0);
        gbc.writeMem(0xe9ea, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x223b);
        EXPECT(gbc.pc(), 0xe9ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9ea), 0xcb);
        EXPECT(gbc.readMem(0xe9eb), 0x7a);
        // CB 7A 0270
        gbc.setState(0x76b3, 0x3337, 0x2dc0, 0xbf5b, 0x812a, 0x781d, 0x1, 0x1);
        gbc.writeMem(0x76b3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3337);
        EXPECT(gbc.pc(), 0x76b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0271
        gbc.setState(0xef52, 0x3c61, 0x3ed0, 0x987c, 0xbd6b, 0xee07, 0x1, 0x0);
        gbc.writeMem(0xef52, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x3c61);
        EXPECT(gbc.pc(), 0xef54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef52), 0xcb);
        EXPECT(gbc.readMem(0xef53), 0x7a);
        // CB 7A 0272
        gbc.setState(0x52c0, 0xc8e4, 0xe120, 0x6b04, 0xbbe, 0x1524, 0x1, 0x1);
        gbc.writeMem(0x52c0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc8e4);
        EXPECT(gbc.pc(), 0x52c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0273
        gbc.setState(0xa053, 0xc78b, 0x6520, 0xb15f, 0xdb4, 0xb937, 0x1, 0x0);
        gbc.writeMem(0xa053, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc78b);
        EXPECT(gbc.pc(), 0xa055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa053), 0xcb);
        EXPECT(gbc.readMem(0xa054), 0x7a);
        // CB 7A 0274
        gbc.setState(0x3923, 0xef8f, 0xe680, 0xb44e, 0xb056, 0x7f, 0x0, 0x0);
        gbc.writeMem(0x3923, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xef8f);
        EXPECT(gbc.pc(), 0x3925);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0275
        gbc.setState(0x36fa, 0xbac0, 0xf390, 0x93e5, 0x6dc2, 0x2fe4, 0x1, 0x0);
        gbc.writeMem(0x36fa, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xbac0);
        EXPECT(gbc.pc(), 0x36fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0276
        gbc.setState(0x9617, 0x5067, 0x82b0, 0x8799, 0x3a7d, 0x6554, 0x1, 0x0);
        gbc.writeMem(0x9617, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5067);
        EXPECT(gbc.pc(), 0x9619);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9617), 0xcb);
        EXPECT(gbc.readMem(0x9618), 0x7a);
        // CB 7A 0277
        gbc.setState(0xdd97, 0x2fab, 0x8a40, 0x64fd, 0x2f9, 0x3a66, 0x0, 0x1);
        gbc.writeMem(0xdd97, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x2fab);
        EXPECT(gbc.pc(), 0xdd99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd97), 0xcb);
        EXPECT(gbc.readMem(0xdd98), 0x7a);
        // CB 7A 0278
        gbc.setState(0xc565, 0x4423, 0xe7b0, 0xbda0, 0x2514, 0xa472, 0x1, 0x1);
        gbc.writeMem(0xc565, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x4423);
        EXPECT(gbc.pc(), 0xc567);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc565), 0xcb);
        EXPECT(gbc.readMem(0xc566), 0x7a);
        // CB 7A 0279
        gbc.setState(0xeb0, 0x6a05, 0x880, 0x8755, 0x32a6, 0xc76c, 0x1, 0x0);
        gbc.writeMem(0xeb0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x6a05);
        EXPECT(gbc.pc(), 0xeb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 027A
        gbc.setState(0x20db, 0xfb9a, 0xd360, 0x336f, 0x5bf5, 0x82ac, 0x1, 0x0);
        gbc.writeMem(0x20db, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xfb9a);
        EXPECT(gbc.pc(), 0x20dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 027B
        gbc.setState(0x63a0, 0x40a6, 0xac90, 0xaf0e, 0x8bce, 0x3957, 0x1, 0x1);
        gbc.writeMem(0x63a0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x40a6);
        EXPECT(gbc.pc(), 0x63a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 027C
        gbc.setState(0x26d2, 0x9b30, 0x9c40, 0x9919, 0x1956, 0x9ed4, 0x1, 0x1);
        gbc.writeMem(0x26d2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x9b30);
        EXPECT(gbc.pc(), 0x26d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 027D
        gbc.setState(0x2f39, 0x6f33, 0xbbb0, 0x3df9, 0x25a2, 0x7205, 0x0, 0x0);
        gbc.writeMem(0x2f39, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x6f33);
        EXPECT(gbc.pc(), 0x2f3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 027E
        gbc.setState(0x3500, 0x369f, 0x89c0, 0x3e94, 0x1919, 0xb944, 0x1, 0x0);
        gbc.writeMem(0x3500, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x369f);
        EXPECT(gbc.pc(), 0x3502);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 027F
        gbc.setState(0xaa6e, 0x9005, 0x1ab0, 0x1677, 0xbc4a, 0xad47, 0x1, 0x1);
        gbc.writeMem(0xaa6e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9005);
        EXPECT(gbc.pc(), 0xaa70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa6e), 0xcb);
        EXPECT(gbc.readMem(0xaa6f), 0x7a);
        // CB 7A 0280
        gbc.setState(0x216, 0xc187, 0x7470, 0x8f68, 0xe768, 0x8dea, 0x0, 0x0);
        gbc.writeMem(0x216, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc187);
        EXPECT(gbc.pc(), 0x218);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0281
        gbc.setState(0x97e7, 0x1ed4, 0x4bd0, 0xc46e, 0x4b25, 0xc415, 0x0, 0x1);
        gbc.writeMem(0x97e7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x1ed4);
        EXPECT(gbc.pc(), 0x97e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e7), 0xcb);
        EXPECT(gbc.readMem(0x97e8), 0x7a);
        // CB 7A 0282
        gbc.setState(0x712e, 0x39b4, 0x4690, 0xf1df, 0x85c9, 0xb1f0, 0x1, 0x0);
        gbc.writeMem(0x712e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x39b4);
        EXPECT(gbc.pc(), 0x7130);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0283
        gbc.setState(0xbfcd, 0xc8cd, 0xc2f0, 0xa732, 0xb6e7, 0xcb1d, 0x0, 0x1);
        gbc.writeMem(0xbfcd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc8cd);
        EXPECT(gbc.pc(), 0xbfcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfcd), 0xcb);
        EXPECT(gbc.readMem(0xbfce), 0x7a);
        // CB 7A 0284
        gbc.setState(0x1f74, 0xf134, 0xe90, 0xc259, 0x5d3, 0xbca5, 0x1, 0x1);
        gbc.writeMem(0x1f74, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xf134);
        EXPECT(gbc.pc(), 0x1f76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0285
        gbc.setState(0x51bb, 0x8f7, 0xc670, 0xb832, 0x1f6a, 0x68b5, 0x0, 0x1);
        gbc.writeMem(0x51bb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8f7);
        EXPECT(gbc.pc(), 0x51bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0286
        gbc.setState(0x26ea, 0x3762, 0xe8c0, 0x3806, 0xb2bd, 0x13c7, 0x0, 0x0);
        gbc.writeMem(0x26ea, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x3762);
        EXPECT(gbc.pc(), 0x26ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0287
        gbc.setState(0x8bb5, 0xa867, 0x9010, 0xdcb4, 0x189e, 0x40cd, 0x0, 0x0);
        gbc.writeMem(0x8bb5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xa867);
        EXPECT(gbc.pc(), 0x8bb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bb5), 0xcb);
        EXPECT(gbc.readMem(0x8bb6), 0x7a);
        // CB 7A 0288
        gbc.setState(0xba07, 0x88b8, 0xdba0, 0x4589, 0x6ee6, 0xb8ef, 0x1, 0x1);
        gbc.writeMem(0xba07, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x88b8);
        EXPECT(gbc.pc(), 0xba09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba07), 0xcb);
        EXPECT(gbc.readMem(0xba08), 0x7a);
        // CB 7A 0289
        gbc.setState(0x918e, 0xbd72, 0xb060, 0xf6d9, 0x3e1d, 0xf9d0, 0x1, 0x0);
        gbc.writeMem(0x918e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbd72);
        EXPECT(gbc.pc(), 0x9190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x918e), 0xcb);
        EXPECT(gbc.readMem(0x918f), 0x7a);
        // CB 7A 028A
        gbc.setState(0x93ad, 0x11b7, 0xe90, 0xcfbc, 0xcfc, 0xd1c0, 0x0, 0x1);
        gbc.writeMem(0x93ad, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x11b7);
        EXPECT(gbc.pc(), 0x93af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93ad), 0xcb);
        EXPECT(gbc.readMem(0x93ae), 0x7a);
        // CB 7A 028B
        gbc.setState(0x4224, 0xe006, 0x91a0, 0xef33, 0x394e, 0xd857, 0x0, 0x1);
        gbc.writeMem(0x4224, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe006);
        EXPECT(gbc.pc(), 0x4226);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 028D
        gbc.setState(0xec55, 0x1b11, 0x490, 0xce28, 0xd82d, 0x3656, 0x1, 0x0);
        gbc.writeMem(0xec55, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x1b11);
        EXPECT(gbc.pc(), 0xec57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec55), 0xcb);
        EXPECT(gbc.readMem(0xec56), 0x7a);
        // CB 7A 028E
        gbc.setState(0x12ee, 0xb332, 0x85c0, 0x7ff6, 0x7c9a, 0x9f28, 0x0, 0x0);
        gbc.writeMem(0x12ee, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb332);
        EXPECT(gbc.pc(), 0x12f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 028F
        gbc.setState(0x206f, 0x8295, 0xc3f0, 0xc467, 0x3e4a, 0xb797, 0x1, 0x1);
        gbc.writeMem(0x206f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x8295);
        EXPECT(gbc.pc(), 0x2071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0290
        gbc.setState(0xda0, 0x4e85, 0xaaf0, 0x817e, 0x14b4, 0xc304, 0x1, 0x1);
        gbc.writeMem(0xda0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x4e85);
        EXPECT(gbc.pc(), 0xda2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0291
        gbc.setState(0x7914, 0x75ed, 0x8210, 0x6fe2, 0xcca1, 0x280f, 0x1, 0x0);
        gbc.writeMem(0x7914, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x75ed);
        EXPECT(gbc.pc(), 0x7916);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0292
        gbc.setState(0x1465, 0xbc36, 0x63a0, 0x2d8, 0x494e, 0x1661, 0x0, 0x0);
        gbc.writeMem(0x1465, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xbc36);
        EXPECT(gbc.pc(), 0x1467);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0293
        gbc.setState(0xba8d, 0xfb30, 0x3ce0, 0xb6e1, 0x3257, 0x6067, 0x0, 0x0);
        gbc.writeMem(0xba8d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xfb30);
        EXPECT(gbc.pc(), 0xba8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba8d), 0xcb);
        EXPECT(gbc.readMem(0xba8e), 0x7a);
        // CB 7A 0294
        gbc.setState(0x270e, 0xbd7a, 0x8990, 0x4b9, 0xc432, 0xbe72, 0x1, 0x1);
        gbc.writeMem(0x270e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xbd7a);
        EXPECT(gbc.pc(), 0x2710);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0295
        gbc.setState(0x2510, 0x87ec, 0x5700, 0x477e, 0x400f, 0xfd8a, 0x0, 0x1);
        gbc.writeMem(0x2510, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x87ec);
        EXPECT(gbc.pc(), 0x2512);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0296
        gbc.setState(0xe9d4, 0xbc28, 0x42e0, 0x7640, 0x2335, 0x3dd2, 0x1, 0x1);
        gbc.writeMem(0xe9d4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xbc28);
        EXPECT(gbc.pc(), 0xe9d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9d4), 0xcb);
        EXPECT(gbc.readMem(0xe9d5), 0x7a);
        // CB 7A 0297
        gbc.setState(0x5133, 0x361e, 0x3090, 0xad07, 0x71cf, 0xbe03, 0x0, 0x1);
        gbc.writeMem(0x5133, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x361e);
        EXPECT(gbc.pc(), 0x5135);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0298
        gbc.setState(0xedf8, 0xf935, 0xb170, 0xfca8, 0x788b, 0x3beb, 0x1, 0x1);
        gbc.writeMem(0xedf8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf935);
        EXPECT(gbc.pc(), 0xedfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedf8), 0xcb);
        EXPECT(gbc.readMem(0xedf9), 0x7a);
        // CB 7A 0299
        gbc.setState(0x9c7b, 0x8808, 0x4ca0, 0xcac5, 0xdb14, 0xeb19, 0x0, 0x1);
        gbc.writeMem(0x9c7b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8808);
        EXPECT(gbc.pc(), 0x9c7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c7b), 0xcb);
        EXPECT(gbc.readMem(0x9c7c), 0x7a);
        // CB 7A 029A
        gbc.setState(0xa1e8, 0xf154, 0xdc00, 0x2676, 0xdc87, 0x9cc4, 0x0, 0x0);
        gbc.writeMem(0xa1e8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf154);
        EXPECT(gbc.pc(), 0xa1ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1e8), 0xcb);
        EXPECT(gbc.readMem(0xa1e9), 0x7a);
        // CB 7A 029B
        gbc.setState(0x1f32, 0xf8a7, 0xa2f0, 0xd1e8, 0xa51f, 0xe76d, 0x0, 0x0);
        gbc.writeMem(0x1f32, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xf8a7);
        EXPECT(gbc.pc(), 0x1f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 029C
        gbc.setState(0x1202, 0xfb8, 0xb080, 0xc21b, 0xba, 0x984, 0x0, 0x0);
        gbc.writeMem(0x1202, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xfb8);
        EXPECT(gbc.pc(), 0x1204);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 029D
        gbc.setState(0xad7c, 0xa8e1, 0xbe80, 0x4f48, 0xb4e, 0x8f40, 0x1, 0x0);
        gbc.writeMem(0xad7c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xa8e1);
        EXPECT(gbc.pc(), 0xad7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad7c), 0xcb);
        EXPECT(gbc.readMem(0xad7d), 0x7a);
        // CB 7A 029E
        gbc.setState(0x74fd, 0xa19c, 0x23e0, 0x7b2d, 0x92f8, 0x9ca9, 0x0, 0x0);
        gbc.writeMem(0x74fd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xa19c);
        EXPECT(gbc.pc(), 0x74ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 029F
        gbc.setState(0x464d, 0x977d, 0x71b0, 0x5bea, 0xfa51, 0xb863, 0x0, 0x1);
        gbc.writeMem(0x464d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x977d);
        EXPECT(gbc.pc(), 0x464f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02A0
        gbc.setState(0x3e5b, 0x9d89, 0x3910, 0xbe97, 0x4eb6, 0x2bd8, 0x1, 0x0);
        gbc.writeMem(0x3e5b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x9d89);
        EXPECT(gbc.pc(), 0x3e5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02A1
        gbc.setState(0x48df, 0x5102, 0x5780, 0xdbec, 0xa702, 0xbfad, 0x1, 0x0);
        gbc.writeMem(0x48df, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5102);
        EXPECT(gbc.pc(), 0x48e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02A2
        gbc.setState(0x1d2a, 0x6612, 0x44d0, 0xaac9, 0x720e, 0xca4e, 0x0, 0x0);
        gbc.writeMem(0x1d2a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6612);
        EXPECT(gbc.pc(), 0x1d2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02A3
        gbc.setState(0x810f, 0x97cd, 0xf910, 0xe956, 0x70c8, 0xb2d1, 0x1, 0x1);
        gbc.writeMem(0x810f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x97cd);
        EXPECT(gbc.pc(), 0x8111);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x810f), 0xcb);
        EXPECT(gbc.readMem(0x8110), 0x7a);
        // CB 7A 02A4
        gbc.setState(0x4c3e, 0x6e4c, 0xd4b0, 0xae40, 0xb2fc, 0xff87, 0x0, 0x1);
        gbc.writeMem(0x4c3e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6e4c);
        EXPECT(gbc.pc(), 0x4c40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02A5
        gbc.setState(0xcd01, 0xac35, 0xe5f0, 0x39a7, 0xc2a, 0x1f7b, 0x0, 0x1);
        gbc.writeMem(0xcd01, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xac35);
        EXPECT(gbc.pc(), 0xcd03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd01), 0xcb);
        EXPECT(gbc.readMem(0xcd02), 0x7a);
        // CB 7A 02A6
        gbc.setState(0xb991, 0xcacc, 0x5e30, 0xe549, 0x244, 0xa4b3, 0x0, 0x0);
        gbc.writeMem(0xb991, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xcacc);
        EXPECT(gbc.pc(), 0xb993);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb991), 0xcb);
        EXPECT(gbc.readMem(0xb992), 0x7a);
        // CB 7A 02A7
        gbc.setState(0x796a, 0xa89a, 0xcef0, 0xdbd0, 0x71bc, 0x584c, 0x0, 0x1);
        gbc.writeMem(0x796a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xa89a);
        EXPECT(gbc.pc(), 0x796c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02A8
        gbc.setState(0x7e2c, 0xfc01, 0x7f70, 0x4990, 0xd06b, 0xfd06, 0x0, 0x0);
        gbc.writeMem(0x7e2c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xfc01);
        EXPECT(gbc.pc(), 0x7e2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02A9
        gbc.setState(0xc686, 0x2363, 0xea50, 0x5534, 0xa47a, 0xf516, 0x0, 0x0);
        gbc.writeMem(0xc686, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x2363);
        EXPECT(gbc.pc(), 0xc688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc686), 0xcb);
        EXPECT(gbc.readMem(0xc687), 0x7a);
        // CB 7A 02AA
        gbc.setState(0xb3ec, 0x1b99, 0x3bc0, 0x2c63, 0x3393, 0xa7e7, 0x0, 0x0);
        gbc.writeMem(0xb3ec, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x1b99);
        EXPECT(gbc.pc(), 0xb3ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3ec), 0xcb);
        EXPECT(gbc.readMem(0xb3ed), 0x7a);
        // CB 7A 02AB
        gbc.setState(0x301, 0x9013, 0xdd70, 0x96c5, 0x1706, 0x812b, 0x0, 0x1);
        gbc.writeMem(0x301, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9013);
        EXPECT(gbc.pc(), 0x303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02AC
        gbc.setState(0x321a, 0xf122, 0xc8e0, 0x5eb5, 0x1046, 0xcdfb, 0x0, 0x0);
        gbc.writeMem(0x321a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xf122);
        EXPECT(gbc.pc(), 0x321c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02AD
        gbc.setState(0x11dd, 0xce91, 0xe460, 0x4a59, 0x6cbc, 0xf95b, 0x1, 0x0);
        gbc.writeMem(0x11dd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xce91);
        EXPECT(gbc.pc(), 0x11df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02AE
        gbc.setState(0x1cf9, 0x80f, 0x3090, 0xbf6e, 0x1acd, 0x9a51, 0x0, 0x1);
        gbc.writeMem(0x1cf9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x80f);
        EXPECT(gbc.pc(), 0x1cfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02AF
        gbc.setState(0x90c2, 0x7b71, 0x2b50, 0xd5ed, 0x2bea, 0xc868, 0x1, 0x1);
        gbc.writeMem(0x90c2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7b71);
        EXPECT(gbc.pc(), 0x90c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90c2), 0xcb);
        EXPECT(gbc.readMem(0x90c3), 0x7a);
        // CB 7A 02B0
        gbc.setState(0x473a, 0xb5b6, 0x4960, 0xd080, 0x3945, 0x6a2e, 0x0, 0x0);
        gbc.writeMem(0x473a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb5b6);
        EXPECT(gbc.pc(), 0x473c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02B1
        gbc.setState(0x9639, 0x5d1c, 0xf4a0, 0x12b8, 0x67b2, 0xee09, 0x0, 0x0);
        gbc.writeMem(0x9639, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5d1c);
        EXPECT(gbc.pc(), 0x963b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9639), 0xcb);
        EXPECT(gbc.readMem(0x963a), 0x7a);
        // CB 7A 02B2
        gbc.setState(0x2065, 0x4f5c, 0xe3b0, 0x6a32, 0xa64e, 0x9799, 0x1, 0x0);
        gbc.writeMem(0x2065, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x4f5c);
        EXPECT(gbc.pc(), 0x2067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02B3
        gbc.setState(0x7ee2, 0x6e92, 0x9740, 0xb94a, 0xea76, 0xdc5, 0x0, 0x0);
        gbc.writeMem(0x7ee2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6e92);
        EXPECT(gbc.pc(), 0x7ee4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02B4
        gbc.setState(0x10e7, 0x1d82, 0x4920, 0xc94a, 0xff2e, 0xbbb9, 0x1, 0x0);
        gbc.writeMem(0x10e7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x1d82);
        EXPECT(gbc.pc(), 0x10e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02B5
        gbc.setState(0x1582, 0xfde2, 0xb420, 0x2089, 0xa63a, 0x737a, 0x1, 0x0);
        gbc.writeMem(0x1582, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xfde2);
        EXPECT(gbc.pc(), 0x1584);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02B6
        gbc.setState(0x3af0, 0xe549, 0x37e0, 0x58d9, 0x22cf, 0x3205, 0x1, 0x1);
        gbc.writeMem(0x3af0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xe549);
        EXPECT(gbc.pc(), 0x3af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02B7
        gbc.setState(0x4156, 0x8251, 0x9970, 0x6e4e, 0xf301, 0xee5d, 0x1, 0x0);
        gbc.writeMem(0x4156, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8251);
        EXPECT(gbc.pc(), 0x4158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02B8
        gbc.setState(0x572d, 0x8cda, 0x3b20, 0x1290, 0x6fd5, 0xece1, 0x1, 0x1);
        gbc.writeMem(0x572d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x8cda);
        EXPECT(gbc.pc(), 0x572f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02B9
        gbc.setState(0xd68a, 0x76bd, 0x2220, 0xc838, 0xa03f, 0xd15c, 0x0, 0x0);
        gbc.writeMem(0xd68a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x76bd);
        EXPECT(gbc.pc(), 0xd68c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd68a), 0xcb);
        EXPECT(gbc.readMem(0xd68b), 0x7a);
        // CB 7A 02BA
        gbc.setState(0xac44, 0x94c4, 0x6f40, 0x34a3, 0xb300, 0x1eee, 0x1, 0x0);
        gbc.writeMem(0xac44, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x94c4);
        EXPECT(gbc.pc(), 0xac46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac44), 0xcb);
        EXPECT(gbc.readMem(0xac45), 0x7a);
        // CB 7A 02BB
        gbc.setState(0xb502, 0xb8f9, 0xfab0, 0xb48a, 0x693e, 0x9899, 0x0, 0x0);
        gbc.writeMem(0xb502, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xb8f9);
        EXPECT(gbc.pc(), 0xb504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb502), 0xcb);
        EXPECT(gbc.readMem(0xb503), 0x7a);
        // CB 7A 02BD
        gbc.setState(0x3cd7, 0xdb77, 0x610, 0xee4f, 0xa9bd, 0xd476, 0x1, 0x0);
        gbc.writeMem(0x3cd7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xdb77);
        EXPECT(gbc.pc(), 0x3cd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02BF
        gbc.setState(0x778a, 0x5b31, 0x2050, 0x1bf4, 0x27fc, 0x678a, 0x1, 0x0);
        gbc.writeMem(0x778a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x5b31);
        EXPECT(gbc.pc(), 0x778c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02C0
        gbc.setState(0x27c3, 0x907c, 0xb110, 0xb7b7, 0x1c40, 0x7ad, 0x0, 0x0);
        gbc.writeMem(0x27c3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x907c);
        EXPECT(gbc.pc(), 0x27c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02C1
        gbc.setState(0x5411, 0x4945, 0x5600, 0xdd56, 0xf63a, 0xe8ad, 0x1, 0x1);
        gbc.writeMem(0x5411, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x4945);
        EXPECT(gbc.pc(), 0x5413);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02C2
        gbc.setState(0x12dd, 0xd53e, 0xb270, 0x65e5, 0x92b4, 0xf058, 0x1, 0x1);
        gbc.writeMem(0x12dd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xd53e);
        EXPECT(gbc.pc(), 0x12df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02C3
        gbc.setState(0x4211, 0x3335, 0xbe90, 0xe126, 0xbcb7, 0xd868, 0x1, 0x0);
        gbc.writeMem(0x4211, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x3335);
        EXPECT(gbc.pc(), 0x4213);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02C4
        gbc.setState(0x753e, 0xc0c8, 0x7490, 0xfce6, 0x6cbc, 0x2d0a, 0x0, 0x0);
        gbc.writeMem(0x753e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xc0c8);
        EXPECT(gbc.pc(), 0x7540);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02C5
        gbc.setState(0x42a7, 0x67a5, 0x8350, 0x2622, 0x76ed, 0xb12, 0x0, 0x0);
        gbc.writeMem(0x42a7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x67a5);
        EXPECT(gbc.pc(), 0x42a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02C6
        gbc.setState(0x8cf2, 0xae27, 0xc150, 0x1b49, 0x8b26, 0x292a, 0x0, 0x1);
        gbc.writeMem(0x8cf2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xae27);
        EXPECT(gbc.pc(), 0x8cf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cf2), 0xcb);
        EXPECT(gbc.readMem(0x8cf3), 0x7a);
        // CB 7A 02C7
        gbc.setState(0x1608, 0xee6d, 0x36d0, 0x9537, 0xfd34, 0x270a, 0x0, 0x0);
        gbc.writeMem(0x1608, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xee6d);
        EXPECT(gbc.pc(), 0x160a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02C8
        gbc.setState(0x78c9, 0x6cdb, 0x34c0, 0xdbcb, 0x3a73, 0x5dcb, 0x0, 0x0);
        gbc.writeMem(0x78c9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6cdb);
        EXPECT(gbc.pc(), 0x78cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02CA
        gbc.setState(0xd7c8, 0xf918, 0x5f10, 0xdef4, 0x9584, 0xb5e, 0x0, 0x1);
        gbc.writeMem(0xd7c8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf918);
        EXPECT(gbc.pc(), 0xd7ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7c8), 0xcb);
        EXPECT(gbc.readMem(0xd7c9), 0x7a);
        // CB 7A 02CB
        gbc.setState(0xaf7c, 0xfdd1, 0x61a0, 0x102a, 0x27a6, 0x2aa0, 0x0, 0x1);
        gbc.writeMem(0xaf7c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xfdd1);
        EXPECT(gbc.pc(), 0xaf7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf7c), 0xcb);
        EXPECT(gbc.readMem(0xaf7d), 0x7a);
        // CB 7A 02CC
        gbc.setState(0xf57, 0x2716, 0x2a50, 0x8fa1, 0x20e8, 0xbe2f, 0x1, 0x1);
        gbc.writeMem(0xf57, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2716);
        EXPECT(gbc.pc(), 0xf59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02CD
        gbc.setState(0x1dd9, 0x4e8f, 0xa3b0, 0x1bc5, 0x849a, 0x41b5, 0x1, 0x0);
        gbc.writeMem(0x1dd9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4e8f);
        EXPECT(gbc.pc(), 0x1ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02CE
        gbc.setState(0xe670, 0xf9cb, 0xfe80, 0xa40c, 0xcf46, 0xe1c9, 0x0, 0x0);
        gbc.writeMem(0xe670, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf9cb);
        EXPECT(gbc.pc(), 0xe672);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe670), 0xcb);
        EXPECT(gbc.readMem(0xe671), 0x7a);
        // CB 7A 02CF
        gbc.setState(0x56d, 0x9ed1, 0x10d0, 0x88d9, 0xe751, 0x6c0f, 0x1, 0x1);
        gbc.writeMem(0x56d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x9ed1);
        EXPECT(gbc.pc(), 0x56f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02D0
        gbc.setState(0x20b3, 0xd64c, 0xc1e0, 0x8a4, 0x3069, 0xc813, 0x0, 0x0);
        gbc.writeMem(0x20b3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xd64c);
        EXPECT(gbc.pc(), 0x20b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02D1
        gbc.setState(0xb9a7, 0x3abf, 0x8710, 0x7cfd, 0x267e, 0x8ad2, 0x1, 0x0);
        gbc.writeMem(0xb9a7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x3abf);
        EXPECT(gbc.pc(), 0xb9a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9a7), 0xcb);
        EXPECT(gbc.readMem(0xb9a8), 0x7a);
        // CB 7A 02D2
        gbc.setState(0xd545, 0x483a, 0xef20, 0xc95a, 0x814f, 0xf404, 0x1, 0x1);
        gbc.writeMem(0xd545, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x483a);
        EXPECT(gbc.pc(), 0xd547);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd545), 0xcb);
        EXPECT(gbc.readMem(0xd546), 0x7a);
        // CB 7A 02D3
        gbc.setState(0x24bd, 0x23bc, 0xed10, 0x7752, 0xf7a, 0xeacf, 0x0, 0x1);
        gbc.writeMem(0x24bd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x23bc);
        EXPECT(gbc.pc(), 0x24bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02D4
        gbc.setState(0x5928, 0x9f60, 0xc840, 0xdbef, 0x7502, 0x1676, 0x1, 0x1);
        gbc.writeMem(0x5928, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9f60);
        EXPECT(gbc.pc(), 0x592a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02D5
        gbc.setState(0x5b4d, 0x9c1c, 0x25b0, 0xbd65, 0xd2b, 0x9b84, 0x1, 0x0);
        gbc.writeMem(0x5b4d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9c1c);
        EXPECT(gbc.pc(), 0x5b4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02D6
        gbc.setState(0x5970, 0x3099, 0xf060, 0xa2d, 0xd020, 0x51c, 0x1, 0x0);
        gbc.writeMem(0x5970, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x3099);
        EXPECT(gbc.pc(), 0x5972);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02D7
        gbc.setState(0xbda2, 0x871d, 0xfc80, 0x4b6f, 0xf7f1, 0xce73, 0x0, 0x1);
        gbc.writeMem(0xbda2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x871d);
        EXPECT(gbc.pc(), 0xbda4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbda2), 0xcb);
        EXPECT(gbc.readMem(0xbda3), 0x7a);
        // CB 7A 02D8
        gbc.setState(0x3f59, 0x64d7, 0xd5f0, 0x669f, 0xffe3, 0x8963, 0x1, 0x1);
        gbc.writeMem(0x3f59, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x64d7);
        EXPECT(gbc.pc(), 0x3f5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02D9
        gbc.setState(0xa09, 0x44e8, 0xe4c0, 0xb358, 0xb956, 0x5d20, 0x0, 0x1);
        gbc.writeMem(0xa09, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x44e8);
        EXPECT(gbc.pc(), 0xa0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02DA
        gbc.setState(0x4651, 0x9253, 0x1a10, 0x705d, 0x4afd, 0x171b, 0x1, 0x0);
        gbc.writeMem(0x4651, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x9253);
        EXPECT(gbc.pc(), 0x4653);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02DB
        gbc.setState(0x6f92, 0x5244, 0x54e0, 0x96e6, 0x247c, 0x82db, 0x1, 0x0);
        gbc.writeMem(0x6f92, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x5244);
        EXPECT(gbc.pc(), 0x6f94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02DC
        gbc.setState(0xd674, 0x2dd3, 0x5890, 0x4a21, 0x9df8, 0xc9d8, 0x1, 0x0);
        gbc.writeMem(0xd674, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2dd3);
        EXPECT(gbc.pc(), 0xd676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd674), 0xcb);
        EXPECT(gbc.readMem(0xd675), 0x7a);
        // CB 7A 02DD
        gbc.setState(0xeccf, 0xe4ae, 0x9400, 0xcfe0, 0xcb22, 0x77a3, 0x1, 0x1);
        gbc.writeMem(0xeccf, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xe4ae);
        EXPECT(gbc.pc(), 0xecd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeccf), 0xcb);
        EXPECT(gbc.readMem(0xecd0), 0x7a);
        // CB 7A 02DE
        gbc.setState(0x3c1b, 0x9d8a, 0x6e0, 0xfabd, 0xf18c, 0x813c, 0x1, 0x1);
        gbc.writeMem(0x3c1b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x9d8a);
        EXPECT(gbc.pc(), 0x3c1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02DF
        gbc.setState(0x25be, 0xf259, 0x6900, 0x17c5, 0x9feb, 0xb0b2, 0x0, 0x0);
        gbc.writeMem(0x25be, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xf259);
        EXPECT(gbc.pc(), 0x25c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02E0
        gbc.setState(0x3b2c, 0x2aac, 0x36e0, 0x8971, 0x565e, 0xe446, 0x1, 0x0);
        gbc.writeMem(0x3b2c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x2aac);
        EXPECT(gbc.pc(), 0x3b2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02E1
        gbc.setState(0x2ce3, 0x51b9, 0xc2c0, 0xf792, 0x687b, 0x9029, 0x0, 0x0);
        gbc.writeMem(0x2ce3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x51b9);
        EXPECT(gbc.pc(), 0x2ce5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02E2
        gbc.setState(0x6fb9, 0xaa47, 0x4b60, 0xff6a, 0x5c6f, 0x91d1, 0x0, 0x1);
        gbc.writeMem(0x6fb9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xaa47);
        EXPECT(gbc.pc(), 0x6fbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02E3
        gbc.setState(0x204f, 0x3437, 0xd580, 0xc948, 0x46f4, 0xe9b, 0x0, 0x0);
        gbc.writeMem(0x204f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x3437);
        EXPECT(gbc.pc(), 0x2051);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02E4
        gbc.setState(0xcb5f, 0x104, 0x38a0, 0x2a94, 0x9047, 0x1e8a, 0x0, 0x0);
        gbc.writeMem(0xcb5f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x104);
        EXPECT(gbc.pc(), 0xcb61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb5f), 0xcb);
        EXPECT(gbc.readMem(0xcb60), 0x7a);
        // CB 7A 02E5
        gbc.setState(0x930f, 0x38ee, 0x16b0, 0x8bb5, 0x3ce0, 0xfd28, 0x1, 0x1);
        gbc.writeMem(0x930f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x38ee);
        EXPECT(gbc.pc(), 0x9311);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x930f), 0xcb);
        EXPECT(gbc.readMem(0x9310), 0x7a);
        // CB 7A 02E6
        gbc.setState(0x7fce, 0x68a9, 0x3180, 0xbe51, 0x303b, 0x46d1, 0x1, 0x0);
        gbc.writeMem(0x7fce, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x68a9);
        EXPECT(gbc.pc(), 0x7fd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02E7
        gbc.setState(0x206a, 0xf48a, 0x9f80, 0x49a2, 0x4071, 0xd89b, 0x0, 0x0);
        gbc.writeMem(0x206a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf48a);
        EXPECT(gbc.pc(), 0x206c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02E8
        gbc.setState(0x9487, 0xf2b5, 0xded0, 0x7b18, 0x709, 0xfda6, 0x1, 0x0);
        gbc.writeMem(0x9487, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xf2b5);
        EXPECT(gbc.pc(), 0x9489);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9487), 0xcb);
        EXPECT(gbc.readMem(0x9488), 0x7a);
        // CB 7A 02E9
        gbc.setState(0xc2af, 0xc472, 0x54b0, 0x5373, 0x517, 0xc556, 0x0, 0x0);
        gbc.writeMem(0xc2af, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc472);
        EXPECT(gbc.pc(), 0xc2b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2af), 0xcb);
        EXPECT(gbc.readMem(0xc2b0), 0x7a);
        // CB 7A 02EA
        gbc.setState(0xcd8d, 0x32a3, 0xa2a0, 0x159b, 0x7f4d, 0xbfbb, 0x1, 0x1);
        gbc.writeMem(0xcd8d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x32a3);
        EXPECT(gbc.pc(), 0xcd8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd8d), 0xcb);
        EXPECT(gbc.readMem(0xcd8e), 0x7a);
        // CB 7A 02EC
        gbc.setState(0x56c5, 0xae17, 0x8f0, 0x8483, 0x23c0, 0x3d2a, 0x0, 0x1);
        gbc.writeMem(0x56c5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xae17);
        EXPECT(gbc.pc(), 0x56c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02ED
        gbc.setState(0x7b98, 0xf947, 0xe420, 0x72e6, 0xe4ae, 0x1472, 0x1, 0x1);
        gbc.writeMem(0x7b98, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xf947);
        EXPECT(gbc.pc(), 0x7b9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02EE
        gbc.setState(0x64a5, 0x7cfb, 0x1360, 0xfc08, 0xf38e, 0xab26, 0x1, 0x0);
        gbc.writeMem(0x64a5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7cfb);
        EXPECT(gbc.pc(), 0x64a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02EF
        gbc.setState(0xdc91, 0xd77a, 0x4ac0, 0x5853, 0x2b22, 0x7e11, 0x1, 0x0);
        gbc.writeMem(0xdc91, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd77a);
        EXPECT(gbc.pc(), 0xdc93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc91), 0xcb);
        EXPECT(gbc.readMem(0xdc92), 0x7a);
        // CB 7A 02F0
        gbc.setState(0x90cb, 0x2c2d, 0x3770, 0x8423, 0x44ae, 0x1325, 0x1, 0x0);
        gbc.writeMem(0x90cb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x2c2d);
        EXPECT(gbc.pc(), 0x90cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90cb), 0xcb);
        EXPECT(gbc.readMem(0x90cc), 0x7a);
        // CB 7A 02F1
        gbc.setState(0xc6a3, 0x7b17, 0x2c50, 0xf3df, 0xff8, 0x3cdc, 0x1, 0x0);
        gbc.writeMem(0xc6a3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7b17);
        EXPECT(gbc.pc(), 0xc6a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6a3), 0xcb);
        EXPECT(gbc.readMem(0xc6a4), 0x7a);
        // CB 7A 02F2
        gbc.setState(0x251, 0x46ce, 0x5160, 0x7b92, 0xb625, 0xeb95, 0x0, 0x1);
        gbc.writeMem(0x251, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x46ce);
        EXPECT(gbc.pc(), 0x253);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02F3
        gbc.setState(0x2667, 0x3187, 0xfa10, 0xdbf4, 0xa1b, 0xbdc4, 0x1, 0x0);
        gbc.writeMem(0x2667, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x3187);
        EXPECT(gbc.pc(), 0x2669);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02F4
        gbc.setState(0xe188, 0xdfca, 0x6ba0, 0xb515, 0xc8ff, 0xfc90, 0x1, 0x0);
        gbc.writeMem(0xe188, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xdfca);
        EXPECT(gbc.pc(), 0xe18a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe188), 0xcb);
        EXPECT(gbc.readMem(0xe189), 0x7a);
        // CB 7A 02F5
        gbc.setState(0x8488, 0x9170, 0x4ad0, 0x2d0c, 0x8d27, 0x9fcf, 0x1, 0x1);
        gbc.writeMem(0x8488, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x9170);
        EXPECT(gbc.pc(), 0x848a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8488), 0xcb);
        EXPECT(gbc.readMem(0x8489), 0x7a);
        // CB 7A 02F6
        gbc.setState(0xd891, 0xeb26, 0x4060, 0xbf9e, 0xfdbf, 0x368e, 0x1, 0x1);
        gbc.writeMem(0xd891, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xeb26);
        EXPECT(gbc.pc(), 0xd893);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd891), 0xcb);
        EXPECT(gbc.readMem(0xd892), 0x7a);
        // CB 7A 02F7
        gbc.setState(0xc0c8, 0x1d5c, 0x1e80, 0xcb36, 0xd1a8, 0x697, 0x1, 0x0);
        gbc.writeMem(0xc0c8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x1d5c);
        EXPECT(gbc.pc(), 0xc0ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0c8), 0xcb);
        EXPECT(gbc.readMem(0xc0c9), 0x7a);
        // CB 7A 02F8
        gbc.setState(0x2d47, 0x2400, 0x66b0, 0x9288, 0x27d, 0x3d66, 0x0, 0x0);
        gbc.writeMem(0x2d47, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x2400);
        EXPECT(gbc.pc(), 0x2d49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02FA
        gbc.setState(0x5b85, 0xf612, 0xcb20, 0x11ad, 0x834f, 0x110a, 0x1, 0x1);
        gbc.writeMem(0x5b85, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf612);
        EXPECT(gbc.pc(), 0x5b87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02FB
        gbc.setState(0x9275, 0x98ed, 0xba30, 0xfc2a, 0x9eea, 0x6489, 0x0, 0x0);
        gbc.writeMem(0x9275, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x98ed);
        EXPECT(gbc.pc(), 0x9277);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9275), 0xcb);
        EXPECT(gbc.readMem(0x9276), 0x7a);
        // CB 7A 02FC
        gbc.setState(0x316d, 0xeb7, 0x6970, 0x8463, 0x997c, 0x522, 0x0, 0x0);
        gbc.writeMem(0x316d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xeb7);
        EXPECT(gbc.pc(), 0x316f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 02FD
        gbc.setState(0x508f, 0xb526, 0xf340, 0xe57d, 0xdae5, 0x7cc6, 0x1, 0x1);
        gbc.writeMem(0x508f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xb526);
        EXPECT(gbc.pc(), 0x5091);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 02FE
        gbc.setState(0xb498, 0x28cb, 0x8b60, 0x7566, 0x1844, 0x6e58, 0x0, 0x0);
        gbc.writeMem(0xb498, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x28cb);
        EXPECT(gbc.pc(), 0xb49a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb498), 0xcb);
        EXPECT(gbc.readMem(0xb499), 0x7a);
        // CB 7A 02FF
        gbc.setState(0xb1e3, 0x444d, 0xfd40, 0x7fec, 0xb176, 0x7d95, 0x0, 0x1);
        gbc.writeMem(0xb1e3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x444d);
        EXPECT(gbc.pc(), 0xb1e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1e3), 0xcb);
        EXPECT(gbc.readMem(0xb1e4), 0x7a);
        // CB 7A 0300
        gbc.setState(0x9a08, 0x827d, 0x8490, 0x65ba, 0xa089, 0xbb33, 0x0, 0x0);
        gbc.writeMem(0x9a08, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x827d);
        EXPECT(gbc.pc(), 0x9a0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a08), 0xcb);
        EXPECT(gbc.readMem(0x9a09), 0x7a);
        // CB 7A 0301
        gbc.setState(0x48a4, 0x4c01, 0x7a10, 0x1ea8, 0x627a, 0x3cbc, 0x1, 0x0);
        gbc.writeMem(0x48a4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x4c01);
        EXPECT(gbc.pc(), 0x48a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0302
        gbc.setState(0xa21a, 0xa46c, 0x9c90, 0x11b3, 0xfa4f, 0x2050, 0x1, 0x0);
        gbc.writeMem(0xa21a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa46c);
        EXPECT(gbc.pc(), 0xa21c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa21a), 0xcb);
        EXPECT(gbc.readMem(0xa21b), 0x7a);
        // CB 7A 0303
        gbc.setState(0xd1c5, 0xfe90, 0x9570, 0xa878, 0x853e, 0x5831, 0x0, 0x1);
        gbc.writeMem(0xd1c5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xfe90);
        EXPECT(gbc.pc(), 0xd1c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1c5), 0xcb);
        EXPECT(gbc.readMem(0xd1c6), 0x7a);
        // CB 7A 0304
        gbc.setState(0x7eb7, 0xa3d0, 0x42c0, 0x72c3, 0xc7b8, 0xf568, 0x0, 0x1);
        gbc.writeMem(0x7eb7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xa3d0);
        EXPECT(gbc.pc(), 0x7eb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0305
        gbc.setState(0xa16f, 0x7395, 0xf900, 0xbaf9, 0xeea4, 0x51ed, 0x1, 0x0);
        gbc.writeMem(0xa16f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7395);
        EXPECT(gbc.pc(), 0xa171);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa16f), 0xcb);
        EXPECT(gbc.readMem(0xa170), 0x7a);
        // CB 7A 0306
        gbc.setState(0x76cc, 0xb1cd, 0x9ce0, 0x21e7, 0xdc42, 0xa3d2, 0x1, 0x0);
        gbc.writeMem(0x76cc, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb1cd);
        EXPECT(gbc.pc(), 0x76ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0307
        gbc.setState(0xbb17, 0x4cf, 0x77c0, 0xdd29, 0xc2cc, 0x113c, 0x1, 0x0);
        gbc.writeMem(0xbb17, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4cf);
        EXPECT(gbc.pc(), 0xbb19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb17), 0xcb);
        EXPECT(gbc.readMem(0xbb18), 0x7a);
        // CB 7A 0308
        gbc.setState(0x85c4, 0x461a, 0x7780, 0x2348, 0x8f1d, 0xfabb, 0x1, 0x1);
        gbc.writeMem(0x85c4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x461a);
        EXPECT(gbc.pc(), 0x85c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85c4), 0xcb);
        EXPECT(gbc.readMem(0x85c5), 0x7a);
        // CB 7A 0309
        gbc.setState(0x621b, 0xce5e, 0x9320, 0x29ad, 0x2651, 0xb0e2, 0x0, 0x0);
        gbc.writeMem(0x621b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xce5e);
        EXPECT(gbc.pc(), 0x621d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 030A
        gbc.setState(0x3038, 0x245f, 0xc690, 0xd8f2, 0xc85c, 0x84de, 0x1, 0x1);
        gbc.writeMem(0x3038, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x245f);
        EXPECT(gbc.pc(), 0x303a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 030B
        gbc.setState(0x2a56, 0x12bf, 0x5020, 0x5559, 0xb66d, 0xe7f7, 0x0, 0x1);
        gbc.writeMem(0x2a56, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x12bf);
        EXPECT(gbc.pc(), 0x2a58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 030C
        gbc.setState(0x312, 0xb4f2, 0x3650, 0x5731, 0x68f3, 0x465b, 0x0, 0x1);
        gbc.writeMem(0x312, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb4f2);
        EXPECT(gbc.pc(), 0x314);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 030E
        gbc.setState(0xeeff, 0xc81f, 0x1d30, 0x9bc, 0xc711, 0x8c40, 0x1, 0x0);
        gbc.writeMem(0xeeff, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xc81f);
        EXPECT(gbc.pc(), 0xef01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeff), 0xcb);
        EXPECT(gbc.readMem(0xef00), 0x7a);
        // CB 7A 030F
        gbc.setState(0xc317, 0xbddc, 0x3820, 0x9537, 0x8936, 0x31c4, 0x1, 0x0);
        gbc.writeMem(0xc317, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xbddc);
        EXPECT(gbc.pc(), 0xc319);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc317), 0xcb);
        EXPECT(gbc.readMem(0xc318), 0x7a);
        // CB 7A 0310
        gbc.setState(0x83c3, 0xc63a, 0xf630, 0x9a05, 0xf2db, 0x1a6f, 0x0, 0x1);
        gbc.writeMem(0x83c3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc63a);
        EXPECT(gbc.pc(), 0x83c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83c3), 0xcb);
        EXPECT(gbc.readMem(0x83c4), 0x7a);
        // CB 7A 0311
        gbc.setState(0x3a3f, 0x887f, 0xb3e0, 0xf8d2, 0xd725, 0x4798, 0x1, 0x1);
        gbc.writeMem(0x3a3f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x887f);
        EXPECT(gbc.pc(), 0x3a41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0312
        gbc.setState(0x49ac, 0x1d12, 0xfe20, 0x3470, 0x5843, 0x3486, 0x1, 0x0);
        gbc.writeMem(0x49ac, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1d12);
        EXPECT(gbc.pc(), 0x49ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0313
        gbc.setState(0x93a9, 0x4c42, 0x79d0, 0x2476, 0x15a8, 0xe0a, 0x1, 0x1);
        gbc.writeMem(0x93a9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x4c42);
        EXPECT(gbc.pc(), 0x93ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93a9), 0xcb);
        EXPECT(gbc.readMem(0x93aa), 0x7a);
        // CB 7A 0314
        gbc.setState(0xbaf7, 0x26a5, 0x9f00, 0x6f20, 0x78b3, 0xefeb, 0x0, 0x1);
        gbc.writeMem(0xbaf7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x26a5);
        EXPECT(gbc.pc(), 0xbaf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaf7), 0xcb);
        EXPECT(gbc.readMem(0xbaf8), 0x7a);
        // CB 7A 0315
        gbc.setState(0xba56, 0xe175, 0xf710, 0x165a, 0x1d15, 0x53c6, 0x1, 0x1);
        gbc.writeMem(0xba56, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xe175);
        EXPECT(gbc.pc(), 0xba58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba56), 0xcb);
        EXPECT(gbc.readMem(0xba57), 0x7a);
        // CB 7A 0316
        gbc.setState(0x2f7d, 0x9ee5, 0xdf40, 0x7965, 0x78ec, 0xea64, 0x0, 0x1);
        gbc.writeMem(0x2f7d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x9ee5);
        EXPECT(gbc.pc(), 0x2f7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0317
        gbc.setState(0x9c59, 0x2407, 0xed90, 0x1808, 0xccab, 0x149c, 0x0, 0x0);
        gbc.writeMem(0x9c59, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x2407);
        EXPECT(gbc.pc(), 0x9c5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c59), 0xcb);
        EXPECT(gbc.readMem(0x9c5a), 0x7a);
        // CB 7A 0318
        gbc.setState(0x9b76, 0x1d9a, 0xe380, 0x8a2, 0x42b4, 0xb981, 0x1, 0x0);
        gbc.writeMem(0x9b76, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1d9a);
        EXPECT(gbc.pc(), 0x9b78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b76), 0xcb);
        EXPECT(gbc.readMem(0x9b77), 0x7a);
        // CB 7A 0319
        gbc.setState(0x9d06, 0xecde, 0x6380, 0x6a90, 0x2ea3, 0xbc02, 0x0, 0x0);
        gbc.writeMem(0x9d06, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xecde);
        EXPECT(gbc.pc(), 0x9d08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d06), 0xcb);
        EXPECT(gbc.readMem(0x9d07), 0x7a);
        // CB 7A 031A
        gbc.setState(0x7bde, 0x8d88, 0xea20, 0x195a, 0x41d3, 0xca3d, 0x0, 0x0);
        gbc.writeMem(0x7bde, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x8d88);
        EXPECT(gbc.pc(), 0x7be0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 031B
        gbc.setState(0x93, 0x595e, 0xb10, 0xa58c, 0xa37, 0xf00a, 0x0, 0x0);
        gbc.writeMem(0x93, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x595e);
        EXPECT(gbc.pc(), 0x95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 031C
        gbc.setState(0x58df, 0x164f, 0xc210, 0x578c, 0x6dff, 0xffe4, 0x0, 0x1);
        gbc.writeMem(0x58df, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x164f);
        EXPECT(gbc.pc(), 0x58e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 031D
        gbc.setState(0x685f, 0x2a76, 0x9140, 0xd0b4, 0x2e40, 0xe396, 0x0, 0x1);
        gbc.writeMem(0x685f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2a76);
        EXPECT(gbc.pc(), 0x6861);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 031E
        gbc.setState(0x1d1f, 0xe222, 0xe710, 0xe9dd, 0x56d3, 0x8632, 0x1, 0x0);
        gbc.writeMem(0x1d1f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe222);
        EXPECT(gbc.pc(), 0x1d21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 031F
        gbc.setState(0xa438, 0x665d, 0x9a0, 0xc057, 0xbb98, 0xcece, 0x0, 0x1);
        gbc.writeMem(0xa438, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x665d);
        EXPECT(gbc.pc(), 0xa43a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa438), 0xcb);
        EXPECT(gbc.readMem(0xa439), 0x7a);
        // CB 7A 0320
        gbc.setState(0xe2e1, 0x82f, 0x1410, 0x59b5, 0x4cba, 0x10ca, 0x1, 0x0);
        gbc.writeMem(0xe2e1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x82f);
        EXPECT(gbc.pc(), 0xe2e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2e1), 0xcb);
        EXPECT(gbc.readMem(0xe2e2), 0x7a);
        // CB 7A 0321
        gbc.setState(0x33f7, 0x868c, 0x4190, 0x2bed, 0xc193, 0x1b70, 0x1, 0x1);
        gbc.writeMem(0x33f7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x868c);
        EXPECT(gbc.pc(), 0x33f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0322
        gbc.setState(0xb297, 0x3d80, 0x9c30, 0x8b2b, 0x6bb8, 0x6e80, 0x0, 0x1);
        gbc.writeMem(0xb297, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3d80);
        EXPECT(gbc.pc(), 0xb299);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb297), 0xcb);
        EXPECT(gbc.readMem(0xb298), 0x7a);
        // CB 7A 0323
        gbc.setState(0xd03a, 0x3af8, 0x1990, 0x48a0, 0xee47, 0x7de5, 0x1, 0x1);
        gbc.writeMem(0xd03a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3af8);
        EXPECT(gbc.pc(), 0xd03c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd03a), 0xcb);
        EXPECT(gbc.readMem(0xd03b), 0x7a);
        // CB 7A 0324
        gbc.setState(0xd927, 0xb082, 0x3bf0, 0x887, 0x4161, 0x994d, 0x1, 0x1);
        gbc.writeMem(0xd927, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb082);
        EXPECT(gbc.pc(), 0xd929);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd927), 0xcb);
        EXPECT(gbc.readMem(0xd928), 0x7a);
        // CB 7A 0325
        gbc.setState(0x510a, 0x9fed, 0xc9e0, 0xa4c7, 0xd8f, 0x6657, 0x1, 0x1);
        gbc.writeMem(0x510a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9fed);
        EXPECT(gbc.pc(), 0x510c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0326
        gbc.setState(0x1cd6, 0x6724, 0x1e80, 0xc95f, 0x3c63, 0x2d05, 0x1, 0x0);
        gbc.writeMem(0x1cd6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x6724);
        EXPECT(gbc.pc(), 0x1cd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0327
        gbc.setState(0xe85f, 0xc66f, 0x9ba0, 0x5de1, 0xbd37, 0x99ab, 0x0, 0x1);
        gbc.writeMem(0xe85f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xc66f);
        EXPECT(gbc.pc(), 0xe861);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe85f), 0xcb);
        EXPECT(gbc.readMem(0xe860), 0x7a);
        // CB 7A 0328
        gbc.setState(0xbe71, 0x17af, 0x91d0, 0xe0e, 0xbe90, 0x8858, 0x0, 0x0);
        gbc.writeMem(0xbe71, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x17af);
        EXPECT(gbc.pc(), 0xbe73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe71), 0xcb);
        EXPECT(gbc.readMem(0xbe72), 0x7a);
        // CB 7A 0329
        gbc.setState(0xcace, 0x5cec, 0xe340, 0x9263, 0x21, 0x792d, 0x0, 0x0);
        gbc.writeMem(0xcace, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5cec);
        EXPECT(gbc.pc(), 0xcad0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcace), 0xcb);
        EXPECT(gbc.readMem(0xcacf), 0x7a);
        // CB 7A 032C
        gbc.setState(0xe9fe, 0xa1dc, 0xfe10, 0xd49a, 0x1654, 0x88cd, 0x1, 0x0);
        gbc.writeMem(0xe9fe, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xa1dc);
        EXPECT(gbc.pc(), 0xea00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9fe), 0xcb);
        EXPECT(gbc.readMem(0xe9ff), 0x7a);
        // CB 7A 032D
        gbc.setState(0x6b1, 0x40be, 0x60f0, 0xfa7f, 0x2b1e, 0xf2bf, 0x0, 0x1);
        gbc.writeMem(0x6b1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x40be);
        EXPECT(gbc.pc(), 0x6b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 032E
        gbc.setState(0xb1a5, 0xc507, 0x1010, 0xa59d, 0x53ab, 0x135e, 0x1, 0x0);
        gbc.writeMem(0xb1a5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc507);
        EXPECT(gbc.pc(), 0xb1a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1a5), 0xcb);
        EXPECT(gbc.readMem(0xb1a6), 0x7a);
        // CB 7A 032F
        gbc.setState(0x71b0, 0x3c7a, 0x13f0, 0x4040, 0x3013, 0x5b0b, 0x1, 0x0);
        gbc.writeMem(0x71b0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x3c7a);
        EXPECT(gbc.pc(), 0x71b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0331
        gbc.setState(0xd656, 0xe39e, 0x3540, 0x6e1a, 0x8607, 0xd38c, 0x1, 0x1);
        gbc.writeMem(0xd656, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe39e);
        EXPECT(gbc.pc(), 0xd658);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd656), 0xcb);
        EXPECT(gbc.readMem(0xd657), 0x7a);
        // CB 7A 0332
        gbc.setState(0x3222, 0xb9ae, 0xce00, 0xa5cd, 0x9a8f, 0x87c4, 0x1, 0x1);
        gbc.writeMem(0x3222, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb9ae);
        EXPECT(gbc.pc(), 0x3224);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0334
        gbc.setState(0x4f70, 0xf67, 0x3d40, 0x650, 0x94ab, 0x450b, 0x0, 0x0);
        gbc.writeMem(0x4f70, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xf67);
        EXPECT(gbc.pc(), 0x4f72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0335
        gbc.setState(0x1eac, 0x233, 0x9590, 0xe922, 0xb629, 0xe700, 0x0, 0x1);
        gbc.writeMem(0x1eac, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x233);
        EXPECT(gbc.pc(), 0x1eae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0336
        gbc.setState(0x603f, 0xdd6, 0x2070, 0x7b41, 0xabf0, 0x32cd, 0x1, 0x0);
        gbc.writeMem(0x603f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xdd6);
        EXPECT(gbc.pc(), 0x6041);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0337
        gbc.setState(0xda1c, 0xcc88, 0x72a0, 0xe840, 0xb97a, 0x928d, 0x1, 0x0);
        gbc.writeMem(0xda1c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xcc88);
        EXPECT(gbc.pc(), 0xda1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda1c), 0xcb);
        EXPECT(gbc.readMem(0xda1d), 0x7a);
        // CB 7A 0338
        gbc.setState(0x123c, 0xb4d7, 0x32e0, 0xb244, 0xd4f8, 0x8bd2, 0x1, 0x0);
        gbc.writeMem(0x123c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb4d7);
        EXPECT(gbc.pc(), 0x123e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0339
        gbc.setState(0x60fe, 0x4736, 0x5870, 0x4408, 0xdc5a, 0x6029, 0x1, 0x0);
        gbc.writeMem(0x60fe, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4736);
        EXPECT(gbc.pc(), 0x6100);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 033A
        gbc.setState(0x7344, 0xf3a5, 0x410, 0x7890, 0xe9af, 0x2cb6, 0x1, 0x1);
        gbc.writeMem(0x7344, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf3a5);
        EXPECT(gbc.pc(), 0x7346);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 033B
        gbc.setState(0x934, 0x78c7, 0xb40, 0x56da, 0x7b11, 0xc85, 0x0, 0x0);
        gbc.writeMem(0x934, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x78c7);
        EXPECT(gbc.pc(), 0x936);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 033C
        gbc.setState(0x663a, 0xb063, 0xe9f0, 0x502b, 0x57fa, 0xc38c, 0x0, 0x1);
        gbc.writeMem(0x663a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xb063);
        EXPECT(gbc.pc(), 0x663c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 033E
        gbc.setState(0x2cee, 0xf35d, 0xbe0, 0x7c83, 0x184e, 0x3b05, 0x0, 0x0);
        gbc.writeMem(0x2cee, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xf35d);
        EXPECT(gbc.pc(), 0x2cf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 033F
        gbc.setState(0x83d9, 0xeda2, 0x5340, 0xa873, 0x13d5, 0xd10e, 0x0, 0x1);
        gbc.writeMem(0x83d9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xeda2);
        EXPECT(gbc.pc(), 0x83db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83d9), 0xcb);
        EXPECT(gbc.readMem(0x83da), 0x7a);
        // CB 7A 0340
        gbc.setState(0x56a1, 0xe66f, 0x86a0, 0x6e8f, 0x7f86, 0xb004, 0x1, 0x1);
        gbc.writeMem(0x56a1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xe66f);
        EXPECT(gbc.pc(), 0x56a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0341
        gbc.setState(0x4f7e, 0x6444, 0xe140, 0x8e08, 0xde86, 0xd0ac, 0x0, 0x0);
        gbc.writeMem(0x4f7e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6444);
        EXPECT(gbc.pc(), 0x4f80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0342
        gbc.setState(0x1211, 0x76b6, 0x1b00, 0xfcce, 0xc2a, 0x1c8e, 0x0, 0x0);
        gbc.writeMem(0x1211, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x76b6);
        EXPECT(gbc.pc(), 0x1213);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0343
        gbc.setState(0x183b, 0x2b0d, 0x7850, 0x6c65, 0x5fbe, 0xc9cc, 0x0, 0x1);
        gbc.writeMem(0x183b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x2b0d);
        EXPECT(gbc.pc(), 0x183d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0344
        gbc.setState(0xbe15, 0x387f, 0xf770, 0x2638, 0xc464, 0x1a6c, 0x0, 0x1);
        gbc.writeMem(0xbe15, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x387f);
        EXPECT(gbc.pc(), 0xbe17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe15), 0xcb);
        EXPECT(gbc.readMem(0xbe16), 0x7a);
        // CB 7A 0345
        gbc.setState(0xacf6, 0x7f4d, 0x2c10, 0xa46b, 0x6eb2, 0xe85f, 0x0, 0x1);
        gbc.writeMem(0xacf6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7f4d);
        EXPECT(gbc.pc(), 0xacf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacf6), 0xcb);
        EXPECT(gbc.readMem(0xacf7), 0x7a);
        // CB 7A 0346
        gbc.setState(0x4391, 0xe9f4, 0x5c00, 0x8041, 0x2dc5, 0x3137, 0x1, 0x0);
        gbc.writeMem(0x4391, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe9f4);
        EXPECT(gbc.pc(), 0x4393);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0347
        gbc.setState(0x633e, 0xdc0c, 0xb690, 0xd144, 0xd5d1, 0xa7bf, 0x1, 0x1);
        gbc.writeMem(0x633e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdc0c);
        EXPECT(gbc.pc(), 0x6340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0348
        gbc.setState(0x35bd, 0x7f6, 0x90a0, 0xf930, 0xd9ba, 0x6bd6, 0x1, 0x1);
        gbc.writeMem(0x35bd, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7f6);
        EXPECT(gbc.pc(), 0x35bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0349
        gbc.setState(0xecad, 0x900d, 0x5140, 0xc289, 0x3363, 0xa364, 0x1, 0x0);
        gbc.writeMem(0xecad, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x900d);
        EXPECT(gbc.pc(), 0xecaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecad), 0xcb);
        EXPECT(gbc.readMem(0xecae), 0x7a);
        // CB 7A 034A
        gbc.setState(0x4e60, 0xb573, 0xaa70, 0x5f69, 0xa8f, 0xf9f5, 0x1, 0x1);
        gbc.writeMem(0x4e60, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xb573);
        EXPECT(gbc.pc(), 0x4e62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 034B
        gbc.setState(0x990f, 0x2b4, 0x9640, 0x7422, 0x6aa9, 0x52ce, 0x1, 0x1);
        gbc.writeMem(0x990f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x2b4);
        EXPECT(gbc.pc(), 0x9911);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x990f), 0xcb);
        EXPECT(gbc.readMem(0x9910), 0x7a);
        // CB 7A 034C
        gbc.setState(0x9a41, 0x7685, 0xd760, 0x69, 0xd930, 0xb62f, 0x0, 0x0);
        gbc.writeMem(0x9a41, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7685);
        EXPECT(gbc.pc(), 0x9a43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a41), 0xcb);
        EXPECT(gbc.readMem(0x9a42), 0x7a);
        // CB 7A 034D
        gbc.setState(0xd17d, 0xcc50, 0x3b90, 0xb85d, 0x74f3, 0x315e, 0x0, 0x1);
        gbc.writeMem(0xd17d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xcc50);
        EXPECT(gbc.pc(), 0xd17f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd17d), 0xcb);
        EXPECT(gbc.readMem(0xd17e), 0x7a);
        // CB 7A 034E
        gbc.setState(0x2, 0xaa53, 0xe20, 0x4aed, 0xa9fd, 0x5d59, 0x0, 0x1);
        gbc.writeMem(0x2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xaa53);
        EXPECT(gbc.pc(), 0x4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0350
        gbc.setState(0x7289, 0xec7f, 0xb340, 0x70ba, 0x9bd, 0x508b, 0x1, 0x0);
        gbc.writeMem(0x7289, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xec7f);
        EXPECT(gbc.pc(), 0x728b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0351
        gbc.setState(0x60c9, 0xa531, 0xa80, 0xf90, 0x6833, 0xeebf, 0x0, 0x1);
        gbc.writeMem(0x60c9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xa531);
        EXPECT(gbc.pc(), 0x60cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0352
        gbc.setState(0xdde5, 0xd57, 0x9580, 0x87f2, 0x15d2, 0x7bd3, 0x1, 0x0);
        gbc.writeMem(0xdde5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd57);
        EXPECT(gbc.pc(), 0xdde7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdde5), 0xcb);
        EXPECT(gbc.readMem(0xdde6), 0x7a);
        // CB 7A 0353
        gbc.setState(0xbe5c, 0x2067, 0x8480, 0x5540, 0x8c0f, 0x50bf, 0x1, 0x0);
        gbc.writeMem(0xbe5c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x2067);
        EXPECT(gbc.pc(), 0xbe5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe5c), 0xcb);
        EXPECT(gbc.readMem(0xbe5d), 0x7a);
        // CB 7A 0354
        gbc.setState(0x68a, 0xa152, 0xdfe0, 0x7218, 0x8be0, 0x90c, 0x0, 0x1);
        gbc.writeMem(0x68a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa152);
        EXPECT(gbc.pc(), 0x68c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0356
        gbc.setState(0x90b8, 0x3da7, 0x8fc0, 0x13e5, 0x8c54, 0xc1e, 0x1, 0x0);
        gbc.writeMem(0x90b8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3da7);
        EXPECT(gbc.pc(), 0x90ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90b8), 0xcb);
        EXPECT(gbc.readMem(0x90b9), 0x7a);
        // CB 7A 0357
        gbc.setState(0x14cb, 0xce04, 0x88b0, 0x79bc, 0xb167, 0x9038, 0x1, 0x1);
        gbc.writeMem(0x14cb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xce04);
        EXPECT(gbc.pc(), 0x14cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0358
        gbc.setState(0x1d7a, 0xe0c8, 0xc520, 0x811e, 0xe52, 0x3558, 0x0, 0x1);
        gbc.writeMem(0x1d7a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe0c8);
        EXPECT(gbc.pc(), 0x1d7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0359
        gbc.setState(0x60f7, 0xb22a, 0xeb60, 0x9ffe, 0xfb33, 0x777f, 0x1, 0x1);
        gbc.writeMem(0x60f7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xb22a);
        EXPECT(gbc.pc(), 0x60f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 035A
        gbc.setState(0xc896, 0xa73a, 0x57c0, 0x9397, 0xd260, 0x97d2, 0x1, 0x1);
        gbc.writeMem(0xc896, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa73a);
        EXPECT(gbc.pc(), 0xc898);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc896), 0xcb);
        EXPECT(gbc.readMem(0xc897), 0x7a);
        // CB 7A 035B
        gbc.setState(0x3a60, 0x608, 0x8550, 0xabb1, 0x7ad3, 0x2dce, 0x0, 0x1);
        gbc.writeMem(0x3a60, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x608);
        EXPECT(gbc.pc(), 0x3a62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 035D
        gbc.setState(0x62c8, 0xf91, 0x7830, 0x92ab, 0xc20c, 0x2aff, 0x0, 0x0);
        gbc.writeMem(0x62c8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf91);
        EXPECT(gbc.pc(), 0x62ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 035E
        gbc.setState(0x4917, 0x7a7e, 0xbc30, 0x8d67, 0x58f5, 0x8d9b, 0x1, 0x1);
        gbc.writeMem(0x4917, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x7a7e);
        EXPECT(gbc.pc(), 0x4919);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 035F
        gbc.setState(0x814, 0xe598, 0x4ad0, 0x4516, 0x154b, 0x16ef, 0x0, 0x0);
        gbc.writeMem(0x814, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe598);
        EXPECT(gbc.pc(), 0x816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0360
        gbc.setState(0x67a4, 0xf622, 0xc0d0, 0x19fe, 0x7efc, 0xf36c, 0x0, 0x1);
        gbc.writeMem(0x67a4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf622);
        EXPECT(gbc.pc(), 0x67a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0361
        gbc.setState(0xbab8, 0x6a9f, 0x5270, 0x7f20, 0x6cb1, 0xe468, 0x1, 0x0);
        gbc.writeMem(0xbab8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x6a9f);
        EXPECT(gbc.pc(), 0xbaba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbab8), 0xcb);
        EXPECT(gbc.readMem(0xbab9), 0x7a);
        // CB 7A 0362
        gbc.setState(0x1a53, 0xdf29, 0x2460, 0x692b, 0xccfa, 0x7301, 0x0, 0x1);
        gbc.writeMem(0x1a53, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xdf29);
        EXPECT(gbc.pc(), 0x1a55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0363
        gbc.setState(0xd1dc, 0x5a3f, 0x1fc0, 0x13, 0x4ab8, 0x7201, 0x0, 0x0);
        gbc.writeMem(0xd1dc, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x5a3f);
        EXPECT(gbc.pc(), 0xd1de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1dc), 0xcb);
        EXPECT(gbc.readMem(0xd1dd), 0x7a);
        // CB 7A 0364
        gbc.setState(0x2de0, 0x969c, 0x2630, 0xddb8, 0x170c, 0xf8e0, 0x1, 0x0);
        gbc.writeMem(0x2de0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x969c);
        EXPECT(gbc.pc(), 0x2de2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0365
        gbc.setState(0xa8ee, 0x2c56, 0x35a0, 0xbabc, 0x17e8, 0x39ea, 0x1, 0x0);
        gbc.writeMem(0xa8ee, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x2c56);
        EXPECT(gbc.pc(), 0xa8f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8ee), 0xcb);
        EXPECT(gbc.readMem(0xa8ef), 0x7a);
        // CB 7A 0366
        gbc.setState(0x988, 0x6a37, 0xf5a0, 0xb884, 0x8c51, 0x1b3e, 0x0, 0x1);
        gbc.writeMem(0x988, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6a37);
        EXPECT(gbc.pc(), 0x98a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0368
        gbc.setState(0x7ef5, 0x1357, 0xaa50, 0x4afa, 0xd448, 0xd4, 0x1, 0x0);
        gbc.writeMem(0x7ef5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x1357);
        EXPECT(gbc.pc(), 0x7ef7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0369
        gbc.setState(0x993e, 0x1757, 0xabe0, 0x1178, 0xf9d9, 0x7c08, 0x1, 0x0);
        gbc.writeMem(0x993e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1757);
        EXPECT(gbc.pc(), 0x9940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x993e), 0xcb);
        EXPECT(gbc.readMem(0x993f), 0x7a);
        // CB 7A 036C
        gbc.setState(0x7783, 0x5910, 0x1830, 0xd7d3, 0xe35d, 0x3f94, 0x0, 0x0);
        gbc.writeMem(0x7783, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5910);
        EXPECT(gbc.pc(), 0x7785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 036D
        gbc.setState(0x7538, 0x4917, 0x64c0, 0x8f7d, 0xd9df, 0xbc4e, 0x1, 0x1);
        gbc.writeMem(0x7538, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4917);
        EXPECT(gbc.pc(), 0x753a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 036E
        gbc.setState(0xe2a, 0xdcce, 0xb790, 0x789, 0xa217, 0xb077, 0x1, 0x0);
        gbc.writeMem(0xe2a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xdcce);
        EXPECT(gbc.pc(), 0xe2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 036F
        gbc.setState(0x66e9, 0xea67, 0x5ac0, 0x1e1e, 0x8ecf, 0x8da7, 0x1, 0x1);
        gbc.writeMem(0x66e9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xea67);
        EXPECT(gbc.pc(), 0x66eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0370
        gbc.setState(0xada, 0x82a9, 0xc9e0, 0x9dae, 0xdd73, 0xc860, 0x1, 0x0);
        gbc.writeMem(0xada, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x82a9);
        EXPECT(gbc.pc(), 0xadc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0372
        gbc.setState(0xa060, 0x5470, 0x3570, 0xb59f, 0xcc78, 0x1f6e, 0x1, 0x1);
        gbc.writeMem(0xa060, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5470);
        EXPECT(gbc.pc(), 0xa062);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa060), 0xcb);
        EXPECT(gbc.readMem(0xa061), 0x7a);
        // CB 7A 0373
        gbc.setState(0x6313, 0xe27c, 0x1e70, 0x4a69, 0xbab0, 0x701e, 0x0, 0x0);
        gbc.writeMem(0x6313, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe27c);
        EXPECT(gbc.pc(), 0x6315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0374
        gbc.setState(0x422e, 0x7228, 0x1a30, 0x2c02, 0xaa6e, 0x67f9, 0x1, 0x0);
        gbc.writeMem(0x422e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7228);
        EXPECT(gbc.pc(), 0x4230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0375
        gbc.setState(0x35a7, 0x9755, 0x99d0, 0x61fb, 0x50c2, 0xadad, 0x1, 0x1);
        gbc.writeMem(0x35a7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x9755);
        EXPECT(gbc.pc(), 0x35a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0376
        gbc.setState(0x50f, 0xeed9, 0xef80, 0x516f, 0x816c, 0xf1d5, 0x1, 0x1);
        gbc.writeMem(0x50f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xeed9);
        EXPECT(gbc.pc(), 0x511);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0377
        gbc.setState(0x56, 0xf3ca, 0x3740, 0xcbe4, 0x92bf, 0x838b, 0x0, 0x0);
        gbc.writeMem(0x56, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf3ca);
        EXPECT(gbc.pc(), 0x58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0378
        gbc.setState(0x497, 0xafb2, 0xdc70, 0x7163, 0xe58a, 0xc921, 0x1, 0x0);
        gbc.writeMem(0x497, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xafb2);
        EXPECT(gbc.pc(), 0x499);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0379
        gbc.setState(0x12c4, 0xa572, 0x86d0, 0x68b0, 0x2ee0, 0xe302, 0x1, 0x0);
        gbc.writeMem(0x12c4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa572);
        EXPECT(gbc.pc(), 0x12c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 037A
        gbc.setState(0xaf33, 0x9961, 0x2c60, 0xadbc, 0xe07a, 0x8b4c, 0x1, 0x1);
        gbc.writeMem(0xaf33, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x9961);
        EXPECT(gbc.pc(), 0xaf35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf33), 0xcb);
        EXPECT(gbc.readMem(0xaf34), 0x7a);
        // CB 7A 037B
        gbc.setState(0xf39, 0xf2c9, 0xcf0, 0xd5ff, 0xf19c, 0xff57, 0x1, 0x1);
        gbc.writeMem(0xf39, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf2c9);
        EXPECT(gbc.pc(), 0xf3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 037C
        gbc.setState(0xc5de, 0xf70b, 0x9c40, 0xf531, 0xa5a3, 0x98da, 0x1, 0x0);
        gbc.writeMem(0xc5de, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xf70b);
        EXPECT(gbc.pc(), 0xc5e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5de), 0xcb);
        EXPECT(gbc.readMem(0xc5df), 0x7a);
        // CB 7A 037D
        gbc.setState(0xde18, 0x47fd, 0x3340, 0x1081, 0xd672, 0x434f, 0x0, 0x1);
        gbc.writeMem(0xde18, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x47fd);
        EXPECT(gbc.pc(), 0xde1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde18), 0xcb);
        EXPECT(gbc.readMem(0xde19), 0x7a);
        // CB 7A 037E
        gbc.setState(0xc774, 0x12c, 0x1e50, 0x45be, 0x14ee, 0x2d3b, 0x0, 0x1);
        gbc.writeMem(0xc774, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x12c);
        EXPECT(gbc.pc(), 0xc776);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc774), 0xcb);
        EXPECT(gbc.readMem(0xc775), 0x7a);
        // CB 7A 037F
        gbc.setState(0x2850, 0x5b44, 0x28b0, 0x65ac, 0x2c38, 0x336, 0x1, 0x1);
        gbc.writeMem(0x2850, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x5b44);
        EXPECT(gbc.pc(), 0x2852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0381
        gbc.setState(0x8628, 0xc972, 0xd410, 0x8c5c, 0xedfd, 0x6de4, 0x1, 0x0);
        gbc.writeMem(0x8628, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc972);
        EXPECT(gbc.pc(), 0x862a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8628), 0xcb);
        EXPECT(gbc.readMem(0x8629), 0x7a);
        // CB 7A 0382
        gbc.setState(0xe31f, 0x50de, 0x78c0, 0x565b, 0xd4dc, 0xf8c2, 0x0, 0x1);
        gbc.writeMem(0xe31f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x50de);
        EXPECT(gbc.pc(), 0xe321);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe31f), 0xcb);
        EXPECT(gbc.readMem(0xe320), 0x7a);
        // CB 7A 0384
        gbc.setState(0x367a, 0xf15, 0xd080, 0xad53, 0xa1c7, 0xc8c4, 0x1, 0x0);
        gbc.writeMem(0x367a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf15);
        EXPECT(gbc.pc(), 0x367c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0385
        gbc.setState(0xb934, 0x4521, 0xd7d0, 0xcdb6, 0x1da1, 0xbc67, 0x1, 0x1);
        gbc.writeMem(0xb934, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x4521);
        EXPECT(gbc.pc(), 0xb936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb934), 0xcb);
        EXPECT(gbc.readMem(0xb935), 0x7a);
        // CB 7A 0386
        gbc.setState(0x31d4, 0xa54f, 0xe30, 0xbb95, 0x5cdd, 0x7940, 0x0, 0x1);
        gbc.writeMem(0x31d4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xa54f);
        EXPECT(gbc.pc(), 0x31d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0387
        gbc.setState(0x2c2f, 0x1ad9, 0xf740, 0x3fea, 0xfda4, 0x928f, 0x1, 0x0);
        gbc.writeMem(0x2c2f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x1ad9);
        EXPECT(gbc.pc(), 0x2c31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0388
        gbc.setState(0x9323, 0xb4b5, 0xe170, 0x4e6b, 0x7ee0, 0xf1c, 0x1, 0x0);
        gbc.writeMem(0x9323, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xb4b5);
        EXPECT(gbc.pc(), 0x9325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9323), 0xcb);
        EXPECT(gbc.readMem(0x9324), 0x7a);
        // CB 7A 0389
        gbc.setState(0x90ca, 0xbc06, 0x74a0, 0x31b2, 0xe96f, 0x8582, 0x0, 0x1);
        gbc.writeMem(0x90ca, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xbc06);
        EXPECT(gbc.pc(), 0x90cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ca), 0xcb);
        EXPECT(gbc.readMem(0x90cb), 0x7a);
        // CB 7A 038A
        gbc.setState(0xe0e4, 0xb00f, 0x59f0, 0x83ad, 0x5a93, 0x42ed, 0x0, 0x0);
        gbc.writeMem(0xe0e4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xb00f);
        EXPECT(gbc.pc(), 0xe0e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0e4), 0xcb);
        EXPECT(gbc.readMem(0xe0e5), 0x7a);
        // CB 7A 038B
        gbc.setState(0x88b9, 0x7273, 0x9e60, 0x6290, 0xe02e, 0xe6d1, 0x0, 0x1);
        gbc.writeMem(0x88b9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x7273);
        EXPECT(gbc.pc(), 0x88bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88b9), 0xcb);
        EXPECT(gbc.readMem(0x88ba), 0x7a);
        // CB 7A 038C
        gbc.setState(0xdbee, 0xb1d4, 0x1790, 0x4110, 0xb74a, 0xb44d, 0x1, 0x0);
        gbc.writeMem(0xdbee, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb1d4);
        EXPECT(gbc.pc(), 0xdbf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbee), 0xcb);
        EXPECT(gbc.readMem(0xdbef), 0x7a);
        // CB 7A 038D
        gbc.setState(0x12b4, 0xae4a, 0xd110, 0x95a8, 0x9244, 0x19e0, 0x0, 0x1);
        gbc.writeMem(0x12b4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xae4a);
        EXPECT(gbc.pc(), 0x12b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 038E
        gbc.setState(0xad9c, 0x856d, 0xb7c0, 0x7bb5, 0xc777, 0x69db, 0x1, 0x0);
        gbc.writeMem(0xad9c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x856d);
        EXPECT(gbc.pc(), 0xad9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad9c), 0xcb);
        EXPECT(gbc.readMem(0xad9d), 0x7a);
        // CB 7A 038F
        gbc.setState(0x9e76, 0x4d6d, 0xa440, 0xba4c, 0x9f41, 0xf26e, 0x0, 0x1);
        gbc.writeMem(0x9e76, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x4d6d);
        EXPECT(gbc.pc(), 0x9e78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e76), 0xcb);
        EXPECT(gbc.readMem(0x9e77), 0x7a);
        // CB 7A 0390
        gbc.setState(0xc9e6, 0x1b5f, 0x46f0, 0xea91, 0x2319, 0x31b6, 0x0, 0x0);
        gbc.writeMem(0xc9e6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1b5f);
        EXPECT(gbc.pc(), 0xc9e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9e6), 0xcb);
        EXPECT(gbc.readMem(0xc9e7), 0x7a);
        // CB 7A 0391
        gbc.setState(0xe80f, 0x59ea, 0x7320, 0xbb35, 0x5d4e, 0xf665, 0x1, 0x1);
        gbc.writeMem(0xe80f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x59ea);
        EXPECT(gbc.pc(), 0xe811);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe80f), 0xcb);
        EXPECT(gbc.readMem(0xe810), 0x7a);
        // CB 7A 0392
        gbc.setState(0x3686, 0xc98, 0x4350, 0x1d7a, 0x6ba5, 0x792, 0x1, 0x0);
        gbc.writeMem(0x3686, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc98);
        EXPECT(gbc.pc(), 0x3688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0393
        gbc.setState(0x7a69, 0xf553, 0x4f70, 0x351a, 0x3626, 0xf46e, 0x1, 0x1);
        gbc.writeMem(0x7a69, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf553);
        EXPECT(gbc.pc(), 0x7a6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0394
        gbc.setState(0x83fe, 0xe12e, 0x4410, 0xbe6, 0xf92b, 0xaae4, 0x1, 0x1);
        gbc.writeMem(0x83fe, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xe12e);
        EXPECT(gbc.pc(), 0x8400);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83fe), 0xcb);
        EXPECT(gbc.readMem(0x83ff), 0x7a);
        // CB 7A 0395
        gbc.setState(0x23a, 0x76c8, 0x810, 0x980a, 0xa5f4, 0xaf4b, 0x0, 0x1);
        gbc.writeMem(0x23a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x76c8);
        EXPECT(gbc.pc(), 0x23c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 0396
        gbc.setState(0x39d6, 0xdf0f, 0x4200, 0x1d49, 0x5546, 0xd3f0, 0x0, 0x1);
        gbc.writeMem(0x39d6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xdf0f);
        EXPECT(gbc.pc(), 0x39d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 0397
        gbc.setState(0xeb5f, 0x4231, 0xdd20, 0x570c, 0x5b0, 0x2747, 0x1, 0x0);
        gbc.writeMem(0xeb5f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4231);
        EXPECT(gbc.pc(), 0xeb61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb5f), 0xcb);
        EXPECT(gbc.readMem(0xeb60), 0x7a);
        // CB 7A 0398
        gbc.setState(0xe79e, 0x945e, 0xe250, 0xd584, 0x6b65, 0x7111, 0x1, 0x1);
        gbc.writeMem(0xe79e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x945e);
        EXPECT(gbc.pc(), 0xe7a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe79e), 0xcb);
        EXPECT(gbc.readMem(0xe79f), 0x7a);
        // CB 7A 0399
        gbc.setState(0x491a, 0xccfc, 0x7d90, 0x7601, 0x8aa4, 0x7f6a, 0x1, 0x1);
        gbc.writeMem(0x491a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xccfc);
        EXPECT(gbc.pc(), 0x491c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 039A
        gbc.setState(0x28b3, 0x56a9, 0x4960, 0x7d39, 0x55f0, 0x265d, 0x0, 0x0);
        gbc.writeMem(0x28b3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x56a9);
        EXPECT(gbc.pc(), 0x28b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 039B
        gbc.setState(0xea7c, 0x36, 0xca10, 0x72ce, 0x4cbe, 0x928f, 0x1, 0x0);
        gbc.writeMem(0xea7c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x36);
        EXPECT(gbc.pc(), 0xea7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea7c), 0xcb);
        EXPECT(gbc.readMem(0xea7d), 0x7a);
        // CB 7A 039C
        gbc.setState(0x1198, 0xfafd, 0x7800, 0xd679, 0xf9b9, 0x4837, 0x0, 0x1);
        gbc.writeMem(0x1198, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xfafd);
        EXPECT(gbc.pc(), 0x119a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 039D
        gbc.setState(0x8399, 0xe301, 0xbdc0, 0x29f1, 0x8fe5, 0x21d6, 0x1, 0x1);
        gbc.writeMem(0x8399, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xe301);
        EXPECT(gbc.pc(), 0x839b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8399), 0xcb);
        EXPECT(gbc.readMem(0x839a), 0x7a);
        // CB 7A 039E
        gbc.setState(0x5c1c, 0x7df0, 0x50f0, 0xd3e1, 0xe9d0, 0x8314, 0x0, 0x0);
        gbc.writeMem(0x5c1c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x7df0);
        EXPECT(gbc.pc(), 0x5c1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 039F
        gbc.setState(0xbd4c, 0xe35a, 0xe090, 0x41a6, 0xd966, 0x2407, 0x0, 0x1);
        gbc.writeMem(0xbd4c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xe35a);
        EXPECT(gbc.pc(), 0xbd4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd4c), 0xcb);
        EXPECT(gbc.readMem(0xbd4d), 0x7a);
        // CB 7A 03A0
        gbc.setState(0xb5fa, 0x64fd, 0x63c0, 0x491c, 0x38ab, 0x762a, 0x1, 0x0);
        gbc.writeMem(0xb5fa, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x64fd);
        EXPECT(gbc.pc(), 0xb5fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5fa), 0xcb);
        EXPECT(gbc.readMem(0xb5fb), 0x7a);
        // CB 7A 03A1
        gbc.setState(0x8e10, 0x7dca, 0xa110, 0x8105, 0x911e, 0x5aae, 0x0, 0x1);
        gbc.writeMem(0x8e10, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x7dca);
        EXPECT(gbc.pc(), 0x8e12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e10), 0xcb);
        EXPECT(gbc.readMem(0x8e11), 0x7a);
        // CB 7A 03A2
        gbc.setState(0x74be, 0x69a9, 0xcb40, 0xfa16, 0xf58b, 0xd170, 0x1, 0x0);
        gbc.writeMem(0x74be, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x69a9);
        EXPECT(gbc.pc(), 0x74c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03A3
        gbc.setState(0xd176, 0x951c, 0xc050, 0x7898, 0xd9df, 0xc001, 0x1, 0x1);
        gbc.writeMem(0xd176, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x951c);
        EXPECT(gbc.pc(), 0xd178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd176), 0xcb);
        EXPECT(gbc.readMem(0xd177), 0x7a);
        // CB 7A 03A4
        gbc.setState(0xd800, 0xb956, 0xe240, 0xfb42, 0x7781, 0xf535, 0x0, 0x0);
        gbc.writeMem(0xd800, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb956);
        EXPECT(gbc.pc(), 0xd802);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd800), 0xcb);
        EXPECT(gbc.readMem(0xd801), 0x7a);
        // CB 7A 03A5
        gbc.setState(0x6d91, 0x8db6, 0xbb70, 0xd7d9, 0xde27, 0x83a2, 0x1, 0x1);
        gbc.writeMem(0x6d91, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8db6);
        EXPECT(gbc.pc(), 0x6d93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03A6
        gbc.setState(0x5b56, 0xb91e, 0xe30, 0xf257, 0x2332, 0xb020, 0x1, 0x1);
        gbc.writeMem(0x5b56, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xb91e);
        EXPECT(gbc.pc(), 0x5b58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03A7
        gbc.setState(0x42c5, 0x535c, 0x1960, 0x51a6, 0x7b4c, 0xc90b, 0x1, 0x1);
        gbc.writeMem(0x42c5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x535c);
        EXPECT(gbc.pc(), 0x42c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03A8
        gbc.setState(0xccf0, 0x5d1a, 0x72e0, 0x90d3, 0xe5e6, 0x318e, 0x0, 0x0);
        gbc.writeMem(0xccf0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x5d1a);
        EXPECT(gbc.pc(), 0xccf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccf0), 0xcb);
        EXPECT(gbc.readMem(0xccf1), 0x7a);
        // CB 7A 03A9
        gbc.setState(0xe322, 0x4200, 0x45d0, 0x1e56, 0xd796, 0x7ef2, 0x1, 0x0);
        gbc.writeMem(0xe322, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4200);
        EXPECT(gbc.pc(), 0xe324);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe322), 0xcb);
        EXPECT(gbc.readMem(0xe323), 0x7a);
        // CB 7A 03AA
        gbc.setState(0x1ad2, 0xc9a, 0xb7a0, 0x6c35, 0x3384, 0x66e1, 0x1, 0x0);
        gbc.writeMem(0x1ad2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xc9a);
        EXPECT(gbc.pc(), 0x1ad4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03AB
        gbc.setState(0xa7c8, 0xe5c2, 0x11f0, 0x1e82, 0x89f6, 0x3ca4, 0x0, 0x1);
        gbc.writeMem(0xa7c8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe5c2);
        EXPECT(gbc.pc(), 0xa7ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7c8), 0xcb);
        EXPECT(gbc.readMem(0xa7c9), 0x7a);
        // CB 7A 03AC
        gbc.setState(0x55b3, 0x1b72, 0xe680, 0xe925, 0xaf1e, 0xfb4c, 0x0, 0x1);
        gbc.writeMem(0x55b3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x1b72);
        EXPECT(gbc.pc(), 0x55b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03AD
        gbc.setState(0xd72e, 0x910, 0xb650, 0xd28e, 0x83f2, 0x9567, 0x0, 0x1);
        gbc.writeMem(0xd72e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x910);
        EXPECT(gbc.pc(), 0xd730);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd72e), 0xcb);
        EXPECT(gbc.readMem(0xd72f), 0x7a);
        // CB 7A 03AE
        gbc.setState(0xb2f1, 0xd839, 0xeb70, 0xddf4, 0x7a29, 0xdeb6, 0x0, 0x1);
        gbc.writeMem(0xb2f1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd839);
        EXPECT(gbc.pc(), 0xb2f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2f1), 0xcb);
        EXPECT(gbc.readMem(0xb2f2), 0x7a);
        // CB 7A 03AF
        gbc.setState(0x16b5, 0xbe3b, 0xfd60, 0xeada, 0xa8bb, 0xa38c, 0x1, 0x0);
        gbc.writeMem(0x16b5, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xbe3b);
        EXPECT(gbc.pc(), 0x16b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03B0
        gbc.setState(0x85f7, 0x2bc7, 0x2010, 0x875e, 0x6429, 0x9bb, 0x0, 0x0);
        gbc.writeMem(0x85f7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2bc7);
        EXPECT(gbc.pc(), 0x85f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85f7), 0xcb);
        EXPECT(gbc.readMem(0x85f8), 0x7a);
        // CB 7A 03B1
        gbc.setState(0xa1df, 0x19c7, 0xf9f0, 0x6301, 0xab20, 0xf415, 0x0, 0x0);
        gbc.writeMem(0xa1df, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x19c7);
        EXPECT(gbc.pc(), 0xa1e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1df), 0xcb);
        EXPECT(gbc.readMem(0xa1e0), 0x7a);
        // CB 7A 03B2
        gbc.setState(0xe29a, 0x7170, 0x840, 0x7290, 0x5f84, 0xbbb9, 0x1, 0x0);
        gbc.writeMem(0xe29a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7170);
        EXPECT(gbc.pc(), 0xe29c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe29a), 0xcb);
        EXPECT(gbc.readMem(0xe29b), 0x7a);
        // CB 7A 03B3
        gbc.setState(0x33f2, 0x1a46, 0x8bd0, 0x7bdb, 0xd9cf, 0x6bf6, 0x0, 0x0);
        gbc.writeMem(0x33f2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1a46);
        EXPECT(gbc.pc(), 0x33f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03B4
        gbc.setState(0x7283, 0xf185, 0xf880, 0x38de, 0xbe9, 0xff2a, 0x1, 0x1);
        gbc.writeMem(0x7283, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf185);
        EXPECT(gbc.pc(), 0x7285);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03B5
        gbc.setState(0xcb4, 0x2f6e, 0x1150, 0xfc89, 0xe451, 0xac04, 0x1, 0x0);
        gbc.writeMem(0xcb4, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x2f6e);
        EXPECT(gbc.pc(), 0xcb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03B6
        gbc.setState(0x58e, 0xae7, 0x2900, 0x6a25, 0xe774, 0x6663, 0x1, 0x1);
        gbc.writeMem(0x58e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xae7);
        EXPECT(gbc.pc(), 0x590);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03B7
        gbc.setState(0xd85e, 0x3c97, 0x3a60, 0x7aa, 0xb33b, 0xa5f7, 0x1, 0x0);
        gbc.writeMem(0xd85e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3c97);
        EXPECT(gbc.pc(), 0xd860);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd85e), 0xcb);
        EXPECT(gbc.readMem(0xd85f), 0x7a);
        // CB 7A 03B8
        gbc.setState(0xae21, 0x9bea, 0x7340, 0xef23, 0x8420, 0xea24, 0x0, 0x1);
        gbc.writeMem(0xae21, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9bea);
        EXPECT(gbc.pc(), 0xae23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae21), 0xcb);
        EXPECT(gbc.readMem(0xae22), 0x7a);
        // CB 7A 03B9
        gbc.setState(0x516c, 0x28af, 0x9b50, 0xf687, 0x36d0, 0xc3f9, 0x1, 0x0);
        gbc.writeMem(0x516c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x28af);
        EXPECT(gbc.pc(), 0x516e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03BA
        gbc.setState(0xdab2, 0xb1e7, 0xf2c0, 0xeca9, 0x200c, 0x35b9, 0x0, 0x0);
        gbc.writeMem(0xdab2, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb1e7);
        EXPECT(gbc.pc(), 0xdab4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdab2), 0xcb);
        EXPECT(gbc.readMem(0xdab3), 0x7a);
        // CB 7A 03BB
        gbc.setState(0x9ac8, 0xa71a, 0xb940, 0xe33, 0xa76c, 0x6dc0, 0x0, 0x1);
        gbc.writeMem(0x9ac8, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xa71a);
        EXPECT(gbc.pc(), 0x9aca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ac8), 0xcb);
        EXPECT(gbc.readMem(0x9ac9), 0x7a);
        // CB 7A 03BC
        gbc.setState(0xcdb3, 0xff6e, 0x67e0, 0xecba, 0xaf7b, 0x6db, 0x1, 0x1);
        gbc.writeMem(0xcdb3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xff6e);
        EXPECT(gbc.pc(), 0xcdb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdb3), 0xcb);
        EXPECT(gbc.readMem(0xcdb4), 0x7a);
        // CB 7A 03BD
        gbc.setState(0xd81e, 0x52c5, 0xd6b0, 0xc066, 0xac65, 0xaf26, 0x1, 0x0);
        gbc.writeMem(0xd81e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x52c5);
        EXPECT(gbc.pc(), 0xd820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd81e), 0xcb);
        EXPECT(gbc.readMem(0xd81f), 0x7a);
        // CB 7A 03BE
        gbc.setState(0x417c, 0xaa5, 0x9920, 0x4416, 0x7d8e, 0xe95c, 0x1, 0x0);
        gbc.writeMem(0x417c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xaa5);
        EXPECT(gbc.pc(), 0x417e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03BF
        gbc.setState(0x9764, 0xe161, 0x4f50, 0xaff2, 0xbe6a, 0xeb21, 0x0, 0x0);
        gbc.writeMem(0x9764, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xe161);
        EXPECT(gbc.pc(), 0x9766);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9764), 0xcb);
        EXPECT(gbc.readMem(0x9765), 0x7a);
        // CB 7A 03C0
        gbc.setState(0xcacb, 0x293e, 0xc210, 0x2b01, 0xb689, 0x6f9f, 0x1, 0x0);
        gbc.writeMem(0xcacb, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x293e);
        EXPECT(gbc.pc(), 0xcacd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcacb), 0xcb);
        EXPECT(gbc.readMem(0xcacc), 0x7a);
        // CB 7A 03C2
        gbc.setState(0x8644, 0x260f, 0x2eb0, 0xb640, 0xd219, 0x3ce9, 0x0, 0x0);
        gbc.writeMem(0x8644, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x260f);
        EXPECT(gbc.pc(), 0x8646);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8644), 0xcb);
        EXPECT(gbc.readMem(0x8645), 0x7a);
        // CB 7A 03C3
        gbc.setState(0x9a15, 0x646, 0xacf0, 0x660f, 0xba29, 0x21c4, 0x1, 0x0);
        gbc.writeMem(0x9a15, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x646);
        EXPECT(gbc.pc(), 0x9a17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a15), 0xcb);
        EXPECT(gbc.readMem(0x9a16), 0x7a);
        // CB 7A 03C4
        gbc.setState(0x880d, 0x30ec, 0xaed0, 0x296c, 0x1b3f, 0x7aae, 0x1, 0x0);
        gbc.writeMem(0x880d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x30ec);
        EXPECT(gbc.pc(), 0x880f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x880d), 0xcb);
        EXPECT(gbc.readMem(0x880e), 0x7a);
        // CB 7A 03C5
        gbc.setState(0x6365, 0x2ab7, 0x7e0, 0x2ad4, 0x8c9a, 0x19fb, 0x0, 0x0);
        gbc.writeMem(0x6365, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2ab7);
        EXPECT(gbc.pc(), 0x6367);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03C6
        gbc.setState(0x3fa1, 0x510c, 0xa2b0, 0xce7, 0x74e4, 0x5afb, 0x0, 0x0);
        gbc.writeMem(0x3fa1, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x510c);
        EXPECT(gbc.pc(), 0x3fa3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03C7
        gbc.setState(0x792d, 0x2487, 0xa50, 0x5c9c, 0x356f, 0xb222, 0x1, 0x1);
        gbc.writeMem(0x792d, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2487);
        EXPECT(gbc.pc(), 0x792f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03C8
        gbc.setState(0x1784, 0xaef5, 0x88c0, 0xb0a0, 0xd5d9, 0x4d8a, 0x0, 0x1);
        gbc.writeMem(0x1784, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xaef5);
        EXPECT(gbc.pc(), 0x1786);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03CA
        gbc.setState(0xdfb0, 0x821, 0x1a20, 0xcfee, 0xc526, 0xb7d7, 0x1, 0x1);
        gbc.writeMem(0xdfb0, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x821);
        EXPECT(gbc.pc(), 0xdfb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfb0), 0xcb);
        EXPECT(gbc.readMem(0xdfb1), 0x7a);
        // CB 7A 03CB
        gbc.setState(0x8d51, 0x8705, 0xbbf0, 0xda22, 0x48f9, 0xa656, 0x1, 0x1);
        gbc.writeMem(0x8d51, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8705);
        EXPECT(gbc.pc(), 0x8d53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d51), 0xcb);
        EXPECT(gbc.readMem(0x8d52), 0x7a);
        // CB 7A 03CC
        gbc.setState(0x6a6, 0xd2e9, 0xa050, 0xe202, 0xb760, 0x31d3, 0x0, 0x1);
        gbc.writeMem(0x6a6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd2e9);
        EXPECT(gbc.pc(), 0x6a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03CD
        gbc.setState(0xd268, 0xd3, 0x51a0, 0x2465, 0xe8e7, 0xc7b3, 0x1, 0x0);
        gbc.writeMem(0xd268, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd3);
        EXPECT(gbc.pc(), 0xd26a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd268), 0xcb);
        EXPECT(gbc.readMem(0xd269), 0x7a);
        // CB 7A 03CE
        gbc.setState(0x9f34, 0xc88b, 0x8330, 0x5032, 0x8e39, 0x9ef3, 0x0, 0x1);
        gbc.writeMem(0x9f34, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc88b);
        EXPECT(gbc.pc(), 0x9f36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f34), 0xcb);
        EXPECT(gbc.readMem(0x9f35), 0x7a);
        // CB 7A 03CF
        gbc.setState(0x82f9, 0xcc52, 0x5900, 0xd3ac, 0x5486, 0x3eba, 0x0, 0x1);
        gbc.writeMem(0x82f9, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xcc52);
        EXPECT(gbc.pc(), 0x82fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82f9), 0xcb);
        EXPECT(gbc.readMem(0x82fa), 0x7a);
        // CB 7A 03D0
        gbc.setState(0x4c5f, 0xfae0, 0xe6c0, 0xf277, 0xca30, 0x5b1e, 0x1, 0x1);
        gbc.writeMem(0x4c5f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xfae0);
        EXPECT(gbc.pc(), 0x4c61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03D1
        gbc.setState(0x5724, 0x2362, 0x6c90, 0x77fe, 0x9951, 0x3975, 0x1, 0x0);
        gbc.writeMem(0x5724, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2362);
        EXPECT(gbc.pc(), 0x5726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03D2
        gbc.setState(0x52d7, 0x6941, 0x1fe0, 0x4d1c, 0x6f76, 0x5b73, 0x0, 0x1);
        gbc.writeMem(0x52d7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6941);
        EXPECT(gbc.pc(), 0x52d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03D3
        gbc.setState(0x8d0c, 0xfb40, 0xe2f0, 0x66aa, 0xe0f8, 0x84b0, 0x1, 0x0);
        gbc.writeMem(0x8d0c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xfb40);
        EXPECT(gbc.pc(), 0x8d0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d0c), 0xcb);
        EXPECT(gbc.readMem(0x8d0d), 0x7a);
        // CB 7A 03D4
        gbc.setState(0x9b28, 0xcea2, 0xced0, 0x1191, 0x3a1, 0x172f, 0x0, 0x0);
        gbc.writeMem(0x9b28, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xcea2);
        EXPECT(gbc.pc(), 0x9b2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b28), 0xcb);
        EXPECT(gbc.readMem(0x9b29), 0x7a);
        // CB 7A 03D5
        gbc.setState(0x5c32, 0x89ee, 0xc710, 0x9750, 0x317f, 0x75e6, 0x0, 0x0);
        gbc.writeMem(0x5c32, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x89ee);
        EXPECT(gbc.pc(), 0x5c34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03D6
        gbc.setState(0x8aaa, 0x2bfb, 0x1e30, 0x99c1, 0x7eab, 0xcb48, 0x0, 0x0);
        gbc.writeMem(0x8aaa, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x2bfb);
        EXPECT(gbc.pc(), 0x8aac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aaa), 0xcb);
        EXPECT(gbc.readMem(0x8aab), 0x7a);
        // CB 7A 03D7
        gbc.setState(0x6f0e, 0x386f, 0x59b0, 0xaf88, 0xe294, 0x3b30, 0x0, 0x0);
        gbc.writeMem(0x6f0e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x386f);
        EXPECT(gbc.pc(), 0x6f10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03D8
        gbc.setState(0xc624, 0x418b, 0xe890, 0x3cb3, 0xad93, 0x20dd, 0x1, 0x0);
        gbc.writeMem(0xc624, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x418b);
        EXPECT(gbc.pc(), 0xc626);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc624), 0xcb);
        EXPECT(gbc.readMem(0xc625), 0x7a);
        // CB 7A 03D9
        gbc.setState(0x4884, 0x936c, 0xde30, 0xa0ee, 0x2364, 0x9368, 0x1, 0x0);
        gbc.writeMem(0x4884, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x936c);
        EXPECT(gbc.pc(), 0x4886);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03DA
        gbc.setState(0xb5d7, 0x557f, 0x2a70, 0x90e9, 0x91fa, 0x26e9, 0x0, 0x1);
        gbc.writeMem(0xb5d7, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x557f);
        EXPECT(gbc.pc(), 0xb5d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5d7), 0xcb);
        EXPECT(gbc.readMem(0xb5d8), 0x7a);
        // CB 7A 03DB
        gbc.setState(0x7c5c, 0x7983, 0x5970, 0x2b99, 0xff64, 0x5a82, 0x1, 0x0);
        gbc.writeMem(0x7c5c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x7983);
        EXPECT(gbc.pc(), 0x7c5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03DC
        gbc.setState(0x8ab6, 0x3b25, 0xde50, 0x8ec8, 0xf1ae, 0xaac2, 0x0, 0x0);
        gbc.writeMem(0x8ab6, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3b25);
        EXPECT(gbc.pc(), 0x8ab8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ab6), 0xcb);
        EXPECT(gbc.readMem(0x8ab7), 0x7a);
        // CB 7A 03DD
        gbc.setState(0x38ee, 0x3144, 0x2640, 0x92fd, 0x33ef, 0x19fb, 0x1, 0x1);
        gbc.writeMem(0x38ee, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x3144);
        EXPECT(gbc.pc(), 0x38f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03DE
        gbc.setState(0x6645, 0x1ae6, 0x3440, 0xe32d, 0x81dc, 0x97fa, 0x0, 0x1);
        gbc.writeMem(0x6645, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x1ae6);
        EXPECT(gbc.pc(), 0x6647);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 7A 03DF
        gbc.setState(0xaf2b, 0x89c6, 0x6900, 0xfd98, 0xea8c, 0x1c52, 0x1, 0x0);
        gbc.writeMem(0xaf2b, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x89c6);
        EXPECT(gbc.pc(), 0xaf2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf2b), 0xcb);
        EXPECT(gbc.readMem(0xaf2c), 0x7a);
        // CB 7A 03E0
        gbc.setState(0xefb3, 0x4484, 0xfd60, 0xe15d, 0x4b7, 0x3a3f, 0x0, 0x1);
        gbc.writeMem(0xefb3, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x4484);
        EXPECT(gbc.pc(), 0xefb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefb3), 0xcb);
        EXPECT(gbc.readMem(0xefb4), 0x7a);
        // CB 7A 03E1
        gbc.setState(0x702a, 0x83ac, 0x7f90, 0x46ed, 0x80b5, 0x9982, 0x0, 0x0);
        gbc.writeMem(0x702a, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x83ac);
        EXPECT(gbc.pc(), 0x702c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03E2
        gbc.setState(0x2880, 0x5e9f, 0xa310, 0x5cfa, 0x7b1b, 0xe5c4, 0x0, 0x0);
        gbc.writeMem(0x2880, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x5e9f);
        EXPECT(gbc.pc(), 0x2882);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03E3
        gbc.setState(0xc009, 0x4f31, 0xc410, 0xed5e, 0x303, 0x8dbe, 0x0, 0x1);
        gbc.writeMem(0xc009, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x4f31);
        EXPECT(gbc.pc(), 0xc00b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc009), 0xcb);
        EXPECT(gbc.readMem(0xc00a), 0x7a);
        // CB 7A 03E4
        gbc.setState(0x3a5f, 0x71e4, 0xd150, 0xdc43, 0xaf15, 0x2b6a, 0x0, 0x1);
        gbc.writeMem(0x3a5f, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x71e4);
        EXPECT(gbc.pc(), 0x3a61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03E5
        gbc.setState(0x933e, 0xac81, 0xf0, 0x43cf, 0x30ea, 0x8bcc, 0x1, 0x0);
        gbc.writeMem(0x933e, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xac81);
        EXPECT(gbc.pc(), 0x9340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x933e), 0xcb);
        EXPECT(gbc.readMem(0x933f), 0x7a);
        // CB 7A 03E6
        gbc.setState(0x1934, 0xfe7a, 0x23f0, 0xfd3, 0x7e0d, 0x1391, 0x0, 0x0);
        gbc.writeMem(0x1934, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xfe7a);
        EXPECT(gbc.pc(), 0x1936);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 7A 03E7
        gbc.setState(0x5e3c, 0x2a08, 0x8700, 0xe730, 0x5791, 0x4436, 0x0, 0x1);
        gbc.writeMem(0x5e3c, { 0xcb, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2a08);
        EXPECT(gbc.pc(), 0x5e3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
