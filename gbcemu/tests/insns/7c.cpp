#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_7c)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_7c) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 7C 0000
        gbc.setState(0xad78, 0x84c3, 0x87d0, 0x1d4a, 0xfe96, 0x8f41, 0x1, 0x0);
        gbc.writeMem(0xad78, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x84c3);
        EXPECT(gbc.pc(), 0xad79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad78), 0x7c);
        // 7C 0001
        gbc.setState(0x77c, 0x5105, 0xa20, 0x210f, 0x46f9, 0x350e, 0x0, 0x1);
        gbc.writeMem(0x77c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x5105);
        EXPECT(gbc.pc(), 0x77d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0002
        gbc.setState(0x6b6, 0xe0ae, 0xbf70, 0x5e08, 0x42ff, 0x3be9, 0x1, 0x1);
        gbc.writeMem(0x6b6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xe0ae);
        EXPECT(gbc.pc(), 0x6b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0003
        gbc.setState(0x4b1b, 0xe7b7, 0xb480, 0xb33f, 0x70e9, 0x4987, 0x0, 0x1);
        gbc.writeMem(0x4b1b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe7b7);
        EXPECT(gbc.pc(), 0x4b1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0004
        gbc.setState(0x35d3, 0x9fc7, 0xef00, 0xb168, 0x803f, 0x1538, 0x0, 0x0);
        gbc.writeMem(0x35d3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9fc7);
        EXPECT(gbc.pc(), 0x35d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0005
        gbc.setState(0x59c, 0x523b, 0x70, 0xec4f, 0x4224, 0xb481, 0x1, 0x1);
        gbc.writeMem(0x59c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x523b);
        EXPECT(gbc.pc(), 0x59d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0006
        gbc.setState(0xa77b, 0x9394, 0xfd40, 0xd32b, 0x46c2, 0x1f86, 0x1, 0x1);
        gbc.writeMem(0xa77b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9394);
        EXPECT(gbc.pc(), 0xa77c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa77b), 0x7c);
        // 7C 0007
        gbc.setState(0x18d0, 0x228a, 0x4240, 0xf9c, 0xef49, 0x2684, 0x1, 0x0);
        gbc.writeMem(0x18d0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x228a);
        EXPECT(gbc.pc(), 0x18d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0008
        gbc.setState(0x7335, 0xdaee, 0xb400, 0x9602, 0x9571, 0x260f, 0x0, 0x0);
        gbc.writeMem(0x7335, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xdaee);
        EXPECT(gbc.pc(), 0x7336);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0009
        gbc.setState(0xb5c2, 0xdb59, 0x1740, 0xd37a, 0xe09c, 0x2192, 0x0, 0x0);
        gbc.writeMem(0xb5c2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xdb59);
        EXPECT(gbc.pc(), 0xb5c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5c2), 0x7c);
        // 7C 000A
        gbc.setState(0x297c, 0x8b58, 0xf790, 0x6ce3, 0x4822, 0x51a0, 0x1, 0x1);
        gbc.writeMem(0x297c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x8b58);
        EXPECT(gbc.pc(), 0x297d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 000B
        gbc.setState(0xc768, 0x64f8, 0x8300, 0x78eb, 0x9ae2, 0xa1ec, 0x0, 0x1);
        gbc.writeMem(0xc768, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x64f8);
        EXPECT(gbc.pc(), 0xc769);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc768), 0x7c);
        // 7C 000C
        gbc.setState(0x3b2a, 0x1b02, 0x6080, 0xc566, 0x3a99, 0xeade, 0x0, 0x1);
        gbc.writeMem(0x3b2a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x1b02);
        EXPECT(gbc.pc(), 0x3b2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 000D
        gbc.setState(0xe4a0, 0x5bd9, 0xb3c0, 0x7678, 0xc7fe, 0x1d, 0x1, 0x0);
        gbc.writeMem(0xe4a0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x5bd9);
        EXPECT(gbc.pc(), 0xe4a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4a0), 0x7c);
        // 7C 000E
        gbc.setState(0x4f36, 0xf23a, 0x5530, 0x4559, 0xa8fc, 0xb4f1, 0x1, 0x1);
        gbc.writeMem(0x4f36, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf23a);
        EXPECT(gbc.pc(), 0x4f37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 000F
        gbc.setState(0x1cc5, 0x2f6f, 0xa000, 0x59dd, 0x31b0, 0x8518, 0x1, 0x0);
        gbc.writeMem(0x1cc5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2f6f);
        EXPECT(gbc.pc(), 0x1cc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0010
        gbc.setState(0x3acb, 0x145f, 0x2110, 0xc69e, 0x4e05, 0xbb09, 0x1, 0x0);
        gbc.writeMem(0x3acb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x145f);
        EXPECT(gbc.pc(), 0x3acc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0011
        gbc.setState(0x1421, 0xd201, 0xb830, 0x9e16, 0x9add, 0x32, 0x1, 0x0);
        gbc.writeMem(0x1421, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xd201);
        EXPECT(gbc.pc(), 0x1422);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0012
        gbc.setState(0xec8e, 0xb360, 0xbf80, 0xd733, 0x2059, 0x3577, 0x1, 0x1);
        gbc.writeMem(0xec8e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb360);
        EXPECT(gbc.pc(), 0xec8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec8e), 0x7c);
        // 7C 0013
        gbc.setState(0x19e7, 0x4f94, 0x3fa0, 0xcc7b, 0xfb8b, 0x8681, 0x0, 0x0);
        gbc.writeMem(0x19e7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x4f94);
        EXPECT(gbc.pc(), 0x19e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0014
        gbc.setState(0x4c4d, 0xed1c, 0xd0c0, 0xcaec, 0xfe68, 0x127c, 0x1, 0x1);
        gbc.writeMem(0x4c4d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xed1c);
        EXPECT(gbc.pc(), 0x4c4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0015
        gbc.setState(0x9741, 0xcf24, 0x6600, 0xf098, 0xf69d, 0x3c79, 0x1, 0x0);
        gbc.writeMem(0x9741, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xcf24);
        EXPECT(gbc.pc(), 0x9742);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9741), 0x7c);
        // 7C 0016
        gbc.setState(0xe96e, 0x88f0, 0x5510, 0xaf72, 0x1a1a, 0xbb7, 0x0, 0x0);
        gbc.writeMem(0xe96e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x88f0);
        EXPECT(gbc.pc(), 0xe96f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe96e), 0x7c);
        // 7C 0017
        gbc.setState(0xabe1, 0x4ff1, 0xa150, 0xd7f3, 0x1c47, 0x2122, 0x0, 0x1);
        gbc.writeMem(0xabe1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4ff1);
        EXPECT(gbc.pc(), 0xabe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabe1), 0x7c);
        // 7C 0018
        gbc.setState(0x87ea, 0xaff, 0x8b20, 0x74b3, 0xc20f, 0x60b8, 0x0, 0x0);
        gbc.writeMem(0x87ea, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xaff);
        EXPECT(gbc.pc(), 0x87eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87ea), 0x7c);
        // 7C 0019
        gbc.setState(0x70b, 0x5cd6, 0xf090, 0x1b25, 0xc562, 0x2df8, 0x1, 0x1);
        gbc.writeMem(0x70b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x5cd6);
        EXPECT(gbc.pc(), 0x70c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 001A
        gbc.setState(0x73f2, 0xa36e, 0x9240, 0x65f9, 0xaff5, 0x7350, 0x0, 0x1);
        gbc.writeMem(0x73f2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa36e);
        EXPECT(gbc.pc(), 0x73f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 001B
        gbc.setState(0xaf17, 0x853e, 0xead0, 0x7594, 0x23b6, 0xd4e2, 0x1, 0x0);
        gbc.writeMem(0xaf17, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x853e);
        EXPECT(gbc.pc(), 0xaf18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf17), 0x7c);
        // 7C 001C
        gbc.setState(0x7243, 0x94ce, 0xac10, 0xb91a, 0x49bf, 0xc4f4, 0x1, 0x1);
        gbc.writeMem(0x7243, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x94ce);
        EXPECT(gbc.pc(), 0x7244);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 001D
        gbc.setState(0xda5, 0x18e5, 0x2680, 0x6a0d, 0xc3fb, 0x8f60, 0x0, 0x0);
        gbc.writeMem(0xda5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x18e5);
        EXPECT(gbc.pc(), 0xda6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 001F
        gbc.setState(0x35b0, 0x819d, 0xbb00, 0x9d5a, 0x5da1, 0x7500, 0x1, 0x0);
        gbc.writeMem(0x35b0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x819d);
        EXPECT(gbc.pc(), 0x35b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0020
        gbc.setState(0x185d, 0x82b7, 0x6200, 0x92de, 0x8fbe, 0x70fb, 0x0, 0x0);
        gbc.writeMem(0x185d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x82b7);
        EXPECT(gbc.pc(), 0x185e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0021
        gbc.setState(0xb22b, 0xbd40, 0x4ec0, 0x2935, 0xa985, 0x48c9, 0x1, 0x1);
        gbc.writeMem(0xb22b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xbd40);
        EXPECT(gbc.pc(), 0xb22c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb22b), 0x7c);
        // 7C 0022
        gbc.setState(0xc8b8, 0x9d31, 0x1850, 0xabfb, 0xc1b1, 0xc635, 0x1, 0x1);
        gbc.writeMem(0xc8b8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9d31);
        EXPECT(gbc.pc(), 0xc8b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b8), 0x7c);
        // 7C 0023
        gbc.setState(0x1258, 0xd52, 0x7f60, 0x4bcd, 0xfa04, 0x74ad, 0x1, 0x0);
        gbc.writeMem(0x1258, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xd52);
        EXPECT(gbc.pc(), 0x1259);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0024
        gbc.setState(0x8ac8, 0xb29d, 0x20c0, 0xa640, 0x315f, 0x1e26, 0x0, 0x1);
        gbc.writeMem(0x8ac8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb29d);
        EXPECT(gbc.pc(), 0x8ac9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ac8), 0x7c);
        // 7C 0025
        gbc.setState(0xbd47, 0x9c76, 0x62a0, 0x43e8, 0x17a5, 0x819e, 0x0, 0x1);
        gbc.writeMem(0xbd47, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9c76);
        EXPECT(gbc.pc(), 0xbd48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd47), 0x7c);
        // 7C 0026
        gbc.setState(0xd4bc, 0x9263, 0xa7f0, 0xc72a, 0x24ca, 0x6125, 0x1, 0x0);
        gbc.writeMem(0xd4bc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x9263);
        EXPECT(gbc.pc(), 0xd4bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4bc), 0x7c);
        // 7C 0027
        gbc.setState(0xa107, 0x747c, 0x51f0, 0xac31, 0xb7b, 0xf875, 0x0, 0x0);
        gbc.writeMem(0xa107, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x747c);
        EXPECT(gbc.pc(), 0xa108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa107), 0x7c);
        // 7C 0028
        gbc.setState(0x8fbf, 0x57c4, 0xaa10, 0xeff0, 0x9059, 0x1793, 0x0, 0x1);
        gbc.writeMem(0x8fbf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x57c4);
        EXPECT(gbc.pc(), 0x8fc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fbf), 0x7c);
        // 7C 0029
        gbc.setState(0xb6a8, 0x4dbe, 0x6d50, 0x1b02, 0x4349, 0x35c9, 0x1, 0x0);
        gbc.writeMem(0xb6a8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x4dbe);
        EXPECT(gbc.pc(), 0xb6a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6a8), 0x7c);
        // 7C 002A
        gbc.setState(0x3c67, 0xb0e1, 0x1ca0, 0x44b, 0x17dc, 0x2f46, 0x0, 0x0);
        gbc.writeMem(0x3c67, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xb0e1);
        EXPECT(gbc.pc(), 0x3c68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 002B
        gbc.setState(0x90ad, 0xedca, 0x9440, 0xca3a, 0x620e, 0xc791, 0x0, 0x1);
        gbc.writeMem(0x90ad, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xedca);
        EXPECT(gbc.pc(), 0x90ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ad), 0x7c);
        // 7C 002C
        gbc.setState(0x8a75, 0x14af, 0x9470, 0x51cc, 0x16e5, 0x19b2, 0x1, 0x0);
        gbc.writeMem(0x8a75, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x14af);
        EXPECT(gbc.pc(), 0x8a76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a75), 0x7c);
        // 7C 002D
        gbc.setState(0xcb0c, 0x27cc, 0xe40, 0xe1e5, 0x756d, 0x9ded, 0x1, 0x0);
        gbc.writeMem(0xcb0c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x27cc);
        EXPECT(gbc.pc(), 0xcb0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb0c), 0x7c);
        // 7C 002E
        gbc.setState(0xc01e, 0xd0de, 0x6c20, 0xfece, 0x74ea, 0x50c0, 0x1, 0x1);
        gbc.writeMem(0xc01e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xd0de);
        EXPECT(gbc.pc(), 0xc01f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc01e), 0x7c);
        // 7C 002F
        gbc.setState(0x77e8, 0x5e49, 0xa7f0, 0xe611, 0x6431, 0x6b50, 0x1, 0x0);
        gbc.writeMem(0x77e8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x5e49);
        EXPECT(gbc.pc(), 0x77e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0030
        gbc.setState(0x58c5, 0xc3fc, 0x1350, 0xdfef, 0xe7f0, 0xec92, 0x0, 0x0);
        gbc.writeMem(0x58c5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc3fc);
        EXPECT(gbc.pc(), 0x58c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0031
        gbc.setState(0xaa21, 0x3f2, 0xf9e0, 0xa7b7, 0x2fba, 0x7be3, 0x0, 0x1);
        gbc.writeMem(0xaa21, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x3f2);
        EXPECT(gbc.pc(), 0xaa22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa21), 0x7c);
        // 7C 0032
        gbc.setState(0x25e, 0xfef9, 0x7420, 0x8f2e, 0xaa75, 0x5e97, 0x1, 0x1);
        gbc.writeMem(0x25e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xfef9);
        EXPECT(gbc.pc(), 0x25f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0033
        gbc.setState(0xd483, 0x97e8, 0x1130, 0x509f, 0xd1e4, 0x65ec, 0x0, 0x0);
        gbc.writeMem(0xd483, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x97e8);
        EXPECT(gbc.pc(), 0xd484);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd483), 0x7c);
        // 7C 0034
        gbc.setState(0x5e4d, 0x7db7, 0x2470, 0x6b76, 0x2177, 0xb501, 0x0, 0x1);
        gbc.writeMem(0x5e4d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7db7);
        EXPECT(gbc.pc(), 0x5e4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0035
        gbc.setState(0x7239, 0x434f, 0x95f0, 0x74a5, 0xdacf, 0x1d93, 0x0, 0x1);
        gbc.writeMem(0x7239, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x434f);
        EXPECT(gbc.pc(), 0x723a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0036
        gbc.setState(0xdb8f, 0x455a, 0xa620, 0xed30, 0x14f4, 0xcbe8, 0x1, 0x1);
        gbc.writeMem(0xdb8f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x455a);
        EXPECT(gbc.pc(), 0xdb90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb8f), 0x7c);
        // 7C 0037
        gbc.setState(0x14d6, 0xc857, 0x4e70, 0x5e4c, 0x9bb, 0x4b70, 0x0, 0x0);
        gbc.writeMem(0x14d6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xc857);
        EXPECT(gbc.pc(), 0x14d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0038
        gbc.setState(0x5739, 0xd40e, 0x1240, 0x8704, 0xb5dd, 0x9020, 0x0, 0x0);
        gbc.writeMem(0x5739, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd40e);
        EXPECT(gbc.pc(), 0x573a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0039
        gbc.setState(0x1b72, 0x7500, 0x8070, 0xada5, 0xf80a, 0x1ec2, 0x0, 0x0);
        gbc.writeMem(0x1b72, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7500);
        EXPECT(gbc.pc(), 0x1b73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 003A
        gbc.setState(0x97bd, 0x915e, 0x2190, 0x4687, 0x65cb, 0x4b92, 0x0, 0x1);
        gbc.writeMem(0x97bd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x915e);
        EXPECT(gbc.pc(), 0x97be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97bd), 0x7c);
        // 7C 003B
        gbc.setState(0xd810, 0x39f5, 0xb3d0, 0xcc62, 0x1de0, 0x1203, 0x0, 0x0);
        gbc.writeMem(0xd810, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x39f5);
        EXPECT(gbc.pc(), 0xd811);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd810), 0x7c);
        // 7C 003C
        gbc.setState(0x3a3b, 0xec7f, 0x1dd0, 0x4700, 0x28ca, 0x97af, 0x1, 0x0);
        gbc.writeMem(0x3a3b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xec7f);
        EXPECT(gbc.pc(), 0x3a3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 003D
        gbc.setState(0x65b9, 0xb340, 0x8760, 0x6830, 0xac4d, 0x7e52, 0x1, 0x1);
        gbc.writeMem(0x65b9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb340);
        EXPECT(gbc.pc(), 0x65ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 003E
        gbc.setState(0x21c2, 0x667a, 0xc6e0, 0x1c37, 0x5708, 0x6bb5, 0x0, 0x1);
        gbc.writeMem(0x21c2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x667a);
        EXPECT(gbc.pc(), 0x21c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 003F
        gbc.setState(0x671f, 0x34e4, 0xdca0, 0xbdd2, 0x9dd, 0xeaf5, 0x0, 0x0);
        gbc.writeMem(0x671f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x34e4);
        EXPECT(gbc.pc(), 0x6720);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0040
        gbc.setState(0x80fd, 0xf8a8, 0x7470, 0xd72c, 0xc607, 0xa0f2, 0x1, 0x0);
        gbc.writeMem(0x80fd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xf8a8);
        EXPECT(gbc.pc(), 0x80fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80fd), 0x7c);
        // 7C 0041
        gbc.setState(0x3ff7, 0x38a1, 0x4ad0, 0x26b1, 0x26d7, 0xaff3, 0x0, 0x1);
        gbc.writeMem(0x3ff7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x38a1);
        EXPECT(gbc.pc(), 0x3ff8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0042
        gbc.setState(0x17fd, 0x69ac, 0x5640, 0x6272, 0x3079, 0xdbb, 0x0, 0x0);
        gbc.writeMem(0x17fd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x69ac);
        EXPECT(gbc.pc(), 0x17fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0043
        gbc.setState(0x659a, 0xa1df, 0x2db0, 0x12a, 0x475c, 0xa61f, 0x0, 0x1);
        gbc.writeMem(0x659a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xa1df);
        EXPECT(gbc.pc(), 0x659b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0044
        gbc.setState(0x57fd, 0xa4a9, 0xea30, 0xee73, 0xdf7f, 0x556a, 0x1, 0x1);
        gbc.writeMem(0x57fd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa4a9);
        EXPECT(gbc.pc(), 0x57fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0045
        gbc.setState(0x1501, 0xf37f, 0x5da0, 0xd34e, 0xfbae, 0xa4ac, 0x1, 0x0);
        gbc.writeMem(0x1501, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf37f);
        EXPECT(gbc.pc(), 0x1502);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0046
        gbc.setState(0x6530, 0x7101, 0x9bc0, 0x2475, 0xc9b4, 0xf8f9, 0x0, 0x1);
        gbc.writeMem(0x6530, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7101);
        EXPECT(gbc.pc(), 0x6531);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0047
        gbc.setState(0x5752, 0x5d07, 0xe220, 0x41b2, 0x8b4b, 0x2602, 0x1, 0x1);
        gbc.writeMem(0x5752, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5d07);
        EXPECT(gbc.pc(), 0x5753);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0048
        gbc.setState(0x5409, 0xff88, 0x7230, 0xf930, 0xe542, 0xcc3b, 0x0, 0x0);
        gbc.writeMem(0x5409, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xff88);
        EXPECT(gbc.pc(), 0x540a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0049
        gbc.setState(0x757d, 0xce7e, 0x3db0, 0xdb0, 0xe9e5, 0x6d36, 0x1, 0x1);
        gbc.writeMem(0x757d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xce7e);
        EXPECT(gbc.pc(), 0x757e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 004A
        gbc.setState(0x730e, 0xc8f3, 0x2890, 0x2415, 0xc1b4, 0x9e96, 0x1, 0x0);
        gbc.writeMem(0x730e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc8f3);
        EXPECT(gbc.pc(), 0x730f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 004B
        gbc.setState(0xeb5, 0xa012, 0xc730, 0x2616, 0x6d08, 0xc80c, 0x1, 0x0);
        gbc.writeMem(0xeb5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa012);
        EXPECT(gbc.pc(), 0xeb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 004C
        gbc.setState(0xb563, 0x3f43, 0x90b0, 0xb100, 0xe8db, 0x8689, 0x0, 0x0);
        gbc.writeMem(0xb563, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3f43);
        EXPECT(gbc.pc(), 0xb564);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb563), 0x7c);
        // 7C 004E
        gbc.setState(0x3788, 0xaee5, 0xa530, 0x29b2, 0x3d25, 0xb699, 0x1, 0x1);
        gbc.writeMem(0x3788, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xaee5);
        EXPECT(gbc.pc(), 0x3789);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 004F
        gbc.setState(0xc9fd, 0x7521, 0x9a80, 0xaf51, 0x79cb, 0x178b, 0x0, 0x1);
        gbc.writeMem(0xc9fd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x7521);
        EXPECT(gbc.pc(), 0xc9fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9fd), 0x7c);
        // 7C 0050
        gbc.setState(0x5059, 0xa4b8, 0xa2d0, 0x5493, 0x7530, 0xc222, 0x1, 0x1);
        gbc.writeMem(0x5059, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xa4b8);
        EXPECT(gbc.pc(), 0x505a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0051
        gbc.setState(0xc5a9, 0xffb7, 0xee10, 0x6cb, 0xd83c, 0x22ca, 0x1, 0x1);
        gbc.writeMem(0xc5a9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xffb7);
        EXPECT(gbc.pc(), 0xc5aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5a9), 0x7c);
        // 7C 0052
        gbc.setState(0xd69b, 0x9b8f, 0xaf70, 0xed65, 0xbda4, 0x9fff, 0x1, 0x0);
        gbc.writeMem(0xd69b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x9b8f);
        EXPECT(gbc.pc(), 0xd69c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd69b), 0x7c);
        // 7C 0053
        gbc.setState(0xe4c3, 0xbdd2, 0xea90, 0x6cbd, 0x4084, 0xcc54, 0x1, 0x0);
        gbc.writeMem(0xe4c3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xbdd2);
        EXPECT(gbc.pc(), 0xe4c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4c3), 0x7c);
        // 7C 0054
        gbc.setState(0xd8ee, 0xa454, 0x28f0, 0xc1fd, 0xe54a, 0xfdd8, 0x1, 0x0);
        gbc.writeMem(0xd8ee, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa454);
        EXPECT(gbc.pc(), 0xd8ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8ee), 0x7c);
        // 7C 0055
        gbc.setState(0x8d63, 0xdedb, 0x8ae0, 0x5427, 0xfe60, 0x7f02, 0x1, 0x1);
        gbc.writeMem(0x8d63, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xdedb);
        EXPECT(gbc.pc(), 0x8d64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d63), 0x7c);
        // 7C 0056
        gbc.setState(0x8c55, 0xf184, 0x7830, 0x6b94, 0x2bdd, 0x50a6, 0x0, 0x0);
        gbc.writeMem(0x8c55, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xf184);
        EXPECT(gbc.pc(), 0x8c56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c55), 0x7c);
        // 7C 0057
        gbc.setState(0xad46, 0xc25e, 0x2e40, 0xd211, 0xc2da, 0xa18d, 0x1, 0x1);
        gbc.writeMem(0xad46, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc25e);
        EXPECT(gbc.pc(), 0xad47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad46), 0x7c);
        // 7C 0058
        gbc.setState(0xaed5, 0xdefe, 0xa080, 0x8114, 0xcc78, 0xd234, 0x0, 0x0);
        gbc.writeMem(0xaed5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xdefe);
        EXPECT(gbc.pc(), 0xaed6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaed5), 0x7c);
        // 7C 005A
        gbc.setState(0xd59a, 0x7c69, 0xd9b0, 0x3ad4, 0x3ead, 0xf018, 0x0, 0x0);
        gbc.writeMem(0xd59a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x7c69);
        EXPECT(gbc.pc(), 0xd59b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd59a), 0x7c);
        // 7C 005B
        gbc.setState(0x2761, 0x9aec, 0xefc0, 0x8430, 0x2cbf, 0x783e, 0x1, 0x1);
        gbc.writeMem(0x2761, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9aec);
        EXPECT(gbc.pc(), 0x2762);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 005C
        gbc.setState(0x5847, 0x5fd3, 0x7250, 0xae80, 0x5ff, 0x74f2, 0x0, 0x1);
        gbc.writeMem(0x5847, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5fd3);
        EXPECT(gbc.pc(), 0x5848);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 005D
        gbc.setState(0x7176, 0x3386, 0xef70, 0x3883, 0x5802, 0x8600, 0x1, 0x1);
        gbc.writeMem(0x7176, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3386);
        EXPECT(gbc.pc(), 0x7177);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 005E
        gbc.setState(0xa8b0, 0xfaef, 0xe9d0, 0xdbac, 0xd2a2, 0xe8c3, 0x0, 0x1);
        gbc.writeMem(0xa8b0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xfaef);
        EXPECT(gbc.pc(), 0xa8b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8b0), 0x7c);
        // 7C 005F
        gbc.setState(0x668d, 0x9f0, 0x3270, 0xa4f, 0x226a, 0xcd39, 0x1, 0x0);
        gbc.writeMem(0x668d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9f0);
        EXPECT(gbc.pc(), 0x668e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0060
        gbc.setState(0x7646, 0x2ac6, 0xd320, 0x4d79, 0x6202, 0xdb68, 0x1, 0x0);
        gbc.writeMem(0x7646, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2ac6);
        EXPECT(gbc.pc(), 0x7647);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0061
        gbc.setState(0x78ea, 0xa91b, 0x6900, 0xf2e5, 0x6849, 0x5ff9, 0x0, 0x1);
        gbc.writeMem(0x78ea, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa91b);
        EXPECT(gbc.pc(), 0x78eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0062
        gbc.setState(0x9505, 0x4bac, 0x30e0, 0xba12, 0x50a1, 0x3b95, 0x0, 0x1);
        gbc.writeMem(0x9505, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4bac);
        EXPECT(gbc.pc(), 0x9506);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9505), 0x7c);
        // 7C 0063
        gbc.setState(0x9d0d, 0x374b, 0x1aa0, 0x91f, 0x3c5e, 0xb3b3, 0x1, 0x0);
        gbc.writeMem(0x9d0d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x374b);
        EXPECT(gbc.pc(), 0x9d0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d0d), 0x7c);
        // 7C 0064
        gbc.setState(0x60da, 0xa05b, 0xc5f0, 0x25bf, 0x3f8f, 0x7e06, 0x1, 0x0);
        gbc.writeMem(0x60da, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa05b);
        EXPECT(gbc.pc(), 0x60db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0065
        gbc.setState(0x5a68, 0x76bf, 0xe0f0, 0xa68d, 0x4c7d, 0xee2c, 0x1, 0x0);
        gbc.writeMem(0x5a68, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x76bf);
        EXPECT(gbc.pc(), 0x5a69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0066
        gbc.setState(0x4ac6, 0x7b9c, 0x2ff0, 0xf67f, 0xf3c3, 0x67b3, 0x1, 0x0);
        gbc.writeMem(0x4ac6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x7b9c);
        EXPECT(gbc.pc(), 0x4ac7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0067
        gbc.setState(0x596b, 0xac5d, 0xe620, 0x89ac, 0x346f, 0x31e1, 0x1, 0x1);
        gbc.writeMem(0x596b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xac5d);
        EXPECT(gbc.pc(), 0x596c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0068
        gbc.setState(0x6cfd, 0x47e0, 0xf930, 0xb315, 0xd7df, 0xea24, 0x1, 0x1);
        gbc.writeMem(0x6cfd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x47e0);
        EXPECT(gbc.pc(), 0x6cfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0069
        gbc.setState(0x7c0e, 0x84a0, 0xd3b0, 0x684c, 0xf2a8, 0xaaa4, 0x0, 0x1);
        gbc.writeMem(0x7c0e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x84a0);
        EXPECT(gbc.pc(), 0x7c0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 006A
        gbc.setState(0xe843, 0x5e76, 0xcca0, 0x4c6e, 0xea93, 0x1874, 0x0, 0x1);
        gbc.writeMem(0xe843, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5e76);
        EXPECT(gbc.pc(), 0xe844);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe843), 0x7c);
        // 7C 006B
        gbc.setState(0x6804, 0x9cb, 0x8af0, 0x49f1, 0x8c91, 0xccd, 0x1, 0x1);
        gbc.writeMem(0x6804, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9cb);
        EXPECT(gbc.pc(), 0x6805);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 006C
        gbc.setState(0x1ff5, 0x1b4d, 0xe40, 0x9eb9, 0x7c0b, 0xea8, 0x0, 0x0);
        gbc.writeMem(0x1ff5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1b4d);
        EXPECT(gbc.pc(), 0x1ff6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 006D
        gbc.setState(0x8c33, 0x480, 0x41e0, 0x2863, 0x620d, 0xfb1e, 0x1, 0x1);
        gbc.writeMem(0x8c33, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x480);
        EXPECT(gbc.pc(), 0x8c34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c33), 0x7c);
        // 7C 006E
        gbc.setState(0x1840, 0x22, 0x8c0, 0x6f69, 0x7fd5, 0xbd48, 0x1, 0x0);
        gbc.writeMem(0x1840, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x22);
        EXPECT(gbc.pc(), 0x1841);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 006F
        gbc.setState(0x4657, 0x47ae, 0x48f0, 0x2243, 0xf99a, 0x8dba, 0x1, 0x0);
        gbc.writeMem(0x4657, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x47ae);
        EXPECT(gbc.pc(), 0x4658);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0070
        gbc.setState(0x48f6, 0x3824, 0x6850, 0x54ca, 0x4ba8, 0xcacf, 0x1, 0x1);
        gbc.writeMem(0x48f6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3824);
        EXPECT(gbc.pc(), 0x48f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0071
        gbc.setState(0xe99c, 0x261f, 0x50c0, 0x358d, 0x1970, 0x6283, 0x1, 0x0);
        gbc.writeMem(0xe99c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x261f);
        EXPECT(gbc.pc(), 0xe99d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe99c), 0x7c);
        // 7C 0072
        gbc.setState(0x3423, 0x6261, 0x91b0, 0x6d2f, 0x3f19, 0x44db, 0x1, 0x1);
        gbc.writeMem(0x3423, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6261);
        EXPECT(gbc.pc(), 0x3424);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0073
        gbc.setState(0x9c95, 0x9647, 0x8de0, 0x310b, 0x2c0d, 0x5db4, 0x1, 0x0);
        gbc.writeMem(0x9c95, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9647);
        EXPECT(gbc.pc(), 0x9c96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c95), 0x7c);
        // 7C 0074
        gbc.setState(0xd4d9, 0x1580, 0xf1b0, 0xae57, 0x9fc, 0x4eb3, 0x1, 0x1);
        gbc.writeMem(0xd4d9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x1580);
        EXPECT(gbc.pc(), 0xd4da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4d9), 0x7c);
        // 7C 0075
        gbc.setState(0xbec4, 0x9b70, 0xf810, 0xd84c, 0x7592, 0x86b5, 0x1, 0x1);
        gbc.writeMem(0xbec4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9b70);
        EXPECT(gbc.pc(), 0xbec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbec4), 0x7c);
        // 7C 0076
        gbc.setState(0x198, 0xfe05, 0x790, 0x3a6b, 0x5cc4, 0x1482, 0x1, 0x0);
        gbc.writeMem(0x198, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xfe05);
        EXPECT(gbc.pc(), 0x199);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0077
        gbc.setState(0x3cb0, 0xb827, 0x3c50, 0x62e8, 0x797b, 0xb35, 0x1, 0x1);
        gbc.writeMem(0x3cb0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb827);
        EXPECT(gbc.pc(), 0x3cb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0078
        gbc.setState(0x988f, 0x87b2, 0xf0e0, 0xe45, 0xc3b5, 0xab46, 0x0, 0x0);
        gbc.writeMem(0x988f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x87b2);
        EXPECT(gbc.pc(), 0x9890);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x988f), 0x7c);
        // 7C 0079
        gbc.setState(0x71fc, 0x303, 0xe390, 0x945d, 0x16a1, 0x6127, 0x0, 0x1);
        gbc.writeMem(0x71fc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x303);
        EXPECT(gbc.pc(), 0x71fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 007A
        gbc.setState(0x1882, 0x7089, 0x6be0, 0x5aab, 0xc14, 0xda91, 0x0, 0x1);
        gbc.writeMem(0x1882, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7089);
        EXPECT(gbc.pc(), 0x1883);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 007B
        gbc.setState(0x268a, 0x49fc, 0xf970, 0xe686, 0x7efb, 0x3b66, 0x0, 0x1);
        gbc.writeMem(0x268a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x49fc);
        EXPECT(gbc.pc(), 0x268b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 007C
        gbc.setState(0x1ef, 0xb538, 0x3ba0, 0x792, 0x17b4, 0x868c, 0x1, 0x1);
        gbc.writeMem(0x1ef, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xb538);
        EXPECT(gbc.pc(), 0x1f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 007D
        gbc.setState(0x3e0f, 0x313, 0x3630, 0x8cc9, 0xcaa8, 0xdb81, 0x1, 0x0);
        gbc.writeMem(0x3e0f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x313);
        EXPECT(gbc.pc(), 0x3e10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 007E
        gbc.setState(0x41af, 0x13ff, 0x2d70, 0x9224, 0xb196, 0xafd8, 0x1, 0x1);
        gbc.writeMem(0x41af, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x13ff);
        EXPECT(gbc.pc(), 0x41b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 007F
        gbc.setState(0xefc0, 0x1664, 0xbc10, 0xf925, 0xc7e2, 0x37f8, 0x0, 0x0);
        gbc.writeMem(0xefc0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1664);
        EXPECT(gbc.pc(), 0xefc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefc0), 0x7c);
        // 7C 0080
        gbc.setState(0x968e, 0x88da, 0xb710, 0x4abe, 0xa943, 0xf403, 0x1, 0x1);
        gbc.writeMem(0x968e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x88da);
        EXPECT(gbc.pc(), 0x968f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x968e), 0x7c);
        // 7C 0081
        gbc.setState(0xb30d, 0x6c0e, 0x2810, 0xbc3d, 0xfd02, 0xb37b, 0x1, 0x1);
        gbc.writeMem(0xb30d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x6c0e);
        EXPECT(gbc.pc(), 0xb30e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb30d), 0x7c);
        // 7C 0082
        gbc.setState(0xe679, 0x5156, 0x1370, 0x75d9, 0xd373, 0x46d1, 0x1, 0x0);
        gbc.writeMem(0xe679, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x5156);
        EXPECT(gbc.pc(), 0xe67a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe679), 0x7c);
        // 7C 0083
        gbc.setState(0x82b8, 0x18b6, 0x6e70, 0xce7, 0xa377, 0x4bd2, 0x1, 0x1);
        gbc.writeMem(0x82b8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x18b6);
        EXPECT(gbc.pc(), 0x82b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82b8), 0x7c);
        // 7C 0084
        gbc.setState(0xee8c, 0xf66b, 0x6310, 0x3ed3, 0x9657, 0x13e4, 0x0, 0x0);
        gbc.writeMem(0xee8c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xf66b);
        EXPECT(gbc.pc(), 0xee8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee8c), 0x7c);
        // 7C 0085
        gbc.setState(0x3b5d, 0x437f, 0x8e0, 0x898a, 0xc539, 0x98bc, 0x1, 0x1);
        gbc.writeMem(0x3b5d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x437f);
        EXPECT(gbc.pc(), 0x3b5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0086
        gbc.setState(0x8fdb, 0x989f, 0xa3d0, 0x9050, 0xefb3, 0x3de2, 0x1, 0x0);
        gbc.writeMem(0x8fdb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x989f);
        EXPECT(gbc.pc(), 0x8fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fdb), 0x7c);
        // 7C 0087
        gbc.setState(0xdfd3, 0x632b, 0x6ae0, 0x3534, 0xf9f0, 0xfaeb, 0x0, 0x1);
        gbc.writeMem(0xdfd3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x632b);
        EXPECT(gbc.pc(), 0xdfd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfd3), 0x7c);
        // 7C 0088
        gbc.setState(0x5558, 0xed62, 0xf370, 0xe1d2, 0xde38, 0x4891, 0x1, 0x0);
        gbc.writeMem(0x5558, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xed62);
        EXPECT(gbc.pc(), 0x5559);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0089
        gbc.setState(0x2ae3, 0xb6ef, 0xf780, 0x250c, 0x574a, 0x690c, 0x1, 0x1);
        gbc.writeMem(0x2ae3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xb6ef);
        EXPECT(gbc.pc(), 0x2ae4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 008A
        gbc.setState(0x221a, 0x401, 0x680, 0x9686, 0xc91e, 0xe35b, 0x1, 0x1);
        gbc.writeMem(0x221a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x401);
        EXPECT(gbc.pc(), 0x221b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 008B
        gbc.setState(0x6740, 0x4bb1, 0x5ec0, 0x41f7, 0xd0bd, 0x2d91, 0x0, 0x1);
        gbc.writeMem(0x6740, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4bb1);
        EXPECT(gbc.pc(), 0x6741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 008C
        gbc.setState(0xd3cb, 0xd925, 0x4df0, 0x6664, 0x8635, 0xc67b, 0x1, 0x1);
        gbc.writeMem(0xd3cb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xd925);
        EXPECT(gbc.pc(), 0xd3cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3cb), 0x7c);
        // 7C 008D
        gbc.setState(0x1ae5, 0xb26f, 0xf310, 0x965a, 0xf38, 0xbb2, 0x1, 0x0);
        gbc.writeMem(0x1ae5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb26f);
        EXPECT(gbc.pc(), 0x1ae6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 008E
        gbc.setState(0xa128, 0x5d93, 0xb040, 0x10a7, 0x1df1, 0x58af, 0x1, 0x1);
        gbc.writeMem(0xa128, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x5d93);
        EXPECT(gbc.pc(), 0xa129);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa128), 0x7c);
        // 7C 008F
        gbc.setState(0x878b, 0x9307, 0x51d0, 0x8b49, 0xd94c, 0x796c, 0x1, 0x1);
        gbc.writeMem(0x878b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x9307);
        EXPECT(gbc.pc(), 0x878c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x878b), 0x7c);
        // 7C 0090
        gbc.setState(0x2d2a, 0x6c2d, 0xd290, 0x4776, 0x742f, 0x669a, 0x1, 0x1);
        gbc.writeMem(0x2d2a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x6c2d);
        EXPECT(gbc.pc(), 0x2d2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0091
        gbc.setState(0x520d, 0x2bd4, 0xe670, 0x2e50, 0xdd82, 0x79f8, 0x1, 0x1);
        gbc.writeMem(0x520d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x2bd4);
        EXPECT(gbc.pc(), 0x520e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0092
        gbc.setState(0x6bad, 0xd407, 0xb1b0, 0x8dc8, 0x5db5, 0x77e4, 0x1, 0x0);
        gbc.writeMem(0x6bad, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd407);
        EXPECT(gbc.pc(), 0x6bae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0093
        gbc.setState(0xb65b, 0xece8, 0x48f0, 0xee77, 0x867d, 0x155b, 0x1, 0x0);
        gbc.writeMem(0xb65b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xece8);
        EXPECT(gbc.pc(), 0xb65c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb65b), 0x7c);
        // 7C 0095
        gbc.setState(0xbe83, 0x99b0, 0xe630, 0x4ed6, 0xe09b, 0xe4a4, 0x0, 0x1);
        gbc.writeMem(0xbe83, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x99b0);
        EXPECT(gbc.pc(), 0xbe84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe83), 0x7c);
        // 7C 0096
        gbc.setState(0x6b95, 0x7b6c, 0xa590, 0x860a, 0x18b1, 0x85e3, 0x0, 0x1);
        gbc.writeMem(0x6b95, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x7b6c);
        EXPECT(gbc.pc(), 0x6b96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0097
        gbc.setState(0x556b, 0x33a0, 0x3d30, 0x21e0, 0xa36e, 0x8d05, 0x1, 0x1);
        gbc.writeMem(0x556b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x33a0);
        EXPECT(gbc.pc(), 0x556c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0098
        gbc.setState(0x64e5, 0x890, 0xf3a0, 0xc5be, 0x92c8, 0x1a8f, 0x0, 0x1);
        gbc.writeMem(0x64e5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x890);
        EXPECT(gbc.pc(), 0x64e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0099
        gbc.setState(0x7497, 0xe5f5, 0xa690, 0xc3f9, 0xdf5c, 0x3e4a, 0x1, 0x1);
        gbc.writeMem(0x7497, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xe5f5);
        EXPECT(gbc.pc(), 0x7498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 009A
        gbc.setState(0x1723, 0x6ef3, 0x2430, 0x3003, 0xa780, 0xb1a9, 0x1, 0x0);
        gbc.writeMem(0x1723, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6ef3);
        EXPECT(gbc.pc(), 0x1724);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 009B
        gbc.setState(0x2d48, 0x8a83, 0x15b0, 0x1791, 0xd88a, 0x4acc, 0x1, 0x1);
        gbc.writeMem(0x2d48, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x8a83);
        EXPECT(gbc.pc(), 0x2d49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 009C
        gbc.setState(0xbae7, 0x3efa, 0xda00, 0xedc2, 0xef6a, 0xf13e, 0x0, 0x0);
        gbc.writeMem(0xbae7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3efa);
        EXPECT(gbc.pc(), 0xbae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbae7), 0x7c);
        // 7C 009D
        gbc.setState(0x6d87, 0x9cc, 0x7710, 0x3d63, 0x80e5, 0xa304, 0x1, 0x0);
        gbc.writeMem(0x6d87, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9cc);
        EXPECT(gbc.pc(), 0x6d88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 009E
        gbc.setState(0x26c7, 0xcae0, 0x6d20, 0x5289, 0x30f9, 0xe079, 0x0, 0x1);
        gbc.writeMem(0x26c7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xcae0);
        EXPECT(gbc.pc(), 0x26c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 009F
        gbc.setState(0xd626, 0x713, 0x1550, 0xa270, 0x67a4, 0x20f8, 0x0, 0x1);
        gbc.writeMem(0xd626, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x713);
        EXPECT(gbc.pc(), 0xd627);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd626), 0x7c);
        // 7C 00A0
        gbc.setState(0x816f, 0x48b, 0xba10, 0x4378, 0x4a43, 0xa295, 0x0, 0x1);
        gbc.writeMem(0x816f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x48b);
        EXPECT(gbc.pc(), 0x8170);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x816f), 0x7c);
        // 7C 00A2
        gbc.setState(0xeed1, 0x6f17, 0xbed0, 0x2716, 0x73e7, 0x8c19, 0x1, 0x1);
        gbc.writeMem(0xeed1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6f17);
        EXPECT(gbc.pc(), 0xeed2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeed1), 0x7c);
        // 7C 00A3
        gbc.setState(0xaee0, 0xa376, 0xd8a0, 0xbab1, 0x759c, 0x19ed, 0x1, 0x0);
        gbc.writeMem(0xaee0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xa376);
        EXPECT(gbc.pc(), 0xaee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaee0), 0x7c);
        // 7C 00A4
        gbc.setState(0x9151, 0x7048, 0xa5d0, 0x4352, 0x67ee, 0xf74f, 0x0, 0x1);
        gbc.writeMem(0x9151, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x7048);
        EXPECT(gbc.pc(), 0x9152);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9151), 0x7c);
        // 7C 00A5
        gbc.setState(0x595b, 0xeafd, 0xa370, 0xfb7c, 0x612b, 0x5f4d, 0x1, 0x0);
        gbc.writeMem(0x595b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xeafd);
        EXPECT(gbc.pc(), 0x595c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00A6
        gbc.setState(0x396d, 0x9c4a, 0xda90, 0x6fd6, 0xecf, 0xa4a1, 0x0, 0x0);
        gbc.writeMem(0x396d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9c4a);
        EXPECT(gbc.pc(), 0x396e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00A7
        gbc.setState(0xb670, 0x5f1d, 0xe330, 0x3d14, 0xafbf, 0x6977, 0x1, 0x0);
        gbc.writeMem(0xb670, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5f1d);
        EXPECT(gbc.pc(), 0xb671);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb670), 0x7c);
        // 7C 00A8
        gbc.setState(0x4d22, 0xe3b4, 0x39c0, 0x48cb, 0x7ab0, 0xc227, 0x1, 0x1);
        gbc.writeMem(0x4d22, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe3b4);
        EXPECT(gbc.pc(), 0x4d23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00A9
        gbc.setState(0x915f, 0x5cae, 0x14b0, 0x85e3, 0x90b2, 0xdc44, 0x1, 0x1);
        gbc.writeMem(0x915f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x5cae);
        EXPECT(gbc.pc(), 0x9160);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x915f), 0x7c);
        // 7C 00AA
        gbc.setState(0x6f5, 0xef59, 0x31b0, 0xd8e1, 0x18eb, 0x8494, 0x0, 0x0);
        gbc.writeMem(0x6f5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xef59);
        EXPECT(gbc.pc(), 0x6f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00AB
        gbc.setState(0x46bb, 0x1115, 0xcc00, 0xf7b4, 0x1f01, 0xe3b5, 0x1, 0x0);
        gbc.writeMem(0x46bb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1115);
        EXPECT(gbc.pc(), 0x46bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00AC
        gbc.setState(0x7d50, 0x95ef, 0xd460, 0xeae8, 0x82ef, 0xa3a6, 0x1, 0x1);
        gbc.writeMem(0x7d50, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x95ef);
        EXPECT(gbc.pc(), 0x7d51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00AD
        gbc.setState(0x6e2b, 0x79b6, 0xd0e0, 0x4dc9, 0x6dac, 0xc83c, 0x1, 0x1);
        gbc.writeMem(0x6e2b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x79b6);
        EXPECT(gbc.pc(), 0x6e2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00AE
        gbc.setState(0xc835, 0xef0, 0x5b20, 0x994d, 0x9471, 0x274a, 0x0, 0x1);
        gbc.writeMem(0xc835, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xef0);
        EXPECT(gbc.pc(), 0xc836);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc835), 0x7c);
        // 7C 00AF
        gbc.setState(0x5d5, 0x8612, 0x5d20, 0xaab5, 0x6afe, 0xbf9d, 0x1, 0x1);
        gbc.writeMem(0x5d5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x8612);
        EXPECT(gbc.pc(), 0x5d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00B0
        gbc.setState(0xeed, 0x838b, 0x4fb0, 0x1c3b, 0x9f96, 0x6829, 0x1, 0x0);
        gbc.writeMem(0xeed, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x838b);
        EXPECT(gbc.pc(), 0xeee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00B1
        gbc.setState(0x40cb, 0xc909, 0x2430, 0xa2e1, 0x55d8, 0x9bd8, 0x0, 0x0);
        gbc.writeMem(0x40cb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xc909);
        EXPECT(gbc.pc(), 0x40cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00B2
        gbc.setState(0x2dbd, 0x2ce1, 0xa2a0, 0x867d, 0x50eb, 0xd898, 0x1, 0x0);
        gbc.writeMem(0x2dbd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2ce1);
        EXPECT(gbc.pc(), 0x2dbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00B4
        gbc.setState(0xa6f, 0xc9bc, 0x28c0, 0xddf3, 0x88b1, 0x3ed2, 0x1, 0x0);
        gbc.writeMem(0xa6f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xc9bc);
        EXPECT(gbc.pc(), 0xa70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00B5
        gbc.setState(0xbbcf, 0x9a1c, 0xe6d0, 0xf2ad, 0x711e, 0x6163, 0x1, 0x0);
        gbc.writeMem(0xbbcf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9a1c);
        EXPECT(gbc.pc(), 0xbbd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbcf), 0x7c);
        // 7C 00B6
        gbc.setState(0x97a4, 0x2dd3, 0x3670, 0x2d8a, 0xefa, 0xe788, 0x0, 0x1);
        gbc.writeMem(0x97a4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x2dd3);
        EXPECT(gbc.pc(), 0x97a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97a4), 0x7c);
        // 7C 00B8
        gbc.setState(0x58b6, 0x613f, 0xffc0, 0xbfc9, 0x5778, 0x188e, 0x0, 0x1);
        gbc.writeMem(0x58b6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x613f);
        EXPECT(gbc.pc(), 0x58b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00B9
        gbc.setState(0xd7fa, 0xeed3, 0x7600, 0x7f11, 0x4fb, 0xb818, 0x1, 0x0);
        gbc.writeMem(0xd7fa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xeed3);
        EXPECT(gbc.pc(), 0xd7fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7fa), 0x7c);
        // 7C 00BA
        gbc.setState(0x9c28, 0x4df9, 0x9970, 0x89a7, 0x5eac, 0x915f, 0x1, 0x1);
        gbc.writeMem(0x9c28, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4df9);
        EXPECT(gbc.pc(), 0x9c29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c28), 0x7c);
        // 7C 00BB
        gbc.setState(0x3853, 0xb06a, 0x8050, 0xdf7a, 0xdea5, 0x89ab, 0x1, 0x1);
        gbc.writeMem(0x3853, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xb06a);
        EXPECT(gbc.pc(), 0x3854);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00BD
        gbc.setState(0x9556, 0x6b53, 0xbfd0, 0x4017, 0x8ba9, 0x641e, 0x0, 0x0);
        gbc.writeMem(0x9556, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6b53);
        EXPECT(gbc.pc(), 0x9557);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9556), 0x7c);
        // 7C 00BE
        gbc.setState(0x5d63, 0x5d7f, 0xedc0, 0x72bc, 0x93be, 0x85b, 0x1, 0x0);
        gbc.writeMem(0x5d63, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x5d7f);
        EXPECT(gbc.pc(), 0x5d64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00BF
        gbc.setState(0x522, 0x9c1, 0xd800, 0x186, 0x87de, 0xb645, 0x0, 0x1);
        gbc.writeMem(0x522, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x9c1);
        EXPECT(gbc.pc(), 0x523);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00C0
        gbc.setState(0x43a8, 0x295c, 0xab30, 0xd006, 0xe2da, 0x5fda, 0x0, 0x0);
        gbc.writeMem(0x43a8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x295c);
        EXPECT(gbc.pc(), 0x43a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00C1
        gbc.setState(0xa7b9, 0x31de, 0xbe30, 0xbf1b, 0x3f8b, 0x6ec6, 0x0, 0x0);
        gbc.writeMem(0xa7b9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x31de);
        EXPECT(gbc.pc(), 0xa7ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7b9), 0x7c);
        // 7C 00C2
        gbc.setState(0xe42, 0x22b8, 0x1aa0, 0xe477, 0xaec9, 0xb2e5, 0x0, 0x1);
        gbc.writeMem(0xe42, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x22b8);
        EXPECT(gbc.pc(), 0xe43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00C5
        gbc.setState(0x85fd, 0x7ee9, 0xbc0, 0xe0bf, 0x694b, 0xe945, 0x1, 0x1);
        gbc.writeMem(0x85fd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x7ee9);
        EXPECT(gbc.pc(), 0x85fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85fd), 0x7c);
        // 7C 00C6
        gbc.setState(0xaaa, 0x9a00, 0x12a0, 0x1c90, 0x803b, 0x2099, 0x1, 0x0);
        gbc.writeMem(0xaaa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9a00);
        EXPECT(gbc.pc(), 0xaab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00C7
        gbc.setState(0xba4e, 0x6e96, 0x88d0, 0xdfd5, 0xc898, 0x775b, 0x1, 0x1);
        gbc.writeMem(0xba4e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x6e96);
        EXPECT(gbc.pc(), 0xba4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba4e), 0x7c);
        // 7C 00C8
        gbc.setState(0x6079, 0xac4b, 0x1a0, 0xf6b1, 0x61fd, 0xc200, 0x0, 0x1);
        gbc.writeMem(0x6079, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xac4b);
        EXPECT(gbc.pc(), 0x607a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00C9
        gbc.setState(0xd1e4, 0x2983, 0xd150, 0x1b56, 0x8623, 0x5d48, 0x0, 0x0);
        gbc.writeMem(0xd1e4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x2983);
        EXPECT(gbc.pc(), 0xd1e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1e4), 0x7c);
        // 7C 00CA
        gbc.setState(0xebbb, 0xefab, 0x8b80, 0xfc24, 0x1e0d, 0xb298, 0x0, 0x1);
        gbc.writeMem(0xebbb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xefab);
        EXPECT(gbc.pc(), 0xebbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebbb), 0x7c);
        // 7C 00CB
        gbc.setState(0x9ee1, 0xae1b, 0x96d0, 0x4560, 0xc4c6, 0x3aa4, 0x0, 0x0);
        gbc.writeMem(0x9ee1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xae1b);
        EXPECT(gbc.pc(), 0x9ee2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ee1), 0x7c);
        // 7C 00CC
        gbc.setState(0x8d05, 0xb01, 0x7e80, 0x4b65, 0x1547, 0x26bf, 0x1, 0x0);
        gbc.writeMem(0x8d05, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb01);
        EXPECT(gbc.pc(), 0x8d06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d05), 0x7c);
        // 7C 00CD
        gbc.setState(0x2cbf, 0x4607, 0x1210, 0x46f5, 0x340e, 0x5dd3, 0x1, 0x1);
        gbc.writeMem(0x2cbf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x4607);
        EXPECT(gbc.pc(), 0x2cc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00CE
        gbc.setState(0x3124, 0x7718, 0x1230, 0x74b7, 0xef0c, 0xe9fa, 0x0, 0x0);
        gbc.writeMem(0x3124, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7718);
        EXPECT(gbc.pc(), 0x3125);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00CF
        gbc.setState(0x4dde, 0xbfd9, 0xdaa0, 0x9c85, 0x7cf5, 0xff3a, 0x1, 0x1);
        gbc.writeMem(0x4dde, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbfd9);
        EXPECT(gbc.pc(), 0x4ddf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00D0
        gbc.setState(0x8447, 0x6d0f, 0x9bb0, 0xf79d, 0x38d8, 0x8ffd, 0x0, 0x0);
        gbc.writeMem(0x8447, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x6d0f);
        EXPECT(gbc.pc(), 0x8448);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8447), 0x7c);
        // 7C 00D1
        gbc.setState(0xe2f2, 0xc192, 0xefb0, 0x94bb, 0xf087, 0x587b, 0x0, 0x1);
        gbc.writeMem(0xe2f2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xc192);
        EXPECT(gbc.pc(), 0xe2f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2f2), 0x7c);
        // 7C 00D2
        gbc.setState(0xe853, 0x5e51, 0x9ae0, 0xd3bd, 0x509f, 0x77cb, 0x1, 0x1);
        gbc.writeMem(0xe853, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x5e51);
        EXPECT(gbc.pc(), 0xe854);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe853), 0x7c);
        // 7C 00D3
        gbc.setState(0x18e0, 0x55dd, 0x5da0, 0x5dd9, 0x58ce, 0x8a15, 0x0, 0x1);
        gbc.writeMem(0x18e0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x55dd);
        EXPECT(gbc.pc(), 0x18e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00D4
        gbc.setState(0xa828, 0xfee4, 0x1240, 0xbd20, 0x895d, 0x938a, 0x1, 0x1);
        gbc.writeMem(0xa828, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xfee4);
        EXPECT(gbc.pc(), 0xa829);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa828), 0x7c);
        // 7C 00D5
        gbc.setState(0x7d25, 0x9487, 0x9c50, 0x300, 0xc463, 0xa23e, 0x0, 0x0);
        gbc.writeMem(0x7d25, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9487);
        EXPECT(gbc.pc(), 0x7d26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00D6
        gbc.setState(0xdb6, 0xcea1, 0xe670, 0x9fdc, 0x72d, 0x3aef, 0x0, 0x1);
        gbc.writeMem(0xdb6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xcea1);
        EXPECT(gbc.pc(), 0xdb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00D7
        gbc.setState(0x4420, 0x5696, 0x1ff0, 0x1142, 0x2700, 0x4334, 0x1, 0x1);
        gbc.writeMem(0x4420, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5696);
        EXPECT(gbc.pc(), 0x4421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00D8
        gbc.setState(0xec2e, 0x1576, 0xaa50, 0xf07d, 0xb085, 0xca8f, 0x1, 0x0);
        gbc.writeMem(0xec2e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x1576);
        EXPECT(gbc.pc(), 0xec2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec2e), 0x7c);
        // 7C 00D9
        gbc.setState(0xda94, 0x28a4, 0x7580, 0x3551, 0x1855, 0xfaf4, 0x1, 0x1);
        gbc.writeMem(0xda94, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x28a4);
        EXPECT(gbc.pc(), 0xda95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda94), 0x7c);
        // 7C 00DA
        gbc.setState(0x88a0, 0x150f, 0x2780, 0xb822, 0x6b9f, 0x1f2b, 0x1, 0x0);
        gbc.writeMem(0x88a0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x150f);
        EXPECT(gbc.pc(), 0x88a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a0), 0x7c);
        // 7C 00DB
        gbc.setState(0x43c1, 0xa2b, 0x6800, 0x3978, 0x3c6d, 0x81aa, 0x0, 0x1);
        gbc.writeMem(0x43c1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa2b);
        EXPECT(gbc.pc(), 0x43c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00DC
        gbc.setState(0x31a, 0xb2de, 0xc410, 0xdeed, 0x89e9, 0xa2ba, 0x0, 0x1);
        gbc.writeMem(0x31a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb2de);
        EXPECT(gbc.pc(), 0x31b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00DD
        gbc.setState(0x3f10, 0x7ae1, 0x1d40, 0x1c7d, 0xd889, 0x787a, 0x1, 0x1);
        gbc.writeMem(0x3f10, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x7ae1);
        EXPECT(gbc.pc(), 0x3f11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00DE
        gbc.setState(0x9dd4, 0x388, 0xc380, 0xcd8, 0xb41f, 0xe6df, 0x1, 0x1);
        gbc.writeMem(0x9dd4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x388);
        EXPECT(gbc.pc(), 0x9dd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dd4), 0x7c);
        // 7C 00DF
        gbc.setState(0xbea2, 0xd353, 0xf640, 0xc854, 0xc5d, 0xb755, 0x1, 0x0);
        gbc.writeMem(0xbea2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd353);
        EXPECT(gbc.pc(), 0xbea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbea2), 0x7c);
        // 7C 00E0
        gbc.setState(0xd2ab, 0xfb25, 0x88f0, 0x8ac1, 0x7754, 0x166, 0x1, 0x0);
        gbc.writeMem(0xd2ab, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xfb25);
        EXPECT(gbc.pc(), 0xd2ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2ab), 0x7c);
        // 7C 00E1
        gbc.setState(0x6c66, 0x1ea6, 0x1eb0, 0x1e3, 0xd15e, 0x1ae6, 0x0, 0x1);
        gbc.writeMem(0x6c66, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x1ea6);
        EXPECT(gbc.pc(), 0x6c67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00E2
        gbc.setState(0x79fe, 0x2250, 0x5660, 0xd978, 0x4df, 0x7fde, 0x0, 0x1);
        gbc.writeMem(0x79fe, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x2250);
        EXPECT(gbc.pc(), 0x79ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00E3
        gbc.setState(0xe06c, 0xf505, 0xa170, 0x602c, 0xa6db, 0x7485, 0x0, 0x1);
        gbc.writeMem(0xe06c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf505);
        EXPECT(gbc.pc(), 0xe06d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe06c), 0x7c);
        // 7C 00E4
        gbc.setState(0x1acd, 0x3d55, 0x5b50, 0x2b66, 0x223d, 0xd8f2, 0x0, 0x0);
        gbc.writeMem(0x1acd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3d55);
        EXPECT(gbc.pc(), 0x1ace);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00E5
        gbc.setState(0xe017, 0x4020, 0xfbc0, 0xdae5, 0x269c, 0xfa8b, 0x0, 0x0);
        gbc.writeMem(0xe017, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x4020);
        EXPECT(gbc.pc(), 0xe018);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe017), 0x7c);
        // 7C 00E6
        gbc.setState(0x5db5, 0x8f8, 0xe760, 0x86e8, 0xb2a6, 0xc9d7, 0x0, 0x0);
        gbc.writeMem(0x5db5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x8f8);
        EXPECT(gbc.pc(), 0x5db6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00E7
        gbc.setState(0x670b, 0x5106, 0xf500, 0x47bd, 0x182d, 0xdbc4, 0x0, 0x1);
        gbc.writeMem(0x670b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x5106);
        EXPECT(gbc.pc(), 0x670c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00E9
        gbc.setState(0xa110, 0xe95c, 0x25f0, 0x4937, 0x9d4d, 0x37bc, 0x0, 0x0);
        gbc.writeMem(0xa110, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xe95c);
        EXPECT(gbc.pc(), 0xa111);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa110), 0x7c);
        // 7C 00EA
        gbc.setState(0x6ced, 0xecdb, 0x1290, 0xdf53, 0xd7b5, 0x16dc, 0x0, 0x1);
        gbc.writeMem(0x6ced, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xecdb);
        EXPECT(gbc.pc(), 0x6cee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00EB
        gbc.setState(0xa1e7, 0x56db, 0xe8e0, 0xbe46, 0x34dc, 0x1b, 0x0, 0x0);
        gbc.writeMem(0xa1e7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x56db);
        EXPECT(gbc.pc(), 0xa1e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1e7), 0x7c);
        // 7C 00EC
        gbc.setState(0x1f9a, 0x4365, 0x7fe0, 0x3f2f, 0xee2, 0x53d2, 0x1, 0x0);
        gbc.writeMem(0x1f9a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4365);
        EXPECT(gbc.pc(), 0x1f9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00ED
        gbc.setState(0xa814, 0x2d34, 0x4e60, 0xf89e, 0xb206, 0xa830, 0x1, 0x0);
        gbc.writeMem(0xa814, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x2d34);
        EXPECT(gbc.pc(), 0xa815);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa814), 0x7c);
        // 7C 00EE
        gbc.setState(0x97c0, 0xec1a, 0x2380, 0xaff6, 0x76b1, 0xedf7, 0x1, 0x0);
        gbc.writeMem(0x97c0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xec1a);
        EXPECT(gbc.pc(), 0x97c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c0), 0x7c);
        // 7C 00EF
        gbc.setState(0x1433, 0x6c0c, 0xe460, 0xfc36, 0xee1c, 0x6449, 0x1, 0x0);
        gbc.writeMem(0x1433, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x6c0c);
        EXPECT(gbc.pc(), 0x1434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00F0
        gbc.setState(0xb339, 0xce19, 0xec30, 0xe24d, 0x7095, 0x3fca, 0x1, 0x1);
        gbc.writeMem(0xb339, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xce19);
        EXPECT(gbc.pc(), 0xb33a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb339), 0x7c);
        // 7C 00F1
        gbc.setState(0x2fa1, 0xa12d, 0x7fd0, 0x3ba6, 0x3202, 0xda46, 0x0, 0x1);
        gbc.writeMem(0x2fa1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa12d);
        EXPECT(gbc.pc(), 0x2fa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00F2
        gbc.setState(0x87d0, 0x9f65, 0xc150, 0xf7e9, 0x1f70, 0x561f, 0x0, 0x1);
        gbc.writeMem(0x87d0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x9f65);
        EXPECT(gbc.pc(), 0x87d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d0), 0x7c);
        // 7C 00F3
        gbc.setState(0x4846, 0x2774, 0x3130, 0x994d, 0x5e00, 0x9197, 0x0, 0x0);
        gbc.writeMem(0x4846, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x2774);
        EXPECT(gbc.pc(), 0x4847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00F4
        gbc.setState(0x6e25, 0x21d4, 0x15c0, 0xbb37, 0xb43d, 0x5869, 0x1, 0x0);
        gbc.writeMem(0x6e25, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x21d4);
        EXPECT(gbc.pc(), 0x6e26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00F5
        gbc.setState(0x2c25, 0xda9f, 0xc7b0, 0xb82b, 0x7161, 0x2976, 0x0, 0x1);
        gbc.writeMem(0x2c25, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xda9f);
        EXPECT(gbc.pc(), 0x2c26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00F6
        gbc.setState(0x3ca9, 0x926d, 0x8410, 0xdb1e, 0xc073, 0xf4aa, 0x0, 0x0);
        gbc.writeMem(0x3ca9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x926d);
        EXPECT(gbc.pc(), 0x3caa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00F7
        gbc.setState(0x26d2, 0x679a, 0x2b10, 0x7717, 0x601, 0x5a79, 0x0, 0x0);
        gbc.writeMem(0x26d2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x679a);
        EXPECT(gbc.pc(), 0x26d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 00F8
        gbc.setState(0x387d, 0xb12, 0x1580, 0x3a3b, 0xb3a0, 0x47fd, 0x1, 0x1);
        gbc.writeMem(0x387d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xb12);
        EXPECT(gbc.pc(), 0x387e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 00FA
        gbc.setState(0x2f77, 0x3d38, 0xe130, 0x7d86, 0xbafb, 0xbd61, 0x1, 0x1);
        gbc.writeMem(0x2f77, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x3d38);
        EXPECT(gbc.pc(), 0x2f78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 00FB
        gbc.setState(0xde4b, 0xc811, 0xf870, 0x6949, 0x754b, 0xb0a7, 0x0, 0x1);
        gbc.writeMem(0xde4b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xc811);
        EXPECT(gbc.pc(), 0xde4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde4b), 0x7c);
        // 7C 00FC
        gbc.setState(0xb875, 0xe476, 0x89a0, 0xbd9e, 0x2eeb, 0xf885, 0x1, 0x0);
        gbc.writeMem(0xb875, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xe476);
        EXPECT(gbc.pc(), 0xb876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb875), 0x7c);
        // 7C 00FD
        gbc.setState(0x225f, 0xdde3, 0x6820, 0xa057, 0x693f, 0xa044, 0x0, 0x0);
        gbc.writeMem(0x225f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdde3);
        EXPECT(gbc.pc(), 0x2260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00FE
        gbc.setState(0xaaa, 0x6062, 0x80a0, 0xb7df, 0x71e6, 0x9daa, 0x0, 0x1);
        gbc.writeMem(0xaaa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x6062);
        EXPECT(gbc.pc(), 0xaab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 00FF
        gbc.setState(0x1cb8, 0xb610, 0xf560, 0xab1c, 0x732d, 0x641, 0x1, 0x1);
        gbc.writeMem(0x1cb8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xb610);
        EXPECT(gbc.pc(), 0x1cb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0100
        gbc.setState(0x8282, 0xf391, 0x83a0, 0x3428, 0xabca, 0xc630, 0x0, 0x1);
        gbc.writeMem(0x8282, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf391);
        EXPECT(gbc.pc(), 0x8283);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8282), 0x7c);
        // 7C 0101
        gbc.setState(0x3e2e, 0x76ac, 0x5810, 0xe162, 0xc68a, 0x26cd, 0x1, 0x0);
        gbc.writeMem(0x3e2e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x76ac);
        EXPECT(gbc.pc(), 0x3e2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0102
        gbc.setState(0xc961, 0xe46f, 0xff60, 0xc671, 0x9ac5, 0x71e8, 0x0, 0x0);
        gbc.writeMem(0xc961, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xe46f);
        EXPECT(gbc.pc(), 0xc962);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc961), 0x7c);
        // 7C 0103
        gbc.setState(0x17ba, 0xf4c5, 0x9ee0, 0xc425, 0xb0e5, 0xf36d, 0x0, 0x0);
        gbc.writeMem(0x17ba, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xf4c5);
        EXPECT(gbc.pc(), 0x17bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0104
        gbc.setState(0x57a4, 0x5298, 0x5ba0, 0xd308, 0xd91c, 0x1f32, 0x0, 0x0);
        gbc.writeMem(0x57a4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5298);
        EXPECT(gbc.pc(), 0x57a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0105
        gbc.setState(0xa552, 0xca7d, 0x7e50, 0x1f7, 0xefa5, 0xc40a, 0x0, 0x1);
        gbc.writeMem(0xa552, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xca7d);
        EXPECT(gbc.pc(), 0xa553);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa552), 0x7c);
        // 7C 0106
        gbc.setState(0xcd05, 0x5d1c, 0xd940, 0x82c4, 0xc060, 0xaca5, 0x0, 0x0);
        gbc.writeMem(0xcd05, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5d1c);
        EXPECT(gbc.pc(), 0xcd06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd05), 0x7c);
        // 7C 0107
        gbc.setState(0x99ea, 0x40e1, 0xd3a0, 0x60d5, 0x62b6, 0xac51, 0x0, 0x0);
        gbc.writeMem(0x99ea, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x40e1);
        EXPECT(gbc.pc(), 0x99eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99ea), 0x7c);
        // 7C 0108
        gbc.setState(0xdfeb, 0xcf9b, 0x8bc0, 0x9c78, 0x3dd3, 0xc230, 0x1, 0x0);
        gbc.writeMem(0xdfeb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xcf9b);
        EXPECT(gbc.pc(), 0xdfec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfeb), 0x7c);
        // 7C 0109
        gbc.setState(0xc1fa, 0x120c, 0x4120, 0x84f9, 0x9d7e, 0xd45, 0x0, 0x1);
        gbc.writeMem(0xc1fa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x120c);
        EXPECT(gbc.pc(), 0xc1fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1fa), 0x7c);
        // 7C 010A
        gbc.setState(0x5dc4, 0xe3ee, 0xbd80, 0x283d, 0xdb50, 0x54b5, 0x0, 0x1);
        gbc.writeMem(0x5dc4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xe3ee);
        EXPECT(gbc.pc(), 0x5dc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 010B
        gbc.setState(0x9307, 0xd893, 0xb030, 0xfd38, 0x759, 0x6c22, 0x0, 0x0);
        gbc.writeMem(0x9307, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd893);
        EXPECT(gbc.pc(), 0x9308);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9307), 0x7c);
        // 7C 010C
        gbc.setState(0xcc73, 0x32d7, 0x4d40, 0x8256, 0x87b, 0xe6fe, 0x0, 0x0);
        gbc.writeMem(0xcc73, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x32d7);
        EXPECT(gbc.pc(), 0xcc74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc73), 0x7c);
        // 7C 010D
        gbc.setState(0x97c0, 0x35a6, 0xaea0, 0xbf9b, 0xeea7, 0x8038, 0x1, 0x1);
        gbc.writeMem(0x97c0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x35a6);
        EXPECT(gbc.pc(), 0x97c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c0), 0x7c);
        // 7C 010E
        gbc.setState(0x2c08, 0x8749, 0x4aa0, 0xbcb9, 0x485a, 0xa288, 0x1, 0x0);
        gbc.writeMem(0x2c08, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x8749);
        EXPECT(gbc.pc(), 0x2c09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 010F
        gbc.setState(0x5e17, 0xad96, 0x7890, 0x41f1, 0x26a6, 0x528d, 0x1, 0x1);
        gbc.writeMem(0x5e17, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xad96);
        EXPECT(gbc.pc(), 0x5e18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0110
        gbc.setState(0xbb8a, 0xc54f, 0xec00, 0x93e7, 0x7d89, 0xaee4, 0x0, 0x1);
        gbc.writeMem(0xbb8a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc54f);
        EXPECT(gbc.pc(), 0xbb8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb8a), 0x7c);
        // 7C 0111
        gbc.setState(0x1e6e, 0xc6d8, 0x15e0, 0xe66d, 0x562d, 0x9b49, 0x0, 0x0);
        gbc.writeMem(0x1e6e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xc6d8);
        EXPECT(gbc.pc(), 0x1e6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0112
        gbc.setState(0xb5cb, 0x9d50, 0x1f50, 0x1f8, 0x264c, 0x7769, 0x0, 0x0);
        gbc.writeMem(0xb5cb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x9d50);
        EXPECT(gbc.pc(), 0xb5cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5cb), 0x7c);
        // 7C 0113
        gbc.setState(0xd031, 0xaf3c, 0x1ec0, 0x7000, 0x58de, 0x6b19, 0x1, 0x0);
        gbc.writeMem(0xd031, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xaf3c);
        EXPECT(gbc.pc(), 0xd032);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd031), 0x7c);
        // 7C 0114
        gbc.setState(0x3f70, 0xb789, 0xa8c0, 0x7b71, 0x2a28, 0xa2d4, 0x1, 0x1);
        gbc.writeMem(0x3f70, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb789);
        EXPECT(gbc.pc(), 0x3f71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0115
        gbc.setState(0x1bc0, 0x99c0, 0x8160, 0xdcd3, 0x9bed, 0x4e98, 0x0, 0x1);
        gbc.writeMem(0x1bc0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x99c0);
        EXPECT(gbc.pc(), 0x1bc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0116
        gbc.setState(0x836d, 0x72b9, 0xe720, 0x7a97, 0x43df, 0x49a8, 0x0, 0x1);
        gbc.writeMem(0x836d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x72b9);
        EXPECT(gbc.pc(), 0x836e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x836d), 0x7c);
        // 7C 0117
        gbc.setState(0x3de7, 0x49a7, 0x5440, 0x4fdb, 0x6754, 0xc953, 0x0, 0x1);
        gbc.writeMem(0x3de7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x49a7);
        EXPECT(gbc.pc(), 0x3de8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0118
        gbc.setState(0xe380, 0x145, 0x6290, 0x3b9, 0x2716, 0x31f5, 0x0, 0x0);
        gbc.writeMem(0xe380, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x145);
        EXPECT(gbc.pc(), 0xe381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe380), 0x7c);
        // 7C 0119
        gbc.setState(0x4116, 0x2575, 0x5250, 0xc1c, 0xf426, 0xe0d1, 0x0, 0x1);
        gbc.writeMem(0x4116, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2575);
        EXPECT(gbc.pc(), 0x4117);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 011A
        gbc.setState(0x63c5, 0xa190, 0x460, 0x6ecf, 0xcaea, 0xd1, 0x1, 0x1);
        gbc.writeMem(0x63c5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xa190);
        EXPECT(gbc.pc(), 0x63c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 011B
        gbc.setState(0xd679, 0x8475, 0xea00, 0xe522, 0x1b46, 0x9db9, 0x1, 0x1);
        gbc.writeMem(0xd679, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x8475);
        EXPECT(gbc.pc(), 0xd67a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd679), 0x7c);
        // 7C 011C
        gbc.setState(0xa7fb, 0x1e6f, 0xee10, 0xeced, 0x5b62, 0xfb39, 0x1, 0x1);
        gbc.writeMem(0xa7fb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x1e6f);
        EXPECT(gbc.pc(), 0xa7fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7fb), 0x7c);
        // 7C 011D
        gbc.setState(0x58de, 0xcf63, 0xad60, 0xe3ed, 0xeca4, 0x6bcd, 0x0, 0x1);
        gbc.writeMem(0x58de, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xcf63);
        EXPECT(gbc.pc(), 0x58df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 011E
        gbc.setState(0x6f5b, 0xae36, 0xed70, 0x9f3f, 0xb16f, 0xf02, 0x0, 0x1);
        gbc.writeMem(0x6f5b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xae36);
        EXPECT(gbc.pc(), 0x6f5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 011F
        gbc.setState(0xa083, 0x1cf0, 0x3830, 0x182c, 0x8f2f, 0x22e3, 0x1, 0x0);
        gbc.writeMem(0xa083, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x1cf0);
        EXPECT(gbc.pc(), 0xa084);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa083), 0x7c);
        // 7C 0120
        gbc.setState(0x72a4, 0xea34, 0x9480, 0xf803, 0xb675, 0x3b4e, 0x0, 0x0);
        gbc.writeMem(0x72a4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xea34);
        EXPECT(gbc.pc(), 0x72a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0121
        gbc.setState(0x9c1d, 0xe1a7, 0xf5b0, 0xb1b, 0x497d, 0xd44c, 0x1, 0x0);
        gbc.writeMem(0x9c1d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe1a7);
        EXPECT(gbc.pc(), 0x9c1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c1d), 0x7c);
        // 7C 0122
        gbc.setState(0x43a, 0x5804, 0x8e00, 0x4fb9, 0xda77, 0x13c6, 0x0, 0x0);
        gbc.writeMem(0x43a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5804);
        EXPECT(gbc.pc(), 0x43b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0123
        gbc.setState(0xad69, 0x976e, 0xae70, 0xab9b, 0x9fd9, 0x909f, 0x0, 0x1);
        gbc.writeMem(0xad69, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x976e);
        EXPECT(gbc.pc(), 0xad6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad69), 0x7c);
        // 7C 0124
        gbc.setState(0xbf56, 0x9866, 0xb8d0, 0xbd62, 0xc9f5, 0x583d, 0x1, 0x1);
        gbc.writeMem(0xbf56, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9866);
        EXPECT(gbc.pc(), 0xbf57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf56), 0x7c);
        // 7C 0125
        gbc.setState(0x4362, 0x5802, 0x1610, 0x7443, 0x9962, 0x61d6, 0x0, 0x1);
        gbc.writeMem(0x4362, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x5802);
        EXPECT(gbc.pc(), 0x4363);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0126
        gbc.setState(0x1257, 0x48d0, 0x8440, 0x866c, 0xa9d3, 0xc155, 0x0, 0x0);
        gbc.writeMem(0x1257, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x48d0);
        EXPECT(gbc.pc(), 0x1258);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0127
        gbc.setState(0x914a, 0x668a, 0xfbe0, 0xa1bd, 0x6f0, 0xa257, 0x1, 0x1);
        gbc.writeMem(0x914a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x668a);
        EXPECT(gbc.pc(), 0x914b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x914a), 0x7c);
        // 7C 0128
        gbc.setState(0x38d9, 0xd232, 0xd180, 0xdc6a, 0xb76a, 0xf5e8, 0x1, 0x0);
        gbc.writeMem(0x38d9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd232);
        EXPECT(gbc.pc(), 0x38da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0129
        gbc.setState(0x1b88, 0xfc8b, 0x1b80, 0x5d82, 0x67ce, 0x4d19, 0x1, 0x1);
        gbc.writeMem(0x1b88, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xfc8b);
        EXPECT(gbc.pc(), 0x1b89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 012A
        gbc.setState(0x9791, 0x90a7, 0xb120, 0x110b, 0xff4e, 0x5eee, 0x0, 0x1);
        gbc.writeMem(0x9791, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x90a7);
        EXPECT(gbc.pc(), 0x9792);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9791), 0x7c);
        // 7C 012B
        gbc.setState(0xdc1c, 0x436, 0xa980, 0xa9dc, 0xbf96, 0xd605, 0x0, 0x0);
        gbc.writeMem(0xdc1c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x436);
        EXPECT(gbc.pc(), 0xdc1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc1c), 0x7c);
        // 7C 012D
        gbc.setState(0x2b53, 0x3321, 0x4d30, 0x58f3, 0x4a52, 0x7625, 0x0, 0x1);
        gbc.writeMem(0x2b53, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3321);
        EXPECT(gbc.pc(), 0x2b54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 012E
        gbc.setState(0xcba5, 0xcc95, 0x2910, 0x32eb, 0x6881, 0x64da, 0x1, 0x0);
        gbc.writeMem(0xcba5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xcc95);
        EXPECT(gbc.pc(), 0xcba6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcba5), 0x7c);
        // 7C 012F
        gbc.setState(0x403f, 0xdaa8, 0xe740, 0xc918, 0x1f3a, 0x6540, 0x1, 0x1);
        gbc.writeMem(0x403f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xdaa8);
        EXPECT(gbc.pc(), 0x4040);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0130
        gbc.setState(0x1eb8, 0xa0dc, 0xab60, 0x82f4, 0xcc86, 0x5780, 0x1, 0x0);
        gbc.writeMem(0x1eb8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xa0dc);
        EXPECT(gbc.pc(), 0x1eb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0131
        gbc.setState(0x26e1, 0xf3fc, 0x41b0, 0xa8d9, 0xc3be, 0x22c8, 0x0, 0x1);
        gbc.writeMem(0x26e1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xf3fc);
        EXPECT(gbc.pc(), 0x26e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0132
        gbc.setState(0xb496, 0x1ab6, 0x3f80, 0xf0c, 0xa336, 0x4099, 0x0, 0x0);
        gbc.writeMem(0xb496, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x1ab6);
        EXPECT(gbc.pc(), 0xb497);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb496), 0x7c);
        // 7C 0133
        gbc.setState(0xb271, 0xdb86, 0x83e0, 0xb660, 0x700a, 0x3e53, 0x1, 0x1);
        gbc.writeMem(0xb271, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xdb86);
        EXPECT(gbc.pc(), 0xb272);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb271), 0x7c);
        // 7C 0135
        gbc.setState(0xa924, 0xf254, 0x52c0, 0xebf5, 0xe233, 0x4ddd, 0x0, 0x0);
        gbc.writeMem(0xa924, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xf254);
        EXPECT(gbc.pc(), 0xa925);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa924), 0x7c);
        // 7C 0136
        gbc.setState(0xe71b, 0x351e, 0x4190, 0xe60a, 0xa219, 0xbc0e, 0x0, 0x1);
        gbc.writeMem(0xe71b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x351e);
        EXPECT(gbc.pc(), 0xe71c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe71b), 0x7c);
        // 7C 0137
        gbc.setState(0xaacf, 0x8c06, 0x58a0, 0x7270, 0x5f51, 0xbbfb, 0x0, 0x1);
        gbc.writeMem(0xaacf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8c06);
        EXPECT(gbc.pc(), 0xaad0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaacf), 0x7c);
        // 7C 0138
        gbc.setState(0x10a8, 0xf27a, 0x3520, 0x1d4b, 0x6ca5, 0xf5b1, 0x1, 0x1);
        gbc.writeMem(0x10a8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xf27a);
        EXPECT(gbc.pc(), 0x10a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0139
        gbc.setState(0x191c, 0x4a0b, 0xa5b0, 0x5f82, 0xece3, 0x108f, 0x0, 0x1);
        gbc.writeMem(0x191c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4a0b);
        EXPECT(gbc.pc(), 0x191d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 013A
        gbc.setState(0x9aa, 0x57ee, 0xbf70, 0x5161, 0x1f66, 0x2cf7, 0x0, 0x0);
        gbc.writeMem(0x9aa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x57ee);
        EXPECT(gbc.pc(), 0x9ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 013B
        gbc.setState(0xcf2, 0x14e1, 0xaad0, 0x4b94, 0xf812, 0x56e7, 0x1, 0x0);
        gbc.writeMem(0xcf2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x14e1);
        EXPECT(gbc.pc(), 0xcf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 013C
        gbc.setState(0x5dd5, 0x69a, 0xb870, 0x4d8a, 0x2929, 0xb2f, 0x0, 0x0);
        gbc.writeMem(0x5dd5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x69a);
        EXPECT(gbc.pc(), 0x5dd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 013D
        gbc.setState(0x386d, 0x48b1, 0x7710, 0xeae4, 0x8590, 0xf040, 0x0, 0x1);
        gbc.writeMem(0x386d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x48b1);
        EXPECT(gbc.pc(), 0x386e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 013E
        gbc.setState(0xd47f, 0x3de3, 0x75e0, 0x2a65, 0x9c1f, 0x9b66, 0x0, 0x1);
        gbc.writeMem(0xd47f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x3de3);
        EXPECT(gbc.pc(), 0xd480);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd47f), 0x7c);
        // 7C 013F
        gbc.setState(0x8f70, 0xcea8, 0xd090, 0x5a97, 0xd1d7, 0x7f93, 0x0, 0x1);
        gbc.writeMem(0x8f70, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xcea8);
        EXPECT(gbc.pc(), 0x8f71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f70), 0x7c);
        // 7C 0140
        gbc.setState(0xb40f, 0x4110, 0x4520, 0xbacc, 0x3fee, 0x798, 0x0, 0x1);
        gbc.writeMem(0xb40f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4110);
        EXPECT(gbc.pc(), 0xb410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb40f), 0x7c);
        // 7C 0141
        gbc.setState(0xe0a7, 0x8335, 0xed20, 0x6675, 0xff48, 0x21cb, 0x1, 0x0);
        gbc.writeMem(0xe0a7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8335);
        EXPECT(gbc.pc(), 0xe0a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a7), 0x7c);
        // 7C 0142
        gbc.setState(0xe737, 0xc6a9, 0x93b0, 0xe3ac, 0x6062, 0x108a, 0x0, 0x0);
        gbc.writeMem(0xe737, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xc6a9);
        EXPECT(gbc.pc(), 0xe738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe737), 0x7c);
        // 7C 0143
        gbc.setState(0x6850, 0xa1cb, 0x3790, 0x8670, 0xb4d0, 0x7a04, 0x1, 0x1);
        gbc.writeMem(0x6850, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xa1cb);
        EXPECT(gbc.pc(), 0x6851);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0144
        gbc.setState(0xc3c4, 0x7f9a, 0x91c0, 0x3cb1, 0x80b1, 0xc9c6, 0x0, 0x0);
        gbc.writeMem(0xc3c4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x7f9a);
        EXPECT(gbc.pc(), 0xc3c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3c4), 0x7c);
        // 7C 0145
        gbc.setState(0x6d5f, 0xe5ce, 0x6f50, 0x24c, 0xa5a7, 0x1994, 0x1, 0x1);
        gbc.writeMem(0x6d5f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xe5ce);
        EXPECT(gbc.pc(), 0x6d60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0146
        gbc.setState(0x3eda, 0x98cb, 0xd30, 0xc1ca, 0x74ad, 0xb8f0, 0x1, 0x1);
        gbc.writeMem(0x3eda, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x98cb);
        EXPECT(gbc.pc(), 0x3edb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0147
        gbc.setState(0x908c, 0xea9b, 0x8270, 0xecb0, 0x68d8, 0xcdf9, 0x0, 0x1);
        gbc.writeMem(0x908c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xea9b);
        EXPECT(gbc.pc(), 0x908d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x908c), 0x7c);
        // 7C 0148
        gbc.setState(0x2db5, 0xe107, 0xe020, 0xca1f, 0xd67f, 0x77b1, 0x0, 0x1);
        gbc.writeMem(0x2db5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe107);
        EXPECT(gbc.pc(), 0x2db6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0149
        gbc.setState(0xbe04, 0xce5a, 0x7fd0, 0x3d77, 0x54d, 0xe6b2, 0x0, 0x0);
        gbc.writeMem(0xbe04, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xce5a);
        EXPECT(gbc.pc(), 0xbe05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe04), 0x7c);
        // 7C 014A
        gbc.setState(0x41e4, 0xa432, 0x36a0, 0x420, 0x8ccf, 0xd745, 0x1, 0x0);
        gbc.writeMem(0x41e4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa432);
        EXPECT(gbc.pc(), 0x41e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 014B
        gbc.setState(0xc844, 0x1a64, 0x2660, 0xd16d, 0xfe39, 0xeaf8, 0x0, 0x1);
        gbc.writeMem(0xc844, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1a64);
        EXPECT(gbc.pc(), 0xc845);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc844), 0x7c);
        // 7C 014C
        gbc.setState(0xdd9b, 0x20da, 0x64e0, 0xbfcb, 0x2e5d, 0x3296, 0x0, 0x0);
        gbc.writeMem(0xdd9b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x20da);
        EXPECT(gbc.pc(), 0xdd9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd9b), 0x7c);
        // 7C 014D
        gbc.setState(0x8f19, 0x1b16, 0xcb20, 0x96f1, 0xfee9, 0x6685, 0x0, 0x1);
        gbc.writeMem(0x8f19, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1b16);
        EXPECT(gbc.pc(), 0x8f1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f19), 0x7c);
        // 7C 014E
        gbc.setState(0x7568, 0x3eb8, 0xc670, 0x9f72, 0x3aad, 0x8c09, 0x0, 0x0);
        gbc.writeMem(0x7568, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3eb8);
        EXPECT(gbc.pc(), 0x7569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 014F
        gbc.setState(0x190a, 0xc845, 0x2050, 0x51b9, 0x49b3, 0xcf57, 0x1, 0x0);
        gbc.writeMem(0x190a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xc845);
        EXPECT(gbc.pc(), 0x190b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0150
        gbc.setState(0xa467, 0x6eff, 0x9e00, 0xb8a9, 0x6efe, 0x7c45, 0x1, 0x1);
        gbc.writeMem(0xa467, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x6eff);
        EXPECT(gbc.pc(), 0xa468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa467), 0x7c);
        // 7C 0151
        gbc.setState(0x2ce3, 0x58c, 0xb520, 0x69cc, 0x1d75, 0x9de6, 0x0, 0x1);
        gbc.writeMem(0x2ce3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x58c);
        EXPECT(gbc.pc(), 0x2ce4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0152
        gbc.setState(0xcd7a, 0x5947, 0x9730, 0xc419, 0xdea2, 0xcd14, 0x1, 0x1);
        gbc.writeMem(0xcd7a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5947);
        EXPECT(gbc.pc(), 0xcd7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd7a), 0x7c);
        // 7C 0154
        gbc.setState(0x6156, 0xf3ce, 0x3420, 0x2659, 0xfe8e, 0x1a99, 0x1, 0x0);
        gbc.writeMem(0x6156, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf3ce);
        EXPECT(gbc.pc(), 0x6157);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0155
        gbc.setState(0x7e63, 0x4849, 0x9410, 0xa616, 0x6b9, 0x1046, 0x1, 0x0);
        gbc.writeMem(0x7e63, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4849);
        EXPECT(gbc.pc(), 0x7e64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0156
        gbc.setState(0xb0f6, 0x3872, 0xfbe0, 0xbb52, 0x2411, 0x37af, 0x1, 0x1);
        gbc.writeMem(0xb0f6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x3872);
        EXPECT(gbc.pc(), 0xb0f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0f6), 0x7c);
        // 7C 0157
        gbc.setState(0x2d2a, 0x153d, 0xbb80, 0x5961, 0x9ddc, 0xce66, 0x1, 0x0);
        gbc.writeMem(0x2d2a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x153d);
        EXPECT(gbc.pc(), 0x2d2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0158
        gbc.setState(0x8be9, 0x91, 0xc5a0, 0x379e, 0x8f08, 0x37db, 0x1, 0x1);
        gbc.writeMem(0x8be9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x91);
        EXPECT(gbc.pc(), 0x8bea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be9), 0x7c);
        // 7C 015A
        gbc.setState(0x6150, 0xdf7b, 0x3600, 0x7e9d, 0x6e36, 0xe91f, 0x1, 0x0);
        gbc.writeMem(0x6150, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xdf7b);
        EXPECT(gbc.pc(), 0x6151);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 015B
        gbc.setState(0x17a5, 0x5fd8, 0x4060, 0xc5f1, 0x95f7, 0x4abc, 0x0, 0x0);
        gbc.writeMem(0x17a5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5fd8);
        EXPECT(gbc.pc(), 0x17a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 015C
        gbc.setState(0x5f81, 0x3bab, 0xc180, 0xcbed, 0x461b, 0xcd6c, 0x1, 0x1);
        gbc.writeMem(0x5f81, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x3bab);
        EXPECT(gbc.pc(), 0x5f82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 015D
        gbc.setState(0x2aa6, 0x9ccd, 0xb2f0, 0x6055, 0xf20d, 0xff5c, 0x0, 0x1);
        gbc.writeMem(0x2aa6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x9ccd);
        EXPECT(gbc.pc(), 0x2aa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 015E
        gbc.setState(0x7a9d, 0x313a, 0x65a0, 0xd9d9, 0x324, 0x308, 0x0, 0x0);
        gbc.writeMem(0x7a9d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x313a);
        EXPECT(gbc.pc(), 0x7a9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 015F
        gbc.setState(0x344, 0x9712, 0x2970, 0xa725, 0x3e41, 0x40af, 0x1, 0x1);
        gbc.writeMem(0x344, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9712);
        EXPECT(gbc.pc(), 0x345);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0160
        gbc.setState(0x1f9f, 0x7590, 0x6720, 0x14ee, 0x267f, 0xfe77, 0x0, 0x0);
        gbc.writeMem(0x1f9f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x7590);
        EXPECT(gbc.pc(), 0x1fa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0161
        gbc.setState(0xfae, 0x444b, 0xad90, 0x4b48, 0x36ef, 0x1773, 0x1, 0x1);
        gbc.writeMem(0xfae, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x444b);
        EXPECT(gbc.pc(), 0xfaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0163
        gbc.setState(0xd3d2, 0xfa7, 0x5500, 0x82f2, 0x6f1e, 0x5ebe, 0x0, 0x1);
        gbc.writeMem(0xd3d2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xfa7);
        EXPECT(gbc.pc(), 0xd3d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3d2), 0x7c);
        // 7C 0164
        gbc.setState(0x2124, 0x7d71, 0x24c0, 0x18b9, 0x675f, 0xdded, 0x1, 0x0);
        gbc.writeMem(0x2124, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7d71);
        EXPECT(gbc.pc(), 0x2125);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0165
        gbc.setState(0xddab, 0xc37, 0x7740, 0xaf9c, 0x1e3f, 0xde43, 0x0, 0x0);
        gbc.writeMem(0xddab, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xc37);
        EXPECT(gbc.pc(), 0xddac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddab), 0x7c);
        // 7C 0166
        gbc.setState(0x972a, 0xbd13, 0xe960, 0x554b, 0x4719, 0x2cb8, 0x0, 0x1);
        gbc.writeMem(0x972a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xbd13);
        EXPECT(gbc.pc(), 0x972b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x972a), 0x7c);
        // 7C 0167
        gbc.setState(0x3183, 0xd6a6, 0x3f50, 0x3640, 0xef62, 0xcd47, 0x1, 0x1);
        gbc.writeMem(0x3183, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd6a6);
        EXPECT(gbc.pc(), 0x3184);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0168
        gbc.setState(0xcf45, 0xc698, 0x9cc0, 0x84e3, 0x901d, 0x7e36, 0x1, 0x1);
        gbc.writeMem(0xcf45, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc698);
        EXPECT(gbc.pc(), 0xcf46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf45), 0x7c);
        // 7C 0169
        gbc.setState(0xd22a, 0xe06d, 0xc850, 0x532, 0x4a44, 0x3e59, 0x0, 0x1);
        gbc.writeMem(0xd22a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe06d);
        EXPECT(gbc.pc(), 0xd22b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd22a), 0x7c);
        // 7C 016A
        gbc.setState(0xc06a, 0x22b6, 0x64e0, 0x75c1, 0xf928, 0x63ce, 0x0, 0x0);
        gbc.writeMem(0xc06a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x22b6);
        EXPECT(gbc.pc(), 0xc06b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc06a), 0x7c);
        // 7C 016B
        gbc.setState(0x94ca, 0xeb2d, 0x3ae0, 0xe8e3, 0x98d7, 0x5e9f, 0x0, 0x0);
        gbc.writeMem(0x94ca, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xeb2d);
        EXPECT(gbc.pc(), 0x94cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ca), 0x7c);
        // 7C 016C
        gbc.setState(0x4faa, 0x5a79, 0xaab0, 0x2364, 0x8702, 0x9fc7, 0x1, 0x1);
        gbc.writeMem(0x4faa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x5a79);
        EXPECT(gbc.pc(), 0x4fab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 016D
        gbc.setState(0x5e0, 0xd6c0, 0xb9d0, 0x5053, 0x8b1c, 0x8882, 0x0, 0x0);
        gbc.writeMem(0x5e0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xd6c0);
        EXPECT(gbc.pc(), 0x5e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 016E
        gbc.setState(0x3d97, 0xa403, 0xda00, 0x81f6, 0x4373, 0xc23c, 0x0, 0x0);
        gbc.writeMem(0x3d97, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa403);
        EXPECT(gbc.pc(), 0x3d98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0170
        gbc.setState(0xb35d, 0x7bd6, 0x6c80, 0xd448, 0x932a, 0x28a4, 0x0, 0x0);
        gbc.writeMem(0xb35d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7bd6);
        EXPECT(gbc.pc(), 0xb35e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb35d), 0x7c);
        // 7C 0171
        gbc.setState(0x704e, 0x2187, 0x4290, 0xc8c0, 0xf1b7, 0xd649, 0x1, 0x0);
        gbc.writeMem(0x704e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2187);
        EXPECT(gbc.pc(), 0x704f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0172
        gbc.setState(0x47f8, 0x625d, 0xab70, 0x51f1, 0x3074, 0xdfd1, 0x1, 0x0);
        gbc.writeMem(0x47f8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x625d);
        EXPECT(gbc.pc(), 0x47f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0173
        gbc.setState(0xd284, 0xc83, 0x1920, 0x9ed4, 0x2442, 0x2863, 0x1, 0x0);
        gbc.writeMem(0xd284, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc83);
        EXPECT(gbc.pc(), 0xd285);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd284), 0x7c);
        // 7C 0174
        gbc.setState(0xd76a, 0x1491, 0xbd70, 0x3c01, 0x2b56, 0x7dfb, 0x1, 0x0);
        gbc.writeMem(0xd76a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1491);
        EXPECT(gbc.pc(), 0xd76b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd76a), 0x7c);
        // 7C 0175
        gbc.setState(0x18fa, 0x500b, 0x5480, 0x96fa, 0xccaa, 0xc2b3, 0x1, 0x1);
        gbc.writeMem(0x18fa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x500b);
        EXPECT(gbc.pc(), 0x18fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0176
        gbc.setState(0x1f36, 0x245, 0xe120, 0x7a69, 0xd8ea, 0x474, 0x0, 0x1);
        gbc.writeMem(0x1f36, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x245);
        EXPECT(gbc.pc(), 0x1f37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0177
        gbc.setState(0x202d, 0xbbef, 0xfa70, 0x436c, 0xe196, 0xd749, 0x1, 0x0);
        gbc.writeMem(0x202d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbbef);
        EXPECT(gbc.pc(), 0x202e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0178
        gbc.setState(0x98af, 0x12dc, 0x1100, 0x2fb1, 0xaf05, 0xf5e7, 0x0, 0x0);
        gbc.writeMem(0x98af, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x12dc);
        EXPECT(gbc.pc(), 0x98b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98af), 0x7c);
        // 7C 0179
        gbc.setState(0x1099, 0x9672, 0x2900, 0x8087, 0xb960, 0xa495, 0x0, 0x0);
        gbc.writeMem(0x1099, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x9672);
        EXPECT(gbc.pc(), 0x109a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 017A
        gbc.setState(0x48b, 0xc074, 0xb6a0, 0x68c1, 0x9c00, 0xb3ea, 0x0, 0x1);
        gbc.writeMem(0x48b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc074);
        EXPECT(gbc.pc(), 0x48c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 017B
        gbc.setState(0x1418, 0x5606, 0x4020, 0xdcfc, 0x56f2, 0x4c3, 0x1, 0x1);
        gbc.writeMem(0x1418, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5606);
        EXPECT(gbc.pc(), 0x1419);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 017C
        gbc.setState(0xe066, 0xe54, 0x3d10, 0x4807, 0x6de, 0x164f, 0x1, 0x1);
        gbc.writeMem(0xe066, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe54);
        EXPECT(gbc.pc(), 0xe067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe066), 0x7c);
        // 7C 017D
        gbc.setState(0x8385, 0x899, 0xaea0, 0x19e7, 0xbed8, 0x49dd, 0x0, 0x0);
        gbc.writeMem(0x8385, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x899);
        EXPECT(gbc.pc(), 0x8386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8385), 0x7c);
        // 7C 017E
        gbc.setState(0x6257, 0x3786, 0x18b0, 0x3c0b, 0x67b8, 0x3ff8, 0x1, 0x1);
        gbc.writeMem(0x6257, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3786);
        EXPECT(gbc.pc(), 0x6258);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 017F
        gbc.setState(0x1ad3, 0x178c, 0xd8a0, 0x9763, 0x9a47, 0xa891, 0x0, 0x1);
        gbc.writeMem(0x1ad3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x178c);
        EXPECT(gbc.pc(), 0x1ad4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0180
        gbc.setState(0x32f8, 0x5418, 0xc810, 0x600f, 0x97cd, 0x8082, 0x0, 0x1);
        gbc.writeMem(0x32f8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x5418);
        EXPECT(gbc.pc(), 0x32f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0181
        gbc.setState(0x7986, 0x453a, 0xfb10, 0x54e4, 0x209, 0xcfb2, 0x1, 0x0);
        gbc.writeMem(0x7986, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x453a);
        EXPECT(gbc.pc(), 0x7987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0182
        gbc.setState(0x1f82, 0x4aae, 0xf10, 0x5c60, 0xde3f, 0xe612, 0x0, 0x0);
        gbc.writeMem(0x1f82, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4aae);
        EXPECT(gbc.pc(), 0x1f83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0183
        gbc.setState(0xb4dc, 0x5fc6, 0x6190, 0x158, 0xf80, 0x714d, 0x1, 0x1);
        gbc.writeMem(0xb4dc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x5fc6);
        EXPECT(gbc.pc(), 0xb4dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4dc), 0x7c);
        // 7C 0184
        gbc.setState(0x65a3, 0x5f75, 0x7be0, 0x88e8, 0x662f, 0xb0a8, 0x0, 0x0);
        gbc.writeMem(0x65a3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x5f75);
        EXPECT(gbc.pc(), 0x65a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0185
        gbc.setState(0x8afb, 0xe005, 0xfb90, 0xab43, 0xfd3d, 0xd734, 0x0, 0x1);
        gbc.writeMem(0x8afb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe005);
        EXPECT(gbc.pc(), 0x8afc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8afb), 0x7c);
        // 7C 0186
        gbc.setState(0xb676, 0x821c, 0x7ab0, 0x35aa, 0x2f59, 0xff5b, 0x1, 0x1);
        gbc.writeMem(0xb676, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x821c);
        EXPECT(gbc.pc(), 0xb677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb676), 0x7c);
        // 7C 0187
        gbc.setState(0x1a34, 0xaaa6, 0x8830, 0xf2f2, 0x136f, 0xde, 0x0, 0x0);
        gbc.writeMem(0x1a34, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xaaa6);
        EXPECT(gbc.pc(), 0x1a35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0188
        gbc.setState(0xddbb, 0x886b, 0xa520, 0x961b, 0x7212, 0xf4e5, 0x0, 0x0);
        gbc.writeMem(0xddbb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x886b);
        EXPECT(gbc.pc(), 0xddbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddbb), 0x7c);
        // 7C 0189
        gbc.setState(0x2256, 0xef3c, 0xc1f0, 0x9c43, 0x9b26, 0xadc9, 0x0, 0x1);
        gbc.writeMem(0x2256, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xef3c);
        EXPECT(gbc.pc(), 0x2257);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 018A
        gbc.setState(0x8e71, 0x6ca7, 0x22a0, 0xebd9, 0x72d7, 0x898e, 0x1, 0x1);
        gbc.writeMem(0x8e71, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6ca7);
        EXPECT(gbc.pc(), 0x8e72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e71), 0x7c);
        // 7C 018B
        gbc.setState(0xcb1d, 0x853d, 0x4520, 0xd1a8, 0xee61, 0xa086, 0x1, 0x1);
        gbc.writeMem(0xcb1d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x853d);
        EXPECT(gbc.pc(), 0xcb1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb1d), 0x7c);
        // 7C 018C
        gbc.setState(0xe0ad, 0x4003, 0x80a0, 0xc6b9, 0xc90b, 0x67c0, 0x1, 0x0);
        gbc.writeMem(0xe0ad, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4003);
        EXPECT(gbc.pc(), 0xe0ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0ad), 0x7c);
        // 7C 018D
        gbc.setState(0xe710, 0x5780, 0xbc60, 0x18fb, 0xda3e, 0xeb99, 0x1, 0x0);
        gbc.writeMem(0xe710, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x5780);
        EXPECT(gbc.pc(), 0xe711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe710), 0x7c);
        // 7C 018E
        gbc.setState(0x3df3, 0xc61, 0x9520, 0xbbf5, 0x231a, 0xb86a, 0x1, 0x0);
        gbc.writeMem(0x3df3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xc61);
        EXPECT(gbc.pc(), 0x3df4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 018F
        gbc.setState(0xef8, 0xe430, 0x3dd0, 0x5452, 0x4b5, 0x5d7f, 0x1, 0x1);
        gbc.writeMem(0xef8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe430);
        EXPECT(gbc.pc(), 0xef9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0190
        gbc.setState(0xace4, 0x5f04, 0xbfe0, 0x1dfe, 0xffa7, 0xc45, 0x0, 0x0);
        gbc.writeMem(0xace4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5f04);
        EXPECT(gbc.pc(), 0xace5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xace4), 0x7c);
        // 7C 0191
        gbc.setState(0x1674, 0x52d8, 0x5650, 0x99a0, 0xa6ff, 0xbcb4, 0x1, 0x1);
        gbc.writeMem(0x1674, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x52d8);
        EXPECT(gbc.pc(), 0x1675);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0192
        gbc.setState(0xa569, 0x4cb7, 0xceb0, 0x613c, 0x14c5, 0x4a10, 0x1, 0x0);
        gbc.writeMem(0xa569, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x4cb7);
        EXPECT(gbc.pc(), 0xa56a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa569), 0x7c);
        // 7C 0193
        gbc.setState(0x3f7b, 0x7f91, 0x9be0, 0x4988, 0x2bd4, 0x6126, 0x1, 0x1);
        gbc.writeMem(0x3f7b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7f91);
        EXPECT(gbc.pc(), 0x3f7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0194
        gbc.setState(0x7a30, 0xe1aa, 0xc420, 0xd9b1, 0x471c, 0xe1b, 0x0, 0x1);
        gbc.writeMem(0x7a30, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe1aa);
        EXPECT(gbc.pc(), 0x7a31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0195
        gbc.setState(0x2f7, 0x7a97, 0xc3b0, 0x23e, 0xca1, 0x8508, 0x0, 0x1);
        gbc.writeMem(0x2f7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7a97);
        EXPECT(gbc.pc(), 0x2f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0196
        gbc.setState(0x7ba2, 0xa10d, 0x66e0, 0xa1e1, 0x1cd8, 0xe75f, 0x1, 0x1);
        gbc.writeMem(0x7ba2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa10d);
        EXPECT(gbc.pc(), 0x7ba3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0197
        gbc.setState(0x36f9, 0xa0d9, 0x64c0, 0x8d12, 0xc5ed, 0x554, 0x0, 0x0);
        gbc.writeMem(0x36f9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xa0d9);
        EXPECT(gbc.pc(), 0x36fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0198
        gbc.setState(0xbec1, 0x47ad, 0x9110, 0xe00b, 0xa861, 0x1261, 0x1, 0x0);
        gbc.writeMem(0xbec1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x47ad);
        EXPECT(gbc.pc(), 0xbec2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbec1), 0x7c);
        // 7C 0199
        gbc.setState(0x2e32, 0xf21b, 0xe7f0, 0xbba9, 0x9c6f, 0x2298, 0x1, 0x1);
        gbc.writeMem(0x2e32, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf21b);
        EXPECT(gbc.pc(), 0x2e33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 019A
        gbc.setState(0x4cd9, 0x879b, 0x37f0, 0xfeff, 0x8399, 0x6b7e, 0x1, 0x0);
        gbc.writeMem(0x4cd9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x879b);
        EXPECT(gbc.pc(), 0x4cda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 019B
        gbc.setState(0x1aa6, 0xd421, 0xbea0, 0x120a, 0xea9d, 0xf72e, 0x0, 0x1);
        gbc.writeMem(0x1aa6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xd421);
        EXPECT(gbc.pc(), 0x1aa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 019C
        gbc.setState(0xbb3f, 0x2a3e, 0xcec0, 0x73e7, 0xb126, 0xf960, 0x1, 0x0);
        gbc.writeMem(0xbb3f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2a3e);
        EXPECT(gbc.pc(), 0xbb40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb3f), 0x7c);
        // 7C 019D
        gbc.setState(0x346b, 0xc646, 0x66d0, 0x6ff3, 0xfe9b, 0x8e31, 0x1, 0x1);
        gbc.writeMem(0x346b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc646);
        EXPECT(gbc.pc(), 0x346c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 019E
        gbc.setState(0x7a93, 0x377e, 0x12c0, 0xdfc8, 0x8b3f, 0x13ab, 0x1, 0x1);
        gbc.writeMem(0x7a93, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x377e);
        EXPECT(gbc.pc(), 0x7a94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 019F
        gbc.setState(0x484d, 0xb324, 0x6cb0, 0xef9, 0xd7bd, 0xe035, 0x0, 0x1);
        gbc.writeMem(0x484d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb324);
        EXPECT(gbc.pc(), 0x484e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01A0
        gbc.setState(0xd57f, 0xfb90, 0x1930, 0x45c5, 0xd798, 0x6f4, 0x0, 0x1);
        gbc.writeMem(0xd57f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xfb90);
        EXPECT(gbc.pc(), 0xd580);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd57f), 0x7c);
        // 7C 01A1
        gbc.setState(0xd8ff, 0x9f32, 0xabe0, 0x6fe3, 0x1cf6, 0x3dd8, 0x0, 0x1);
        gbc.writeMem(0xd8ff, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x9f32);
        EXPECT(gbc.pc(), 0xd900);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8ff), 0x7c);
        // 7C 01A2
        gbc.setState(0x8a8f, 0x2fc1, 0xe4b0, 0xd275, 0x7b97, 0xcde6, 0x0, 0x1);
        gbc.writeMem(0x8a8f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2fc1);
        EXPECT(gbc.pc(), 0x8a90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a8f), 0x7c);
        // 7C 01A3
        gbc.setState(0x331, 0x2858, 0x5a40, 0xc10c, 0xa1af, 0x322, 0x1, 0x0);
        gbc.writeMem(0x331, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2858);
        EXPECT(gbc.pc(), 0x332);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01A4
        gbc.setState(0xd5c6, 0x4384, 0x7380, 0x42b2, 0x3525, 0x762e, 0x0, 0x0);
        gbc.writeMem(0xd5c6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4384);
        EXPECT(gbc.pc(), 0xd5c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5c6), 0x7c);
        // 7C 01A5
        gbc.setState(0xb896, 0x6cf0, 0x21c0, 0x3cf1, 0x37fe, 0x6cee, 0x0, 0x1);
        gbc.writeMem(0xb896, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6cf0);
        EXPECT(gbc.pc(), 0xb897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb896), 0x7c);
        // 7C 01A6
        gbc.setState(0x3172, 0x4374, 0x7650, 0xdbc2, 0x8c2f, 0x387d, 0x0, 0x1);
        gbc.writeMem(0x3172, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x4374);
        EXPECT(gbc.pc(), 0x3173);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 01A7
        gbc.setState(0x3ea6, 0x8427, 0xab00, 0xaac, 0xe0ba, 0x9c20, 0x0, 0x0);
        gbc.writeMem(0x3ea6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8427);
        EXPECT(gbc.pc(), 0x3ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01A8
        gbc.setState(0x4947, 0x2fa0, 0x78c0, 0x7b7d, 0x4134, 0x4bb1, 0x1, 0x0);
        gbc.writeMem(0x4947, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2fa0);
        EXPECT(gbc.pc(), 0x4948);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01A9
        gbc.setState(0x668b, 0x33ee, 0x3160, 0xb6ad, 0xb218, 0x3e25, 0x0, 0x0);
        gbc.writeMem(0x668b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x33ee);
        EXPECT(gbc.pc(), 0x668c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01AA
        gbc.setState(0x1574, 0x6739, 0x5400, 0xea3c, 0x7532, 0x403f, 0x0, 0x1);
        gbc.writeMem(0x1574, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x6739);
        EXPECT(gbc.pc(), 0x1575);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01AB
        gbc.setState(0x7b52, 0xd653, 0xeb60, 0x2340, 0x989d, 0x7c4, 0x1, 0x1);
        gbc.writeMem(0x7b52, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xd653);
        EXPECT(gbc.pc(), 0x7b53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01AC
        gbc.setState(0x30da, 0x604a, 0xbc70, 0xcbf8, 0xa5ab, 0xa281, 0x0, 0x0);
        gbc.writeMem(0x30da, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x604a);
        EXPECT(gbc.pc(), 0x30db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01AD
        gbc.setState(0x466b, 0x9a62, 0x3570, 0x34eb, 0xb104, 0x95e3, 0x0, 0x0);
        gbc.writeMem(0x466b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9a62);
        EXPECT(gbc.pc(), 0x466c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01AE
        gbc.setState(0xd758, 0xe5e, 0xa590, 0x60e6, 0xffeb, 0x5e88, 0x0, 0x0);
        gbc.writeMem(0xd758, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe5e);
        EXPECT(gbc.pc(), 0xd759);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd758), 0x7c);
        // 7C 01AF
        gbc.setState(0x9e0d, 0xea5e, 0x7cf0, 0xff18, 0x1f16, 0x48b, 0x1, 0x1);
        gbc.writeMem(0x9e0d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xea5e);
        EXPECT(gbc.pc(), 0x9e0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e0d), 0x7c);
        // 7C 01B1
        gbc.setState(0xc39c, 0x6234, 0x5bd0, 0x8092, 0x9a29, 0x31e9, 0x1, 0x1);
        gbc.writeMem(0xc39c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6234);
        EXPECT(gbc.pc(), 0xc39d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc39c), 0x7c);
        // 7C 01B2
        gbc.setState(0x682b, 0x9431, 0x79c0, 0xbf8b, 0xf2df, 0x50e4, 0x1, 0x1);
        gbc.writeMem(0x682b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9431);
        EXPECT(gbc.pc(), 0x682c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01B4
        gbc.setState(0xb8de, 0x4218, 0xed50, 0xe2f7, 0x5cd5, 0x3e82, 0x0, 0x0);
        gbc.writeMem(0xb8de, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x4218);
        EXPECT(gbc.pc(), 0xb8df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8de), 0x7c);
        // 7C 01B5
        gbc.setState(0xa6a9, 0x29c1, 0xfe60, 0xce5c, 0x6bb2, 0x1062, 0x0, 0x0);
        gbc.writeMem(0xa6a9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x29c1);
        EXPECT(gbc.pc(), 0xa6aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6a9), 0x7c);
        // 7C 01B6
        gbc.setState(0x436f, 0x9095, 0xae50, 0xb4cd, 0x48e2, 0xc1db, 0x0, 0x0);
        gbc.writeMem(0x436f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x9095);
        EXPECT(gbc.pc(), 0x4370);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 01B7
        gbc.setState(0xd732, 0x3a7c, 0x13f0, 0xd7af, 0x4188, 0x572e, 0x1, 0x1);
        gbc.writeMem(0xd732, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3a7c);
        EXPECT(gbc.pc(), 0xd733);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd732), 0x7c);
        // 7C 01B8
        gbc.setState(0xb406, 0x2460, 0x1140, 0x2006, 0xff80, 0x2449, 0x0, 0x1);
        gbc.writeMem(0xb406, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2460);
        EXPECT(gbc.pc(), 0xb407);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb406), 0x7c);
        // 7C 01B9
        gbc.setState(0xa6f0, 0x4122, 0xfc10, 0xd8c0, 0x3cb5, 0x3bfe, 0x1, 0x1);
        gbc.writeMem(0xa6f0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x4122);
        EXPECT(gbc.pc(), 0xa6f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f0), 0x7c);
        // 7C 01BB
        gbc.setState(0xbe87, 0xeae2, 0xd030, 0x7ed4, 0xb7da, 0x714, 0x1, 0x0);
        gbc.writeMem(0xbe87, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xeae2);
        EXPECT(gbc.pc(), 0xbe88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe87), 0x7c);
        // 7C 01BC
        gbc.setState(0x6c86, 0x830f, 0x86a0, 0xd76b, 0xc761, 0xfc76, 0x1, 0x0);
        gbc.writeMem(0x6c86, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x830f);
        EXPECT(gbc.pc(), 0x6c87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01BD
        gbc.setState(0xefb6, 0xa7d0, 0xf010, 0x2641, 0x895c, 0x5fa1, 0x0, 0x0);
        gbc.writeMem(0xefb6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xa7d0);
        EXPECT(gbc.pc(), 0xefb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefb6), 0x7c);
        // 7C 01BE
        gbc.setState(0x9e9e, 0xa23f, 0x47e0, 0x30d0, 0xe47e, 0x2c5f, 0x1, 0x0);
        gbc.writeMem(0x9e9e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa23f);
        EXPECT(gbc.pc(), 0x9e9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e9e), 0x7c);
        // 7C 01BF
        gbc.setState(0x30e2, 0x3d46, 0x400, 0xc585, 0x876, 0x919d, 0x0, 0x0);
        gbc.writeMem(0x30e2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3d46);
        EXPECT(gbc.pc(), 0x30e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01C0
        gbc.setState(0x614b, 0x8fc5, 0xa600, 0x7f48, 0xad6c, 0xe91b, 0x1, 0x0);
        gbc.writeMem(0x614b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x8fc5);
        EXPECT(gbc.pc(), 0x614c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01C1
        gbc.setState(0x51, 0xfe78, 0x2d30, 0x61f8, 0xffdc, 0xe8a1, 0x1, 0x1);
        gbc.writeMem(0x51, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xfe78);
        EXPECT(gbc.pc(), 0x52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01C2
        gbc.setState(0x933b, 0x582a, 0x8880, 0xcfc5, 0xc7ca, 0xac20, 0x0, 0x1);
        gbc.writeMem(0x933b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x582a);
        EXPECT(gbc.pc(), 0x933c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933b), 0x7c);
        // 7C 01C3
        gbc.setState(0xe072, 0xc088, 0x6720, 0x4b2a, 0xe33d, 0xea13, 0x1, 0x0);
        gbc.writeMem(0xe072, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xc088);
        EXPECT(gbc.pc(), 0xe073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe072), 0x7c);
        // 7C 01C4
        gbc.setState(0x2778, 0xf85e, 0xbd60, 0x9102, 0x303d, 0x9c69, 0x1, 0x0);
        gbc.writeMem(0x2778, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xf85e);
        EXPECT(gbc.pc(), 0x2779);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01C5
        gbc.setState(0xbb37, 0x7f5e, 0x2bd0, 0xc49a, 0x64de, 0xcb36, 0x0, 0x0);
        gbc.writeMem(0xbb37, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x7f5e);
        EXPECT(gbc.pc(), 0xbb38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb37), 0x7c);
        // 7C 01C6
        gbc.setState(0x92f3, 0x6429, 0x27f0, 0xeee, 0xf5c, 0xdeb1, 0x1, 0x0);
        gbc.writeMem(0x92f3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x6429);
        EXPECT(gbc.pc(), 0x92f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92f3), 0x7c);
        // 7C 01C7
        gbc.setState(0x9679, 0x6bf3, 0x1400, 0x9308, 0x8c36, 0xe1ae, 0x0, 0x0);
        gbc.writeMem(0x9679, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x6bf3);
        EXPECT(gbc.pc(), 0x967a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9679), 0x7c);
        // 7C 01C9
        gbc.setState(0x127d, 0xb8df, 0x8bc0, 0x120, 0x38cb, 0x3b9d, 0x0, 0x1);
        gbc.writeMem(0x127d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb8df);
        EXPECT(gbc.pc(), 0x127e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01CA
        gbc.setState(0xb5bd, 0x6485, 0x6430, 0xef5b, 0x6c7d, 0x1347, 0x0, 0x0);
        gbc.writeMem(0xb5bd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x6485);
        EXPECT(gbc.pc(), 0xb5be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5bd), 0x7c);
        // 7C 01CB
        gbc.setState(0x2b59, 0xb1cb, 0xbed0, 0x3d06, 0x3297, 0x135e, 0x1, 0x1);
        gbc.writeMem(0x2b59, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xb1cb);
        EXPECT(gbc.pc(), 0x2b5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 01CD
        gbc.setState(0x3296, 0x4501, 0x2f30, 0xfe07, 0x3d7d, 0x8471, 0x0, 0x1);
        gbc.writeMem(0x3296, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x4501);
        EXPECT(gbc.pc(), 0x3297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01CE
        gbc.setState(0xb013, 0x6534, 0x4840, 0x9cc4, 0xdd97, 0xc2c1, 0x0, 0x0);
        gbc.writeMem(0xb013, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x6534);
        EXPECT(gbc.pc(), 0xb014);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb013), 0x7c);
        // 7C 01CF
        gbc.setState(0x4977, 0x9711, 0xa090, 0xc522, 0x62c2, 0x862e, 0x0, 0x1);
        gbc.writeMem(0x4977, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x9711);
        EXPECT(gbc.pc(), 0x4978);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 01D0
        gbc.setState(0x9239, 0xeea8, 0x9570, 0x9b22, 0xb9a7, 0x31fc, 0x1, 0x1);
        gbc.writeMem(0x9239, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xeea8);
        EXPECT(gbc.pc(), 0x923a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9239), 0x7c);
        // 7C 01D1
        gbc.setState(0x6848, 0x1e69, 0xd8b0, 0xea65, 0x1d34, 0x855e, 0x1, 0x0);
        gbc.writeMem(0x6848, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x1e69);
        EXPECT(gbc.pc(), 0x6849);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01D2
        gbc.setState(0x5f94, 0xd6b3, 0x1330, 0xa075, 0x7b6f, 0x4ed, 0x1, 0x0);
        gbc.writeMem(0x5f94, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xd6b3);
        EXPECT(gbc.pc(), 0x5f95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01D3
        gbc.setState(0x31d2, 0xc2fc, 0x1ad0, 0xa66e, 0xcb7e, 0x29d3, 0x1, 0x0);
        gbc.writeMem(0x31d2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc2fc);
        EXPECT(gbc.pc(), 0x31d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 01D4
        gbc.setState(0xb4bd, 0x6771, 0x640, 0x4fd7, 0x191, 0x5003, 0x1, 0x0);
        gbc.writeMem(0xb4bd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x6771);
        EXPECT(gbc.pc(), 0xb4be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4bd), 0x7c);
        // 7C 01D5
        gbc.setState(0x746, 0xa8ce, 0xe70, 0x204f, 0x71b8, 0x28bf, 0x0, 0x0);
        gbc.writeMem(0x746, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xa8ce);
        EXPECT(gbc.pc(), 0x747);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01D6
        gbc.setState(0xe6d1, 0xc82d, 0x9300, 0x6bcb, 0xbecc, 0x162b, 0x0, 0x1);
        gbc.writeMem(0xe6d1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xc82d);
        EXPECT(gbc.pc(), 0xe6d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6d1), 0x7c);
        // 7C 01D7
        gbc.setState(0x5499, 0x21bf, 0x7d50, 0x2be0, 0x43c3, 0x39f8, 0x1, 0x0);
        gbc.writeMem(0x5499, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x21bf);
        EXPECT(gbc.pc(), 0x549a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 01D8
        gbc.setState(0x1eb1, 0xf6ef, 0xe3a0, 0xdbac, 0x2229, 0xa6e1, 0x0, 0x0);
        gbc.writeMem(0x1eb1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf6ef);
        EXPECT(gbc.pc(), 0x1eb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01D9
        gbc.setState(0x79b4, 0x78a9, 0x3e70, 0x84fc, 0xfd34, 0xc1c7, 0x0, 0x1);
        gbc.writeMem(0x79b4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x78a9);
        EXPECT(gbc.pc(), 0x79b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01DA
        gbc.setState(0x6ef6, 0xee07, 0xb570, 0xfc54, 0x72ae, 0xbd7a, 0x1, 0x1);
        gbc.writeMem(0x6ef6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xee07);
        EXPECT(gbc.pc(), 0x6ef7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01DB
        gbc.setState(0xa173, 0xfe22, 0xce70, 0xab6b, 0x71ad, 0x7152, 0x0, 0x0);
        gbc.writeMem(0xa173, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xfe22);
        EXPECT(gbc.pc(), 0xa174);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa173), 0x7c);
        // 7C 01DC
        gbc.setState(0x549b, 0x3479, 0xdbc0, 0xb286, 0x22fb, 0x5b45, 0x1, 0x0);
        gbc.writeMem(0x549b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x3479);
        EXPECT(gbc.pc(), 0x549c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01DD
        gbc.setState(0x7a73, 0xc991, 0xd20, 0x5045, 0x4bea, 0x7bc0, 0x0, 0x0);
        gbc.writeMem(0x7a73, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc991);
        EXPECT(gbc.pc(), 0x7a74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01DE
        gbc.setState(0x4d9, 0xb753, 0x7a00, 0xef2d, 0xdac9, 0xd0de, 0x0, 0x1);
        gbc.writeMem(0x4d9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb753);
        EXPECT(gbc.pc(), 0x4da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01DF
        gbc.setState(0x91f7, 0x929a, 0xb90, 0x8fa3, 0xbe8b, 0xe7ed, 0x0, 0x1);
        gbc.writeMem(0x91f7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x929a);
        EXPECT(gbc.pc(), 0x91f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91f7), 0x7c);
        // 7C 01E0
        gbc.setState(0x12b1, 0xe85, 0x9220, 0x98f, 0xb2c0, 0xf92c, 0x0, 0x0);
        gbc.writeMem(0x12b1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe85);
        EXPECT(gbc.pc(), 0x12b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01E1
        gbc.setState(0x55ae, 0xb6ce, 0x2fa0, 0xac1d, 0xf44c, 0xaf4b, 0x1, 0x1);
        gbc.writeMem(0x55ae, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb6ce);
        EXPECT(gbc.pc(), 0x55af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01E2
        gbc.setState(0xa7b6, 0x713c, 0x7a20, 0x2e78, 0xc88b, 0x3eab, 0x1, 0x1);
        gbc.writeMem(0xa7b6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x713c);
        EXPECT(gbc.pc(), 0xa7b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7b6), 0x7c);
        // 7C 01E3
        gbc.setState(0x9a7a, 0x669f, 0x49f0, 0xd0c2, 0xda3f, 0x7277, 0x1, 0x1);
        gbc.writeMem(0x9a7a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x669f);
        EXPECT(gbc.pc(), 0x9a7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a7a), 0x7c);
        // 7C 01E4
        gbc.setState(0x4ecb, 0x3887, 0xad60, 0xf69e, 0x88de, 0x67e0, 0x0, 0x1);
        gbc.writeMem(0x4ecb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x3887);
        EXPECT(gbc.pc(), 0x4ecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01E5
        gbc.setState(0x175b, 0x93f1, 0x9c70, 0xe6c9, 0xce58, 0xdd3c, 0x0, 0x1);
        gbc.writeMem(0x175b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x93f1);
        EXPECT(gbc.pc(), 0x175c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01E6
        gbc.setState(0x9cb7, 0xd4a8, 0xc30, 0xd154, 0x5828, 0xadc8, 0x0, 0x1);
        gbc.writeMem(0x9cb7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd4a8);
        EXPECT(gbc.pc(), 0x9cb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cb7), 0x7c);
        // 7C 01E7
        gbc.setState(0xb582, 0x3023, 0x1400, 0x1a2e, 0xacc, 0xdabd, 0x0, 0x1);
        gbc.writeMem(0xb582, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3023);
        EXPECT(gbc.pc(), 0xb583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb582), 0x7c);
        // 7C 01E8
        gbc.setState(0x6751, 0xd749, 0xda70, 0xf0f8, 0x2ba6, 0x9c97, 0x0, 0x0);
        gbc.writeMem(0x6751, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd749);
        EXPECT(gbc.pc(), 0x6752);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01E9
        gbc.setState(0x8dd8, 0x641b, 0x3b0, 0xaa6, 0x92da, 0x36b9, 0x1, 0x0);
        gbc.writeMem(0x8dd8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x641b);
        EXPECT(gbc.pc(), 0x8dd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dd8), 0x7c);
        // 7C 01EB
        gbc.setState(0x2106, 0x4df9, 0xa770, 0xa435, 0x543e, 0x759b, 0x1, 0x1);
        gbc.writeMem(0x2106, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4df9);
        EXPECT(gbc.pc(), 0x2107);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01EC
        gbc.setState(0x2857, 0xc2fe, 0x80a0, 0x4dcd, 0xb795, 0x4ddd, 0x0, 0x0);
        gbc.writeMem(0x2857, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc2fe);
        EXPECT(gbc.pc(), 0x2858);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01ED
        gbc.setState(0x3b37, 0xd930, 0x6ff0, 0xa8ef, 0x4975, 0xfa3f, 0x0, 0x0);
        gbc.writeMem(0x3b37, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xd930);
        EXPECT(gbc.pc(), 0x3b38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01EE
        gbc.setState(0x1cb0, 0xee34, 0x8960, 0xa98c, 0x2e8, 0x892b, 0x0, 0x1);
        gbc.writeMem(0x1cb0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xee34);
        EXPECT(gbc.pc(), 0x1cb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01EF
        gbc.setState(0x54c7, 0x4812, 0xab70, 0x6544, 0xb9d3, 0xf7a7, 0x0, 0x1);
        gbc.writeMem(0x54c7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4812);
        EXPECT(gbc.pc(), 0x54c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 01F0
        gbc.setState(0x5de9, 0x7d15, 0x97c0, 0x6968, 0xc9c, 0x8011, 0x1, 0x1);
        gbc.writeMem(0x5de9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7d15);
        EXPECT(gbc.pc(), 0x5dea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 01F2
        gbc.setState(0xdb7f, 0x237f, 0x7370, 0xbd82, 0xdd29, 0xd5dd, 0x0, 0x1);
        gbc.writeMem(0xdb7f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x237f);
        EXPECT(gbc.pc(), 0xdb80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb7f), 0x7c);
        // 7C 01F3
        gbc.setState(0xd1da, 0x360, 0xda0, 0x9f8a, 0x15af, 0x188f, 0x1, 0x0);
        gbc.writeMem(0xd1da, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x360);
        EXPECT(gbc.pc(), 0xd1db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1da), 0x7c);
        // 7C 01F4
        gbc.setState(0xef51, 0x1afe, 0xd7c0, 0x5d60, 0x4ac7, 0x5035, 0x1, 0x0);
        gbc.writeMem(0xef51, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x1afe);
        EXPECT(gbc.pc(), 0xef52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef51), 0x7c);
        // 7C 01F5
        gbc.setState(0x314f, 0xb75e, 0x3d50, 0x8415, 0x2853, 0xd2a4, 0x0, 0x1);
        gbc.writeMem(0x314f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb75e);
        EXPECT(gbc.pc(), 0x3150);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 01F6
        gbc.setState(0xd883, 0x9975, 0x1f00, 0x30c6, 0x8f6f, 0x69d2, 0x0, 0x0);
        gbc.writeMem(0xd883, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x9975);
        EXPECT(gbc.pc(), 0xd884);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd883), 0x7c);
        // 7C 01F7
        gbc.setState(0x6fdf, 0x4f4a, 0x10e0, 0x7ec1, 0xd338, 0x9337, 0x1, 0x0);
        gbc.writeMem(0x6fdf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4f4a);
        EXPECT(gbc.pc(), 0x6fe0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 01F8
        gbc.setState(0xceb9, 0x4c67, 0xcb30, 0xed6c, 0x5c6b, 0x73e6, 0x0, 0x1);
        gbc.writeMem(0xceb9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x4c67);
        EXPECT(gbc.pc(), 0xceba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xceb9), 0x7c);
        // 7C 01F9
        gbc.setState(0xc295, 0x6b29, 0xf6f0, 0x6f8c, 0xf9e3, 0x1080, 0x0, 0x1);
        gbc.writeMem(0xc295, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6b29);
        EXPECT(gbc.pc(), 0xc296);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc295), 0x7c);
        // 7C 01FA
        gbc.setState(0xc4ae, 0x3c9a, 0x2060, 0x66ca, 0x7ab0, 0x1ee1, 0x1, 0x1);
        gbc.writeMem(0xc4ae, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x3c9a);
        EXPECT(gbc.pc(), 0xc4af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4ae), 0x7c);
        // 7C 01FB
        gbc.setState(0x861a, 0x4583, 0xa620, 0x6b60, 0xf31d, 0xa6ff, 0x0, 0x0);
        gbc.writeMem(0x861a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4583);
        EXPECT(gbc.pc(), 0x861b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x861a), 0x7c);
        // 7C 01FC
        gbc.setState(0xa8a8, 0xe650, 0x63e0, 0x241d, 0x8b60, 0xb209, 0x1, 0x0);
        gbc.writeMem(0xa8a8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe650);
        EXPECT(gbc.pc(), 0xa8a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8a8), 0x7c);
        // 7C 01FD
        gbc.setState(0x96cc, 0x38b9, 0x5d60, 0x5b04, 0x3912, 0x8ebe, 0x1, 0x0);
        gbc.writeMem(0x96cc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x38b9);
        EXPECT(gbc.pc(), 0x96cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96cc), 0x7c);
        // 7C 01FE
        gbc.setState(0xde28, 0x979d, 0x7b20, 0x41fb, 0x2d01, 0x7b58, 0x1, 0x1);
        gbc.writeMem(0xde28, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x979d);
        EXPECT(gbc.pc(), 0xde29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde28), 0x7c);
        // 7C 01FF
        gbc.setState(0x791b, 0x818, 0x6250, 0xe310, 0x2da4, 0x1417, 0x0, 0x1);
        gbc.writeMem(0x791b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x818);
        EXPECT(gbc.pc(), 0x791c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0200
        gbc.setState(0x9b57, 0xbac7, 0x2ec0, 0x6412, 0xac6f, 0x88f0, 0x0, 0x0);
        gbc.writeMem(0x9b57, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xbac7);
        EXPECT(gbc.pc(), 0x9b58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b57), 0x7c);
        // 7C 0201
        gbc.setState(0x281c, 0xef3f, 0x6fb0, 0xdc52, 0xacb3, 0x3595, 0x1, 0x0);
        gbc.writeMem(0x281c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xef3f);
        EXPECT(gbc.pc(), 0x281d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0202
        gbc.setState(0x4444, 0xb83c, 0x98c0, 0xc654, 0x52dc, 0x6ee1, 0x0, 0x0);
        gbc.writeMem(0x4444, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xb83c);
        EXPECT(gbc.pc(), 0x4445);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0203
        gbc.setState(0x7502, 0xbec, 0x89a0, 0x5041, 0x4d71, 0x529, 0x1, 0x0);
        gbc.writeMem(0x7502, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xbec);
        EXPECT(gbc.pc(), 0x7503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0204
        gbc.setState(0xeeee, 0xa54a, 0x4690, 0x2dfe, 0x9e2, 0x7309, 0x0, 0x0);
        gbc.writeMem(0xeeee, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa54a);
        EXPECT(gbc.pc(), 0xeeef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeee), 0x7c);
        // 7C 0205
        gbc.setState(0x8e2b, 0xce5, 0xc310, 0xa029, 0x1f33, 0xbd31, 0x1, 0x0);
        gbc.writeMem(0x8e2b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xce5);
        EXPECT(gbc.pc(), 0x8e2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e2b), 0x7c);
        // 7C 0206
        gbc.setState(0x2b14, 0x32a0, 0x6e00, 0xf2ac, 0xe47b, 0x6a32, 0x0, 0x1);
        gbc.writeMem(0x2b14, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x32a0);
        EXPECT(gbc.pc(), 0x2b15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0207
        gbc.setState(0xeaf2, 0xcbdf, 0x5b00, 0x3ed2, 0xdb92, 0x72a2, 0x1, 0x0);
        gbc.writeMem(0xeaf2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xcbdf);
        EXPECT(gbc.pc(), 0xeaf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaf2), 0x7c);
        // 7C 0208
        gbc.setState(0x8fa0, 0x77b4, 0x10a0, 0xb91f, 0x8ea8, 0xdbf, 0x1, 0x1);
        gbc.writeMem(0x8fa0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x77b4);
        EXPECT(gbc.pc(), 0x8fa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fa0), 0x7c);
        // 7C 0209
        gbc.setState(0x774a, 0xb3cd, 0x6090, 0x34e8, 0x6c03, 0x56c3, 0x0, 0x0);
        gbc.writeMem(0x774a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb3cd);
        EXPECT(gbc.pc(), 0x774b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 020A
        gbc.setState(0xb848, 0x68d0, 0xd730, 0xdeac, 0x6b8c, 0x2f4, 0x0, 0x0);
        gbc.writeMem(0xb848, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x68d0);
        EXPECT(gbc.pc(), 0xb849);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb848), 0x7c);
        // 7C 020B
        gbc.setState(0x69d9, 0x805, 0xb100, 0x64f1, 0x19e7, 0xa0fb, 0x0, 0x1);
        gbc.writeMem(0x69d9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x805);
        EXPECT(gbc.pc(), 0x69da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 020C
        gbc.setState(0x98ca, 0x9df6, 0x4de0, 0xcc20, 0xcf75, 0x75bb, 0x1, 0x0);
        gbc.writeMem(0x98ca, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x9df6);
        EXPECT(gbc.pc(), 0x98cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98ca), 0x7c);
        // 7C 020D
        gbc.setState(0x5cac, 0xe7f3, 0x7870, 0xafdd, 0x5455, 0xf09f, 0x1, 0x0);
        gbc.writeMem(0x5cac, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xe7f3);
        EXPECT(gbc.pc(), 0x5cad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 020E
        gbc.setState(0xb370, 0x56a0, 0xa0e0, 0x7c61, 0x32a0, 0xd4e9, 0x1, 0x0);
        gbc.writeMem(0xb370, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x56a0);
        EXPECT(gbc.pc(), 0xb371);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb370), 0x7c);
        // 7C 020F
        gbc.setState(0x54c7, 0x1fa7, 0xd270, 0x1e7f, 0xcd27, 0x7168, 0x0, 0x0);
        gbc.writeMem(0x54c7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x1fa7);
        EXPECT(gbc.pc(), 0x54c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0210
        gbc.setState(0x5db8, 0x40ea, 0xc6b0, 0x1f6, 0x570c, 0xea94, 0x1, 0x0);
        gbc.writeMem(0x5db8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x40ea);
        EXPECT(gbc.pc(), 0x5db9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0211
        gbc.setState(0x8df0, 0x34c2, 0xa560, 0xa12c, 0x246, 0x9f79, 0x0, 0x1);
        gbc.writeMem(0x8df0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x34c2);
        EXPECT(gbc.pc(), 0x8df1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df0), 0x7c);
        // 7C 0212
        gbc.setState(0x24d4, 0x41dc, 0xe230, 0xa03b, 0x94f6, 0x6ca1, 0x0, 0x0);
        gbc.writeMem(0x24d4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x41dc);
        EXPECT(gbc.pc(), 0x24d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0214
        gbc.setState(0x9028, 0x220c, 0xf3b0, 0x2581, 0x7af7, 0xc3cf, 0x0, 0x0);
        gbc.writeMem(0x9028, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x220c);
        EXPECT(gbc.pc(), 0x9029);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9028), 0x7c);
        // 7C 0216
        gbc.setState(0xd7ea, 0x2871, 0x6540, 0x9971, 0x5374, 0xb8c5, 0x1, 0x0);
        gbc.writeMem(0xd7ea, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x2871);
        EXPECT(gbc.pc(), 0xd7eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7ea), 0x7c);
        // 7C 0217
        gbc.setState(0x2af7, 0xc23a, 0x520, 0x35a1, 0xd342, 0x834c, 0x1, 0x0);
        gbc.writeMem(0x2af7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xc23a);
        EXPECT(gbc.pc(), 0x2af8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0219
        gbc.setState(0x832e, 0x9f59, 0x4b20, 0x748f, 0xf659, 0xbcca, 0x1, 0x0);
        gbc.writeMem(0x832e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x9f59);
        EXPECT(gbc.pc(), 0x832f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x832e), 0x7c);
        // 7C 021A
        gbc.setState(0x746, 0x6db2, 0x3120, 0xabf3, 0x7764, 0x7e36, 0x0, 0x0);
        gbc.writeMem(0x746, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6db2);
        EXPECT(gbc.pc(), 0x747);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 021B
        gbc.setState(0x5b1, 0xc34f, 0x2dd0, 0x53ad, 0x9a44, 0x3fac, 0x1, 0x0);
        gbc.writeMem(0x5b1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc34f);
        EXPECT(gbc.pc(), 0x5b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 021C
        gbc.setState(0x3869, 0x7ae8, 0xccf0, 0x60f7, 0x6b8a, 0x9297, 0x1, 0x0);
        gbc.writeMem(0x3869, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x7ae8);
        EXPECT(gbc.pc(), 0x386a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 021D
        gbc.setState(0x19db, 0xf52, 0x9f20, 0xea53, 0x7e02, 0xc0be, 0x0, 0x1);
        gbc.writeMem(0x19db, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xf52);
        EXPECT(gbc.pc(), 0x19dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 021E
        gbc.setState(0x1330, 0x41d1, 0xc160, 0x34fa, 0x1694, 0x1fb3, 0x1, 0x0);
        gbc.writeMem(0x1330, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x41d1);
        EXPECT(gbc.pc(), 0x1331);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 021F
        gbc.setState(0xd1d0, 0xa8f6, 0xa7b0, 0xb1f, 0xc6b1, 0xabf8, 0x1, 0x1);
        gbc.writeMem(0xd1d0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xa8f6);
        EXPECT(gbc.pc(), 0xd1d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1d0), 0x7c);
        // 7C 0221
        gbc.setState(0x427a, 0x3130, 0xf6d0, 0x715a, 0xd083, 0x7ae7, 0x0, 0x1);
        gbc.writeMem(0x427a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3130);
        EXPECT(gbc.pc(), 0x427b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0223
        gbc.setState(0xd984, 0x90b7, 0xef90, 0x7515, 0x54d0, 0x28e1, 0x0, 0x1);
        gbc.writeMem(0xd984, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x90b7);
        EXPECT(gbc.pc(), 0xd985);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd984), 0x7c);
        // 7C 0224
        gbc.setState(0x6fab, 0x7781, 0x7c00, 0x83be, 0x5c87, 0xd66f, 0x0, 0x1);
        gbc.writeMem(0x6fab, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7781);
        EXPECT(gbc.pc(), 0x6fac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0225
        gbc.setState(0x20d2, 0x9f8a, 0xb600, 0x5bf2, 0xb58e, 0x7c60, 0x1, 0x0);
        gbc.writeMem(0x20d2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x9f8a);
        EXPECT(gbc.pc(), 0x20d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0226
        gbc.setState(0xec5f, 0x9029, 0x1bf0, 0x4dce, 0xb34, 0x9862, 0x0, 0x1);
        gbc.writeMem(0xec5f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x9029);
        EXPECT(gbc.pc(), 0xec60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec5f), 0x7c);
        // 7C 0227
        gbc.setState(0xce39, 0x65e6, 0x7eb0, 0x5ab2, 0x1346, 0x1566, 0x0, 0x1);
        gbc.writeMem(0xce39, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x65e6);
        EXPECT(gbc.pc(), 0xce3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce39), 0x7c);
        // 7C 0228
        gbc.setState(0xdb51, 0x1fda, 0x37a0, 0x37c7, 0xb79d, 0xe45a, 0x1, 0x0);
        gbc.writeMem(0xdb51, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1fda);
        EXPECT(gbc.pc(), 0xdb52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb51), 0x7c);
        // 7C 0229
        gbc.setState(0xc4dc, 0x9a84, 0x30c0, 0xb796, 0x2ec6, 0x5565, 0x0, 0x1);
        gbc.writeMem(0xc4dc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9a84);
        EXPECT(gbc.pc(), 0xc4dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4dc), 0x7c);
        // 7C 022A
        gbc.setState(0xec4f, 0xb6fa, 0x8e90, 0xf230, 0x23de, 0x1677, 0x0, 0x1);
        gbc.writeMem(0xec4f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb6fa);
        EXPECT(gbc.pc(), 0xec50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec4f), 0x7c);
        // 7C 022B
        gbc.setState(0x64bf, 0xa9d, 0xe650, 0xc53c, 0x1841, 0x9b4b, 0x1, 0x0);
        gbc.writeMem(0x64bf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xa9d);
        EXPECT(gbc.pc(), 0x64c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 022C
        gbc.setState(0xcafe, 0xd95, 0x7da0, 0x9116, 0x455e, 0xba06, 0x0, 0x0);
        gbc.writeMem(0xcafe, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd95);
        EXPECT(gbc.pc(), 0xcaff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcafe), 0x7c);
        // 7C 022D
        gbc.setState(0x8964, 0xfecb, 0x7a00, 0x6e7a, 0xa55e, 0xb38, 0x0, 0x0);
        gbc.writeMem(0x8964, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xfecb);
        EXPECT(gbc.pc(), 0x8965);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8964), 0x7c);
        // 7C 022E
        gbc.setState(0x5025, 0xebab, 0x7910, 0xa492, 0x969a, 0x3b33, 0x0, 0x1);
        gbc.writeMem(0x5025, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xebab);
        EXPECT(gbc.pc(), 0x5026);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 022F
        gbc.setState(0xb96e, 0x226d, 0xc720, 0x4bc7, 0xfae2, 0xceb3, 0x1, 0x0);
        gbc.writeMem(0xb96e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x226d);
        EXPECT(gbc.pc(), 0xb96f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb96e), 0x7c);
        // 7C 0230
        gbc.setState(0x1f95, 0xe3f6, 0xb060, 0x60c7, 0xf313, 0xff55, 0x0, 0x0);
        gbc.writeMem(0x1f95, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xe3f6);
        EXPECT(gbc.pc(), 0x1f96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0231
        gbc.setState(0xeedb, 0x4368, 0xdfe0, 0x9578, 0x2bb6, 0xe88d, 0x0, 0x1);
        gbc.writeMem(0xeedb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4368);
        EXPECT(gbc.pc(), 0xeedc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeedb), 0x7c);
        // 7C 0232
        gbc.setState(0x5b04, 0x1be, 0xe580, 0xa5ec, 0x5bf5, 0x595a, 0x1, 0x1);
        gbc.writeMem(0x5b04, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1be);
        EXPECT(gbc.pc(), 0x5b05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0233
        gbc.setState(0x2101, 0x4052, 0x92d0, 0xb525, 0x88a4, 0x51eb, 0x1, 0x0);
        gbc.writeMem(0x2101, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4052);
        EXPECT(gbc.pc(), 0x2102);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0234
        gbc.setState(0x73dd, 0x28d0, 0xa6e0, 0x9dc3, 0x10ef, 0xd6e8, 0x0, 0x1);
        gbc.writeMem(0x73dd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x28d0);
        EXPECT(gbc.pc(), 0x73de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0235
        gbc.setState(0xd4c6, 0x328f, 0x2050, 0x52dd, 0x8a30, 0x27a8, 0x1, 0x1);
        gbc.writeMem(0xd4c6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x328f);
        EXPECT(gbc.pc(), 0xd4c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4c6), 0x7c);
        // 7C 0236
        gbc.setState(0xd51c, 0x76d8, 0x7000, 0x8b7, 0x6236, 0xa88f, 0x0, 0x0);
        gbc.writeMem(0xd51c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x76d8);
        EXPECT(gbc.pc(), 0xd51d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd51c), 0x7c);
        // 7C 0237
        gbc.setState(0x1ba7, 0x4d, 0x2690, 0x4c54, 0xd874, 0xd1ad, 0x1, 0x0);
        gbc.writeMem(0x1ba7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x4d);
        EXPECT(gbc.pc(), 0x1ba8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0238
        gbc.setState(0x818f, 0xfe74, 0x29d0, 0x753, 0x5fd6, 0xa099, 0x0, 0x1);
        gbc.writeMem(0x818f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xfe74);
        EXPECT(gbc.pc(), 0x8190);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x818f), 0x7c);
        // 7C 0239
        gbc.setState(0x848a, 0x9810, 0x8460, 0x587d, 0xe8d1, 0x491c, 0x1, 0x0);
        gbc.writeMem(0x848a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9810);
        EXPECT(gbc.pc(), 0x848b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x848a), 0x7c);
        // 7C 023A
        gbc.setState(0x2297, 0x5d07, 0x800, 0xcbbf, 0x12b2, 0xdcaa, 0x1, 0x0);
        gbc.writeMem(0x2297, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5d07);
        EXPECT(gbc.pc(), 0x2298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 023B
        gbc.setState(0x1609, 0xc953, 0x6880, 0xa4e, 0xfbb5, 0x4467, 0x0, 0x0);
        gbc.writeMem(0x1609, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc953);
        EXPECT(gbc.pc(), 0x160a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 023C
        gbc.setState(0x9e16, 0x253c, 0x2ef0, 0x43e0, 0x4596, 0x9087, 0x0, 0x1);
        gbc.writeMem(0x9e16, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x253c);
        EXPECT(gbc.pc(), 0x9e17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e16), 0x7c);
        // 7C 023D
        gbc.setState(0x86f8, 0x6ccc, 0x690, 0xc24b, 0xe55, 0x4046, 0x1, 0x0);
        gbc.writeMem(0x86f8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x6ccc);
        EXPECT(gbc.pc(), 0x86f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86f8), 0x7c);
        // 7C 023E
        gbc.setState(0xe6bc, 0xc6b6, 0xbb00, 0x49ac, 0x23e7, 0x3a69, 0x1, 0x1);
        gbc.writeMem(0xe6bc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc6b6);
        EXPECT(gbc.pc(), 0xe6bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6bc), 0x7c);
        // 7C 023F
        gbc.setState(0x70e5, 0xe4c9, 0x31b0, 0x655c, 0x84cd, 0x86, 0x1, 0x0);
        gbc.writeMem(0x70e5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe4c9);
        EXPECT(gbc.pc(), 0x70e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0240
        gbc.setState(0xed73, 0x6bc4, 0x5f60, 0xccac, 0xc047, 0x280, 0x1, 0x1);
        gbc.writeMem(0xed73, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6bc4);
        EXPECT(gbc.pc(), 0xed74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed73), 0x7c);
        // 7C 0241
        gbc.setState(0xc4eb, 0x4eb7, 0xd1f0, 0xd02, 0xce7f, 0xe7b3, 0x1, 0x1);
        gbc.writeMem(0xc4eb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4eb7);
        EXPECT(gbc.pc(), 0xc4ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4eb), 0x7c);
        // 7C 0242
        gbc.setState(0xbeac, 0xfe49, 0x8620, 0x971b, 0x2638, 0xfe39, 0x0, 0x1);
        gbc.writeMem(0xbeac, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xfe49);
        EXPECT(gbc.pc(), 0xbead);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeac), 0x7c);
        // 7C 0243
        gbc.setState(0x87d1, 0xd79c, 0x49c0, 0xdda0, 0xbfaa, 0x8e51, 0x0, 0x0);
        gbc.writeMem(0x87d1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd79c);
        EXPECT(gbc.pc(), 0x87d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87d1), 0x7c);
        // 7C 0244
        gbc.setState(0x8d1f, 0x9d99, 0x2670, 0xfece, 0xc773, 0x66e1, 0x1, 0x0);
        gbc.writeMem(0x8d1f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x9d99);
        EXPECT(gbc.pc(), 0x8d20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d1f), 0x7c);
        // 7C 0245
        gbc.setState(0xa0a4, 0x316a, 0x4970, 0x6645, 0xaa63, 0x222f, 0x0, 0x1);
        gbc.writeMem(0xa0a4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x316a);
        EXPECT(gbc.pc(), 0xa0a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0a4), 0x7c);
        // 7C 0246
        gbc.setState(0xb6bc, 0xef06, 0xdb70, 0x7c61, 0x155c, 0x78f2, 0x1, 0x0);
        gbc.writeMem(0xb6bc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xef06);
        EXPECT(gbc.pc(), 0xb6bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6bc), 0x7c);
        // 7C 0247
        gbc.setState(0xdf01, 0x6103, 0x8100, 0x38e4, 0x4418, 0x4d51, 0x0, 0x0);
        gbc.writeMem(0xdf01, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x6103);
        EXPECT(gbc.pc(), 0xdf02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf01), 0x7c);
        // 7C 0248
        gbc.setState(0x8019, 0x1834, 0xbf40, 0xe3db, 0x844f, 0xf071, 0x1, 0x1);
        gbc.writeMem(0x8019, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x1834);
        EXPECT(gbc.pc(), 0x801a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8019), 0x7c);
        // 7C 0249
        gbc.setState(0xeecc, 0x7245, 0xaa50, 0xc6ad, 0x264e, 0xe088, 0x1, 0x0);
        gbc.writeMem(0xeecc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x7245);
        EXPECT(gbc.pc(), 0xeecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeecc), 0x7c);
        // 7C 024A
        gbc.setState(0xb511, 0xf90d, 0x2c0, 0xb4da, 0x137a, 0x874, 0x1, 0x0);
        gbc.writeMem(0xb511, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xf90d);
        EXPECT(gbc.pc(), 0xb512);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb511), 0x7c);
        // 7C 024B
        gbc.setState(0x45b4, 0x6608, 0x2b40, 0x7e6b, 0x5dd4, 0xe629, 0x1, 0x1);
        gbc.writeMem(0x45b4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x6608);
        EXPECT(gbc.pc(), 0x45b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 024C
        gbc.setState(0xbe26, 0x242a, 0xb3f0, 0x1029, 0x1e2b, 0xfea0, 0x1, 0x1);
        gbc.writeMem(0xbe26, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x242a);
        EXPECT(gbc.pc(), 0xbe27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe26), 0x7c);
        // 7C 024D
        gbc.setState(0x59af, 0xe5d3, 0xc5f0, 0xf064, 0x5fd2, 0xd83d, 0x1, 0x1);
        gbc.writeMem(0x59af, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe5d3);
        EXPECT(gbc.pc(), 0x59b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 024E
        gbc.setState(0x1095, 0xfc9c, 0x6d10, 0xf16e, 0xbea0, 0x9be8, 0x0, 0x1);
        gbc.writeMem(0x1095, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfc9c);
        EXPECT(gbc.pc(), 0x1096);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 024F
        gbc.setState(0x9259, 0x4332, 0xe8e0, 0x63a8, 0x5c04, 0xc270, 0x1, 0x0);
        gbc.writeMem(0x9259, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4332);
        EXPECT(gbc.pc(), 0x925a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9259), 0x7c);
        // 7C 0250
        gbc.setState(0x91fd, 0xeaee, 0xd470, 0x1a8a, 0xecbf, 0xf187, 0x0, 0x0);
        gbc.writeMem(0x91fd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xeaee);
        EXPECT(gbc.pc(), 0x91fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91fd), 0x7c);
        // 7C 0251
        gbc.setState(0xce3a, 0xe6ac, 0x8640, 0xa30b, 0xee21, 0xedb8, 0x1, 0x0);
        gbc.writeMem(0xce3a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe6ac);
        EXPECT(gbc.pc(), 0xce3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce3a), 0x7c);
        // 7C 0252
        gbc.setState(0x3323, 0x9d5d, 0x94f0, 0x7ef9, 0x1579, 0x4c20, 0x1, 0x0);
        gbc.writeMem(0x3323, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9d5d);
        EXPECT(gbc.pc(), 0x3324);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0253
        gbc.setState(0x968b, 0x87d2, 0xf550, 0x2464, 0x3aa6, 0xa641, 0x1, 0x0);
        gbc.writeMem(0x968b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x87d2);
        EXPECT(gbc.pc(), 0x968c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x968b), 0x7c);
        // 7C 0254
        gbc.setState(0x523d, 0x3a60, 0x90f0, 0x7e6e, 0x879c, 0x7834, 0x0, 0x0);
        gbc.writeMem(0x523d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3a60);
        EXPECT(gbc.pc(), 0x523e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0255
        gbc.setState(0x9b3d, 0x79c0, 0x4620, 0x9bda, 0xe32f, 0x9cdb, 0x0, 0x0);
        gbc.writeMem(0x9b3d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x79c0);
        EXPECT(gbc.pc(), 0x9b3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b3d), 0x7c);
        // 7C 0256
        gbc.setState(0x6799, 0x3731, 0x90, 0xa521, 0xdaf, 0xac3c, 0x1, 0x0);
        gbc.writeMem(0x6799, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3731);
        EXPECT(gbc.pc(), 0x679a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0257
        gbc.setState(0x8425, 0xa5ae, 0x8cc0, 0x2fca, 0x9812, 0x5667, 0x0, 0x1);
        gbc.writeMem(0x8425, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa5ae);
        EXPECT(gbc.pc(), 0x8426);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8425), 0x7c);
        // 7C 0258
        gbc.setState(0x80b6, 0x35df, 0xd2e0, 0x25a1, 0xf43b, 0xb949, 0x0, 0x1);
        gbc.writeMem(0x80b6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x35df);
        EXPECT(gbc.pc(), 0x80b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80b6), 0x7c);
        // 7C 0259
        gbc.setState(0x85d0, 0xf12b, 0x6fa0, 0x782d, 0xf7db, 0xb27a, 0x1, 0x0);
        gbc.writeMem(0x85d0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf12b);
        EXPECT(gbc.pc(), 0x85d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85d0), 0x7c);
        // 7C 025A
        gbc.setState(0xcdb5, 0x1739, 0xd850, 0xdbd7, 0xb258, 0xf966, 0x0, 0x0);
        gbc.writeMem(0xcdb5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x1739);
        EXPECT(gbc.pc(), 0xcdb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdb5), 0x7c);
        // 7C 025B
        gbc.setState(0x783a, 0x30b7, 0xfb00, 0xa55f, 0x885b, 0x8496, 0x0, 0x1);
        gbc.writeMem(0x783a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x30b7);
        EXPECT(gbc.pc(), 0x783b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 025C
        gbc.setState(0x8196, 0x7b8, 0xdef0, 0xe9c, 0x2dcd, 0xbc62, 0x1, 0x0);
        gbc.writeMem(0x8196, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x7b8);
        EXPECT(gbc.pc(), 0x8197);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8196), 0x7c);
        // 7C 025D
        gbc.setState(0xc46f, 0xa230, 0xa4f0, 0x78ad, 0x543a, 0xfb4a, 0x0, 0x1);
        gbc.writeMem(0xc46f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa230);
        EXPECT(gbc.pc(), 0xc470);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc46f), 0x7c);
        // 7C 025E
        gbc.setState(0xe7fa, 0x2c8a, 0x7810, 0x3742, 0x2df4, 0xc715, 0x0, 0x1);
        gbc.writeMem(0xe7fa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x2c8a);
        EXPECT(gbc.pc(), 0xe7fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7fa), 0x7c);
        // 7C 025F
        gbc.setState(0x531e, 0xa237, 0xbd60, 0xeb0a, 0x2ca5, 0xc121, 0x1, 0x1);
        gbc.writeMem(0x531e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xa237);
        EXPECT(gbc.pc(), 0x531f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0260
        gbc.setState(0xaeb0, 0x7a15, 0x3660, 0x9efa, 0xb023, 0x6cd7, 0x0, 0x0);
        gbc.writeMem(0xaeb0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x7a15);
        EXPECT(gbc.pc(), 0xaeb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaeb0), 0x7c);
        // 7C 0261
        gbc.setState(0x1781, 0xeb0e, 0xa9f0, 0xf7b5, 0xa38d, 0xc699, 0x1, 0x0);
        gbc.writeMem(0x1781, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xeb0e);
        EXPECT(gbc.pc(), 0x1782);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0262
        gbc.setState(0x2b7d, 0xb81e, 0x3520, 0x9b7d, 0x8bbe, 0x3000, 0x0, 0x1);
        gbc.writeMem(0x2b7d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb81e);
        EXPECT(gbc.pc(), 0x2b7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0263
        gbc.setState(0x59af, 0x5780, 0xc840, 0x9202, 0xbdeb, 0x7a3b, 0x1, 0x1);
        gbc.writeMem(0x59af, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x5780);
        EXPECT(gbc.pc(), 0x59b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0264
        gbc.setState(0x6ec5, 0x601f, 0x4ce0, 0x4394, 0xc3e1, 0x4b31, 0x0, 0x1);
        gbc.writeMem(0x6ec5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x601f);
        EXPECT(gbc.pc(), 0x6ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0265
        gbc.setState(0xc254, 0xf72a, 0xcad0, 0x318b, 0x5f4c, 0x3b5, 0x0, 0x1);
        gbc.writeMem(0xc254, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf72a);
        EXPECT(gbc.pc(), 0xc255);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc254), 0x7c);
        // 7C 0266
        gbc.setState(0xed03, 0xfcaa, 0xba80, 0x4802, 0x1c24, 0xd3e4, 0x1, 0x0);
        gbc.writeMem(0xed03, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xfcaa);
        EXPECT(gbc.pc(), 0xed04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed03), 0x7c);
        // 7C 0267
        gbc.setState(0xd30, 0x730f, 0xf7f0, 0x2427, 0xd613, 0x3303, 0x1, 0x1);
        gbc.writeMem(0xd30, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x730f);
        EXPECT(gbc.pc(), 0xd31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0268
        gbc.setState(0x983e, 0xe90f, 0x7480, 0x7fde, 0xab12, 0x98fb, 0x1, 0x1);
        gbc.writeMem(0x983e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xe90f);
        EXPECT(gbc.pc(), 0x983f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x983e), 0x7c);
        // 7C 0269
        gbc.setState(0xa65f, 0xa02a, 0xf910, 0x95ce, 0x6327, 0x8a2b, 0x1, 0x1);
        gbc.writeMem(0xa65f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xa02a);
        EXPECT(gbc.pc(), 0xa660);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa65f), 0x7c);
        // 7C 026A
        gbc.setState(0x74d5, 0x236c, 0xe030, 0xe65d, 0xbea3, 0xdcb6, 0x0, 0x0);
        gbc.writeMem(0x74d5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x236c);
        EXPECT(gbc.pc(), 0x74d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 026B
        gbc.setState(0x40, 0x345d, 0xce20, 0xc011, 0x2f8a, 0x5966, 0x1, 0x1);
        gbc.writeMem(0x40, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x345d);
        EXPECT(gbc.pc(), 0x41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 026C
        gbc.setState(0x3813, 0x8c9, 0x1d40, 0x8c57, 0x53df, 0xdb92, 0x1, 0x1);
        gbc.writeMem(0x3813, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8c9);
        EXPECT(gbc.pc(), 0x3814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 026D
        gbc.setState(0x7ad4, 0xc253, 0x5ee0, 0xe5f, 0xca3f, 0x7085, 0x1, 0x0);
        gbc.writeMem(0x7ad4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xc253);
        EXPECT(gbc.pc(), 0x7ad5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 026E
        gbc.setState(0x8138, 0x5c35, 0x3cb0, 0x2d5d, 0x9123, 0xa39b, 0x0, 0x1);
        gbc.writeMem(0x8138, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x5c35);
        EXPECT(gbc.pc(), 0x8139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8138), 0x7c);
        // 7C 026F
        gbc.setState(0x74a8, 0x857e, 0x6b60, 0xb6e1, 0xf21e, 0x2d59, 0x1, 0x0);
        gbc.writeMem(0x74a8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x857e);
        EXPECT(gbc.pc(), 0x74a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0270
        gbc.setState(0x9d50, 0xa69, 0x87f0, 0x2cf6, 0x1844, 0xb6cd, 0x1, 0x1);
        gbc.writeMem(0x9d50, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xa69);
        EXPECT(gbc.pc(), 0x9d51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d50), 0x7c);
        // 7C 0271
        gbc.setState(0xb0a2, 0x62d2, 0xf900, 0xa357, 0x9734, 0x4eef, 0x1, 0x1);
        gbc.writeMem(0xb0a2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x62d2);
        EXPECT(gbc.pc(), 0xb0a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0a2), 0x7c);
        // 7C 0272
        gbc.setState(0xa977, 0x13da, 0xcd00, 0x47a5, 0xfd1a, 0xb089, 0x0, 0x0);
        gbc.writeMem(0xa977, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x13da);
        EXPECT(gbc.pc(), 0xa978);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa977), 0x7c);
        // 7C 0273
        gbc.setState(0xa615, 0x972d, 0xb620, 0x9e9c, 0xd30f, 0x96c7, 0x0, 0x0);
        gbc.writeMem(0xa615, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x972d);
        EXPECT(gbc.pc(), 0xa616);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa615), 0x7c);
        // 7C 0274
        gbc.setState(0xd6a6, 0xde18, 0x9d0, 0xce3e, 0x7ffb, 0xc1e7, 0x0, 0x0);
        gbc.writeMem(0xd6a6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xde18);
        EXPECT(gbc.pc(), 0xd6a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6a6), 0x7c);
        // 7C 0275
        gbc.setState(0x157c, 0xcae8, 0x4120, 0xf6eb, 0x6a70, 0x4019, 0x1, 0x1);
        gbc.writeMem(0x157c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xcae8);
        EXPECT(gbc.pc(), 0x157d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0276
        gbc.setState(0x8b20, 0xe9aa, 0x3be0, 0x83a7, 0x6718, 0x5991, 0x0, 0x0);
        gbc.writeMem(0x8b20, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xe9aa);
        EXPECT(gbc.pc(), 0x8b21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b20), 0x7c);
        // 7C 0277
        gbc.setState(0xe1f2, 0xc41f, 0x7850, 0x63d3, 0xd34d, 0xb9f5, 0x0, 0x1);
        gbc.writeMem(0xe1f2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xc41f);
        EXPECT(gbc.pc(), 0xe1f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1f2), 0x7c);
        // 7C 0278
        gbc.setState(0xc3bb, 0xde27, 0xce40, 0xee36, 0xeaed, 0x7d89, 0x1, 0x0);
        gbc.writeMem(0xc3bb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xde27);
        EXPECT(gbc.pc(), 0xc3bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3bb), 0x7c);
        // 7C 0279
        gbc.setState(0x18e4, 0x9714, 0x4c80, 0x5309, 0xf596, 0x187a, 0x1, 0x1);
        gbc.writeMem(0x18e4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x9714);
        EXPECT(gbc.pc(), 0x18e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 027A
        gbc.setState(0x5dca, 0x4359, 0xa5c0, 0x5f16, 0xdd0a, 0xf3b6, 0x1, 0x0);
        gbc.writeMem(0x5dca, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x4359);
        EXPECT(gbc.pc(), 0x5dcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 027B
        gbc.setState(0x4bff, 0x885f, 0x8200, 0xec2e, 0xd006, 0xc784, 0x1, 0x0);
        gbc.writeMem(0x4bff, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x885f);
        EXPECT(gbc.pc(), 0x4c00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 027C
        gbc.setState(0x3570, 0x5ee6, 0xd370, 0xe333, 0xde1f, 0xc82d, 0x1, 0x0);
        gbc.writeMem(0x3570, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5ee6);
        EXPECT(gbc.pc(), 0x3571);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 027D
        gbc.setState(0x501a, 0xea90, 0xd3a0, 0xf92c, 0xf5b2, 0x6c65, 0x1, 0x1);
        gbc.writeMem(0x501a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xea90);
        EXPECT(gbc.pc(), 0x501b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 027E
        gbc.setState(0x7726, 0x2497, 0xb5f0, 0xa25e, 0x53f8, 0x8de6, 0x1, 0x1);
        gbc.writeMem(0x7726, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2497);
        EXPECT(gbc.pc(), 0x7727);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 027F
        gbc.setState(0xa5f6, 0x9f49, 0xc5e0, 0x9ecd, 0xf0f1, 0x992b, 0x1, 0x0);
        gbc.writeMem(0xa5f6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9f49);
        EXPECT(gbc.pc(), 0xa5f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5f6), 0x7c);
        // 7C 0280
        gbc.setState(0xa11b, 0xdba8, 0x7f40, 0x4896, 0xb963, 0x1c45, 0x0, 0x1);
        gbc.writeMem(0xa11b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xdba8);
        EXPECT(gbc.pc(), 0xa11c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa11b), 0x7c);
        // 7C 0281
        gbc.setState(0x1ff7, 0xd954, 0x89d0, 0xd7fa, 0x595d, 0xde86, 0x1, 0x1);
        gbc.writeMem(0x1ff7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd954);
        EXPECT(gbc.pc(), 0x1ff8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0282
        gbc.setState(0xba91, 0xd842, 0x6e70, 0x565d, 0x4865, 0xa688, 0x1, 0x1);
        gbc.writeMem(0xba91, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xd842);
        EXPECT(gbc.pc(), 0xba92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba91), 0x7c);
        // 7C 0283
        gbc.setState(0x8e86, 0x79ba, 0x7ef0, 0x507, 0xe396, 0x141c, 0x0, 0x1);
        gbc.writeMem(0x8e86, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x79ba);
        EXPECT(gbc.pc(), 0x8e87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e86), 0x7c);
        // 7C 0284
        gbc.setState(0xa80a, 0x97da, 0x3d60, 0x4b61, 0x2dc9, 0xa5e2, 0x0, 0x0);
        gbc.writeMem(0xa80a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x97da);
        EXPECT(gbc.pc(), 0xa80b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa80a), 0x7c);
        // 7C 0285
        gbc.setState(0x2ff7, 0x176f, 0xdd20, 0x8209, 0x5b1, 0x8d88, 0x1, 0x1);
        gbc.writeMem(0x2ff7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x176f);
        EXPECT(gbc.pc(), 0x2ff8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0287
        gbc.setState(0x3785, 0x2162, 0x8e20, 0xfaeb, 0x7301, 0xb4a, 0x1, 0x1);
        gbc.writeMem(0x3785, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2162);
        EXPECT(gbc.pc(), 0x3786);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0288
        gbc.setState(0x352b, 0xe693, 0xdad0, 0x5f9d, 0xcf64, 0xaf84, 0x0, 0x1);
        gbc.writeMem(0x352b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe693);
        EXPECT(gbc.pc(), 0x352c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0289
        gbc.setState(0x65b4, 0x2722, 0xc680, 0x6d04, 0x74be, 0x9fd9, 0x1, 0x1);
        gbc.writeMem(0x65b4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x2722);
        EXPECT(gbc.pc(), 0x65b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 028A
        gbc.setState(0x3c1d, 0x4b1c, 0x48f0, 0x829, 0x7dff, 0x8147, 0x1, 0x0);
        gbc.writeMem(0x3c1d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4b1c);
        EXPECT(gbc.pc(), 0x3c1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 028B
        gbc.setState(0xbe10, 0x8d48, 0xdf90, 0xed4c, 0xae26, 0x296f, 0x1, 0x1);
        gbc.writeMem(0xbe10, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x8d48);
        EXPECT(gbc.pc(), 0xbe11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe10), 0x7c);
        // 7C 028C
        gbc.setState(0xe033, 0xb317, 0xa2d0, 0x9586, 0xff92, 0x8662, 0x0, 0x1);
        gbc.writeMem(0xe033, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xb317);
        EXPECT(gbc.pc(), 0xe034);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe033), 0x7c);
        // 7C 028D
        gbc.setState(0x9047, 0x184f, 0xf3d0, 0xd859, 0x66cc, 0xdd5d, 0x1, 0x0);
        gbc.writeMem(0x9047, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x184f);
        EXPECT(gbc.pc(), 0x9048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9047), 0x7c);
        // 7C 028E
        gbc.setState(0x24d5, 0x3d4e, 0xde20, 0xb0d5, 0x756b, 0x88f7, 0x0, 0x1);
        gbc.writeMem(0x24d5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3d4e);
        EXPECT(gbc.pc(), 0x24d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 028F
        gbc.setState(0x22b3, 0x2648, 0x4d40, 0xf112, 0xa3bd, 0xf8bd, 0x0, 0x0);
        gbc.writeMem(0x22b3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x2648);
        EXPECT(gbc.pc(), 0x22b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0290
        gbc.setState(0x2d99, 0x20fd, 0x63a0, 0x5bc8, 0xe126, 0x12c, 0x1, 0x0);
        gbc.writeMem(0x2d99, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x20fd);
        EXPECT(gbc.pc(), 0x2d9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0291
        gbc.setState(0xdbce, 0x75a8, 0xf3c0, 0x3396, 0xabeb, 0xf824, 0x1, 0x0);
        gbc.writeMem(0xdbce, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x75a8);
        EXPECT(gbc.pc(), 0xdbcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbce), 0x7c);
        // 7C 0292
        gbc.setState(0x8204, 0xa7cc, 0xa2c0, 0x6b75, 0x3bfd, 0x63bd, 0x1, 0x0);
        gbc.writeMem(0x8204, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa7cc);
        EXPECT(gbc.pc(), 0x8205);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8204), 0x7c);
        // 7C 0293
        gbc.setState(0x19a9, 0xc611, 0x69c0, 0xe293, 0xe420, 0xb3af, 0x0, 0x1);
        gbc.writeMem(0x19a9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xc611);
        EXPECT(gbc.pc(), 0x19aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0294
        gbc.setState(0xd276, 0x63ca, 0x46e0, 0x9ed4, 0x47d7, 0xbe4e, 0x0, 0x0);
        gbc.writeMem(0xd276, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x63ca);
        EXPECT(gbc.pc(), 0xd277);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd276), 0x7c);
        // 7C 0295
        gbc.setState(0x264, 0x2ff5, 0x9c60, 0x5244, 0x16bc, 0x23d0, 0x1, 0x1);
        gbc.writeMem(0x264, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x2ff5);
        EXPECT(gbc.pc(), 0x265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0296
        gbc.setState(0x2b5b, 0xef4d, 0x9470, 0x9c3b, 0x92ab, 0xe61, 0x1, 0x0);
        gbc.writeMem(0x2b5b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xef4d);
        EXPECT(gbc.pc(), 0x2b5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0297
        gbc.setState(0x7f31, 0x71d2, 0x6e10, 0x52b9, 0x2de7, 0xc7c5, 0x1, 0x1);
        gbc.writeMem(0x7f31, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x71d2);
        EXPECT(gbc.pc(), 0x7f32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0298
        gbc.setState(0x64b9, 0xb327, 0x38b0, 0x556a, 0x1569, 0xf415, 0x1, 0x0);
        gbc.writeMem(0x64b9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb327);
        EXPECT(gbc.pc(), 0x64ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0299
        gbc.setState(0xa6a8, 0xaa03, 0x26d0, 0x7ca1, 0x534a, 0x5615, 0x0, 0x0);
        gbc.writeMem(0xa6a8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xaa03);
        EXPECT(gbc.pc(), 0xa6a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6a8), 0x7c);
        // 7C 029A
        gbc.setState(0x73a3, 0x917a, 0x5e20, 0x4f63, 0x7274, 0xe64f, 0x1, 0x1);
        gbc.writeMem(0x73a3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x917a);
        EXPECT(gbc.pc(), 0x73a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 029B
        gbc.setState(0x10bd, 0x1c70, 0xa4b0, 0x4ea0, 0xa412, 0x92ad, 0x1, 0x1);
        gbc.writeMem(0x10bd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1c70);
        EXPECT(gbc.pc(), 0x10be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 029C
        gbc.setState(0x25b2, 0xae4f, 0x2cc0, 0x8027, 0xe856, 0x8b16, 0x1, 0x1);
        gbc.writeMem(0x25b2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xae4f);
        EXPECT(gbc.pc(), 0x25b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 029D
        gbc.setState(0x6578, 0x8adf, 0x6c30, 0x2208, 0xa38e, 0x5cb9, 0x1, 0x0);
        gbc.writeMem(0x6578, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x8adf);
        EXPECT(gbc.pc(), 0x6579);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 029E
        gbc.setState(0xdb6, 0x23b3, 0xc460, 0xd579, 0x88d7, 0xbb59, 0x0, 0x0);
        gbc.writeMem(0xdb6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x23b3);
        EXPECT(gbc.pc(), 0xdb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 029F
        gbc.setState(0x243b, 0x6cab, 0x2690, 0x1c2f, 0x91d9, 0xa214, 0x0, 0x1);
        gbc.writeMem(0x243b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6cab);
        EXPECT(gbc.pc(), 0x243c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02A0
        gbc.setState(0x7ff2, 0xecd3, 0xca40, 0x39f4, 0x691e, 0xeae8, 0x1, 0x0);
        gbc.writeMem(0x7ff2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xecd3);
        EXPECT(gbc.pc(), 0x7ff3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02A1
        gbc.setState(0x44a0, 0xf48, 0x9160, 0xd288, 0x8479, 0xbe35, 0x0, 0x0);
        gbc.writeMem(0x44a0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf48);
        EXPECT(gbc.pc(), 0x44a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02A3
        gbc.setState(0xde83, 0x17d5, 0xdfb0, 0x45d0, 0x9af1, 0x9118, 0x0, 0x0);
        gbc.writeMem(0xde83, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x17d5);
        EXPECT(gbc.pc(), 0xde84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde83), 0x7c);
        // 7C 02A4
        gbc.setState(0x4001, 0x3f82, 0xcd00, 0x6031, 0x3c32, 0xd7d7, 0x1, 0x0);
        gbc.writeMem(0x4001, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x3f82);
        EXPECT(gbc.pc(), 0x4002);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02A5
        gbc.setState(0xd646, 0x8b82, 0x350, 0xf29d, 0x73d2, 0x4ca1, 0x0, 0x1);
        gbc.writeMem(0xd646, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8b82);
        EXPECT(gbc.pc(), 0xd647);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd646), 0x7c);
        // 7C 02A6
        gbc.setState(0x2ece, 0x3d87, 0x8a00, 0xd7b, 0xeff5, 0x4336, 0x1, 0x1);
        gbc.writeMem(0x2ece, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3d87);
        EXPECT(gbc.pc(), 0x2ecf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02A7
        gbc.setState(0x7de1, 0x7e25, 0xe930, 0x583d, 0x1150, 0xd5bb, 0x0, 0x0);
        gbc.writeMem(0x7de1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7e25);
        EXPECT(gbc.pc(), 0x7de2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 02A8
        gbc.setState(0x933e, 0xf59c, 0x7850, 0x435d, 0x5c15, 0x3091, 0x0, 0x0);
        gbc.writeMem(0x933e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xf59c);
        EXPECT(gbc.pc(), 0x933f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x933e), 0x7c);
        // 7C 02AA
        gbc.setState(0x8446, 0x6b14, 0x6ce0, 0xebca, 0xd5a8, 0x4d21, 0x1, 0x1);
        gbc.writeMem(0x8446, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6b14);
        EXPECT(gbc.pc(), 0x8447);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8446), 0x7c);
        // 7C 02AB
        gbc.setState(0x590c, 0x980e, 0x4de0, 0x1437, 0x4fa9, 0xe655, 0x0, 0x0);
        gbc.writeMem(0x590c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x980e);
        EXPECT(gbc.pc(), 0x590d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02AC
        gbc.setState(0x806e, 0xe861, 0x3a30, 0x52d, 0xb186, 0xc777, 0x0, 0x1);
        gbc.writeMem(0x806e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe861);
        EXPECT(gbc.pc(), 0x806f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x806e), 0x7c);
        // 7C 02AD
        gbc.setState(0x36c, 0x1dff, 0x5c70, 0xfd81, 0xbf71, 0xad6, 0x0, 0x0);
        gbc.writeMem(0x36c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x1dff);
        EXPECT(gbc.pc(), 0x36d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 02AE
        gbc.setState(0xa1c4, 0xfe7f, 0x58c0, 0x48ee, 0x3c7f, 0x7a90, 0x1, 0x1);
        gbc.writeMem(0xa1c4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xfe7f);
        EXPECT(gbc.pc(), 0xa1c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1c4), 0x7c);
        // 7C 02AF
        gbc.setState(0x3ce9, 0x1816, 0x3ba0, 0xa75f, 0x6f78, 0xf83f, 0x0, 0x0);
        gbc.writeMem(0x3ce9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1816);
        EXPECT(gbc.pc(), 0x3cea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02B0
        gbc.setState(0xae9c, 0x4092, 0xbfe0, 0x205, 0xa301, 0x718e, 0x0, 0x1);
        gbc.writeMem(0xae9c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4092);
        EXPECT(gbc.pc(), 0xae9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae9c), 0x7c);
        // 7C 02B1
        gbc.setState(0xbea3, 0xa1e4, 0xbeb0, 0xb1bf, 0xac20, 0x7d45, 0x0, 0x0);
        gbc.writeMem(0xbea3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa1e4);
        EXPECT(gbc.pc(), 0xbea4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbea3), 0x7c);
        // 7C 02B2
        gbc.setState(0xaef5, 0x7e88, 0x2780, 0x6e46, 0x50d8, 0x3b2c, 0x1, 0x0);
        gbc.writeMem(0xaef5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x7e88);
        EXPECT(gbc.pc(), 0xaef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaef5), 0x7c);
        // 7C 02B3
        gbc.setState(0x4f55, 0x50f3, 0x3010, 0xc678, 0xa47, 0xfcc3, 0x0, 0x1);
        gbc.writeMem(0x4f55, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x50f3);
        EXPECT(gbc.pc(), 0x4f56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02B4
        gbc.setState(0xaae3, 0x94a0, 0xe810, 0x8df2, 0x3ede, 0x7eb9, 0x1, 0x0);
        gbc.writeMem(0xaae3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x94a0);
        EXPECT(gbc.pc(), 0xaae4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaae3), 0x7c);
        // 7C 02B5
        gbc.setState(0xebce, 0xf75c, 0x84d0, 0x9f08, 0x9c70, 0x8db6, 0x0, 0x1);
        gbc.writeMem(0xebce, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf75c);
        EXPECT(gbc.pc(), 0xebcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebce), 0x7c);
        // 7C 02B6
        gbc.setState(0x10ba, 0x7d4e, 0x6c10, 0x1d2b, 0xc210, 0x4243, 0x0, 0x0);
        gbc.writeMem(0x10ba, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7d4e);
        EXPECT(gbc.pc(), 0x10bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02B7
        gbc.setState(0xd92d, 0x405b, 0xe5b0, 0x34a1, 0xe480, 0x9c5, 0x0, 0x0);
        gbc.writeMem(0xd92d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x405b);
        EXPECT(gbc.pc(), 0xd92e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd92d), 0x7c);
        // 7C 02B8
        gbc.setState(0x1de1, 0x103b, 0x15d0, 0xd646, 0xb7f9, 0x483f, 0x0, 0x0);
        gbc.writeMem(0x1de1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x103b);
        EXPECT(gbc.pc(), 0x1de2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02B9
        gbc.setState(0xcfa5, 0xaceb, 0x68b0, 0xb61e, 0x30eb, 0x68d, 0x0, 0x1);
        gbc.writeMem(0xcfa5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xaceb);
        EXPECT(gbc.pc(), 0xcfa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfa5), 0x7c);
        // 7C 02BA
        gbc.setState(0xea13, 0x7bc0, 0xc290, 0x44b8, 0xc8dd, 0x13c9, 0x1, 0x1);
        gbc.writeMem(0xea13, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7bc0);
        EXPECT(gbc.pc(), 0xea14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea13), 0x7c);
        // 7C 02BB
        gbc.setState(0x91be, 0xe514, 0x7f80, 0xcee1, 0x7c53, 0xe80f, 0x0, 0x0);
        gbc.writeMem(0x91be, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xe514);
        EXPECT(gbc.pc(), 0x91bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91be), 0x7c);
        // 7C 02BC
        gbc.setState(0xdcb4, 0x3e67, 0x6f60, 0x38b1, 0xbde8, 0xd31a, 0x1, 0x0);
        gbc.writeMem(0xdcb4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3e67);
        EXPECT(gbc.pc(), 0xdcb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcb4), 0x7c);
        // 7C 02BD
        gbc.setState(0x3400, 0xa1d3, 0x5180, 0xe165, 0x57ec, 0xd4d0, 0x1, 0x1);
        gbc.writeMem(0x3400, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xa1d3);
        EXPECT(gbc.pc(), 0x3401);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02BE
        gbc.setState(0x884f, 0x579, 0x3d20, 0x4097, 0xe57d, 0xb99, 0x1, 0x0);
        gbc.writeMem(0x884f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x579);
        EXPECT(gbc.pc(), 0x8850);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x884f), 0x7c);
        // 7C 02BF
        gbc.setState(0x5471, 0xc461, 0x15e0, 0xc9aa, 0x2eb0, 0x1be4, 0x0, 0x1);
        gbc.writeMem(0x5471, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc461);
        EXPECT(gbc.pc(), 0x5472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02C0
        gbc.setState(0xee53, 0x1c70, 0x3a80, 0x8bc0, 0xd78f, 0x66d1, 0x0, 0x0);
        gbc.writeMem(0xee53, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1c70);
        EXPECT(gbc.pc(), 0xee54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee53), 0x7c);
        // 7C 02C2
        gbc.setState(0x550d, 0xa144, 0x36d0, 0x4584, 0x4892, 0x1911, 0x0, 0x0);
        gbc.writeMem(0x550d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa144);
        EXPECT(gbc.pc(), 0x550e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02C3
        gbc.setState(0x6ea9, 0x30b8, 0x19b0, 0xd9d0, 0x7e5a, 0x6180, 0x1, 0x1);
        gbc.writeMem(0x6ea9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x30b8);
        EXPECT(gbc.pc(), 0x6eaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 02C5
        gbc.setState(0x823e, 0xd006, 0xc6a0, 0x20e3, 0x4602, 0x421a, 0x0, 0x0);
        gbc.writeMem(0x823e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd006);
        EXPECT(gbc.pc(), 0x823f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x823e), 0x7c);
        // 7C 02C8
        gbc.setState(0x894f, 0xb635, 0x6a90, 0x3fc3, 0xd26, 0x5c54, 0x0, 0x1);
        gbc.writeMem(0x894f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xb635);
        EXPECT(gbc.pc(), 0x8950);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x894f), 0x7c);
        // 7C 02C9
        gbc.setState(0x3115, 0xf89f, 0x8660, 0xf3, 0x2d59, 0xe38d, 0x1, 0x1);
        gbc.writeMem(0x3115, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf89f);
        EXPECT(gbc.pc(), 0x3116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02CA
        gbc.setState(0xa730, 0x760f, 0x2af0, 0x6cfd, 0x5415, 0xc3ec, 0x0, 0x0);
        gbc.writeMem(0xa730, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x760f);
        EXPECT(gbc.pc(), 0xa731);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa730), 0x7c);
        // 7C 02CB
        gbc.setState(0x4ecd, 0xcc, 0x8d90, 0xec74, 0x6671, 0xf13b, 0x0, 0x1);
        gbc.writeMem(0x4ecd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xcc);
        EXPECT(gbc.pc(), 0x4ece);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02CC
        gbc.setState(0x4b60, 0xc3a9, 0x5c00, 0x94e0, 0x2980, 0xb1e1, 0x0, 0x1);
        gbc.writeMem(0x4b60, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xc3a9);
        EXPECT(gbc.pc(), 0x4b61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02CD
        gbc.setState(0xbcce, 0xed24, 0x7800, 0xe8bd, 0xcb0, 0xcc1e, 0x0, 0x1);
        gbc.writeMem(0xbcce, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xed24);
        EXPECT(gbc.pc(), 0xbccf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcce), 0x7c);
        // 7C 02CE
        gbc.setState(0x3a2c, 0x58bb, 0x9d10, 0xb600, 0xc6c3, 0xa4f3, 0x0, 0x1);
        gbc.writeMem(0x3a2c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x58bb);
        EXPECT(gbc.pc(), 0x3a2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02CF
        gbc.setState(0x5b19, 0x2b68, 0xc9c0, 0xf4d8, 0x543d, 0x972f, 0x0, 0x0);
        gbc.writeMem(0x5b19, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2b68);
        EXPECT(gbc.pc(), 0x5b1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02D0
        gbc.setState(0x37d6, 0x9fdb, 0xe230, 0xb614, 0x377c, 0xd487, 0x1, 0x1);
        gbc.writeMem(0x37d6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9fdb);
        EXPECT(gbc.pc(), 0x37d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 02D1
        gbc.setState(0xbdad, 0x730e, 0x5750, 0xa77f, 0x7aea, 0x5bbc, 0x1, 0x1);
        gbc.writeMem(0xbdad, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x730e);
        EXPECT(gbc.pc(), 0xbdae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdad), 0x7c);
        // 7C 02D2
        gbc.setState(0x6394, 0xc47d, 0x42a0, 0x93fc, 0x5de9, 0x281d, 0x0, 0x1);
        gbc.writeMem(0x6394, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc47d);
        EXPECT(gbc.pc(), 0x6395);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02D3
        gbc.setState(0x36c3, 0x6ee7, 0x2f00, 0xa79, 0xc780, 0x891d, 0x0, 0x1);
        gbc.writeMem(0x36c3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x6ee7);
        EXPECT(gbc.pc(), 0x36c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02D4
        gbc.setState(0xdbc9, 0xf630, 0xc7f0, 0x132, 0xb879, 0x734, 0x1, 0x0);
        gbc.writeMem(0xdbc9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xf630);
        EXPECT(gbc.pc(), 0xdbca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbc9), 0x7c);
        // 7C 02D5
        gbc.setState(0x9e87, 0x9f79, 0xf250, 0xb5b5, 0x6afb, 0x4aa3, 0x0, 0x0);
        gbc.writeMem(0x9e87, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9f79);
        EXPECT(gbc.pc(), 0x9e88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e87), 0x7c);
        // 7C 02D6
        gbc.setState(0x1fdb, 0x29aa, 0x3700, 0x74b9, 0xa6ee, 0xc169, 0x1, 0x0);
        gbc.writeMem(0x1fdb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x29aa);
        EXPECT(gbc.pc(), 0x1fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02D7
        gbc.setState(0xbcec, 0x4017, 0xb290, 0x5f06, 0xc9a3, 0x6b3f, 0x0, 0x1);
        gbc.writeMem(0xbcec, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x4017);
        EXPECT(gbc.pc(), 0xbced);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcec), 0x7c);
        // 7C 02D8
        gbc.setState(0x7c14, 0x4b25, 0xf6e0, 0x1871, 0x1364, 0xd0f2, 0x0, 0x0);
        gbc.writeMem(0x7c14, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4b25);
        EXPECT(gbc.pc(), 0x7c15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02D9
        gbc.setState(0x98e, 0x27a7, 0x7010, 0xc2b3, 0xf625, 0xd369, 0x1, 0x0);
        gbc.writeMem(0x98e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x27a7);
        EXPECT(gbc.pc(), 0x98f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02DA
        gbc.setState(0x267f, 0xe55a, 0xe070, 0x92df, 0xb281, 0x90a7, 0x1, 0x1);
        gbc.writeMem(0x267f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe55a);
        EXPECT(gbc.pc(), 0x2680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 02DB
        gbc.setState(0x3673, 0x47a4, 0x18b0, 0x1254, 0xec43, 0x36ff, 0x0, 0x0);
        gbc.writeMem(0x3673, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x47a4);
        EXPECT(gbc.pc(), 0x3674);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 02DC
        gbc.setState(0x2a73, 0xc4fe, 0xac80, 0x42ef, 0x3e1a, 0x2c7a, 0x1, 0x1);
        gbc.writeMem(0x2a73, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xc4fe);
        EXPECT(gbc.pc(), 0x2a74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02DD
        gbc.setState(0xb31f, 0xc707, 0xeb0, 0x45eb, 0xd9d6, 0x96d5, 0x0, 0x0);
        gbc.writeMem(0xb31f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xc707);
        EXPECT(gbc.pc(), 0xb320);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb31f), 0x7c);
        // 7C 02DE
        gbc.setState(0xefd8, 0x4db3, 0x12e0, 0xd844, 0xfab5, 0x2be5, 0x1, 0x1);
        gbc.writeMem(0xefd8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x4db3);
        EXPECT(gbc.pc(), 0xefd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefd8), 0x7c);
        // 7C 02DF
        gbc.setState(0xc515, 0x3ca5, 0xf180, 0x7bc3, 0x78af, 0x6728, 0x0, 0x1);
        gbc.writeMem(0xc515, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3ca5);
        EXPECT(gbc.pc(), 0xc516);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc515), 0x7c);
        // 7C 02E0
        gbc.setState(0xddde, 0xa5c2, 0xbc60, 0x42c0, 0xe75e, 0x71c6, 0x0, 0x1);
        gbc.writeMem(0xddde, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xa5c2);
        EXPECT(gbc.pc(), 0xdddf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddde), 0x7c);
        // 7C 02E1
        gbc.setState(0xad28, 0x7f34, 0x9290, 0xaf59, 0xeb83, 0x7e86, 0x0, 0x1);
        gbc.writeMem(0xad28, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x7f34);
        EXPECT(gbc.pc(), 0xad29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad28), 0x7c);
        // 7C 02E3
        gbc.setState(0xe1e5, 0x6179, 0x4c00, 0x455f, 0x21cf, 0xea64, 0x0, 0x1);
        gbc.writeMem(0xe1e5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x6179);
        EXPECT(gbc.pc(), 0xe1e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1e5), 0x7c);
        // 7C 02E4
        gbc.setState(0x54cf, 0x7ec2, 0x6e10, 0x9a23, 0xab07, 0x773f, 0x0, 0x1);
        gbc.writeMem(0x54cf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x7ec2);
        EXPECT(gbc.pc(), 0x54d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02E6
        gbc.setState(0xda96, 0xa87c, 0x9fb0, 0x2828, 0xa037, 0xed66, 0x1, 0x0);
        gbc.writeMem(0xda96, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xa87c);
        EXPECT(gbc.pc(), 0xda97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda96), 0x7c);
        // 7C 02E7
        gbc.setState(0x87c4, 0xdbd, 0xdc50, 0x2c78, 0x5b51, 0x96c3, 0x0, 0x0);
        gbc.writeMem(0x87c4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xdbd);
        EXPECT(gbc.pc(), 0x87c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87c4), 0x7c);
        // 7C 02E8
        gbc.setState(0x5fdb, 0xbb0, 0x7090, 0x5742, 0x64c9, 0x6c88, 0x1, 0x1);
        gbc.writeMem(0x5fdb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xbb0);
        EXPECT(gbc.pc(), 0x5fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02E9
        gbc.setState(0x9a0c, 0x4331, 0xdf70, 0xb144, 0x8dd3, 0xa2d9, 0x1, 0x0);
        gbc.writeMem(0x9a0c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4331);
        EXPECT(gbc.pc(), 0x9a0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a0c), 0x7c);
        // 7C 02EA
        gbc.setState(0x717c, 0xc9d7, 0x2a20, 0xdc8b, 0x24df, 0x7137, 0x1, 0x1);
        gbc.writeMem(0x717c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc9d7);
        EXPECT(gbc.pc(), 0x717d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02EB
        gbc.setState(0x613d, 0x88c8, 0x51d0, 0xd275, 0xe36b, 0xf0f, 0x1, 0x1);
        gbc.writeMem(0x613d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x88c8);
        EXPECT(gbc.pc(), 0x613e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02EC
        gbc.setState(0x81d6, 0x4295, 0xffe0, 0x834a, 0x3e0b, 0x9fe0, 0x1, 0x0);
        gbc.writeMem(0x81d6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x4295);
        EXPECT(gbc.pc(), 0x81d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81d6), 0x7c);
        // 7C 02ED
        gbc.setState(0x26c3, 0xc064, 0xe580, 0x6c6, 0x1fd5, 0xbd76, 0x1, 0x1);
        gbc.writeMem(0x26c3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc064);
        EXPECT(gbc.pc(), 0x26c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02EE
        gbc.setState(0xc5ad, 0xddf2, 0x4550, 0x2b77, 0xe66f, 0x6bc1, 0x0, 0x1);
        gbc.writeMem(0xc5ad, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xddf2);
        EXPECT(gbc.pc(), 0xc5ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5ad), 0x7c);
        // 7C 02EF
        gbc.setState(0x779d, 0x12e9, 0xe040, 0x5d42, 0xe18b, 0xdfe4, 0x0, 0x1);
        gbc.writeMem(0x779d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x12e9);
        EXPECT(gbc.pc(), 0x779e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02F0
        gbc.setState(0x8d67, 0xfa29, 0x3060, 0x1839, 0x9ca6, 0xbbdc, 0x0, 0x0);
        gbc.writeMem(0x8d67, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xfa29);
        EXPECT(gbc.pc(), 0x8d68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d67), 0x7c);
        // 7C 02F1
        gbc.setState(0xa62, 0xecb7, 0x300, 0xc0d6, 0x5870, 0xd3c3, 0x0, 0x0);
        gbc.writeMem(0xa62, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xecb7);
        EXPECT(gbc.pc(), 0xa63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02F2
        gbc.setState(0x4ada, 0x7f57, 0x3ca0, 0x61df, 0x2d26, 0x11e1, 0x0, 0x1);
        gbc.writeMem(0x4ada, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x7f57);
        EXPECT(gbc.pc(), 0x4adb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02F3
        gbc.setState(0xaf61, 0xcced, 0xdac0, 0x3367, 0x88ea, 0x7179, 0x0, 0x0);
        gbc.writeMem(0xaf61, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xcced);
        EXPECT(gbc.pc(), 0xaf62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf61), 0x7c);
        // 7C 02F4
        gbc.setState(0x5726, 0x235d, 0xfbd0, 0x20f1, 0x7e08, 0x9baf, 0x1, 0x0);
        gbc.writeMem(0x5726, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x235d);
        EXPECT(gbc.pc(), 0x5727);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 02F5
        gbc.setState(0x62cd, 0x3bb6, 0xa660, 0x8892, 0x178f, 0xa874, 0x0, 0x1);
        gbc.writeMem(0x62cd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3bb6);
        EXPECT(gbc.pc(), 0x62ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 02F6
        gbc.setState(0x4eed, 0xdee8, 0x33c0, 0x425e, 0xa0b9, 0xcba, 0x1, 0x1);
        gbc.writeMem(0x4eed, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xdee8);
        EXPECT(gbc.pc(), 0x4eee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02F7
        gbc.setState(0x18a6, 0x5d59, 0x9a00, 0x675f, 0x9b53, 0xc3fd, 0x0, 0x0);
        gbc.writeMem(0x18a6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5d59);
        EXPECT(gbc.pc(), 0x18a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02F8
        gbc.setState(0x458a, 0x91f, 0xa6f0, 0xffc1, 0x2805, 0xeb5c, 0x1, 0x1);
        gbc.writeMem(0x458a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x91f);
        EXPECT(gbc.pc(), 0x458b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 02F9
        gbc.setState(0x8ca9, 0x1623, 0x6c40, 0x84cf, 0x8059, 0x2b61, 0x1, 0x1);
        gbc.writeMem(0x8ca9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x1623);
        EXPECT(gbc.pc(), 0x8caa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca9), 0x7c);
        // 7C 02FA
        gbc.setState(0x190c, 0x640, 0x3440, 0x1810, 0x4ad2, 0xce98, 0x0, 0x0);
        gbc.writeMem(0x190c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x640);
        EXPECT(gbc.pc(), 0x190d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02FB
        gbc.setState(0x39f2, 0xbe2f, 0xdc40, 0xf3c1, 0x5b4, 0xb21c, 0x1, 0x1);
        gbc.writeMem(0x39f2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xbe2f);
        EXPECT(gbc.pc(), 0x39f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 02FD
        gbc.setState(0xdcc4, 0x59fc, 0x9140, 0xf933, 0x7062, 0xa399, 0x0, 0x0);
        gbc.writeMem(0xdcc4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x59fc);
        EXPECT(gbc.pc(), 0xdcc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcc4), 0x7c);
        // 7C 02FE
        gbc.setState(0xd78d, 0xe2a1, 0x76e0, 0xe438, 0x1fd0, 0xd5b1, 0x1, 0x1);
        gbc.writeMem(0xd78d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe2a1);
        EXPECT(gbc.pc(), 0xd78e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd78d), 0x7c);
        // 7C 02FF
        gbc.setState(0x54b, 0xf184, 0x2e90, 0x3667, 0xa161, 0x3082, 0x1, 0x1);
        gbc.writeMem(0x54b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xf184);
        EXPECT(gbc.pc(), 0x54c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0300
        gbc.setState(0x88b2, 0xd372, 0x1600, 0xe2ca, 0x267, 0xbd79, 0x0, 0x0);
        gbc.writeMem(0x88b2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd372);
        EXPECT(gbc.pc(), 0x88b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88b2), 0x7c);
        // 7C 0301
        gbc.setState(0xf4d, 0xd2a9, 0x35d0, 0xafa9, 0x4e0d, 0xde2a, 0x1, 0x0);
        gbc.writeMem(0xf4d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd2a9);
        EXPECT(gbc.pc(), 0xf4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0302
        gbc.setState(0x7711, 0xfa1, 0xf6d0, 0x4f1d, 0xa85e, 0x7bec, 0x0, 0x0);
        gbc.writeMem(0x7711, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xfa1);
        EXPECT(gbc.pc(), 0x7712);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0303
        gbc.setState(0xc9d7, 0x8ad0, 0x5d0, 0x134e, 0xab5d, 0x51f7, 0x1, 0x1);
        gbc.writeMem(0xc9d7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x8ad0);
        EXPECT(gbc.pc(), 0xc9d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9d7), 0x7c);
        // 7C 0304
        gbc.setState(0x7484, 0x3d5b, 0x300, 0x3da3, 0x7c5f, 0xb83e, 0x0, 0x0);
        gbc.writeMem(0x7484, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3d5b);
        EXPECT(gbc.pc(), 0x7485);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0305
        gbc.setState(0x1973, 0x55a4, 0xb1b0, 0xeaca, 0x191b, 0x2f99, 0x1, 0x1);
        gbc.writeMem(0x1973, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x55a4);
        EXPECT(gbc.pc(), 0x1974);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0306
        gbc.setState(0xed47, 0xd61d, 0x1920, 0x1494, 0x8247, 0x8e65, 0x0, 0x1);
        gbc.writeMem(0xed47, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd61d);
        EXPECT(gbc.pc(), 0xed48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed47), 0x7c);
        // 7C 0307
        gbc.setState(0xe9b7, 0x8bc1, 0x9940, 0x6af9, 0x280, 0x21d1, 0x0, 0x1);
        gbc.writeMem(0xe9b7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8bc1);
        EXPECT(gbc.pc(), 0xe9b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9b7), 0x7c);
        // 7C 0308
        gbc.setState(0xad83, 0x2200, 0x4ef0, 0xf693, 0xb869, 0x44a9, 0x0, 0x0);
        gbc.writeMem(0xad83, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x2200);
        EXPECT(gbc.pc(), 0xad84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad83), 0x7c);
        // 7C 0309
        gbc.setState(0xbdeb, 0xd7c2, 0xa410, 0x8b8c, 0x66c8, 0xce11, 0x1, 0x1);
        gbc.writeMem(0xbdeb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd7c2);
        EXPECT(gbc.pc(), 0xbdec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdeb), 0x7c);
        // 7C 030A
        gbc.setState(0xc96a, 0xb4a7, 0xa9d0, 0x8b37, 0x7beb, 0xdfd7, 0x1, 0x1);
        gbc.writeMem(0xc96a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb4a7);
        EXPECT(gbc.pc(), 0xc96b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc96a), 0x7c);
        // 7C 030B
        gbc.setState(0xb1d6, 0xe3dd, 0x72f0, 0x40ec, 0x3bb6, 0xb6dd, 0x1, 0x0);
        gbc.writeMem(0xb1d6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe3dd);
        EXPECT(gbc.pc(), 0xb1d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1d6), 0x7c);
        // 7C 030C
        gbc.setState(0x1d98, 0xd060, 0x9d50, 0xdd17, 0xba0b, 0x3d04, 0x1, 0x0);
        gbc.writeMem(0x1d98, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xd060);
        EXPECT(gbc.pc(), 0x1d99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 030D
        gbc.setState(0x7657, 0x7866, 0xd480, 0x7066, 0xbf61, 0xc436, 0x0, 0x0);
        gbc.writeMem(0x7657, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x7866);
        EXPECT(gbc.pc(), 0x7658);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 030F
        gbc.setState(0x1e28, 0xcdd9, 0x4280, 0x9422, 0xf2ea, 0x7c99, 0x1, 0x0);
        gbc.writeMem(0x1e28, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xcdd9);
        EXPECT(gbc.pc(), 0x1e29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0310
        gbc.setState(0x3bf3, 0x5c49, 0x3cf0, 0xea6a, 0x9764, 0xac2d, 0x1, 0x1);
        gbc.writeMem(0x3bf3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5c49);
        EXPECT(gbc.pc(), 0x3bf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0311
        gbc.setState(0x3af1, 0x4e8a, 0x19f0, 0x8906, 0x9795, 0xdc9f, 0x1, 0x0);
        gbc.writeMem(0x3af1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4e8a);
        EXPECT(gbc.pc(), 0x3af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0312
        gbc.setState(0x2c91, 0x98bd, 0xf370, 0x321c, 0x989e, 0x2b8e, 0x0, 0x0);
        gbc.writeMem(0x2c91, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x98bd);
        EXPECT(gbc.pc(), 0x2c92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0313
        gbc.setState(0x9335, 0x5ad7, 0x3d40, 0xeb0b, 0x1091, 0x10ba, 0x0, 0x1);
        gbc.writeMem(0x9335, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x5ad7);
        EXPECT(gbc.pc(), 0x9336);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9335), 0x7c);
        // 7C 0315
        gbc.setState(0x3157, 0xa0a8, 0x38b0, 0x9189, 0x75c7, 0xa118, 0x0, 0x0);
        gbc.writeMem(0x3157, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa0a8);
        EXPECT(gbc.pc(), 0x3158);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0316
        gbc.setState(0xcf0, 0xcda6, 0xe960, 0x8e4, 0x66f5, 0x1ec8, 0x1, 0x1);
        gbc.writeMem(0xcf0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xcda6);
        EXPECT(gbc.pc(), 0xcf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0317
        gbc.setState(0xbc58, 0xadc3, 0xb160, 0x4b4e, 0xd114, 0xe2a5, 0x1, 0x1);
        gbc.writeMem(0xbc58, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xadc3);
        EXPECT(gbc.pc(), 0xbc59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc58), 0x7c);
        // 7C 0318
        gbc.setState(0x8693, 0xde5, 0xb30, 0x5178, 0xb10d, 0xf021, 0x0, 0x1);
        gbc.writeMem(0x8693, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xde5);
        EXPECT(gbc.pc(), 0x8694);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8693), 0x7c);
        // 7C 0319
        gbc.setState(0x98b2, 0xdbc6, 0x6d10, 0x191f, 0x4dfd, 0x2128, 0x0, 0x1);
        gbc.writeMem(0x98b2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xdbc6);
        EXPECT(gbc.pc(), 0x98b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98b2), 0x7c);
        // 7C 031A
        gbc.setState(0x8c03, 0xcb4f, 0x29b0, 0x4dcc, 0xd6e5, 0xf4ab, 0x0, 0x1);
        gbc.writeMem(0x8c03, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xcb4f);
        EXPECT(gbc.pc(), 0x8c04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c03), 0x7c);
        // 7C 031B
        gbc.setState(0xaee6, 0x4c1f, 0x9480, 0xc0e1, 0x811a, 0x4d94, 0x0, 0x1);
        gbc.writeMem(0xaee6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x4c1f);
        EXPECT(gbc.pc(), 0xaee7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaee6), 0x7c);
        // 7C 031C
        gbc.setState(0x6221, 0xaa22, 0x8660, 0x2667, 0xa0f8, 0x7643, 0x1, 0x0);
        gbc.writeMem(0x6221, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xaa22);
        EXPECT(gbc.pc(), 0x6222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 031D
        gbc.setState(0x6ae0, 0x21cc, 0x1810, 0x6ce0, 0xaa14, 0xa76b, 0x0, 0x0);
        gbc.writeMem(0x6ae0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x21cc);
        EXPECT(gbc.pc(), 0x6ae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 031E
        gbc.setState(0xefb7, 0x1867, 0xa1f0, 0xd858, 0xe697, 0x8f4d, 0x0, 0x0);
        gbc.writeMem(0xefb7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x1867);
        EXPECT(gbc.pc(), 0xefb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefb7), 0x7c);
        // 7C 031F
        gbc.setState(0xa987, 0x39da, 0x9180, 0x75a9, 0x31da, 0xe9ff, 0x1, 0x0);
        gbc.writeMem(0xa987, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x39da);
        EXPECT(gbc.pc(), 0xa988);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa987), 0x7c);
        // 7C 0320
        gbc.setState(0xc5ab, 0x6923, 0x80c0, 0xb22a, 0x4d65, 0x1d89, 0x1, 0x0);
        gbc.writeMem(0xc5ab, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x6923);
        EXPECT(gbc.pc(), 0xc5ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ab), 0x7c);
        // 7C 0321
        gbc.setState(0xc720, 0xb606, 0xa690, 0x4cdb, 0x76e1, 0x599b, 0x1, 0x0);
        gbc.writeMem(0xc720, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb606);
        EXPECT(gbc.pc(), 0xc721);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc720), 0x7c);
        // 7C 0322
        gbc.setState(0xba28, 0x11db, 0x5830, 0x4fe1, 0xadae, 0x578a, 0x0, 0x0);
        gbc.writeMem(0xba28, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x11db);
        EXPECT(gbc.pc(), 0xba29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba28), 0x7c);
        // 7C 0323
        gbc.setState(0x26be, 0x5654, 0x1950, 0xf8dc, 0x5afc, 0x85fc, 0x0, 0x1);
        gbc.writeMem(0x26be, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x5654);
        EXPECT(gbc.pc(), 0x26bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0324
        gbc.setState(0x7d6e, 0x22ed, 0x35b0, 0x8010, 0xea64, 0x7d4a, 0x1, 0x1);
        gbc.writeMem(0x7d6e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x22ed);
        EXPECT(gbc.pc(), 0x7d6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0325
        gbc.setState(0x5787, 0x320a, 0x3af0, 0x78e5, 0x6bef, 0x43b2, 0x1, 0x0);
        gbc.writeMem(0x5787, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x320a);
        EXPECT(gbc.pc(), 0x5788);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0326
        gbc.setState(0x42cd, 0x24cd, 0x17c0, 0xfaaf, 0xf96a, 0xb940, 0x0, 0x1);
        gbc.writeMem(0x42cd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x24cd);
        EXPECT(gbc.pc(), 0x42ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0327
        gbc.setState(0x76b9, 0x4f41, 0x6430, 0x5ed3, 0xa24b, 0xf93f, 0x0, 0x1);
        gbc.writeMem(0x76b9, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x4f41);
        EXPECT(gbc.pc(), 0x76ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0328
        gbc.setState(0x5830, 0x3662, 0x8c60, 0x2dac, 0x7a7d, 0x2be7, 0x0, 0x0);
        gbc.writeMem(0x5830, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3662);
        EXPECT(gbc.pc(), 0x5831);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0329
        gbc.setState(0x9f64, 0xe4b9, 0xcbd0, 0xdf29, 0x1ac9, 0xccc, 0x0, 0x1);
        gbc.writeMem(0x9f64, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe4b9);
        EXPECT(gbc.pc(), 0x9f65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f64), 0x7c);
        // 7C 032A
        gbc.setState(0x4309, 0xa15, 0x8040, 0x822d, 0x7a33, 0xcef3, 0x1, 0x1);
        gbc.writeMem(0x4309, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa15);
        EXPECT(gbc.pc(), 0x430a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 032B
        gbc.setState(0x1ebf, 0xc963, 0xc2f0, 0xaab8, 0xc887, 0xe863, 0x1, 0x1);
        gbc.writeMem(0x1ebf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc963);
        EXPECT(gbc.pc(), 0x1ec0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 032C
        gbc.setState(0xa433, 0xff4f, 0xba20, 0xcdc8, 0xd309, 0xd129, 0x1, 0x1);
        gbc.writeMem(0xa433, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xff4f);
        EXPECT(gbc.pc(), 0xa434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa433), 0x7c);
        // 7C 032D
        gbc.setState(0xb5cd, 0x9afb, 0xf10, 0x76a8, 0x8f8d, 0x1653, 0x0, 0x0);
        gbc.writeMem(0xb5cd, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9afb);
        EXPECT(gbc.pc(), 0xb5ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5cd), 0x7c);
        // 7C 032E
        gbc.setState(0xebf8, 0x2451, 0xecd0, 0xc61c, 0x351c, 0x3f95, 0x1, 0x0);
        gbc.writeMem(0xebf8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2451);
        EXPECT(gbc.pc(), 0xebf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebf8), 0x7c);
        // 7C 032F
        gbc.setState(0x305c, 0xa2be, 0x2c80, 0x7a76, 0x74b5, 0x664a, 0x0, 0x1);
        gbc.writeMem(0x305c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa2be);
        EXPECT(gbc.pc(), 0x305d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0330
        gbc.setState(0x999e, 0xed5e, 0x6ec0, 0x8f33, 0x1a88, 0xf676, 0x1, 0x0);
        gbc.writeMem(0x999e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xed5e);
        EXPECT(gbc.pc(), 0x999f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x999e), 0x7c);
        // 7C 0331
        gbc.setState(0x708, 0xacb8, 0x6d40, 0x6e05, 0x124d, 0x7629, 0x0, 0x0);
        gbc.writeMem(0x708, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xacb8);
        EXPECT(gbc.pc(), 0x709);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0332
        gbc.setState(0x5a1b, 0x20b7, 0x28e0, 0xbea0, 0x430f, 0x7698, 0x1, 0x0);
        gbc.writeMem(0x5a1b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x20b7);
        EXPECT(gbc.pc(), 0x5a1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0334
        gbc.setState(0x4828, 0x12b0, 0x2be0, 0xea74, 0xc66b, 0x7008, 0x1, 0x0);
        gbc.writeMem(0x4828, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x12b0);
        EXPECT(gbc.pc(), 0x4829);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0335
        gbc.setState(0x9631, 0xf5ff, 0xf560, 0xb58f, 0xa431, 0xfd8c, 0x1, 0x0);
        gbc.writeMem(0x9631, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xf5ff);
        EXPECT(gbc.pc(), 0x9632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9631), 0x7c);
        // 7C 0336
        gbc.setState(0x311, 0xc3aa, 0x5080, 0xda18, 0x9653, 0xa48, 0x1, 0x0);
        gbc.writeMem(0x311, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xc3aa);
        EXPECT(gbc.pc(), 0x312);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0337
        gbc.setState(0x654e, 0xe834, 0x3050, 0xb035, 0xb366, 0xa289, 0x1, 0x0);
        gbc.writeMem(0x654e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xe834);
        EXPECT(gbc.pc(), 0x654f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 033A
        gbc.setState(0xbee0, 0xbfef, 0xf690, 0x37a7, 0x5a0a, 0xcacb, 0x0, 0x0);
        gbc.writeMem(0xbee0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xbfef);
        EXPECT(gbc.pc(), 0xbee1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbee0), 0x7c);
        // 7C 033B
        gbc.setState(0x3ac4, 0xdb5c, 0x4c20, 0xe4c7, 0x8dad, 0x2cf9, 0x0, 0x1);
        gbc.writeMem(0x3ac4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xdb5c);
        EXPECT(gbc.pc(), 0x3ac5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 033C
        gbc.setState(0x6e27, 0x4567, 0x58f0, 0x2a87, 0xdfd6, 0xf51a, 0x0, 0x1);
        gbc.writeMem(0x6e27, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4567);
        EXPECT(gbc.pc(), 0x6e28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 033D
        gbc.setState(0x33f, 0x54b5, 0x8c0, 0xa136, 0x44d0, 0xdf12, 0x0, 0x1);
        gbc.writeMem(0x33f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x54b5);
        EXPECT(gbc.pc(), 0x340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 033E
        gbc.setState(0xdfc1, 0xfca7, 0x58c0, 0x35bd, 0xec44, 0xe85e, 0x1, 0x1);
        gbc.writeMem(0xdfc1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xfca7);
        EXPECT(gbc.pc(), 0xdfc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfc1), 0x7c);
        // 7C 033F
        gbc.setState(0x992f, 0x954c, 0xc420, 0xb17c, 0xe684, 0x613b, 0x1, 0x0);
        gbc.writeMem(0x992f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x954c);
        EXPECT(gbc.pc(), 0x9930);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x992f), 0x7c);
        // 7C 0340
        gbc.setState(0xdb73, 0x5150, 0x1ce0, 0xd121, 0x81e0, 0x491a, 0x0, 0x1);
        gbc.writeMem(0xdb73, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5150);
        EXPECT(gbc.pc(), 0xdb74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb73), 0x7c);
        // 7C 0341
        gbc.setState(0xfa7, 0x8032, 0x2800, 0x30eb, 0x6cc2, 0xe558, 0x1, 0x0);
        gbc.writeMem(0xfa7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8032);
        EXPECT(gbc.pc(), 0xfa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0342
        gbc.setState(0x979a, 0xf0c2, 0x6430, 0x7a4e, 0x1087, 0xd8b9, 0x1, 0x0);
        gbc.writeMem(0x979a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xf0c2);
        EXPECT(gbc.pc(), 0x979b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x979a), 0x7c);
        // 7C 0343
        gbc.setState(0x4fef, 0xbeb0, 0xf40, 0x9f0c, 0x5651, 0xb720, 0x0, 0x0);
        gbc.writeMem(0x4fef, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xbeb0);
        EXPECT(gbc.pc(), 0x4ff0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0344
        gbc.setState(0x36f8, 0xe3d2, 0x4080, 0x8265, 0x4fa9, 0xef05, 0x0, 0x0);
        gbc.writeMem(0x36f8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xe3d2);
        EXPECT(gbc.pc(), 0x36f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0345
        gbc.setState(0x7654, 0x4443, 0x1990, 0x766, 0x4c25, 0xfdf1, 0x1, 0x0);
        gbc.writeMem(0x7654, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x4443);
        EXPECT(gbc.pc(), 0x7655);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0346
        gbc.setState(0x3a9b, 0x6f39, 0x7110, 0x7370, 0xa32a, 0x5f1a, 0x1, 0x1);
        gbc.writeMem(0x3a9b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x6f39);
        EXPECT(gbc.pc(), 0x3a9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0347
        gbc.setState(0xd8ed, 0xb8d9, 0x6570, 0xa6aa, 0x7107, 0xcda0, 0x1, 0x0);
        gbc.writeMem(0xd8ed, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xb8d9);
        EXPECT(gbc.pc(), 0xd8ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8ed), 0x7c);
        // 7C 0348
        gbc.setState(0x507c, 0xb872, 0xb1b0, 0x7c42, 0xd9b1, 0x3c24, 0x0, 0x1);
        gbc.writeMem(0x507c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb872);
        EXPECT(gbc.pc(), 0x507d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0349
        gbc.setState(0x7a3, 0x3860, 0x30a0, 0xe031, 0x12ed, 0x7505, 0x0, 0x0);
        gbc.writeMem(0x7a3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x3860);
        EXPECT(gbc.pc(), 0x7a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 034A
        gbc.setState(0xe72a, 0x775c, 0xc7c0, 0xab65, 0xaa70, 0x312, 0x1, 0x1);
        gbc.writeMem(0xe72a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x775c);
        EXPECT(gbc.pc(), 0xe72b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe72a), 0x7c);
        // 7C 034B
        gbc.setState(0xafbc, 0xba9a, 0xa640, 0xe8cd, 0xcd72, 0x4569, 0x0, 0x0);
        gbc.writeMem(0xafbc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xba9a);
        EXPECT(gbc.pc(), 0xafbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafbc), 0x7c);
        // 7C 034C
        gbc.setState(0xc08c, 0xcdeb, 0x7b00, 0x99ff, 0xa380, 0xc2c1, 0x1, 0x0);
        gbc.writeMem(0xc08c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xcdeb);
        EXPECT(gbc.pc(), 0xc08d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc08c), 0x7c);
        // 7C 034D
        gbc.setState(0x6ec, 0x407a, 0x7580, 0x8c8d, 0x5861, 0x90cf, 0x1, 0x0);
        gbc.writeMem(0x6ec, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x407a);
        EXPECT(gbc.pc(), 0x6ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 034E
        gbc.setState(0x7c44, 0x9778, 0x4920, 0xcf5f, 0x4300, 0x5259, 0x0, 0x0);
        gbc.writeMem(0x7c44, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9778);
        EXPECT(gbc.pc(), 0x7c45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 034F
        gbc.setState(0x3d17, 0xe76a, 0x61e0, 0x7e42, 0xec87, 0xd114, 0x0, 0x0);
        gbc.writeMem(0x3d17, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe76a);
        EXPECT(gbc.pc(), 0x3d18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0350
        gbc.setState(0x3f00, 0xb157, 0x5330, 0x784a, 0xe8df, 0x6576, 0x0, 0x0);
        gbc.writeMem(0x3f00, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xb157);
        EXPECT(gbc.pc(), 0x3f01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0351
        gbc.setState(0xa42c, 0x7f75, 0x6a90, 0xa9cb, 0xd78, 0xbcc2, 0x0, 0x1);
        gbc.writeMem(0xa42c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7f75);
        EXPECT(gbc.pc(), 0xa42d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa42c), 0x7c);
        // 7C 0353
        gbc.setState(0xc4cc, 0x5f7d, 0x3d60, 0x3c6d, 0x706f, 0x923, 0x1, 0x1);
        gbc.writeMem(0xc4cc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x5f7d);
        EXPECT(gbc.pc(), 0xc4cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4cc), 0x7c);
        // 7C 0354
        gbc.setState(0x327f, 0xf554, 0x9970, 0xfa3, 0x9c0b, 0xf78f, 0x0, 0x0);
        gbc.writeMem(0x327f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf554);
        EXPECT(gbc.pc(), 0x3280);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0356
        gbc.setState(0x8f73, 0xedd2, 0xce60, 0xfddd, 0x33c9, 0xd9c3, 0x1, 0x0);
        gbc.writeMem(0x8f73, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xedd2);
        EXPECT(gbc.pc(), 0x8f74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f73), 0x7c);
        // 7C 0357
        gbc.setState(0x9b0a, 0x87e1, 0x4760, 0xac59, 0x65d9, 0xf5f8, 0x0, 0x1);
        gbc.writeMem(0x9b0a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x87e1);
        EXPECT(gbc.pc(), 0x9b0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b0a), 0x7c);
        // 7C 0358
        gbc.setState(0xe22e, 0xfdeb, 0xbd90, 0x114e, 0x677c, 0xa44b, 0x1, 0x0);
        gbc.writeMem(0xe22e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xfdeb);
        EXPECT(gbc.pc(), 0xe22f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe22e), 0x7c);
        // 7C 0359
        gbc.setState(0x64d0, 0xaa36, 0xb0b0, 0x5422, 0xde2, 0x277c, 0x0, 0x0);
        gbc.writeMem(0x64d0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xaa36);
        EXPECT(gbc.pc(), 0x64d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 035A
        gbc.setState(0xe1aa, 0x8a1c, 0x1080, 0xe6a1, 0x895a, 0xeee2, 0x1, 0x1);
        gbc.writeMem(0xe1aa, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8a1c);
        EXPECT(gbc.pc(), 0xe1ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1aa), 0x7c);
        // 7C 035B
        gbc.setState(0xcd86, 0xb042, 0xdeb0, 0xc04f, 0x905c, 0xa93c, 0x1, 0x0);
        gbc.writeMem(0xcd86, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xb042);
        EXPECT(gbc.pc(), 0xcd87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd86), 0x7c);
        // 7C 035C
        gbc.setState(0x997c, 0x5e46, 0x92f0, 0xe6bd, 0xccb1, 0x7570, 0x0, 0x1);
        gbc.writeMem(0x997c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5e46);
        EXPECT(gbc.pc(), 0x997d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x997c), 0x7c);
        // 7C 035D
        gbc.setState(0xe975, 0x64, 0xbad0, 0x1000, 0x5ae8, 0x4b6, 0x1, 0x1);
        gbc.writeMem(0xe975, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x64);
        EXPECT(gbc.pc(), 0xe976);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe975), 0x7c);
        // 7C 035E
        gbc.setState(0x842d, 0xe9d5, 0x2540, 0x1c92, 0x5a56, 0x684e, 0x0, 0x1);
        gbc.writeMem(0x842d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe9d5);
        EXPECT(gbc.pc(), 0x842e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x842d), 0x7c);
        // 7C 035F
        gbc.setState(0xc2e2, 0xedf3, 0x4870, 0xbd01, 0x8d79, 0xdddd, 0x0, 0x0);
        gbc.writeMem(0xc2e2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xedf3);
        EXPECT(gbc.pc(), 0xc2e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2e2), 0x7c);
        // 7C 0360
        gbc.setState(0x3a5f, 0x3ac2, 0x7590, 0x7be3, 0xb230, 0xd9ba, 0x0, 0x1);
        gbc.writeMem(0x3a5f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3ac2);
        EXPECT(gbc.pc(), 0x3a60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0361
        gbc.setState(0xcbe1, 0x4a21, 0xde80, 0x15c8, 0xea5d, 0xaf20, 0x0, 0x1);
        gbc.writeMem(0xcbe1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x4a21);
        EXPECT(gbc.pc(), 0xcbe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe1), 0x7c);
        // 7C 0362
        gbc.setState(0x110a, 0x19f6, 0xb890, 0xd100, 0x1dc3, 0xbc50, 0x0, 0x0);
        gbc.writeMem(0x110a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x19f6);
        EXPECT(gbc.pc(), 0x110b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0363
        gbc.setState(0x7086, 0xf6e2, 0x8a70, 0x1fef, 0xa1c5, 0x18e9, 0x1, 0x1);
        gbc.writeMem(0x7086, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xf6e2);
        EXPECT(gbc.pc(), 0x7087);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0364
        gbc.setState(0x3b6d, 0x1d9, 0xb60, 0x7c20, 0x266b, 0x453b, 0x1, 0x0);
        gbc.writeMem(0x3b6d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1d9);
        EXPECT(gbc.pc(), 0x3b6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0365
        gbc.setState(0x3b55, 0x1b49, 0x4d50, 0x2489, 0x683d, 0xb7be, 0x1, 0x1);
        gbc.writeMem(0x3b55, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1b49);
        EXPECT(gbc.pc(), 0x3b56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0366
        gbc.setState(0x2776, 0x2df6, 0x7c00, 0x71e7, 0x90c3, 0x3681, 0x1, 0x1);
        gbc.writeMem(0x2776, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2df6);
        EXPECT(gbc.pc(), 0x2777);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0367
        gbc.setState(0xe76b, 0x474a, 0xde00, 0xab10, 0x134f, 0xe242, 0x1, 0x1);
        gbc.writeMem(0xe76b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x474a);
        EXPECT(gbc.pc(), 0xe76c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe76b), 0x7c);
        // 7C 0368
        gbc.setState(0xdb0e, 0xfffd, 0xb590, 0xb4a7, 0x9a4f, 0xc22f, 0x0, 0x0);
        gbc.writeMem(0xdb0e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xfffd);
        EXPECT(gbc.pc(), 0xdb0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb0e), 0x7c);
        // 7C 0369
        gbc.setState(0x66b5, 0xeee3, 0xf610, 0x300b, 0xa3da, 0xc003, 0x1, 0x0);
        gbc.writeMem(0x66b5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xeee3);
        EXPECT(gbc.pc(), 0x66b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 036A
        gbc.setState(0xd0d2, 0xd3ca, 0xcf20, 0x20f0, 0x9d28, 0x1853, 0x1, 0x0);
        gbc.writeMem(0xd0d2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xd3ca);
        EXPECT(gbc.pc(), 0xd0d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0d2), 0x7c);
        // 7C 036B
        gbc.setState(0x7b87, 0x2e6b, 0xa230, 0x74cb, 0xa071, 0xf144, 0x1, 0x1);
        gbc.writeMem(0x7b87, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x2e6b);
        EXPECT(gbc.pc(), 0x7b88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 036C
        gbc.setState(0x9d7d, 0x317d, 0x5740, 0xbec3, 0x82f, 0x2134, 0x0, 0x1);
        gbc.writeMem(0x9d7d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x317d);
        EXPECT(gbc.pc(), 0x9d7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d7d), 0x7c);
        // 7C 036D
        gbc.setState(0x7aed, 0xe72c, 0xca70, 0xe758, 0x1566, 0x1880, 0x1, 0x1);
        gbc.writeMem(0x7aed, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xe72c);
        EXPECT(gbc.pc(), 0x7aee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 036E
        gbc.setState(0xda3d, 0x9212, 0xc3a0, 0x6b83, 0x205f, 0x6e8d, 0x1, 0x1);
        gbc.writeMem(0xda3d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9212);
        EXPECT(gbc.pc(), 0xda3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda3d), 0x7c);
        // 7C 036F
        gbc.setState(0x8e4d, 0xbb7d, 0x7250, 0x9ac8, 0x32b1, 0x2a7, 0x0, 0x0);
        gbc.writeMem(0x8e4d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xbb7d);
        EXPECT(gbc.pc(), 0x8e4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e4d), 0x7c);
        // 7C 0370
        gbc.setState(0x4f6c, 0x32ef, 0x2a20, 0xd47, 0x57da, 0xe92, 0x0, 0x1);
        gbc.writeMem(0x4f6c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x32ef);
        EXPECT(gbc.pc(), 0x4f6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0371
        gbc.setState(0x44d, 0x3d11, 0xc560, 0xd438, 0x7a93, 0xe998, 0x0, 0x1);
        gbc.writeMem(0x44d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x3d11);
        EXPECT(gbc.pc(), 0x44e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0372
        gbc.setState(0x6aa0, 0x44f8, 0x9200, 0xbbce, 0x53b6, 0x32ad, 0x1, 0x1);
        gbc.writeMem(0x6aa0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x44f8);
        EXPECT(gbc.pc(), 0x6aa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0374
        gbc.setState(0x6daf, 0x461f, 0x6b10, 0xe5dc, 0x5be6, 0x6d66, 0x1, 0x0);
        gbc.writeMem(0x6daf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x461f);
        EXPECT(gbc.pc(), 0x6db0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0375
        gbc.setState(0x4d61, 0x36f, 0x5100, 0x2cba, 0x283, 0xebe3, 0x1, 0x1);
        gbc.writeMem(0x4d61, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x36f);
        EXPECT(gbc.pc(), 0x4d62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0376
        gbc.setState(0x8dc8, 0x6056, 0x97b0, 0xc87a, 0xb9f3, 0xc41b, 0x0, 0x1);
        gbc.writeMem(0x8dc8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6056);
        EXPECT(gbc.pc(), 0x8dc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dc8), 0x7c);
        // 7C 0377
        gbc.setState(0xe57, 0x141b, 0xe8b0, 0x61f, 0x704, 0x9b79, 0x0, 0x1);
        gbc.writeMem(0xe57, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x141b);
        EXPECT(gbc.pc(), 0xe58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0378
        gbc.setState(0x3df7, 0xa33a, 0x2450, 0x92a8, 0xdea0, 0x84ee, 0x0, 0x0);
        gbc.writeMem(0x3df7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xa33a);
        EXPECT(gbc.pc(), 0x3df8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 0379
        gbc.setState(0xc279, 0xa5e3, 0x7e80, 0x5626, 0x116e, 0x351d, 0x1, 0x0);
        gbc.writeMem(0xc279, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa5e3);
        EXPECT(gbc.pc(), 0xc27a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc279), 0x7c);
        // 7C 037A
        gbc.setState(0xce5d, 0x8f75, 0x45d0, 0x1b2e, 0xe196, 0x647d, 0x1, 0x0);
        gbc.writeMem(0xce5d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x8f75);
        EXPECT(gbc.pc(), 0xce5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce5d), 0x7c);
        // 7C 037C
        gbc.setState(0x5ec0, 0xc458, 0xc070, 0xd6ae, 0x11f7, 0xe994, 0x0, 0x1);
        gbc.writeMem(0x5ec0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xc458);
        EXPECT(gbc.pc(), 0x5ec1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 037D
        gbc.setState(0xe775, 0xef29, 0xf920, 0x68c9, 0x6335, 0x961e, 0x1, 0x1);
        gbc.writeMem(0xe775, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xef29);
        EXPECT(gbc.pc(), 0xe776);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe775), 0x7c);
        // 7C 037E
        gbc.setState(0x22a6, 0x81e0, 0x7820, 0x3409, 0x76df, 0xbc52, 0x1, 0x1);
        gbc.writeMem(0x22a6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x81e0);
        EXPECT(gbc.pc(), 0x22a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 037F
        gbc.setState(0x76c3, 0x90bf, 0xd1f0, 0xd8d9, 0xfe6b, 0xc4a9, 0x0, 0x0);
        gbc.writeMem(0x76c3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x90bf);
        EXPECT(gbc.pc(), 0x76c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0380
        gbc.setState(0x9c68, 0xdedb, 0xa440, 0xe2f2, 0x5a2, 0xe33b, 0x1, 0x0);
        gbc.writeMem(0x9c68, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xdedb);
        EXPECT(gbc.pc(), 0x9c69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c68), 0x7c);
        // 7C 0381
        gbc.setState(0xac8e, 0x43f9, 0x4560, 0x3ef7, 0xf9d4, 0x2d67, 0x1, 0x0);
        gbc.writeMem(0xac8e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x43f9);
        EXPECT(gbc.pc(), 0xac8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac8e), 0x7c);
        // 7C 0382
        gbc.setState(0xbfe8, 0x4b6e, 0x3be0, 0x434, 0x9f98, 0x5f26, 0x1, 0x0);
        gbc.writeMem(0xbfe8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x4b6e);
        EXPECT(gbc.pc(), 0xbfe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfe8), 0x7c);
        // 7C 0383
        gbc.setState(0x8f38, 0xb09c, 0x67a0, 0xe484, 0xa6b3, 0xd412, 0x0, 0x1);
        gbc.writeMem(0x8f38, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb09c);
        EXPECT(gbc.pc(), 0x8f39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f38), 0x7c);
        // 7C 0384
        gbc.setState(0x1ec, 0xd92d, 0x8780, 0x2293, 0x5238, 0xa802, 0x0, 0x1);
        gbc.writeMem(0x1ec, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xd92d);
        EXPECT(gbc.pc(), 0x1ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0385
        gbc.setState(0x5a8d, 0xbc8c, 0x2a80, 0x3ca4, 0x27d3, 0x7117, 0x1, 0x1);
        gbc.writeMem(0x5a8d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xbc8c);
        EXPECT(gbc.pc(), 0x5a8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 0387
        gbc.setState(0x35de, 0xf991, 0x15e0, 0x8a9c, 0x8eec, 0xe08d, 0x1, 0x1);
        gbc.writeMem(0x35de, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf991);
        EXPECT(gbc.pc(), 0x35df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0388
        gbc.setState(0xbe60, 0x1e91, 0x94d0, 0x93dd, 0x20b2, 0x1c44, 0x1, 0x1);
        gbc.writeMem(0xbe60, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x1e91);
        EXPECT(gbc.pc(), 0xbe61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe60), 0x7c);
        // 7C 0389
        gbc.setState(0x2c50, 0x8065, 0xe360, 0x2c18, 0xe8e9, 0xa66f, 0x1, 0x0);
        gbc.writeMem(0x2c50, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x8065);
        EXPECT(gbc.pc(), 0x2c51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 038A
        gbc.setState(0xcc91, 0xea58, 0xd00, 0xca62, 0x2427, 0x4b7f, 0x0, 0x0);
        gbc.writeMem(0xcc91, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xea58);
        EXPECT(gbc.pc(), 0xcc92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc91), 0x7c);
        // 7C 038B
        gbc.setState(0xa301, 0xff8a, 0xc030, 0xfb7a, 0xfb19, 0x900, 0x0, 0x0);
        gbc.writeMem(0xa301, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xff8a);
        EXPECT(gbc.pc(), 0xa302);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa301), 0x7c);
        // 7C 038D
        gbc.setState(0xbc8a, 0x15f5, 0xad0, 0x8aa2, 0xffc0, 0x1bd4, 0x0, 0x0);
        gbc.writeMem(0xbc8a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x15f5);
        EXPECT(gbc.pc(), 0xbc8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc8a), 0x7c);
        // 7C 038E
        gbc.setState(0x9249, 0x76dc, 0x80b0, 0xca5a, 0xa823, 0x1522, 0x1, 0x0);
        gbc.writeMem(0x9249, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x76dc);
        EXPECT(gbc.pc(), 0x924a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9249), 0x7c);
        // 7C 038F
        gbc.setState(0x99ea, 0x8d46, 0x3dd0, 0x1003, 0xfca1, 0xe4a1, 0x0, 0x0);
        gbc.writeMem(0x99ea, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8d46);
        EXPECT(gbc.pc(), 0x99eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99ea), 0x7c);
        // 7C 0390
        gbc.setState(0xcc95, 0x4484, 0xd380, 0x4d9, 0xd0fe, 0xb97, 0x0, 0x1);
        gbc.writeMem(0xcc95, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x4484);
        EXPECT(gbc.pc(), 0xcc96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc95), 0x7c);
        // 7C 0391
        gbc.setState(0x46d3, 0xcf1d, 0x3160, 0x3a91, 0x9ff7, 0xdd46, 0x1, 0x0);
        gbc.writeMem(0x46d3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xcf1d);
        EXPECT(gbc.pc(), 0x46d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 0392
        gbc.setState(0x83c4, 0x15c3, 0x5d70, 0x9302, 0xa42d, 0xefe3, 0x1, 0x0);
        gbc.writeMem(0x83c4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x15c3);
        EXPECT(gbc.pc(), 0x83c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83c4), 0x7c);
        // 7C 0393
        gbc.setState(0xca41, 0x1cd5, 0xd3c0, 0x80b9, 0x99d0, 0x7852, 0x0, 0x0);
        gbc.writeMem(0xca41, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x1cd5);
        EXPECT(gbc.pc(), 0xca42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca41), 0x7c);
        // 7C 0394
        gbc.setState(0xc122, 0xabb2, 0x9910, 0xc59d, 0x51e1, 0x47a4, 0x0, 0x1);
        gbc.writeMem(0xc122, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xabb2);
        EXPECT(gbc.pc(), 0xc123);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc122), 0x7c);
        // 7C 0395
        gbc.setState(0x401e, 0x3b98, 0xc5f0, 0xf51, 0x159d, 0xeb1e, 0x0, 0x1);
        gbc.writeMem(0x401e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3b98);
        EXPECT(gbc.pc(), 0x401f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0396
        gbc.setState(0xa0e2, 0x481f, 0xfc80, 0xaa91, 0x49c8, 0x836f, 0x0, 0x1);
        gbc.writeMem(0xa0e2, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x481f);
        EXPECT(gbc.pc(), 0xa0e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0e2), 0x7c);
        // 7C 0397
        gbc.setState(0x2844, 0xf00f, 0xb230, 0x3ece, 0xba30, 0x8cf3, 0x1, 0x1);
        gbc.writeMem(0x2844, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf00f);
        EXPECT(gbc.pc(), 0x2845);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0398
        gbc.setState(0x644f, 0xff1d, 0xd8f0, 0x91a1, 0x4146, 0xf74c, 0x1, 0x1);
        gbc.writeMem(0x644f, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xff1d);
        EXPECT(gbc.pc(), 0x6450);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 0399
        gbc.setState(0xabbe, 0xfd25, 0xc5c0, 0x8b36, 0x53ba, 0xd71b, 0x0, 0x1);
        gbc.writeMem(0xabbe, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xfd25);
        EXPECT(gbc.pc(), 0xabbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabbe), 0x7c);
        // 7C 039B
        gbc.setState(0x9e01, 0x41e5, 0x3a70, 0x62e7, 0x32a1, 0xecc9, 0x1, 0x0);
        gbc.writeMem(0x9e01, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x41e5);
        EXPECT(gbc.pc(), 0x9e02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e01), 0x7c);
        // 7C 039C
        gbc.setState(0x9ec5, 0x69e0, 0xf290, 0xa4b2, 0x4b73, 0xf55a, 0x0, 0x1);
        gbc.writeMem(0x9ec5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x69e0);
        EXPECT(gbc.pc(), 0x9ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec5), 0x7c);
        // 7C 039D
        gbc.setState(0x4673, 0xf4d6, 0xdb20, 0xde48, 0xce54, 0x1c94, 0x1, 0x0);
        gbc.writeMem(0x4673, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf4d6);
        EXPECT(gbc.pc(), 0x4674);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 039E
        gbc.setState(0x87c6, 0x500f, 0x9860, 0xb48b, 0x32ef, 0x4640, 0x0, 0x0);
        gbc.writeMem(0x87c6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x500f);
        EXPECT(gbc.pc(), 0x87c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87c6), 0x7c);
        // 7C 039F
        gbc.setState(0x1e2d, 0x49b6, 0xda20, 0xe42, 0xc68, 0xdab1, 0x0, 0x1);
        gbc.writeMem(0x1e2d, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x49b6);
        EXPECT(gbc.pc(), 0x1e2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03A0
        gbc.setState(0x716e, 0x4837, 0x71d0, 0x2bcd, 0xd39a, 0x6cf6, 0x0, 0x1);
        gbc.writeMem(0x716e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4837);
        EXPECT(gbc.pc(), 0x716f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03A1
        gbc.setState(0x5465, 0xcdce, 0x97a0, 0x2398, 0x653e, 0xad7b, 0x0, 0x0);
        gbc.writeMem(0x5465, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xcdce);
        EXPECT(gbc.pc(), 0x5466);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03A2
        gbc.setState(0x33b, 0x5cf3, 0x3c30, 0x84c4, 0x439c, 0x6773, 0x0, 0x1);
        gbc.writeMem(0x33b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5cf3);
        EXPECT(gbc.pc(), 0x33c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03A3
        gbc.setState(0x9fa0, 0x8bb2, 0x9ba0, 0xc5f1, 0x86f0, 0xde8b, 0x0, 0x1);
        gbc.writeMem(0x9fa0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8bb2);
        EXPECT(gbc.pc(), 0x9fa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fa0), 0x7c);
        // 7C 03A4
        gbc.setState(0x9be1, 0x2e40, 0x2990, 0xdbdf, 0x2aab, 0xc2c, 0x1, 0x1);
        gbc.writeMem(0x9be1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2e40);
        EXPECT(gbc.pc(), 0x9be2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9be1), 0x7c);
        // 7C 03A5
        gbc.setState(0xe548, 0x6543, 0x38a0, 0x6a3d, 0x7ae8, 0xcb87, 0x0, 0x0);
        gbc.writeMem(0xe548, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6543);
        EXPECT(gbc.pc(), 0xe549);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe548), 0x7c);
        // 7C 03A6
        gbc.setState(0x1d69, 0xbe3c, 0x26d0, 0x2d80, 0xe7ce, 0x617f, 0x1, 0x1);
        gbc.writeMem(0x1d69, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xbe3c);
        EXPECT(gbc.pc(), 0x1d6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03A7
        gbc.setState(0x5dc1, 0x6fff, 0x60b0, 0x9b04, 0x5ab4, 0xe360, 0x0, 0x0);
        gbc.writeMem(0x5dc1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x6fff);
        EXPECT(gbc.pc(), 0x5dc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03A8
        gbc.setState(0x40f3, 0xc998, 0xc1c0, 0x761b, 0x2133, 0x3ccf, 0x1, 0x1);
        gbc.writeMem(0x40f3, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xc998);
        EXPECT(gbc.pc(), 0x40f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03AB
        gbc.setState(0xbc41, 0x93c9, 0x94a0, 0xd4e0, 0x64b3, 0x284a, 0x1, 0x1);
        gbc.writeMem(0xbc41, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x93c9);
        EXPECT(gbc.pc(), 0xbc42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc41), 0x7c);
        // 7C 03AC
        gbc.setState(0x6aaf, 0x44d4, 0xb9a0, 0xe72f, 0x854a, 0xa41a, 0x0, 0x1);
        gbc.writeMem(0x6aaf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x44d4);
        EXPECT(gbc.pc(), 0x6ab0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03AD
        gbc.setState(0xdbf0, 0xd3fc, 0x7e80, 0x90f6, 0xeec6, 0x8f12, 0x1, 0x0);
        gbc.writeMem(0xdbf0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xd3fc);
        EXPECT(gbc.pc(), 0xdbf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbf0), 0x7c);
        // 7C 03AE
        gbc.setState(0x1cbb, 0x1577, 0xc8e0, 0x46f, 0x317a, 0x1e09, 0x0, 0x0);
        gbc.writeMem(0x1cbb, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1577);
        EXPECT(gbc.pc(), 0x1cbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03AF
        gbc.setState(0xba99, 0x98f5, 0x69b0, 0xb2f1, 0x5964, 0xd5b3, 0x1, 0x0);
        gbc.writeMem(0xba99, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x98f5);
        EXPECT(gbc.pc(), 0xba9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba99), 0x7c);
        // 7C 03B0
        gbc.setState(0x1c98, 0x2431, 0xe740, 0x3723, 0xb4a8, 0x657f, 0x0, 0x0);
        gbc.writeMem(0x1c98, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2431);
        EXPECT(gbc.pc(), 0x1c99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03B1
        gbc.setState(0x65ca, 0x925b, 0x9b70, 0xb6ab, 0x2ee3, 0x5c50, 0x0, 0x1);
        gbc.writeMem(0x65ca, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x925b);
        EXPECT(gbc.pc(), 0x65cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03B2
        gbc.setState(0x949e, 0xe6a6, 0x9f30, 0x8650, 0xc796, 0x77da, 0x1, 0x0);
        gbc.writeMem(0x949e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xe6a6);
        EXPECT(gbc.pc(), 0x949f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x949e), 0x7c);
        // 7C 03B3
        gbc.setState(0x9813, 0xbe02, 0xc5d0, 0xc9a5, 0x8ca8, 0xaf4d, 0x1, 0x0);
        gbc.writeMem(0x9813, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xbe02);
        EXPECT(gbc.pc(), 0x9814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9813), 0x7c);
        // 7C 03B4
        gbc.setState(0x4cbf, 0xb36, 0x4890, 0x3554, 0x7b66, 0x80ea, 0x1, 0x0);
        gbc.writeMem(0x4cbf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb36);
        EXPECT(gbc.pc(), 0x4cc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03B5
        gbc.setState(0x7cf4, 0xd3ac, 0xa680, 0x80e9, 0xf947, 0x1ca, 0x1, 0x1);
        gbc.writeMem(0x7cf4, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd3ac);
        EXPECT(gbc.pc(), 0x7cf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03B6
        gbc.setState(0x7f03, 0x7438, 0xfd10, 0x507c, 0x911f, 0x8f2a, 0x1, 0x0);
        gbc.writeMem(0x7f03, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x7438);
        EXPECT(gbc.pc(), 0x7f04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03B7
        gbc.setState(0xe0ff, 0x3612, 0xe050, 0x8520, 0x3ba, 0x1f29, 0x1, 0x0);
        gbc.writeMem(0xe0ff, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x3612);
        EXPECT(gbc.pc(), 0xe100);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0ff), 0x7c);
        // 7C 03B8
        gbc.setState(0xfca, 0x428f, 0xcd20, 0xa4cb, 0xfb2b, 0xd000, 0x0, 0x0);
        gbc.writeMem(0xfca, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x428f);
        EXPECT(gbc.pc(), 0xfcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03B9
        gbc.setState(0xdb3c, 0xea54, 0x1af0, 0xe6c8, 0xebd3, 0x261c, 0x1, 0x0);
        gbc.writeMem(0xdb3c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xea54);
        EXPECT(gbc.pc(), 0xdb3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb3c), 0x7c);
        // 7C 03BA
        gbc.setState(0xc849, 0xdd35, 0xe500, 0x2e67, 0xf67b, 0x600c, 0x0, 0x1);
        gbc.writeMem(0xc849, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xdd35);
        EXPECT(gbc.pc(), 0xc84a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc849), 0x7c);
        // 7C 03BB
        gbc.setState(0x31c0, 0x4bc8, 0xde10, 0xe42f, 0xfedf, 0x7f6a, 0x1, 0x0);
        gbc.writeMem(0x31c0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x4bc8);
        EXPECT(gbc.pc(), 0x31c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03BC
        gbc.setState(0xcc23, 0x623f, 0x6290, 0x8e37, 0x3dba, 0xb726, 0x1, 0x1);
        gbc.writeMem(0xcc23, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x623f);
        EXPECT(gbc.pc(), 0xcc24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc23), 0x7c);
        // 7C 03BD
        gbc.setState(0x389b, 0x9690, 0xf780, 0x80f3, 0xf23f, 0xbe30, 0x0, 0x0);
        gbc.writeMem(0x389b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x9690);
        EXPECT(gbc.pc(), 0x389c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03BE
        gbc.setState(0xd442, 0xbac1, 0x52c0, 0x2274, 0x735e, 0xafa6, 0x0, 0x0);
        gbc.writeMem(0xd442, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbac1);
        EXPECT(gbc.pc(), 0xd443);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd442), 0x7c);
        // 7C 03BF
        gbc.setState(0xab9c, 0x30d0, 0xaad0, 0xe31a, 0x3c61, 0x15ed, 0x0, 0x1);
        gbc.writeMem(0xab9c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x30d0);
        EXPECT(gbc.pc(), 0xab9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab9c), 0x7c);
        // 7C 03C0
        gbc.setState(0x5d52, 0x6f29, 0x4180, 0x87a7, 0x79e7, 0x6ba5, 0x0, 0x1);
        gbc.writeMem(0x5d52, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x6f29);
        EXPECT(gbc.pc(), 0x5d53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03C1
        gbc.setState(0x5381, 0xa44d, 0xba90, 0x7224, 0x540c, 0x91ff, 0x0, 0x0);
        gbc.writeMem(0x5381, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa44d);
        EXPECT(gbc.pc(), 0x5382);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03C2
        gbc.setState(0x7dae, 0x8d05, 0x8350, 0xe236, 0x247f, 0xff58, 0x0, 0x1);
        gbc.writeMem(0x7dae, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8d05);
        EXPECT(gbc.pc(), 0x7daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03C3
        gbc.setState(0x3df6, 0x8f38, 0xf810, 0xc58d, 0xd9c3, 0x5dc1, 0x1, 0x0);
        gbc.writeMem(0x3df6, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8f38);
        EXPECT(gbc.pc(), 0x3df7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03C4
        gbc.setState(0xa8c7, 0x3629, 0x5580, 0xae7c, 0x7993, 0x48b2, 0x1, 0x0);
        gbc.writeMem(0xa8c7, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x3629);
        EXPECT(gbc.pc(), 0xa8c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8c7), 0x7c);
        // 7C 03C5
        gbc.setState(0x9d90, 0x14bd, 0xc770, 0x1b8f, 0x6c8c, 0x3c52, 0x0, 0x0);
        gbc.writeMem(0x9d90, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x14bd);
        EXPECT(gbc.pc(), 0x9d91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d90), 0x7c);
        // 7C 03C6
        gbc.setState(0xb026, 0x8634, 0x3520, 0x7d97, 0x5772, 0x84, 0x1, 0x0);
        gbc.writeMem(0xb026, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8634);
        EXPECT(gbc.pc(), 0xb027);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb026), 0x7c);
        // 7C 03C7
        gbc.setState(0x775a, 0x9bfe, 0xc1f0, 0x1035, 0x4780, 0xfa52, 0x0, 0x1);
        gbc.writeMem(0x775a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x9bfe);
        EXPECT(gbc.pc(), 0x775b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03C8
        gbc.setState(0x73e5, 0xe952, 0x1c20, 0xa006, 0x19d4, 0xa20, 0x0, 0x1);
        gbc.writeMem(0x73e5, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe952);
        EXPECT(gbc.pc(), 0x73e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03C9
        gbc.setState(0x59f1, 0x263c, 0x4c50, 0xf51c, 0xafa5, 0x39c6, 0x1, 0x1);
        gbc.writeMem(0x59f1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x263c);
        EXPECT(gbc.pc(), 0x59f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03CA
        gbc.setState(0x4dfc, 0xb252, 0x77a0, 0x7f3d, 0x36de, 0xce6d, 0x1, 0x1);
        gbc.writeMem(0x4dfc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb252);
        EXPECT(gbc.pc(), 0x4dfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03CB
        gbc.setState(0x22cf, 0xcff, 0x5210, 0x962c, 0xbec4, 0x53a6, 0x0, 0x0);
        gbc.writeMem(0x22cf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xcff);
        EXPECT(gbc.pc(), 0x22d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03CC
        gbc.setState(0x9971, 0x6169, 0xf650, 0x5cce, 0xcf12, 0x2667, 0x0, 0x1);
        gbc.writeMem(0x9971, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x6169);
        EXPECT(gbc.pc(), 0x9972);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9971), 0x7c);
        // 7C 03CD
        gbc.setState(0x5e29, 0xc905, 0xa080, 0x2238, 0xc304, 0x1342, 0x1, 0x0);
        gbc.writeMem(0x5e29, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xc905);
        EXPECT(gbc.pc(), 0x5e2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03CE
        gbc.setState(0x719c, 0x5cb4, 0x9530, 0xc437, 0xfe73, 0xf629, 0x1, 0x0);
        gbc.writeMem(0x719c, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x5cb4);
        EXPECT(gbc.pc(), 0x719d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03CF
        gbc.setState(0x6675, 0x883d, 0xf5f0, 0xf1a1, 0x1b10, 0x518b, 0x0, 0x0);
        gbc.writeMem(0x6675, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x883d);
        EXPECT(gbc.pc(), 0x6676);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03D0
        gbc.setState(0x8913, 0xd5e0, 0xeca0, 0x13e7, 0xb95a, 0xb536, 0x1, 0x1);
        gbc.writeMem(0x8913, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xd5e0);
        EXPECT(gbc.pc(), 0x8914);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8913), 0x7c);
        // 7C 03D1
        gbc.setState(0x6558, 0xf8a5, 0x8bf0, 0x8bf4, 0x363e, 0xf0b0, 0x0, 0x0);
        gbc.writeMem(0x6558, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xf8a5);
        EXPECT(gbc.pc(), 0x6559);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03D2
        gbc.setState(0x5f1e, 0xe29a, 0x2ab0, 0xf081, 0xf04a, 0xaccb, 0x0, 0x0);
        gbc.writeMem(0x5f1e, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe29a);
        EXPECT(gbc.pc(), 0x5f1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03D3
        gbc.setState(0x372b, 0x5940, 0x6130, 0x954, 0xbb03, 0x2234, 0x0, 0x0);
        gbc.writeMem(0x372b, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5940);
        EXPECT(gbc.pc(), 0x372c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03D4
        gbc.setState(0x21e0, 0xe88a, 0xfda0, 0xc48f, 0x35a3, 0xa122, 0x1, 0x0);
        gbc.writeMem(0x21e0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe88a);
        EXPECT(gbc.pc(), 0x21e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03D5
        gbc.setState(0xdbf8, 0x747c, 0xdf70, 0xe0c4, 0x771, 0x157a, 0x1, 0x1);
        gbc.writeMem(0xdbf8, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x747c);
        EXPECT(gbc.pc(), 0xdbf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbf8), 0x7c);
        // 7C 03D6
        gbc.setState(0xc3ee, 0xe434, 0xec10, 0xc5b8, 0xc1af, 0x4fbb, 0x1, 0x0);
        gbc.writeMem(0xc3ee, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xe434);
        EXPECT(gbc.pc(), 0xc3ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3ee), 0x7c);
        // 7C 03D7
        gbc.setState(0x3684, 0x13b0, 0x5be0, 0x967d, 0x75a8, 0x4246, 0x0, 0x0);
        gbc.writeMem(0x3684, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x13b0);
        EXPECT(gbc.pc(), 0x3685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 7C 03D8
        gbc.setState(0x9557, 0xd78f, 0xfd20, 0xf078, 0x897, 0x4da4, 0x0, 0x0);
        gbc.writeMem(0x9557, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xd78f);
        EXPECT(gbc.pc(), 0x9558);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9557), 0x7c);
        // 7C 03D9
        gbc.setState(0x3c38, 0xe09b, 0x4180, 0xd5f, 0x9ab9, 0xa1be, 0x1, 0x0);
        gbc.writeMem(0x3c38, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe09b);
        EXPECT(gbc.pc(), 0x3c39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03DA
        gbc.setState(0xbdca, 0x6c7e, 0x72c0, 0x6d81, 0x9dd3, 0x695c, 0x1, 0x0);
        gbc.writeMem(0xbdca, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x6c7e);
        EXPECT(gbc.pc(), 0xbdcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdca), 0x7c);
        // 7C 03DB
        gbc.setState(0xcbc, 0xf83f, 0x4270, 0xd019, 0xbd22, 0xdcbf, 0x1, 0x0);
        gbc.writeMem(0xcbc, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xf83f);
        EXPECT(gbc.pc(), 0xcbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03DC
        gbc.setState(0x3f0a, 0xa93b, 0x8a40, 0xa85, 0xb4f5, 0xc0f1, 0x1, 0x0);
        gbc.writeMem(0x3f0a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa93b);
        EXPECT(gbc.pc(), 0x3f0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03DD
        gbc.setState(0xada0, 0x3004, 0x1a10, 0x4aa3, 0xa98d, 0x423d, 0x1, 0x1);
        gbc.writeMem(0xada0, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3004);
        EXPECT(gbc.pc(), 0xada1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xada0), 0x7c);
        // 7C 03DE
        gbc.setState(0x6a41, 0xae20, 0x3f30, 0xf40f, 0x4b07, 0xfb66, 0x0, 0x0);
        gbc.writeMem(0x6a41, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xae20);
        EXPECT(gbc.pc(), 0x6a42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03DF
        gbc.setState(0xca71, 0x2f9e, 0xf530, 0x45a5, 0x7075, 0x5b9c, 0x0, 0x0);
        gbc.writeMem(0xca71, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x2f9e);
        EXPECT(gbc.pc(), 0xca72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca71), 0x7c);
        // 7C 03E0
        gbc.setState(0x3750, 0x93eb, 0x8070, 0x19d9, 0x6319, 0x813d, 0x1, 0x0);
        gbc.writeMem(0x3750, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x93eb);
        EXPECT(gbc.pc(), 0x3751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 7C 03E1
        gbc.setState(0x1edf, 0x28e, 0x4900, 0x1a2d, 0x1de4, 0x2c5f, 0x0, 0x1);
        gbc.writeMem(0x1edf, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x28e);
        EXPECT(gbc.pc(), 0x1ee0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03E2
        gbc.setState(0x7699, 0xc5ce, 0x1400, 0x1c54, 0x9676, 0x9e93, 0x1, 0x1);
        gbc.writeMem(0x7699, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc5ce);
        EXPECT(gbc.pc(), 0x769a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 7C 03E3
        gbc.setState(0x7165, 0xf0b8, 0x7d50, 0x7352, 0xf096, 0xb169, 0x1, 0x0);
        gbc.writeMem(0x7165, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xf0b8);
        EXPECT(gbc.pc(), 0x7166);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03E4
        gbc.setState(0xae6a, 0x807b, 0xe350, 0xb313, 0x4841, 0xa13c, 0x1, 0x0);
        gbc.writeMem(0xae6a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x807b);
        EXPECT(gbc.pc(), 0xae6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae6a), 0x7c);
        // 7C 03E5
        gbc.setState(0x1361, 0x2825, 0xeed0, 0xc8f5, 0x5e77, 0x695a, 0x0, 0x0);
        gbc.writeMem(0x1361, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x2825);
        EXPECT(gbc.pc(), 0x1362);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 7C 03E6
        gbc.setState(0xcfe1, 0x4cef, 0x900, 0xda6c, 0x7a1c, 0x9823, 0x0, 0x0);
        gbc.writeMem(0xcfe1, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x4cef);
        EXPECT(gbc.pc(), 0xcfe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfe1), 0x7c);
        // 7C 03E7
        gbc.setState(0xcee, 0xe913, 0x3c00, 0x927, 0x708b, 0x568b, 0x0, 0x1);
        gbc.writeMem(0xcee, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe913);
        EXPECT(gbc.pc(), 0xcef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
