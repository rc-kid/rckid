#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_49)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_49) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 49 0000
        gbc.setState(0x576f, 0x357a, 0xd770, 0xf31b, 0xec62, 0x4863, 0x1, 0x1);
        gbc.writeMem(0x576f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x357a);
        EXPECT(gbc.pc(), 0x5770);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0001
        gbc.setState(0x42a4, 0xc0af, 0x8760, 0xf7d, 0x72fe, 0x8b77, 0x1, 0x1);
        gbc.writeMem(0x42a4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc0af);
        EXPECT(gbc.pc(), 0x42a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0002
        gbc.setState(0x4d9b, 0xfde7, 0x4b0, 0x8b21, 0x1b66, 0x4c61, 0x1, 0x1);
        gbc.writeMem(0x4d9b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xfde7);
        EXPECT(gbc.pc(), 0x4d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0003
        gbc.setState(0xee1c, 0xf796, 0x67c0, 0xdb02, 0x3dc0, 0x6622, 0x0, 0x0);
        gbc.writeMem(0xee1c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf796);
        EXPECT(gbc.pc(), 0xee1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee1c), 0x49);
        // 49 0004
        gbc.setState(0x7927, 0x1141, 0x6bd0, 0xbf91, 0x4e53, 0xdac4, 0x1, 0x1);
        gbc.writeMem(0x7927, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x1141);
        EXPECT(gbc.pc(), 0x7928);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0005
        gbc.setState(0xb0bb, 0xad30, 0xb240, 0x7103, 0x8c76, 0x65c7, 0x0, 0x0);
        gbc.writeMem(0xb0bb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xad30);
        EXPECT(gbc.pc(), 0xb0bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0bb), 0x49);
        // 49 0006
        gbc.setState(0x57ab, 0x3a07, 0xa80, 0x5fcb, 0x3092, 0x3f1a, 0x1, 0x0);
        gbc.writeMem(0x57ab, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3a07);
        EXPECT(gbc.pc(), 0x57ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0007
        gbc.setState(0xcf78, 0x2a7c, 0x5430, 0x52e4, 0x561c, 0xab26, 0x1, 0x1);
        gbc.writeMem(0xcf78, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x2a7c);
        EXPECT(gbc.pc(), 0xcf79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf78), 0x49);
        // 49 0008
        gbc.setState(0x9032, 0x8818, 0x2dc0, 0xa863, 0xd14a, 0x8e52, 0x0, 0x1);
        gbc.writeMem(0x9032, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x8818);
        EXPECT(gbc.pc(), 0x9033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9032), 0x49);
        // 49 0009
        gbc.setState(0x6ad7, 0x7fdd, 0xb160, 0x931, 0x3b65, 0x8c43, 0x1, 0x0);
        gbc.writeMem(0x6ad7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7fdd);
        EXPECT(gbc.pc(), 0x6ad8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 000A
        gbc.setState(0x1e0c, 0x58ba, 0x6e10, 0xdd2c, 0xae4e, 0x9daa, 0x1, 0x0);
        gbc.writeMem(0x1e0c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x58ba);
        EXPECT(gbc.pc(), 0x1e0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 000B
        gbc.setState(0x28ef, 0xce4c, 0x67f0, 0x53aa, 0xe6b5, 0x1b0c, 0x0, 0x1);
        gbc.writeMem(0x28ef, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xce4c);
        EXPECT(gbc.pc(), 0x28f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 000C
        gbc.setState(0x7d4f, 0xd619, 0x7900, 0xe8b2, 0x9ff5, 0x788b, 0x0, 0x0);
        gbc.writeMem(0x7d4f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xd619);
        EXPECT(gbc.pc(), 0x7d50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 000D
        gbc.setState(0xef4d, 0xc425, 0xa210, 0xef2d, 0x3148, 0xc6c1, 0x1, 0x1);
        gbc.writeMem(0xef4d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xc425);
        EXPECT(gbc.pc(), 0xef4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef4d), 0x49);
        // 49 000E
        gbc.setState(0x5e13, 0xaaa8, 0x7f10, 0x4ce1, 0xa7e0, 0xe2a7, 0x1, 0x1);
        gbc.writeMem(0x5e13, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xaaa8);
        EXPECT(gbc.pc(), 0x5e14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 000F
        gbc.setState(0x1db3, 0xb09e, 0x8640, 0x3305, 0xadab, 0x7de8, 0x0, 0x0);
        gbc.writeMem(0x1db3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xb09e);
        EXPECT(gbc.pc(), 0x1db4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0010
        gbc.setState(0x75bc, 0xef97, 0x9180, 0xd4c0, 0xe1b5, 0xb1cd, 0x0, 0x1);
        gbc.writeMem(0x75bc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xef97);
        EXPECT(gbc.pc(), 0x75bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0011
        gbc.setState(0xbf90, 0xea24, 0x2580, 0xb921, 0xf6e1, 0x353b, 0x1, 0x0);
        gbc.writeMem(0xbf90, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xea24);
        EXPECT(gbc.pc(), 0xbf91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf90), 0x49);
        // 49 0012
        gbc.setState(0x51c3, 0x2078, 0x82f0, 0x1a58, 0xa4b1, 0xc770, 0x1, 0x0);
        gbc.writeMem(0x51c3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2078);
        EXPECT(gbc.pc(), 0x51c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0013
        gbc.setState(0x894c, 0x7546, 0xec10, 0xb95f, 0x4772, 0x1b11, 0x0, 0x1);
        gbc.writeMem(0x894c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7546);
        EXPECT(gbc.pc(), 0x894d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x894c), 0x49);
        // 49 0014
        gbc.setState(0xb4cf, 0xa121, 0x4cd0, 0xe675, 0xdcd8, 0xf669, 0x1, 0x0);
        gbc.writeMem(0xb4cf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xa121);
        EXPECT(gbc.pc(), 0xb4d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4cf), 0x49);
        // 49 0015
        gbc.setState(0xca39, 0x1080, 0xa650, 0x7a4f, 0x34a1, 0xada2, 0x0, 0x0);
        gbc.writeMem(0xca39, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x1080);
        EXPECT(gbc.pc(), 0xca3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca39), 0x49);
        // 49 0016
        gbc.setState(0x3713, 0x838a, 0x9a80, 0x84f6, 0xece3, 0x10a1, 0x0, 0x0);
        gbc.writeMem(0x3713, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x838a);
        EXPECT(gbc.pc(), 0x3714);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0017
        gbc.setState(0x5a98, 0x5c6d, 0xf510, 0x7cd0, 0x23ea, 0x867f, 0x1, 0x1);
        gbc.writeMem(0x5a98, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x5c6d);
        EXPECT(gbc.pc(), 0x5a99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0018
        gbc.setState(0xe1cf, 0x15e8, 0xe860, 0x5774, 0x2ac1, 0x8c28, 0x1, 0x1);
        gbc.writeMem(0xe1cf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x15e8);
        EXPECT(gbc.pc(), 0xe1d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1cf), 0x49);
        // 49 0019
        gbc.setState(0x10e3, 0xe411, 0xbc70, 0xefc2, 0x9f1b, 0xd076, 0x1, 0x1);
        gbc.writeMem(0x10e3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xe411);
        EXPECT(gbc.pc(), 0x10e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 001A
        gbc.setState(0x362b, 0x8296, 0xaa10, 0xf75c, 0xdd6f, 0xc739, 0x0, 0x0);
        gbc.writeMem(0x362b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x8296);
        EXPECT(gbc.pc(), 0x362c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 001B
        gbc.setState(0xd4f8, 0x1de7, 0xa6d0, 0x9d17, 0x90df, 0xa05a, 0x0, 0x0);
        gbc.writeMem(0xd4f8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1de7);
        EXPECT(gbc.pc(), 0xd4f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4f8), 0x49);
        // 49 001C
        gbc.setState(0xbb8a, 0xcb64, 0x4c70, 0x7931, 0x226b, 0xdcdd, 0x1, 0x0);
        gbc.writeMem(0xbb8a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xcb64);
        EXPECT(gbc.pc(), 0xbb8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb8a), 0x49);
        // 49 0020
        gbc.setState(0x195f, 0x4b03, 0xadb0, 0x6275, 0x1b6c, 0x7296, 0x0, 0x1);
        gbc.writeMem(0x195f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x4b03);
        EXPECT(gbc.pc(), 0x1960);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0021
        gbc.setState(0x8fe9, 0xa7c, 0xba80, 0x36f9, 0xfee, 0xb486, 0x1, 0x0);
        gbc.writeMem(0x8fe9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa7c);
        EXPECT(gbc.pc(), 0x8fea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fe9), 0x49);
        // 49 0022
        gbc.setState(0xdf6, 0x2bb9, 0xdce0, 0xc74a, 0xdffd, 0xede4, 0x0, 0x0);
        gbc.writeMem(0xdf6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x2bb9);
        EXPECT(gbc.pc(), 0xdf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0023
        gbc.setState(0x56be, 0x4f71, 0x44c0, 0xb1ac, 0x9428, 0xd006, 0x0, 0x1);
        gbc.writeMem(0x56be, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4f71);
        EXPECT(gbc.pc(), 0x56bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0024
        gbc.setState(0x125d, 0xa46b, 0xfca0, 0x734e, 0x34ee, 0xcd60, 0x0, 0x0);
        gbc.writeMem(0x125d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa46b);
        EXPECT(gbc.pc(), 0x125e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0025
        gbc.setState(0x317c, 0x4378, 0x1d50, 0x77cc, 0x6e6b, 0xf23, 0x0, 0x0);
        gbc.writeMem(0x317c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x4378);
        EXPECT(gbc.pc(), 0x317d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0026
        gbc.setState(0x922e, 0x6bba, 0x4290, 0xd561, 0x747d, 0xf224, 0x0, 0x0);
        gbc.writeMem(0x922e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x6bba);
        EXPECT(gbc.pc(), 0x922f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x922e), 0x49);
        // 49 0028
        gbc.setState(0x2714, 0x58d1, 0x5690, 0xd65d, 0xa96a, 0x656b, 0x0, 0x0);
        gbc.writeMem(0x2714, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x58d1);
        EXPECT(gbc.pc(), 0x2715);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0029
        gbc.setState(0x799, 0x14e2, 0x120, 0x3756, 0x74f2, 0xe2e7, 0x1, 0x1);
        gbc.writeMem(0x799, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x14e2);
        EXPECT(gbc.pc(), 0x79a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 002A
        gbc.setState(0x71b1, 0x8b97, 0x9dc0, 0x4523, 0xb609, 0x7f91, 0x1, 0x0);
        gbc.writeMem(0x71b1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x8b97);
        EXPECT(gbc.pc(), 0x71b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 002B
        gbc.setState(0x7a39, 0x7e0b, 0xfa30, 0x5a88, 0xcb24, 0xfdef, 0x1, 0x0);
        gbc.writeMem(0x7a39, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x7e0b);
        EXPECT(gbc.pc(), 0x7a3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 002C
        gbc.setState(0xbb6b, 0x92e7, 0xf8a0, 0x6671, 0xf285, 0xf6e2, 0x0, 0x0);
        gbc.writeMem(0xbb6b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x92e7);
        EXPECT(gbc.pc(), 0xbb6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb6b), 0x49);
        // 49 002D
        gbc.setState(0xb1ce, 0x44cf, 0xd5f0, 0x272a, 0x97d7, 0x54cc, 0x0, 0x0);
        gbc.writeMem(0xb1ce, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x44cf);
        EXPECT(gbc.pc(), 0xb1cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1ce), 0x49);
        // 49 002E
        gbc.setState(0x104e, 0xf928, 0xff80, 0x6c8d, 0x1c7, 0xa535, 0x1, 0x1);
        gbc.writeMem(0x104e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf928);
        EXPECT(gbc.pc(), 0x104f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 002F
        gbc.setState(0x950e, 0xe902, 0xe70, 0xe370, 0x11fb, 0x3033, 0x1, 0x1);
        gbc.writeMem(0x950e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe902);
        EXPECT(gbc.pc(), 0x950f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x950e), 0x49);
        // 49 0030
        gbc.setState(0xac68, 0xdbb7, 0xfeb0, 0xcc5a, 0x64f5, 0x24c9, 0x0, 0x0);
        gbc.writeMem(0xac68, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xdbb7);
        EXPECT(gbc.pc(), 0xac69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac68), 0x49);
        // 49 0031
        gbc.setState(0x805a, 0x7bd3, 0x7370, 0x99ae, 0x3bba, 0xdc4b, 0x1, 0x0);
        gbc.writeMem(0x805a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x7bd3);
        EXPECT(gbc.pc(), 0x805b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x805a), 0x49);
        // 49 0033
        gbc.setState(0xc5e4, 0xbc93, 0x3040, 0xb7d3, 0xc802, 0xf4b9, 0x1, 0x1);
        gbc.writeMem(0xc5e4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xbc93);
        EXPECT(gbc.pc(), 0xc5e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5e4), 0x49);
        // 49 0034
        gbc.setState(0x4e4d, 0x4676, 0x6c40, 0x3282, 0x3372, 0xce2e, 0x0, 0x1);
        gbc.writeMem(0x4e4d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4676);
        EXPECT(gbc.pc(), 0x4e4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0035
        gbc.setState(0x6c5f, 0xdf1a, 0x14c0, 0xa376, 0x86e2, 0x8fe8, 0x0, 0x0);
        gbc.writeMem(0x6c5f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xdf1a);
        EXPECT(gbc.pc(), 0x6c60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0036
        gbc.setState(0x8d05, 0x6b66, 0xc3e0, 0xe2e, 0xacf8, 0x479b, 0x0, 0x0);
        gbc.writeMem(0x8d05, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6b66);
        EXPECT(gbc.pc(), 0x8d06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d05), 0x49);
        // 49 0037
        gbc.setState(0x474b, 0x8359, 0x1940, 0xfa09, 0x5103, 0xb85b, 0x1, 0x1);
        gbc.writeMem(0x474b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x8359);
        EXPECT(gbc.pc(), 0x474c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0038
        gbc.setState(0xcac7, 0xf2af, 0xedb0, 0x9226, 0x6108, 0x245b, 0x1, 0x0);
        gbc.writeMem(0xcac7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf2af);
        EXPECT(gbc.pc(), 0xcac8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcac7), 0x49);
        // 49 0039
        gbc.setState(0x2d3, 0x5622, 0x9db0, 0xc364, 0xe838, 0x75d0, 0x1, 0x1);
        gbc.writeMem(0x2d3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x5622);
        EXPECT(gbc.pc(), 0x2d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 003A
        gbc.setState(0x7cf0, 0xbe48, 0x6a0, 0x6de3, 0x1ace, 0xfee5, 0x0, 0x0);
        gbc.writeMem(0x7cf0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xbe48);
        EXPECT(gbc.pc(), 0x7cf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 003B
        gbc.setState(0xbf3a, 0x35ff, 0xf750, 0x2727, 0xc167, 0xc222, 0x1, 0x1);
        gbc.writeMem(0xbf3a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x35ff);
        EXPECT(gbc.pc(), 0xbf3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf3a), 0x49);
        // 49 003C
        gbc.setState(0xff7, 0xc167, 0x4710, 0xea78, 0xd9bf, 0xd776, 0x1, 0x1);
        gbc.writeMem(0xff7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc167);
        EXPECT(gbc.pc(), 0xff8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 003E
        gbc.setState(0xeaa1, 0xec99, 0x8500, 0x1107, 0x351b, 0x6f1c, 0x0, 0x1);
        gbc.writeMem(0xeaa1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xec99);
        EXPECT(gbc.pc(), 0xeaa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaa1), 0x49);
        // 49 003F
        gbc.setState(0xe07, 0x4e97, 0xaab0, 0x8f91, 0xbd0e, 0x6cf0, 0x0, 0x0);
        gbc.writeMem(0xe07, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x4e97);
        EXPECT(gbc.pc(), 0xe08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0040
        gbc.setState(0x2640, 0x4963, 0xcd70, 0x25e6, 0xf0f8, 0x8e6c, 0x0, 0x1);
        gbc.writeMem(0x2640, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4963);
        EXPECT(gbc.pc(), 0x2641);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0042
        gbc.setState(0xd901, 0xfae5, 0xf7d0, 0x7659, 0x1f40, 0xc362, 0x0, 0x0);
        gbc.writeMem(0xd901, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xfae5);
        EXPECT(gbc.pc(), 0xd902);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd901), 0x49);
        // 49 0043
        gbc.setState(0x5ed9, 0x4943, 0x90, 0xd57f, 0x4755, 0x5a4c, 0x1, 0x0);
        gbc.writeMem(0x5ed9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x4943);
        EXPECT(gbc.pc(), 0x5eda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0044
        gbc.setState(0x7a4f, 0x9f16, 0x8980, 0xee99, 0x64e2, 0x3c09, 0x1, 0x0);
        gbc.writeMem(0x7a4f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x9f16);
        EXPECT(gbc.pc(), 0x7a50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0045
        gbc.setState(0xa535, 0xe512, 0xd430, 0x58cc, 0x3373, 0x2d95, 0x1, 0x1);
        gbc.writeMem(0xa535, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe512);
        EXPECT(gbc.pc(), 0xa536);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa535), 0x49);
        // 49 0046
        gbc.setState(0x6972, 0x4bc8, 0x3e10, 0x4e44, 0xde01, 0x5532, 0x0, 0x1);
        gbc.writeMem(0x6972, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x4bc8);
        EXPECT(gbc.pc(), 0x6973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0047
        gbc.setState(0x6661, 0x629d, 0x63c0, 0x9912, 0x8baf, 0xf532, 0x1, 0x0);
        gbc.writeMem(0x6661, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x629d);
        EXPECT(gbc.pc(), 0x6662);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0048
        gbc.setState(0xd74b, 0xcdad, 0x300, 0x74b4, 0x4c6, 0x31b1, 0x1, 0x0);
        gbc.writeMem(0xd74b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xcdad);
        EXPECT(gbc.pc(), 0xd74c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd74b), 0x49);
        // 49 0049
        gbc.setState(0x197f, 0xed17, 0x93a0, 0x7125, 0x9d0e, 0xb81f, 0x1, 0x1);
        gbc.writeMem(0x197f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xed17);
        EXPECT(gbc.pc(), 0x1980);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 004A
        gbc.setState(0xb821, 0xf7f0, 0x6ca0, 0x86a9, 0x9a66, 0x67c7, 0x0, 0x1);
        gbc.writeMem(0xb821, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf7f0);
        EXPECT(gbc.pc(), 0xb822);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb821), 0x49);
        // 49 004B
        gbc.setState(0xae3f, 0xee67, 0x17e0, 0x8ce8, 0xf22e, 0xcf21, 0x0, 0x0);
        gbc.writeMem(0xae3f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xee67);
        EXPECT(gbc.pc(), 0xae40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae3f), 0x49);
        // 49 004C
        gbc.setState(0xb88c, 0x9ae8, 0x3320, 0xf4c2, 0xfd96, 0x8fd5, 0x0, 0x1);
        gbc.writeMem(0xb88c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9ae8);
        EXPECT(gbc.pc(), 0xb88d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb88c), 0x49);
        // 49 004D
        gbc.setState(0x1fc5, 0xe05f, 0xe90, 0xa23f, 0xc228, 0x44ed, 0x1, 0x1);
        gbc.writeMem(0x1fc5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xe05f);
        EXPECT(gbc.pc(), 0x1fc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 004E
        gbc.setState(0xee2c, 0xa9e6, 0xb700, 0xec60, 0x4583, 0x7f4f, 0x1, 0x0);
        gbc.writeMem(0xee2c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa9e6);
        EXPECT(gbc.pc(), 0xee2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee2c), 0x49);
        // 49 004F
        gbc.setState(0xc779, 0xf89a, 0x2fa0, 0x36ad, 0x2683, 0x4eb4, 0x0, 0x1);
        gbc.writeMem(0xc779, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xf89a);
        EXPECT(gbc.pc(), 0xc77a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc779), 0x49);
        // 49 0050
        gbc.setState(0xbf22, 0x84b5, 0x4cb0, 0x2f95, 0xa1a6, 0x2a3a, 0x0, 0x0);
        gbc.writeMem(0xbf22, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x84b5);
        EXPECT(gbc.pc(), 0xbf23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf22), 0x49);
        // 49 0051
        gbc.setState(0xc612, 0x4cc7, 0x6420, 0x9d08, 0xe534, 0xc11d, 0x0, 0x0);
        gbc.writeMem(0xc612, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4cc7);
        EXPECT(gbc.pc(), 0xc613);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc612), 0x49);
        // 49 0052
        gbc.setState(0x67cc, 0x9e3a, 0xe550, 0x850b, 0x930a, 0xc12d, 0x1, 0x0);
        gbc.writeMem(0x67cc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x9e3a);
        EXPECT(gbc.pc(), 0x67cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0053
        gbc.setState(0x89a9, 0x5960, 0x57a0, 0xa406, 0x6f57, 0xfa52, 0x0, 0x0);
        gbc.writeMem(0x89a9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x5960);
        EXPECT(gbc.pc(), 0x89aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89a9), 0x49);
        // 49 0054
        gbc.setState(0x6a98, 0x3628, 0x6c00, 0x34c4, 0x9f71, 0xa4b, 0x0, 0x0);
        gbc.writeMem(0x6a98, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3628);
        EXPECT(gbc.pc(), 0x6a99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0055
        gbc.setState(0xe619, 0x8561, 0x3dd0, 0xa7be, 0xb0da, 0x4c47, 0x1, 0x1);
        gbc.writeMem(0xe619, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x8561);
        EXPECT(gbc.pc(), 0xe61a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe619), 0x49);
        // 49 0056
        gbc.setState(0x2bc4, 0x56fc, 0x8fe0, 0x2651, 0x6ba, 0xa51e, 0x1, 0x1);
        gbc.writeMem(0x2bc4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x56fc);
        EXPECT(gbc.pc(), 0x2bc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0057
        gbc.setState(0xb5bd, 0x4a6e, 0x5060, 0x95aa, 0x24fd, 0x3c2d, 0x0, 0x0);
        gbc.writeMem(0xb5bd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x4a6e);
        EXPECT(gbc.pc(), 0xb5be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5bd), 0x49);
        // 49 0058
        gbc.setState(0x5fff, 0x9938, 0x5f80, 0x5fa6, 0xe9a, 0xf5a8, 0x1, 0x1);
        gbc.writeMem(0x5fff, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x9938);
        EXPECT(gbc.pc(), 0x6000);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0059
        gbc.setState(0x33f8, 0x68f8, 0x35c0, 0x1436, 0x8c68, 0x86ea, 0x1, 0x0);
        gbc.writeMem(0x33f8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x68f8);
        EXPECT(gbc.pc(), 0x33f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 005B
        gbc.setState(0x7970, 0x7e87, 0x3940, 0x505b, 0x90d4, 0x8c6c, 0x0, 0x1);
        gbc.writeMem(0x7970, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x7e87);
        EXPECT(gbc.pc(), 0x7971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 005C
        gbc.setState(0x69a1, 0x6e21, 0x1ec0, 0xfd7a, 0x9067, 0xc5d2, 0x0, 0x1);
        gbc.writeMem(0x69a1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6e21);
        EXPECT(gbc.pc(), 0x69a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 005D
        gbc.setState(0xe6cd, 0xc2da, 0x9da0, 0xe245, 0x70b4, 0x2f9c, 0x1, 0x1);
        gbc.writeMem(0xe6cd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc2da);
        EXPECT(gbc.pc(), 0xe6ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6cd), 0x49);
        // 49 005E
        gbc.setState(0xe015, 0xd5cd, 0x41a0, 0x5e08, 0x190d, 0x927c, 0x0, 0x1);
        gbc.writeMem(0xe015, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd5cd);
        EXPECT(gbc.pc(), 0xe016);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe015), 0x49);
        // 49 005F
        gbc.setState(0xd294, 0x21fc, 0xf460, 0xb489, 0xdc76, 0x2a24, 0x1, 0x0);
        gbc.writeMem(0xd294, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x21fc);
        EXPECT(gbc.pc(), 0xd295);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd294), 0x49);
        // 49 0061
        gbc.setState(0x6544, 0x4332, 0xf0a0, 0x1c7d, 0x81e8, 0x656f, 0x0, 0x0);
        gbc.writeMem(0x6544, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4332);
        EXPECT(gbc.pc(), 0x6545);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0063
        gbc.setState(0xb547, 0xd92a, 0x26b0, 0x71e2, 0x69bc, 0x50f4, 0x1, 0x1);
        gbc.writeMem(0xb547, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xd92a);
        EXPECT(gbc.pc(), 0xb548);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb547), 0x49);
        // 49 0064
        gbc.setState(0xc1f5, 0xed9d, 0x2d70, 0x4011, 0x2ac2, 0xa50d, 0x0, 0x0);
        gbc.writeMem(0xc1f5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xed9d);
        EXPECT(gbc.pc(), 0xc1f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1f5), 0x49);
        // 49 0065
        gbc.setState(0x6948, 0xe8ef, 0x2570, 0xe478, 0xb542, 0xb08e, 0x1, 0x0);
        gbc.writeMem(0x6948, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xe8ef);
        EXPECT(gbc.pc(), 0x6949);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0066
        gbc.setState(0xdf1b, 0xc9f5, 0x21c0, 0xb6e3, 0x7f09, 0x358, 0x1, 0x0);
        gbc.writeMem(0xdf1b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xc9f5);
        EXPECT(gbc.pc(), 0xdf1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf1b), 0x49);
        // 49 0067
        gbc.setState(0x183f, 0xefd8, 0xcb90, 0xc93d, 0x4616, 0x187f, 0x0, 0x0);
        gbc.writeMem(0x183f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xefd8);
        EXPECT(gbc.pc(), 0x1840);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0068
        gbc.setState(0xde20, 0xc1ed, 0x2d00, 0x4090, 0x6228, 0x1ec2, 0x1, 0x1);
        gbc.writeMem(0xde20, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xc1ed);
        EXPECT(gbc.pc(), 0xde21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde20), 0x49);
        // 49 0069
        gbc.setState(0x95ef, 0xf313, 0x46e0, 0x5bf8, 0xe3d6, 0x15ca, 0x1, 0x0);
        gbc.writeMem(0x95ef, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf313);
        EXPECT(gbc.pc(), 0x95f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95ef), 0x49);
        // 49 006A
        gbc.setState(0x935e, 0xa123, 0x28d0, 0xb597, 0xb82, 0x7dad, 0x1, 0x0);
        gbc.writeMem(0x935e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xa123);
        EXPECT(gbc.pc(), 0x935f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x935e), 0x49);
        // 49 006B
        gbc.setState(0x5f12, 0x9d5f, 0x27d0, 0xf353, 0x7ab7, 0x7628, 0x0, 0x1);
        gbc.writeMem(0x5f12, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9d5f);
        EXPECT(gbc.pc(), 0x5f13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 006C
        gbc.setState(0x736c, 0xcc3f, 0x8af0, 0xa410, 0xe34b, 0xf4dd, 0x0, 0x1);
        gbc.writeMem(0x736c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xcc3f);
        EXPECT(gbc.pc(), 0x736d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 006D
        gbc.setState(0x4fcf, 0x1326, 0xef00, 0x2e3e, 0xf9b5, 0x4b2, 0x0, 0x1);
        gbc.writeMem(0x4fcf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x1326);
        EXPECT(gbc.pc(), 0x4fd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 006E
        gbc.setState(0x45b4, 0x4b6e, 0xcca0, 0x6e32, 0xa166, 0xae24, 0x1, 0x0);
        gbc.writeMem(0x45b4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4b6e);
        EXPECT(gbc.pc(), 0x45b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 006F
        gbc.setState(0x7fac, 0xfba9, 0x8e70, 0x549c, 0x16fb, 0x8d5c, 0x1, 0x0);
        gbc.writeMem(0x7fac, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xfba9);
        EXPECT(gbc.pc(), 0x7fad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0070
        gbc.setState(0xc912, 0x3ae, 0x4250, 0x4a, 0xc987, 0xaa93, 0x1, 0x1);
        gbc.writeMem(0xc912, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x3ae);
        EXPECT(gbc.pc(), 0xc913);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc912), 0x49);
        // 49 0071
        gbc.setState(0xe7bd, 0xd743, 0x7120, 0xb358, 0x47da, 0xad78, 0x0, 0x0);
        gbc.writeMem(0xe7bd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd743);
        EXPECT(gbc.pc(), 0xe7be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7bd), 0x49);
        // 49 0072
        gbc.setState(0x59f5, 0x45c3, 0xc8d0, 0xe692, 0xd6f8, 0xe4e0, 0x0, 0x0);
        gbc.writeMem(0x59f5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x45c3);
        EXPECT(gbc.pc(), 0x59f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0073
        gbc.setState(0xc7e5, 0x24, 0xda70, 0x54df, 0x64e7, 0xabfe, 0x1, 0x1);
        gbc.writeMem(0xc7e5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x24);
        EXPECT(gbc.pc(), 0xc7e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7e5), 0x49);
        // 49 0074
        gbc.setState(0xfaf, 0xad2e, 0xcbe0, 0xb7f, 0x4fd5, 0xd702, 0x1, 0x0);
        gbc.writeMem(0xfaf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xad2e);
        EXPECT(gbc.pc(), 0xfb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0075
        gbc.setState(0x66d0, 0x9ea9, 0x4b10, 0xde6d, 0x4699, 0xc3df, 0x0, 0x0);
        gbc.writeMem(0x66d0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9ea9);
        EXPECT(gbc.pc(), 0x66d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0077
        gbc.setState(0x8a4a, 0x791d, 0x52f0, 0xedd8, 0x4d40, 0xb165, 0x0, 0x1);
        gbc.writeMem(0x8a4a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x791d);
        EXPECT(gbc.pc(), 0x8a4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a4a), 0x49);
        // 49 0078
        gbc.setState(0xc0c, 0xe968, 0xaf20, 0x2db6, 0x15d0, 0x4cdc, 0x1, 0x1);
        gbc.writeMem(0xc0c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xe968);
        EXPECT(gbc.pc(), 0xc0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0079
        gbc.setState(0xc922, 0xa9d, 0xe100, 0xd140, 0x441f, 0xf7b9, 0x0, 0x0);
        gbc.writeMem(0xc922, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xa9d);
        EXPECT(gbc.pc(), 0xc923);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc922), 0x49);
        // 49 007A
        gbc.setState(0x5820, 0x5d0b, 0xcb40, 0xc29c, 0xd17a, 0xec2f, 0x0, 0x1);
        gbc.writeMem(0x5820, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5d0b);
        EXPECT(gbc.pc(), 0x5821);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 007B
        gbc.setState(0xb46e, 0xb98c, 0x82c0, 0xbd63, 0xb163, 0x6dd8, 0x0, 0x0);
        gbc.writeMem(0xb46e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb98c);
        EXPECT(gbc.pc(), 0xb46f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46e), 0x49);
        // 49 007C
        gbc.setState(0x3b50, 0x1f12, 0x6710, 0x3a3, 0x7d2a, 0xff61, 0x1, 0x0);
        gbc.writeMem(0x3b50, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x1f12);
        EXPECT(gbc.pc(), 0x3b51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 007D
        gbc.setState(0x5cfb, 0xea34, 0xf700, 0xfc54, 0x7d27, 0x40ab, 0x0, 0x0);
        gbc.writeMem(0x5cfb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xea34);
        EXPECT(gbc.pc(), 0x5cfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 007E
        gbc.setState(0x3fd8, 0x25ed, 0x8c60, 0x9214, 0xf4c, 0xbbc3, 0x1, 0x0);
        gbc.writeMem(0x3fd8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x25ed);
        EXPECT(gbc.pc(), 0x3fd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 007F
        gbc.setState(0xd9fa, 0x9d44, 0x96d0, 0x1dc4, 0xfdb5, 0x65a0, 0x1, 0x1);
        gbc.writeMem(0xd9fa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9d44);
        EXPECT(gbc.pc(), 0xd9fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9fa), 0x49);
        // 49 0080
        gbc.setState(0xe92d, 0x9d14, 0x6da0, 0xd896, 0x4cf4, 0x5330, 0x1, 0x0);
        gbc.writeMem(0xe92d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x9d14);
        EXPECT(gbc.pc(), 0xe92e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe92d), 0x49);
        // 49 0081
        gbc.setState(0x89fd, 0x7315, 0xbff0, 0xd2d4, 0x544, 0x2551, 0x0, 0x1);
        gbc.writeMem(0x89fd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x7315);
        EXPECT(gbc.pc(), 0x89fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89fd), 0x49);
        // 49 0083
        gbc.setState(0xbc0e, 0x2758, 0x4810, 0xdbb1, 0x3be5, 0x4aef, 0x0, 0x0);
        gbc.writeMem(0xbc0e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x2758);
        EXPECT(gbc.pc(), 0xbc0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc0e), 0x49);
        // 49 0085
        gbc.setState(0xeb7e, 0x8996, 0x610, 0x2e09, 0xaf29, 0xef88, 0x0, 0x1);
        gbc.writeMem(0xeb7e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x8996);
        EXPECT(gbc.pc(), 0xeb7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb7e), 0x49);
        // 49 0086
        gbc.setState(0x32f4, 0x9fe, 0xf90, 0x4a99, 0x91dc, 0xdc3f, 0x0, 0x1);
        gbc.writeMem(0x32f4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9fe);
        EXPECT(gbc.pc(), 0x32f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0087
        gbc.setState(0x71e7, 0xbfe4, 0x1e30, 0x16bf, 0x4562, 0x1d92, 0x0, 0x0);
        gbc.writeMem(0x71e7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xbfe4);
        EXPECT(gbc.pc(), 0x71e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0088
        gbc.setState(0xc86, 0x343b, 0xea30, 0xed05, 0xb8c0, 0x4a4a, 0x1, 0x1);
        gbc.writeMem(0xc86, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x343b);
        EXPECT(gbc.pc(), 0xc87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0089
        gbc.setState(0xbe48, 0x7e4c, 0x9e40, 0x594a, 0x17de, 0x70c9, 0x0, 0x1);
        gbc.writeMem(0xbe48, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7e4c);
        EXPECT(gbc.pc(), 0xbe49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe48), 0x49);
        // 49 008A
        gbc.setState(0x9e56, 0x8214, 0x57b0, 0xc2b3, 0xbadc, 0xe31, 0x1, 0x0);
        gbc.writeMem(0x9e56, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x8214);
        EXPECT(gbc.pc(), 0x9e57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e56), 0x49);
        // 49 008B
        gbc.setState(0x119e, 0x41a, 0x9990, 0x57c9, 0x8c8, 0x6210, 0x0, 0x1);
        gbc.writeMem(0x119e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x41a);
        EXPECT(gbc.pc(), 0x119f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 008C
        gbc.setState(0x5c3a, 0xf483, 0xf6f0, 0xdae2, 0x1db3, 0xe15a, 0x0, 0x0);
        gbc.writeMem(0x5c3a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xf483);
        EXPECT(gbc.pc(), 0x5c3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 008D
        gbc.setState(0x7a3a, 0x96d6, 0x7990, 0x8df3, 0x6e13, 0xefd3, 0x0, 0x1);
        gbc.writeMem(0x7a3a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x96d6);
        EXPECT(gbc.pc(), 0x7a3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 008F
        gbc.setState(0x6915, 0xd4d5, 0xf790, 0x205a, 0x9e0f, 0x19fa, 0x0, 0x1);
        gbc.writeMem(0x6915, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xd4d5);
        EXPECT(gbc.pc(), 0x6916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0090
        gbc.setState(0x1d18, 0x49e9, 0xb010, 0xd034, 0x6303, 0x3ce0, 0x1, 0x0);
        gbc.writeMem(0x1d18, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x49e9);
        EXPECT(gbc.pc(), 0x1d19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0091
        gbc.setState(0x4ab4, 0x51d0, 0x2810, 0xfffb, 0xdc29, 0xede3, 0x0, 0x0);
        gbc.writeMem(0x4ab4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x51d0);
        EXPECT(gbc.pc(), 0x4ab5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0092
        gbc.setState(0x388e, 0xa614, 0x91c0, 0xd170, 0x210, 0x3175, 0x0, 0x1);
        gbc.writeMem(0x388e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa614);
        EXPECT(gbc.pc(), 0x388f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0093
        gbc.setState(0xa334, 0x630f, 0xabe0, 0x8785, 0x871c, 0xa939, 0x0, 0x0);
        gbc.writeMem(0xa334, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x630f);
        EXPECT(gbc.pc(), 0xa335);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa334), 0x49);
        // 49 0094
        gbc.setState(0xc21c, 0x5780, 0xf0, 0x6919, 0x617d, 0xd35e, 0x0, 0x1);
        gbc.writeMem(0xc21c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x5780);
        EXPECT(gbc.pc(), 0xc21d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc21c), 0x49);
        // 49 0095
        gbc.setState(0xc595, 0xb73c, 0x3be0, 0xa26c, 0x71d3, 0xe264, 0x1, 0x0);
        gbc.writeMem(0xc595, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb73c);
        EXPECT(gbc.pc(), 0xc596);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc595), 0x49);
        // 49 0096
        gbc.setState(0xef67, 0x92ce, 0x3030, 0x794a, 0x2ad2, 0x6397, 0x1, 0x0);
        gbc.writeMem(0xef67, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x92ce);
        EXPECT(gbc.pc(), 0xef68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef67), 0x49);
        // 49 0097
        gbc.setState(0xb2a9, 0xc576, 0xae60, 0x807, 0x8fd1, 0xa263, 0x0, 0x1);
        gbc.writeMem(0xb2a9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc576);
        EXPECT(gbc.pc(), 0xb2aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2a9), 0x49);
        // 49 0098
        gbc.setState(0x9c42, 0x3144, 0x9c80, 0x265a, 0x5703, 0x85d1, 0x1, 0x0);
        gbc.writeMem(0x9c42, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3144);
        EXPECT(gbc.pc(), 0x9c43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c42), 0x49);
        // 49 0099
        gbc.setState(0x210e, 0x7ddc, 0x4610, 0x83f5, 0x73e6, 0xe21d, 0x0, 0x1);
        gbc.writeMem(0x210e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x7ddc);
        EXPECT(gbc.pc(), 0x210f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 009A
        gbc.setState(0x2f12, 0x78d1, 0x5740, 0x7091, 0x15f, 0xf33e, 0x0, 0x0);
        gbc.writeMem(0x2f12, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x78d1);
        EXPECT(gbc.pc(), 0x2f13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 009B
        gbc.setState(0x6a1c, 0xeb50, 0xa2a0, 0x27c5, 0x5399, 0xba00, 0x0, 0x0);
        gbc.writeMem(0x6a1c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xeb50);
        EXPECT(gbc.pc(), 0x6a1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 009C
        gbc.setState(0x86e4, 0x875d, 0xd760, 0xa2bd, 0xab14, 0x216e, 0x1, 0x1);
        gbc.writeMem(0x86e4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x875d);
        EXPECT(gbc.pc(), 0x86e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e4), 0x49);
        // 49 009E
        gbc.setState(0xbb2f, 0xc4a0, 0x9ea0, 0x46ac, 0x4c93, 0x7c9c, 0x1, 0x0);
        gbc.writeMem(0xbb2f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc4a0);
        EXPECT(gbc.pc(), 0xbb30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb2f), 0x49);
        // 49 009F
        gbc.setState(0x32e0, 0x1b35, 0xd540, 0xf67d, 0xe93d, 0xcf2e, 0x1, 0x1);
        gbc.writeMem(0x32e0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1b35);
        EXPECT(gbc.pc(), 0x32e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00A0
        gbc.setState(0x51e, 0x8dd8, 0xbf0, 0xf829, 0x9277, 0x701, 0x1, 0x1);
        gbc.writeMem(0x51e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x8dd8);
        EXPECT(gbc.pc(), 0x51f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00A1
        gbc.setState(0xdc33, 0xd609, 0x9370, 0x3b32, 0x7167, 0x7c4e, 0x0, 0x1);
        gbc.writeMem(0xdc33, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd609);
        EXPECT(gbc.pc(), 0xdc34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc33), 0x49);
        // 49 00A2
        gbc.setState(0x64a4, 0x2893, 0x19d0, 0x34eb, 0x2eaa, 0xa724, 0x1, 0x0);
        gbc.writeMem(0x64a4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2893);
        EXPECT(gbc.pc(), 0x64a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 00A3
        gbc.setState(0xb8d5, 0x346e, 0x8430, 0x4ddd, 0xba02, 0xcaa3, 0x0, 0x1);
        gbc.writeMem(0xb8d5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x346e);
        EXPECT(gbc.pc(), 0xb8d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8d5), 0x49);
        // 49 00A4
        gbc.setState(0x1f97, 0xbf12, 0xd9e0, 0x626b, 0x20ab, 0x167, 0x0, 0x1);
        gbc.writeMem(0x1f97, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xbf12);
        EXPECT(gbc.pc(), 0x1f98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00A5
        gbc.setState(0xace, 0x2392, 0x1270, 0x71e2, 0x905d, 0x4349, 0x0, 0x1);
        gbc.writeMem(0xace, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2392);
        EXPECT(gbc.pc(), 0xacf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00A6
        gbc.setState(0xb6f3, 0x3dc, 0x72b0, 0xcd6b, 0xb56e, 0x48a2, 0x1, 0x1);
        gbc.writeMem(0xb6f3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3dc);
        EXPECT(gbc.pc(), 0xb6f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6f3), 0x49);
        // 49 00A7
        gbc.setState(0x2130, 0xa4bf, 0x4410, 0x746c, 0x7e7e, 0x6f77, 0x0, 0x0);
        gbc.writeMem(0x2130, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa4bf);
        EXPECT(gbc.pc(), 0x2131);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 00A8
        gbc.setState(0xc34, 0x2bab, 0xd720, 0x8e8b, 0x563, 0x91c4, 0x1, 0x1);
        gbc.writeMem(0xc34, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2bab);
        EXPECT(gbc.pc(), 0xc35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00A9
        gbc.setState(0xca24, 0xc1bb, 0x9b10, 0x3208, 0xbd25, 0x2249, 0x0, 0x1);
        gbc.writeMem(0xca24, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xc1bb);
        EXPECT(gbc.pc(), 0xca25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca24), 0x49);
        // 49 00AA
        gbc.setState(0x2ca2, 0xdc92, 0xac00, 0xcf9f, 0x9ec8, 0x9904, 0x1, 0x1);
        gbc.writeMem(0x2ca2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xdc92);
        EXPECT(gbc.pc(), 0x2ca3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00AB
        gbc.setState(0x6c91, 0x950e, 0x6840, 0x586b, 0xbb74, 0xc59, 0x1, 0x1);
        gbc.writeMem(0x6c91, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x950e);
        EXPECT(gbc.pc(), 0x6c92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00AC
        gbc.setState(0x78f9, 0xc7b1, 0x93c0, 0x3d9f, 0xda0a, 0x3f5c, 0x0, 0x0);
        gbc.writeMem(0x78f9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xc7b1);
        EXPECT(gbc.pc(), 0x78fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00AD
        gbc.setState(0xd317, 0xdc72, 0xdc50, 0x600f, 0xae05, 0x12c7, 0x1, 0x1);
        gbc.writeMem(0xd317, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xdc72);
        EXPECT(gbc.pc(), 0xd318);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd317), 0x49);
        // 49 00AE
        gbc.setState(0xa0a8, 0x3132, 0xb430, 0x863a, 0x5729, 0xbfc8, 0x1, 0x0);
        gbc.writeMem(0xa0a8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x3132);
        EXPECT(gbc.pc(), 0xa0a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0a8), 0x49);
        // 49 00AF
        gbc.setState(0x7ee8, 0x9e1b, 0x4f20, 0xce20, 0x9297, 0x730b, 0x1, 0x0);
        gbc.writeMem(0x7ee8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x9e1b);
        EXPECT(gbc.pc(), 0x7ee9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00B0
        gbc.setState(0x6be7, 0xbd1d, 0xdc50, 0xb995, 0xec5c, 0x97e0, 0x1, 0x1);
        gbc.writeMem(0x6be7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xbd1d);
        EXPECT(gbc.pc(), 0x6be8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 00B1
        gbc.setState(0xaf2e, 0x6c7f, 0xf7c0, 0xe938, 0x3120, 0x825, 0x0, 0x0);
        gbc.writeMem(0xaf2e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x6c7f);
        EXPECT(gbc.pc(), 0xaf2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf2e), 0x49);
        // 49 00B2
        gbc.setState(0x5236, 0x4880, 0x80b0, 0xb19e, 0xd87, 0x4aaf, 0x1, 0x0);
        gbc.writeMem(0x5236, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4880);
        EXPECT(gbc.pc(), 0x5237);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00B4
        gbc.setState(0xc580, 0xc0fe, 0x54d0, 0x9a40, 0x4728, 0x6a40, 0x0, 0x1);
        gbc.writeMem(0xc580, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xc0fe);
        EXPECT(gbc.pc(), 0xc581);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc580), 0x49);
        // 49 00B5
        gbc.setState(0x142b, 0x66d7, 0xff00, 0x117d, 0xa12c, 0x896f, 0x0, 0x0);
        gbc.writeMem(0x142b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x66d7);
        EXPECT(gbc.pc(), 0x142c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00B6
        gbc.setState(0xc09f, 0xfaea, 0x2ab0, 0xf6d4, 0xa8a8, 0xe429, 0x1, 0x1);
        gbc.writeMem(0xc09f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xfaea);
        EXPECT(gbc.pc(), 0xc0a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc09f), 0x49);
        // 49 00B7
        gbc.setState(0x7e5b, 0xaa26, 0x9840, 0xa40a, 0x7ca6, 0x439a, 0x0, 0x1);
        gbc.writeMem(0x7e5b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xaa26);
        EXPECT(gbc.pc(), 0x7e5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00B8
        gbc.setState(0xe84c, 0xdd7b, 0x2530, 0xf5d5, 0x26ba, 0x5e9b, 0x0, 0x1);
        gbc.writeMem(0xe84c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xdd7b);
        EXPECT(gbc.pc(), 0xe84d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe84c), 0x49);
        // 49 00B9
        gbc.setState(0x8306, 0x73c8, 0xf520, 0x5f1, 0x3b36, 0x7ab6, 0x0, 0x0);
        gbc.writeMem(0x8306, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x73c8);
        EXPECT(gbc.pc(), 0x8307);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8306), 0x49);
        // 49 00BA
        gbc.setState(0xd55a, 0x4340, 0xde50, 0x11b7, 0xee6e, 0xe666, 0x0, 0x1);
        gbc.writeMem(0xd55a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4340);
        EXPECT(gbc.pc(), 0xd55b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd55a), 0x49);
        // 49 00BB
        gbc.setState(0x7299, 0xce1b, 0xb3c0, 0x72c0, 0x7683, 0xccff, 0x0, 0x0);
        gbc.writeMem(0x7299, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xce1b);
        EXPECT(gbc.pc(), 0x729a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00BC
        gbc.setState(0x6d61, 0x3a5d, 0xf0a0, 0x65e1, 0x558a, 0xcd4, 0x1, 0x0);
        gbc.writeMem(0x6d61, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3a5d);
        EXPECT(gbc.pc(), 0x6d62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00BD
        gbc.setState(0xe079, 0x1c3e, 0x6b50, 0x8aeb, 0xf9d5, 0xe0f3, 0x1, 0x1);
        gbc.writeMem(0xe079, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x1c3e);
        EXPECT(gbc.pc(), 0xe07a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe079), 0x49);
        // 49 00BE
        gbc.setState(0x549c, 0x1b0d, 0xa910, 0xc2c0, 0xca75, 0xced4, 0x0, 0x0);
        gbc.writeMem(0x549c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x1b0d);
        EXPECT(gbc.pc(), 0x549d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 00BF
        gbc.setState(0x5e5f, 0xae81, 0x65b0, 0x676d, 0x228d, 0xbcb6, 0x1, 0x1);
        gbc.writeMem(0x5e5f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xae81);
        EXPECT(gbc.pc(), 0x5e60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00C0
        gbc.setState(0x980c, 0xbd9c, 0xdc60, 0xa3fe, 0xfc17, 0xe98c, 0x0, 0x0);
        gbc.writeMem(0x980c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xbd9c);
        EXPECT(gbc.pc(), 0x980d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x980c), 0x49);
        // 49 00C1
        gbc.setState(0xdf7, 0xf879, 0x9f20, 0x559f, 0x14fb, 0xcd77, 0x1, 0x1);
        gbc.writeMem(0xdf7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xf879);
        EXPECT(gbc.pc(), 0xdf8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00C2
        gbc.setState(0x802c, 0xaa4, 0x72c0, 0x2dd1, 0x23d4, 0xc496, 0x0, 0x0);
        gbc.writeMem(0x802c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xaa4);
        EXPECT(gbc.pc(), 0x802d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x802c), 0x49);
        // 49 00C4
        gbc.setState(0x6d3a, 0xb127, 0x620, 0x99e2, 0x9e67, 0x44ae, 0x1, 0x1);
        gbc.writeMem(0x6d3a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xb127);
        EXPECT(gbc.pc(), 0x6d3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00C5
        gbc.setState(0xec82, 0xd565, 0xbdf0, 0xf201, 0x203f, 0xbf78, 0x1, 0x1);
        gbc.writeMem(0xec82, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd565);
        EXPECT(gbc.pc(), 0xec83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec82), 0x49);
        // 49 00C6
        gbc.setState(0x7942, 0x50ff, 0xd780, 0xf87d, 0x45e0, 0x7f2f, 0x0, 0x0);
        gbc.writeMem(0x7942, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x50ff);
        EXPECT(gbc.pc(), 0x7943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00C7
        gbc.setState(0x3ac0, 0x2c6e, 0xc130, 0x8bc6, 0xa188, 0x6bf4, 0x1, 0x1);
        gbc.writeMem(0x3ac0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2c6e);
        EXPECT(gbc.pc(), 0x3ac1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00C8
        gbc.setState(0xe37b, 0xa079, 0x9df0, 0x42d6, 0x9ea8, 0x250e, 0x0, 0x0);
        gbc.writeMem(0xe37b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa079);
        EXPECT(gbc.pc(), 0xe37c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe37b), 0x49);
        // 49 00C9
        gbc.setState(0xbc12, 0x3731, 0x920, 0xe4b0, 0x7a88, 0xdb1e, 0x1, 0x1);
        gbc.writeMem(0xbc12, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3731);
        EXPECT(gbc.pc(), 0xbc13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc12), 0x49);
        // 49 00CA
        gbc.setState(0x64d9, 0xf02f, 0x4c60, 0xbfdf, 0x8b0b, 0x9073, 0x0, 0x1);
        gbc.writeMem(0x64d9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf02f);
        EXPECT(gbc.pc(), 0x64da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00CB
        gbc.setState(0x30fc, 0x2574, 0xae80, 0x41b1, 0x99f3, 0x3a95, 0x1, 0x1);
        gbc.writeMem(0x30fc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2574);
        EXPECT(gbc.pc(), 0x30fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00CC
        gbc.setState(0x51de, 0xbe37, 0x6d30, 0xee03, 0xb503, 0xf18, 0x0, 0x1);
        gbc.writeMem(0x51de, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xbe37);
        EXPECT(gbc.pc(), 0x51df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00CD
        gbc.setState(0xbe15, 0xe5b0, 0x1010, 0xf9fb, 0xc908, 0xa8c1, 0x1, 0x0);
        gbc.writeMem(0xbe15, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe5b0);
        EXPECT(gbc.pc(), 0xbe16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe15), 0x49);
        // 49 00CF
        gbc.setState(0x1a24, 0x134f, 0x2d80, 0xec75, 0x6f15, 0xf2e, 0x0, 0x0);
        gbc.writeMem(0x1a24, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x134f);
        EXPECT(gbc.pc(), 0x1a25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00D0
        gbc.setState(0x352d, 0xe11b, 0x5200, 0x3612, 0xd138, 0x7cdf, 0x1, 0x0);
        gbc.writeMem(0x352d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xe11b);
        EXPECT(gbc.pc(), 0x352e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00D1
        gbc.setState(0x8eae, 0x9aef, 0x1db0, 0x4936, 0xa3b3, 0xda0e, 0x0, 0x0);
        gbc.writeMem(0x8eae, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x9aef);
        EXPECT(gbc.pc(), 0x8eaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8eae), 0x49);
        // 49 00D2
        gbc.setState(0x4860, 0x8106, 0x50d0, 0xabf, 0x4ad5, 0x99eb, 0x1, 0x1);
        gbc.writeMem(0x4860, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8106);
        EXPECT(gbc.pc(), 0x4861);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 00D3
        gbc.setState(0x687b, 0x22f6, 0x8dc0, 0x3590, 0x8428, 0x8295, 0x1, 0x1);
        gbc.writeMem(0x687b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x22f6);
        EXPECT(gbc.pc(), 0x687c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00D4
        gbc.setState(0x36e1, 0x95d5, 0xb3c0, 0x6f7e, 0xbe58, 0xd835, 0x1, 0x0);
        gbc.writeMem(0x36e1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x95d5);
        EXPECT(gbc.pc(), 0x36e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00D6
        gbc.setState(0x595c, 0x4955, 0xefa0, 0x8294, 0x152c, 0x91ec, 0x0, 0x0);
        gbc.writeMem(0x595c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4955);
        EXPECT(gbc.pc(), 0x595d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00D7
        gbc.setState(0x3cf7, 0x65f1, 0xb50, 0xe0e1, 0xda20, 0xc5b1, 0x0, 0x0);
        gbc.writeMem(0x3cf7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x65f1);
        EXPECT(gbc.pc(), 0x3cf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 00D8
        gbc.setState(0xe893, 0xc29b, 0xedd0, 0xe4db, 0xd80, 0xdf15, 0x0, 0x0);
        gbc.writeMem(0xe893, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc29b);
        EXPECT(gbc.pc(), 0xe894);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe893), 0x49);
        // 49 00D9
        gbc.setState(0xa2f5, 0xa385, 0x9db0, 0x6dc3, 0xa8e8, 0xf51a, 0x1, 0x0);
        gbc.writeMem(0xa2f5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xa385);
        EXPECT(gbc.pc(), 0xa2f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2f5), 0x49);
        // 49 00DA
        gbc.setState(0x9220, 0x5e5, 0x8ef0, 0xde31, 0x6b82, 0xb7f2, 0x1, 0x1);
        gbc.writeMem(0x9220, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5e5);
        EXPECT(gbc.pc(), 0x9221);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9220), 0x49);
        // 49 00DB
        gbc.setState(0x52bf, 0xf9a1, 0x3e00, 0x3997, 0x639d, 0x8ccc, 0x1, 0x0);
        gbc.writeMem(0x52bf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf9a1);
        EXPECT(gbc.pc(), 0x52c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00DC
        gbc.setState(0x5df5, 0x2bdc, 0xbeb0, 0xbbbd, 0xbbbc, 0xf8f8, 0x0, 0x1);
        gbc.writeMem(0x5df5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x2bdc);
        EXPECT(gbc.pc(), 0x5df6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00DD
        gbc.setState(0x8ab1, 0xe867, 0x95b0, 0xb6fb, 0x924f, 0x7132, 0x1, 0x0);
        gbc.writeMem(0x8ab1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe867);
        EXPECT(gbc.pc(), 0x8ab2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ab1), 0x49);
        // 49 00DE
        gbc.setState(0x1edd, 0x2aae, 0x8d00, 0x7e0f, 0x3413, 0x16fb, 0x1, 0x1);
        gbc.writeMem(0x1edd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2aae);
        EXPECT(gbc.pc(), 0x1ede);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00DF
        gbc.setState(0x98d3, 0xf94c, 0xe1b0, 0x712f, 0xb558, 0xf15b, 0x1, 0x1);
        gbc.writeMem(0x98d3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf94c);
        EXPECT(gbc.pc(), 0x98d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98d3), 0x49);
        // 49 00E0
        gbc.setState(0x8244, 0xc60, 0x5330, 0x1f58, 0xe845, 0x51e7, 0x0, 0x0);
        gbc.writeMem(0x8244, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc60);
        EXPECT(gbc.pc(), 0x8245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8244), 0x49);
        // 49 00E1
        gbc.setState(0xe198, 0x4de6, 0xf8a0, 0x5dd5, 0x3221, 0xa4a3, 0x0, 0x0);
        gbc.writeMem(0xe198, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4de6);
        EXPECT(gbc.pc(), 0xe199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe198), 0x49);
        // 49 00E2
        gbc.setState(0xdbb4, 0x385f, 0x1dd0, 0xb254, 0x9e8c, 0x2ee2, 0x0, 0x0);
        gbc.writeMem(0xdbb4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x385f);
        EXPECT(gbc.pc(), 0xdbb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbb4), 0x49);
        // 49 00E3
        gbc.setState(0xe316, 0xe7bd, 0xbc20, 0xc686, 0xa8fb, 0x8aa3, 0x1, 0x0);
        gbc.writeMem(0xe316, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xe7bd);
        EXPECT(gbc.pc(), 0xe317);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe316), 0x49);
        // 49 00E4
        gbc.setState(0xe90d, 0xcdbc, 0x43e0, 0xd249, 0x58b3, 0x9bf5, 0x0, 0x0);
        gbc.writeMem(0xe90d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xcdbc);
        EXPECT(gbc.pc(), 0xe90e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe90d), 0x49);
        // 49 00E5
        gbc.setState(0xc531, 0x3877, 0xf3e0, 0x268e, 0x2fb, 0xdc06, 0x1, 0x0);
        gbc.writeMem(0xc531, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x3877);
        EXPECT(gbc.pc(), 0xc532);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc531), 0x49);
        // 49 00E8
        gbc.setState(0xa698, 0x9dca, 0x7140, 0x8904, 0xa2ae, 0xa236, 0x0, 0x1);
        gbc.writeMem(0xa698, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9dca);
        EXPECT(gbc.pc(), 0xa699);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa698), 0x49);
        // 49 00E9
        gbc.setState(0x5350, 0x12aa, 0xc6b0, 0xfcc4, 0x2cbf, 0x19b8, 0x1, 0x0);
        gbc.writeMem(0x5350, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x12aa);
        EXPECT(gbc.pc(), 0x5351);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00EA
        gbc.setState(0x6b56, 0x7365, 0x77c0, 0xc79d, 0xdc3d, 0x81ca, 0x0, 0x0);
        gbc.writeMem(0x6b56, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7365);
        EXPECT(gbc.pc(), 0x6b57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00EC
        gbc.setState(0xe736, 0xaf0b, 0x87b0, 0x785b, 0x2891, 0x8392, 0x1, 0x0);
        gbc.writeMem(0xe736, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xaf0b);
        EXPECT(gbc.pc(), 0xe737);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe736), 0x49);
        // 49 00ED
        gbc.setState(0x4c59, 0x9fb8, 0x66b0, 0xa332, 0x6c5b, 0xce86, 0x0, 0x0);
        gbc.writeMem(0x4c59, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9fb8);
        EXPECT(gbc.pc(), 0x4c5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00EE
        gbc.setState(0xb538, 0xdb03, 0xfef0, 0x52e4, 0x3d49, 0xbe58, 0x1, 0x0);
        gbc.writeMem(0xb538, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xdb03);
        EXPECT(gbc.pc(), 0xb539);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb538), 0x49);
        // 49 00EF
        gbc.setState(0x9576, 0x3cc4, 0x2bc0, 0x933e, 0xae7b, 0xeb44, 0x0, 0x0);
        gbc.writeMem(0x9576, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x3cc4);
        EXPECT(gbc.pc(), 0x9577);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9576), 0x49);
        // 49 00F0
        gbc.setState(0x7cb3, 0x979c, 0xb30, 0xe0b0, 0x421, 0x350a, 0x1, 0x0);
        gbc.writeMem(0x7cb3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x979c);
        EXPECT(gbc.pc(), 0x7cb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00F1
        gbc.setState(0xa01d, 0x1bab, 0x5b80, 0xf77b, 0x686c, 0x307b, 0x0, 0x0);
        gbc.writeMem(0xa01d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1bab);
        EXPECT(gbc.pc(), 0xa01e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa01d), 0x49);
        // 49 00F2
        gbc.setState(0xdaf6, 0xed97, 0x23e0, 0x28a5, 0x4c60, 0xf5a7, 0x1, 0x1);
        gbc.writeMem(0xdaf6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xed97);
        EXPECT(gbc.pc(), 0xdaf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaf6), 0x49);
        // 49 00F3
        gbc.setState(0xee71, 0xbda, 0x2470, 0x2b45, 0xad20, 0x9d27, 0x1, 0x1);
        gbc.writeMem(0xee71, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xbda);
        EXPECT(gbc.pc(), 0xee72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee71), 0x49);
        // 49 00F4
        gbc.setState(0xd1c1, 0xe998, 0xe440, 0x11a, 0xb76a, 0xd441, 0x0, 0x0);
        gbc.writeMem(0xd1c1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xe998);
        EXPECT(gbc.pc(), 0xd1c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1c1), 0x49);
        // 49 00F5
        gbc.setState(0xb325, 0x652f, 0xc1f0, 0xd028, 0xff71, 0x39ac, 0x1, 0x1);
        gbc.writeMem(0xb325, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x652f);
        EXPECT(gbc.pc(), 0xb326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb325), 0x49);
        // 49 00F6
        gbc.setState(0x43fe, 0x120, 0xdb30, 0x132f, 0xa706, 0x9b05, 0x0, 0x1);
        gbc.writeMem(0x43fe, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x120);
        EXPECT(gbc.pc(), 0x43ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 00F7
        gbc.setState(0x377a, 0x2259, 0x5100, 0x2ee0, 0x17c4, 0x2a2d, 0x0, 0x0);
        gbc.writeMem(0x377a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2259);
        EXPECT(gbc.pc(), 0x377b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 00F8
        gbc.setState(0x488e, 0xf068, 0x4c50, 0x52ab, 0x2f05, 0x9685, 0x0, 0x0);
        gbc.writeMem(0x488e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf068);
        EXPECT(gbc.pc(), 0x488f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 00F9
        gbc.setState(0xce43, 0x6f3d, 0x56c0, 0x813b, 0xb440, 0x81c2, 0x1, 0x1);
        gbc.writeMem(0xce43, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6f3d);
        EXPECT(gbc.pc(), 0xce44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce43), 0x49);
        // 49 00FA
        gbc.setState(0x8ca5, 0x3314, 0x7670, 0x3ad1, 0xe19f, 0x6f65, 0x0, 0x0);
        gbc.writeMem(0x8ca5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3314);
        EXPECT(gbc.pc(), 0x8ca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ca5), 0x49);
        // 49 00FB
        gbc.setState(0x35bd, 0x8f7d, 0xea60, 0xa46d, 0xcb2b, 0xea53, 0x0, 0x1);
        gbc.writeMem(0x35bd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x8f7d);
        EXPECT(gbc.pc(), 0x35be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 00FC
        gbc.setState(0x4ed, 0x42f8, 0x61d0, 0x5386, 0xb926, 0xb56b, 0x0, 0x1);
        gbc.writeMem(0x4ed, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x42f8);
        EXPECT(gbc.pc(), 0x4ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 00FD
        gbc.setState(0x8837, 0xaade, 0xa5a0, 0xfca5, 0x8039, 0xbf50, 0x1, 0x0);
        gbc.writeMem(0x8837, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xaade);
        EXPECT(gbc.pc(), 0x8838);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8837), 0x49);
        // 49 00FE
        gbc.setState(0xd0c5, 0x9b0d, 0x7650, 0xfc3b, 0x9f9e, 0xef3d, 0x0, 0x1);
        gbc.writeMem(0xd0c5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9b0d);
        EXPECT(gbc.pc(), 0xd0c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0c5), 0x49);
        // 49 00FF
        gbc.setState(0x2400, 0xa4c8, 0xd120, 0xea38, 0xd988, 0x1bf7, 0x0, 0x0);
        gbc.writeMem(0x2400, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa4c8);
        EXPECT(gbc.pc(), 0x2401);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0100
        gbc.setState(0xe318, 0x5a40, 0x21e0, 0x272a, 0x8fe7, 0xef3e, 0x0, 0x0);
        gbc.writeMem(0xe318, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x5a40);
        EXPECT(gbc.pc(), 0xe319);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe318), 0x49);
        // 49 0101
        gbc.setState(0x80c5, 0x31da, 0x7020, 0x9db3, 0x39ef, 0x68c5, 0x1, 0x0);
        gbc.writeMem(0x80c5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x31da);
        EXPECT(gbc.pc(), 0x80c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80c5), 0x49);
        // 49 0102
        gbc.setState(0xb059, 0xd53d, 0x69a0, 0xef6a, 0x514f, 0xadb2, 0x0, 0x1);
        gbc.writeMem(0xb059, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xd53d);
        EXPECT(gbc.pc(), 0xb05a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb059), 0x49);
        // 49 0103
        gbc.setState(0x3f8b, 0xe737, 0x9930, 0x3750, 0xb125, 0xdb25, 0x1, 0x1);
        gbc.writeMem(0x3f8b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xe737);
        EXPECT(gbc.pc(), 0x3f8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0104
        gbc.setState(0x8f6f, 0x4cdd, 0xcf60, 0x98ba, 0xb200, 0xa1f, 0x0, 0x0);
        gbc.writeMem(0x8f6f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4cdd);
        EXPECT(gbc.pc(), 0x8f70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f6f), 0x49);
        // 49 0105
        gbc.setState(0xe7a4, 0x7a82, 0xb480, 0xa39f, 0x45b2, 0xc95d, 0x1, 0x1);
        gbc.writeMem(0xe7a4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x7a82);
        EXPECT(gbc.pc(), 0xe7a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7a4), 0x49);
        // 49 0106
        gbc.setState(0x2e47, 0xff46, 0xb7e0, 0xd4c9, 0xdba5, 0x1a3b, 0x0, 0x1);
        gbc.writeMem(0x2e47, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xff46);
        EXPECT(gbc.pc(), 0x2e48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0107
        gbc.setState(0x2d96, 0xb9e8, 0xd260, 0x9c10, 0x1526, 0x118e, 0x0, 0x0);
        gbc.writeMem(0x2d96, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xb9e8);
        EXPECT(gbc.pc(), 0x2d97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0108
        gbc.setState(0x7dc6, 0xfc59, 0x77e0, 0xd814, 0x9311, 0x69fb, 0x1, 0x1);
        gbc.writeMem(0x7dc6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xfc59);
        EXPECT(gbc.pc(), 0x7dc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0109
        gbc.setState(0x608d, 0x9b9e, 0x8e00, 0x758e, 0x351d, 0x636e, 0x1, 0x1);
        gbc.writeMem(0x608d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9b9e);
        EXPECT(gbc.pc(), 0x608e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 010A
        gbc.setState(0xbf44, 0xd0df, 0x50c0, 0x78e1, 0x5354, 0xd82d, 0x1, 0x0);
        gbc.writeMem(0xbf44, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xd0df);
        EXPECT(gbc.pc(), 0xbf45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf44), 0x49);
        // 49 010B
        gbc.setState(0x140c, 0x58f4, 0xe1e0, 0xf749, 0x2e39, 0x73bc, 0x1, 0x0);
        gbc.writeMem(0x140c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x58f4);
        EXPECT(gbc.pc(), 0x140d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 010C
        gbc.setState(0x3cdf, 0x848c, 0xca60, 0x6d96, 0xc855, 0x5374, 0x0, 0x1);
        gbc.writeMem(0x3cdf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x848c);
        EXPECT(gbc.pc(), 0x3ce0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 010D
        gbc.setState(0x167b, 0xca04, 0x5ac0, 0x2d86, 0xfaec, 0x4f4e, 0x1, 0x1);
        gbc.writeMem(0x167b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xca04);
        EXPECT(gbc.pc(), 0x167c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 010E
        gbc.setState(0x663, 0xe2b6, 0xa6c0, 0x8ddf, 0x2074, 0xdf13, 0x1, 0x0);
        gbc.writeMem(0x663, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xe2b6);
        EXPECT(gbc.pc(), 0x664);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0111
        gbc.setState(0xae8a, 0x6a7e, 0x3210, 0x27c1, 0x94ff, 0xa3ba, 0x1, 0x0);
        gbc.writeMem(0xae8a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x6a7e);
        EXPECT(gbc.pc(), 0xae8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae8a), 0x49);
        // 49 0112
        gbc.setState(0x2870, 0xc60e, 0x4540, 0xe0f1, 0xbcf8, 0x21b, 0x0, 0x0);
        gbc.writeMem(0x2870, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xc60e);
        EXPECT(gbc.pc(), 0x2871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0113
        gbc.setState(0x8f98, 0x71f0, 0x4cd0, 0x10aa, 0xa130, 0x1c70, 0x0, 0x0);
        gbc.writeMem(0x8f98, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x71f0);
        EXPECT(gbc.pc(), 0x8f99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f98), 0x49);
        // 49 0114
        gbc.setState(0x9acb, 0x2ab0, 0x4700, 0xcc89, 0xabdc, 0xef, 0x0, 0x1);
        gbc.writeMem(0x9acb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x2ab0);
        EXPECT(gbc.pc(), 0x9acc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9acb), 0x49);
        // 49 0115
        gbc.setState(0x1f5c, 0xdb08, 0xd1b0, 0x27bf, 0x1f0f, 0x8571, 0x0, 0x1);
        gbc.writeMem(0x1f5c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xdb08);
        EXPECT(gbc.pc(), 0x1f5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0116
        gbc.setState(0xc364, 0x1586, 0x4e10, 0x1546, 0xb6e9, 0x60, 0x0, 0x1);
        gbc.writeMem(0xc364, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x1586);
        EXPECT(gbc.pc(), 0xc365);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc364), 0x49);
        // 49 0117
        gbc.setState(0xe5af, 0x816a, 0x5750, 0x22e2, 0xf105, 0x1dd, 0x1, 0x0);
        gbc.writeMem(0xe5af, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x816a);
        EXPECT(gbc.pc(), 0xe5b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5af), 0x49);
        // 49 0118
        gbc.setState(0xb318, 0xa6a4, 0xadf0, 0x9497, 0x20d9, 0x10fd, 0x1, 0x1);
        gbc.writeMem(0xb318, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xa6a4);
        EXPECT(gbc.pc(), 0xb319);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb318), 0x49);
        // 49 0119
        gbc.setState(0x1138, 0x8300, 0xc970, 0x2982, 0xa98d, 0x7fb, 0x1, 0x0);
        gbc.writeMem(0x1138, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8300);
        EXPECT(gbc.pc(), 0x1139);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 011A
        gbc.setState(0xa4c5, 0x4454, 0xd1e0, 0x9252, 0xc3e6, 0xd6af, 0x1, 0x1);
        gbc.writeMem(0xa4c5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4454);
        EXPECT(gbc.pc(), 0xa4c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4c5), 0x49);
        // 49 011B
        gbc.setState(0x5b87, 0x361a, 0xcbd0, 0x822b, 0x3c21, 0x9d5a, 0x1, 0x1);
        gbc.writeMem(0x5b87, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x361a);
        EXPECT(gbc.pc(), 0x5b88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 011C
        gbc.setState(0xc10a, 0x19b1, 0xdae0, 0xeb2a, 0x9638, 0x8a76, 0x0, 0x0);
        gbc.writeMem(0xc10a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x19b1);
        EXPECT(gbc.pc(), 0xc10b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc10a), 0x49);
        // 49 011D
        gbc.setState(0xd9c1, 0x6d83, 0x55c0, 0xb4a3, 0x5e5c, 0x9d0e, 0x1, 0x1);
        gbc.writeMem(0xd9c1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x6d83);
        EXPECT(gbc.pc(), 0xd9c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9c1), 0x49);
        // 49 011E
        gbc.setState(0x80c0, 0xded2, 0x1ba0, 0xb123, 0x7e6, 0x9c96, 0x1, 0x1);
        gbc.writeMem(0x80c0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xded2);
        EXPECT(gbc.pc(), 0x80c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80c0), 0x49);
        // 49 011F
        gbc.setState(0x2b37, 0x8934, 0xdbf0, 0xeaaf, 0xd9d0, 0xdc2f, 0x1, 0x0);
        gbc.writeMem(0x2b37, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8934);
        EXPECT(gbc.pc(), 0x2b38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0120
        gbc.setState(0x9218, 0x76d4, 0xaeb0, 0x7254, 0x10be, 0x97a8, 0x1, 0x0);
        gbc.writeMem(0x9218, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x76d4);
        EXPECT(gbc.pc(), 0x9219);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9218), 0x49);
        // 49 0121
        gbc.setState(0x74e5, 0x5e14, 0x81e0, 0xde6d, 0xc752, 0x948d, 0x0, 0x1);
        gbc.writeMem(0x74e5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5e14);
        EXPECT(gbc.pc(), 0x74e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0122
        gbc.setState(0xda2b, 0x41a0, 0xf7f0, 0x3e45, 0x672, 0x763, 0x1, 0x0);
        gbc.writeMem(0xda2b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x41a0);
        EXPECT(gbc.pc(), 0xda2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda2b), 0x49);
        // 49 0123
        gbc.setState(0x9234, 0xf4aa, 0x1070, 0x42bc, 0xa82e, 0x86a7, 0x1, 0x0);
        gbc.writeMem(0x9234, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xf4aa);
        EXPECT(gbc.pc(), 0x9235);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9234), 0x49);
        // 49 0124
        gbc.setState(0xe9f3, 0x8b8c, 0x2920, 0x5011, 0xade1, 0xc1fe, 0x1, 0x1);
        gbc.writeMem(0xe9f3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8b8c);
        EXPECT(gbc.pc(), 0xe9f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9f3), 0x49);
        // 49 0125
        gbc.setState(0x81fa, 0x3393, 0x48b0, 0xf17, 0x4f5e, 0x7bbe, 0x1, 0x1);
        gbc.writeMem(0x81fa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3393);
        EXPECT(gbc.pc(), 0x81fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81fa), 0x49);
        // 49 0126
        gbc.setState(0xbf29, 0x8a5d, 0x5280, 0x6030, 0xc433, 0xa32b, 0x0, 0x1);
        gbc.writeMem(0xbf29, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x8a5d);
        EXPECT(gbc.pc(), 0xbf2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf29), 0x49);
        // 49 0127
        gbc.setState(0x557, 0xf88b, 0x4480, 0xf3eb, 0xf65f, 0xb74, 0x1, 0x0);
        gbc.writeMem(0x557, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xf88b);
        EXPECT(gbc.pc(), 0x558);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0128
        gbc.setState(0x8092, 0x5ba5, 0x95d0, 0x63b3, 0xe9df, 0x7de1, 0x1, 0x1);
        gbc.writeMem(0x8092, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x5ba5);
        EXPECT(gbc.pc(), 0x8093);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8092), 0x49);
        // 49 0129
        gbc.setState(0xab64, 0x40cf, 0xd1c0, 0xd377, 0xa6c3, 0x56f0, 0x1, 0x0);
        gbc.writeMem(0xab64, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x40cf);
        EXPECT(gbc.pc(), 0xab65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab64), 0x49);
        // 49 012A
        gbc.setState(0xd4cb, 0x9cce, 0x7cd0, 0x1f2c, 0x2252, 0x26a2, 0x1, 0x0);
        gbc.writeMem(0xd4cb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x9cce);
        EXPECT(gbc.pc(), 0xd4cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4cb), 0x49);
        // 49 012B
        gbc.setState(0xe855, 0xc726, 0x89f0, 0x1d69, 0x1b18, 0x38d5, 0x1, 0x0);
        gbc.writeMem(0xe855, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xc726);
        EXPECT(gbc.pc(), 0xe856);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe855), 0x49);
        // 49 012C
        gbc.setState(0xf55, 0x704a, 0xae30, 0x79e3, 0xdd6d, 0x3270, 0x1, 0x1);
        gbc.writeMem(0xf55, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x704a);
        EXPECT(gbc.pc(), 0xf56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 012D
        gbc.setState(0x5d72, 0x80c8, 0x8fb0, 0xcf01, 0x5c93, 0x57f, 0x0, 0x0);
        gbc.writeMem(0x5d72, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x80c8);
        EXPECT(gbc.pc(), 0x5d73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 012E
        gbc.setState(0xc8aa, 0x4a5c, 0x1610, 0x7c6, 0x92dc, 0xc7a1, 0x0, 0x0);
        gbc.writeMem(0xc8aa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4a5c);
        EXPECT(gbc.pc(), 0xc8ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8aa), 0x49);
        // 49 012F
        gbc.setState(0x740c, 0xe9d7, 0xabf0, 0x2eb4, 0x1eb2, 0xfdd4, 0x1, 0x0);
        gbc.writeMem(0x740c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe9d7);
        EXPECT(gbc.pc(), 0x740d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0130
        gbc.setState(0x3d34, 0x30a2, 0x3cd0, 0x9dc9, 0xb06c, 0x8285, 0x1, 0x1);
        gbc.writeMem(0x3d34, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x30a2);
        EXPECT(gbc.pc(), 0x3d35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0131
        gbc.setState(0xcde6, 0xeb47, 0xcf00, 0x75e4, 0xecbb, 0x6a48, 0x0, 0x1);
        gbc.writeMem(0xcde6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xeb47);
        EXPECT(gbc.pc(), 0xcde7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcde6), 0x49);
        // 49 0132
        gbc.setState(0xe22e, 0x9cd1, 0xa560, 0x1686, 0x337c, 0x68c9, 0x1, 0x0);
        gbc.writeMem(0xe22e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x9cd1);
        EXPECT(gbc.pc(), 0xe22f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe22e), 0x49);
        // 49 0133
        gbc.setState(0x4cd1, 0xc153, 0xdb10, 0x5c5, 0x336c, 0x9778, 0x1, 0x1);
        gbc.writeMem(0x4cd1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xc153);
        EXPECT(gbc.pc(), 0x4cd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0134
        gbc.setState(0xa7b9, 0x6b49, 0x95f0, 0xa8bf, 0x2a17, 0x42db, 0x0, 0x1);
        gbc.writeMem(0xa7b9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6b49);
        EXPECT(gbc.pc(), 0xa7ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7b9), 0x49);
        // 49 0135
        gbc.setState(0x7c97, 0x4ce9, 0x1e00, 0x412c, 0x5e1f, 0x2c84, 0x0, 0x1);
        gbc.writeMem(0x7c97, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4ce9);
        EXPECT(gbc.pc(), 0x7c98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0136
        gbc.setState(0xaace, 0x4584, 0xbb0, 0x50bb, 0xb549, 0xcd9e, 0x0, 0x0);
        gbc.writeMem(0xaace, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x4584);
        EXPECT(gbc.pc(), 0xaacf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaace), 0x49);
        // 49 0137
        gbc.setState(0x99f, 0x4747, 0xfdc0, 0xac86, 0xa28d, 0x505a, 0x1, 0x0);
        gbc.writeMem(0x99f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4747);
        EXPECT(gbc.pc(), 0x9a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0138
        gbc.setState(0x65d5, 0x7cdd, 0x35c0, 0xc970, 0xe2c3, 0xf4b2, 0x1, 0x0);
        gbc.writeMem(0x65d5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7cdd);
        EXPECT(gbc.pc(), 0x65d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 013A
        gbc.setState(0x6230, 0xf55d, 0x8e00, 0x633d, 0x226f, 0x2555, 0x1, 0x0);
        gbc.writeMem(0x6230, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xf55d);
        EXPECT(gbc.pc(), 0x6231);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 013B
        gbc.setState(0x47d5, 0x7394, 0x7fb0, 0x389c, 0x5e8f, 0xac12, 0x0, 0x1);
        gbc.writeMem(0x47d5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7394);
        EXPECT(gbc.pc(), 0x47d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 013C
        gbc.setState(0xab05, 0xdacd, 0x9bc0, 0x89ed, 0xb9e7, 0x703f, 0x0, 0x1);
        gbc.writeMem(0xab05, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xdacd);
        EXPECT(gbc.pc(), 0xab06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab05), 0x49);
        // 49 013E
        gbc.setState(0xd574, 0x58b7, 0xbf50, 0xe7b, 0xd63b, 0x4076, 0x1, 0x0);
        gbc.writeMem(0xd574, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x58b7);
        EXPECT(gbc.pc(), 0xd575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd574), 0x49);
        // 49 013F
        gbc.setState(0x99c6, 0xe1cd, 0xed60, 0xf452, 0x81dc, 0x46ae, 0x0, 0x0);
        gbc.writeMem(0x99c6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe1cd);
        EXPECT(gbc.pc(), 0x99c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99c6), 0x49);
        // 49 0141
        gbc.setState(0x971f, 0x2f1f, 0x43e0, 0xaea1, 0xb3de, 0xb081, 0x1, 0x0);
        gbc.writeMem(0x971f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2f1f);
        EXPECT(gbc.pc(), 0x9720);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x971f), 0x49);
        // 49 0142
        gbc.setState(0x4cce, 0xb1d4, 0x8590, 0x3b6e, 0x7c4d, 0x1869, 0x0, 0x1);
        gbc.writeMem(0x4cce, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xb1d4);
        EXPECT(gbc.pc(), 0x4ccf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0143
        gbc.setState(0xb2e7, 0x4f09, 0xd610, 0x4b23, 0x36c3, 0x714d, 0x1, 0x0);
        gbc.writeMem(0xb2e7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x4f09);
        EXPECT(gbc.pc(), 0xb2e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2e7), 0x49);
        // 49 0144
        gbc.setState(0xd51c, 0xbd10, 0x9010, 0xc2d2, 0x6699, 0x5678, 0x1, 0x0);
        gbc.writeMem(0xd51c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xbd10);
        EXPECT(gbc.pc(), 0xd51d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd51c), 0x49);
        // 49 0145
        gbc.setState(0xee4d, 0x7381, 0x79c0, 0xebc1, 0x92ae, 0x7eea, 0x0, 0x0);
        gbc.writeMem(0xee4d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x7381);
        EXPECT(gbc.pc(), 0xee4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee4d), 0x49);
        // 49 0146
        gbc.setState(0x700a, 0x6450, 0xf270, 0xc1e8, 0x78a5, 0x2528, 0x0, 0x1);
        gbc.writeMem(0x700a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x6450);
        EXPECT(gbc.pc(), 0x700b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0147
        gbc.setState(0x235d, 0x63d, 0xe9c0, 0x3c00, 0xb926, 0x3dc1, 0x0, 0x0);
        gbc.writeMem(0x235d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x63d);
        EXPECT(gbc.pc(), 0x235e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0148
        gbc.setState(0xacb0, 0xa57b, 0xde90, 0x2927, 0xe599, 0xf05b, 0x0, 0x1);
        gbc.writeMem(0xacb0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xa57b);
        EXPECT(gbc.pc(), 0xacb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacb0), 0x49);
        // 49 0149
        gbc.setState(0x7ff, 0xcb04, 0x7720, 0x3bc4, 0x5bad, 0xb213, 0x1, 0x1);
        gbc.writeMem(0x7ff, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xcb04);
        EXPECT(gbc.pc(), 0x800);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 014A
        gbc.setState(0x3763, 0x12f2, 0x8a20, 0x47ef, 0x44ae, 0x2d04, 0x0, 0x0);
        gbc.writeMem(0x3763, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x12f2);
        EXPECT(gbc.pc(), 0x3764);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 014B
        gbc.setState(0x9e4b, 0x4f59, 0x4870, 0xd121, 0x97b1, 0xe59a, 0x1, 0x0);
        gbc.writeMem(0x9e4b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x4f59);
        EXPECT(gbc.pc(), 0x9e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e4b), 0x49);
        // 49 014C
        gbc.setState(0x56db, 0x747b, 0x910, 0xc466, 0xbd0d, 0x9d76, 0x0, 0x0);
        gbc.writeMem(0x56db, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x747b);
        EXPECT(gbc.pc(), 0x56dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 014D
        gbc.setState(0x5c52, 0x5dac, 0x930, 0x662a, 0x9ed4, 0x1ab5, 0x1, 0x0);
        gbc.writeMem(0x5c52, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x5dac);
        EXPECT(gbc.pc(), 0x5c53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 014E
        gbc.setState(0xa39c, 0x4724, 0x3860, 0x315d, 0xd4fc, 0xaf99, 0x1, 0x0);
        gbc.writeMem(0xa39c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x4724);
        EXPECT(gbc.pc(), 0xa39d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa39c), 0x49);
        // 49 014F
        gbc.setState(0xa08, 0x3f13, 0x8620, 0xf167, 0xce14, 0x1625, 0x0, 0x0);
        gbc.writeMem(0xa08, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3f13);
        EXPECT(gbc.pc(), 0xa09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0151
        gbc.setState(0x7705, 0x3386, 0xa440, 0x7a29, 0xff1a, 0x67e9, 0x0, 0x1);
        gbc.writeMem(0x7705, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x3386);
        EXPECT(gbc.pc(), 0x7706);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0152
        gbc.setState(0xdea5, 0x7b16, 0x6050, 0xfda3, 0xe979, 0x12d1, 0x1, 0x0);
        gbc.writeMem(0xdea5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x7b16);
        EXPECT(gbc.pc(), 0xdea6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdea5), 0x49);
        // 49 0153
        gbc.setState(0x72e9, 0x298e, 0xa950, 0xc8ee, 0x9b35, 0x4ca, 0x1, 0x1);
        gbc.writeMem(0x72e9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x298e);
        EXPECT(gbc.pc(), 0x72ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0154
        gbc.setState(0x52ea, 0x2911, 0xd6e0, 0x811c, 0xe489, 0x2c2b, 0x0, 0x0);
        gbc.writeMem(0x52ea, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x2911);
        EXPECT(gbc.pc(), 0x52eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0155
        gbc.setState(0xc51e, 0x91da, 0xb0e0, 0x7259, 0xf5ab, 0x9612, 0x1, 0x1);
        gbc.writeMem(0xc51e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x91da);
        EXPECT(gbc.pc(), 0xc51f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc51e), 0x49);
        // 49 0156
        gbc.setState(0x8a99, 0x93de, 0xc650, 0x6944, 0x22af, 0x6537, 0x1, 0x1);
        gbc.writeMem(0x8a99, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x93de);
        EXPECT(gbc.pc(), 0x8a9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a99), 0x49);
        // 49 0157
        gbc.setState(0x42e1, 0x2636, 0x4f30, 0xab98, 0xe18c, 0x2c3f, 0x0, 0x1);
        gbc.writeMem(0x42e1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x2636);
        EXPECT(gbc.pc(), 0x42e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0158
        gbc.setState(0x67b1, 0x9a04, 0x9f90, 0x6901, 0xfcf3, 0x144, 0x1, 0x1);
        gbc.writeMem(0x67b1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9a04);
        EXPECT(gbc.pc(), 0x67b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0159
        gbc.setState(0x1c18, 0xc224, 0xe0d0, 0xa0a2, 0xc5f8, 0xbb77, 0x0, 0x0);
        gbc.writeMem(0x1c18, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc224);
        EXPECT(gbc.pc(), 0x1c19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 015A
        gbc.setState(0x4a35, 0x8ec2, 0x3530, 0x517c, 0x1f2f, 0xa63b, 0x0, 0x1);
        gbc.writeMem(0x4a35, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8ec2);
        EXPECT(gbc.pc(), 0x4a36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 015C
        gbc.setState(0xc1fe, 0x33c4, 0xba80, 0xf7a7, 0x87d1, 0x1e4f, 0x1, 0x1);
        gbc.writeMem(0xc1fe, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x33c4);
        EXPECT(gbc.pc(), 0xc1ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1fe), 0x49);
        // 49 015D
        gbc.setState(0x3671, 0x44cc, 0xf920, 0xa75d, 0x8347, 0xe398, 0x0, 0x0);
        gbc.writeMem(0x3671, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x44cc);
        EXPECT(gbc.pc(), 0x3672);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 015E
        gbc.setState(0x9a25, 0xea27, 0x1820, 0x2e95, 0x3f7a, 0x604f, 0x1, 0x1);
        gbc.writeMem(0x9a25, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xea27);
        EXPECT(gbc.pc(), 0x9a26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a25), 0x49);
        // 49 015F
        gbc.setState(0xb123, 0x5ce3, 0x3920, 0x5e0d, 0x31e7, 0xa57, 0x0, 0x1);
        gbc.writeMem(0xb123, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5ce3);
        EXPECT(gbc.pc(), 0xb124);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb123), 0x49);
        // 49 0160
        gbc.setState(0xc16d, 0x3fc6, 0x38c0, 0x1ae8, 0xc092, 0xf880, 0x0, 0x0);
        gbc.writeMem(0xc16d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3fc6);
        EXPECT(gbc.pc(), 0xc16e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc16d), 0x49);
        // 49 0161
        gbc.setState(0xd76b, 0x1518, 0x7110, 0x6559, 0x884e, 0xe894, 0x0, 0x0);
        gbc.writeMem(0xd76b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1518);
        EXPECT(gbc.pc(), 0xd76c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd76b), 0x49);
        // 49 0162
        gbc.setState(0xe9ee, 0xcb46, 0x6f40, 0xbd49, 0x5ff3, 0x46e5, 0x0, 0x1);
        gbc.writeMem(0xe9ee, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xcb46);
        EXPECT(gbc.pc(), 0xe9ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ee), 0x49);
        // 49 0163
        gbc.setState(0x839, 0x5ebb, 0xbb50, 0x22a5, 0xd5dc, 0xbc18, 0x0, 0x0);
        gbc.writeMem(0x839, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x5ebb);
        EXPECT(gbc.pc(), 0x83a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0164
        gbc.setState(0x78f0, 0x85db, 0x4bb0, 0x9527, 0xff76, 0xce73, 0x1, 0x0);
        gbc.writeMem(0x78f0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x85db);
        EXPECT(gbc.pc(), 0x78f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0165
        gbc.setState(0x84dc, 0x72d2, 0xb6f0, 0x1104, 0xc8d, 0x384e, 0x0, 0x0);
        gbc.writeMem(0x84dc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x72d2);
        EXPECT(gbc.pc(), 0x84dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84dc), 0x49);
        // 49 0166
        gbc.setState(0x3635, 0xebfb, 0xa4f0, 0xb0fa, 0x8fa0, 0xfba9, 0x1, 0x0);
        gbc.writeMem(0x3635, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xebfb);
        EXPECT(gbc.pc(), 0x3636);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0167
        gbc.setState(0x39ee, 0xdebb, 0x90, 0xfdfb, 0xf5ae, 0xafe5, 0x0, 0x1);
        gbc.writeMem(0x39ee, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xdebb);
        EXPECT(gbc.pc(), 0x39ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0168
        gbc.setState(0xd444, 0xbf75, 0x2b40, 0x215c, 0x98ca, 0x715b, 0x1, 0x1);
        gbc.writeMem(0xd444, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbf75);
        EXPECT(gbc.pc(), 0xd445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd444), 0x49);
        // 49 0169
        gbc.setState(0x93da, 0x1372, 0x4ea0, 0x9a6d, 0xd348, 0x9229, 0x1, 0x1);
        gbc.writeMem(0x93da, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x1372);
        EXPECT(gbc.pc(), 0x93db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93da), 0x49);
        // 49 016A
        gbc.setState(0x4c9, 0xb11, 0x43f0, 0x70f7, 0xb535, 0xd76c, 0x1, 0x1);
        gbc.writeMem(0x4c9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xb11);
        EXPECT(gbc.pc(), 0x4ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 016B
        gbc.setState(0x2948, 0x4156, 0xcf60, 0xc1df, 0x97b1, 0xbcab, 0x1, 0x0);
        gbc.writeMem(0x2948, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4156);
        EXPECT(gbc.pc(), 0x2949);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 016C
        gbc.setState(0xa810, 0x7e5c, 0x7640, 0xb779, 0x4236, 0x61b2, 0x1, 0x0);
        gbc.writeMem(0xa810, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7e5c);
        EXPECT(gbc.pc(), 0xa811);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa810), 0x49);
        // 49 016D
        gbc.setState(0x37db, 0x3df5, 0xdff0, 0x9bc, 0x981b, 0xf369, 0x1, 0x0);
        gbc.writeMem(0x37db, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x3df5);
        EXPECT(gbc.pc(), 0x37dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 016E
        gbc.setState(0x87d6, 0xd9a, 0x82c0, 0xd3dd, 0xa399, 0x1fac, 0x0, 0x0);
        gbc.writeMem(0x87d6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd9a);
        EXPECT(gbc.pc(), 0x87d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87d6), 0x49);
        // 49 016F
        gbc.setState(0x4f1e, 0x9bdf, 0xa90, 0x9854, 0x2bea, 0x1105, 0x0, 0x1);
        gbc.writeMem(0x4f1e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9bdf);
        EXPECT(gbc.pc(), 0x4f1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0170
        gbc.setState(0x2b5e, 0xb093, 0xa840, 0x4118, 0xc438, 0x6c48, 0x1, 0x0);
        gbc.writeMem(0x2b5e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xb093);
        EXPECT(gbc.pc(), 0x2b5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0171
        gbc.setState(0x663b, 0x7f6c, 0xbd00, 0x9f33, 0xaae0, 0xdf46, 0x1, 0x0);
        gbc.writeMem(0x663b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x7f6c);
        EXPECT(gbc.pc(), 0x663c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0172
        gbc.setState(0xbf8b, 0xc441, 0x7780, 0x20c6, 0xd207, 0xd375, 0x0, 0x1);
        gbc.writeMem(0xbf8b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xc441);
        EXPECT(gbc.pc(), 0xbf8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf8b), 0x49);
        // 49 0173
        gbc.setState(0x586a, 0xd6a7, 0x220, 0x4533, 0x5fe4, 0x1ac2, 0x0, 0x1);
        gbc.writeMem(0x586a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd6a7);
        EXPECT(gbc.pc(), 0x586b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0174
        gbc.setState(0xca40, 0xb10c, 0x860, 0xe81b, 0xac0a, 0x8b9e, 0x1, 0x0);
        gbc.writeMem(0xca40, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb10c);
        EXPECT(gbc.pc(), 0xca41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca40), 0x49);
        // 49 0176
        gbc.setState(0x11d3, 0xa133, 0x6f00, 0x2cc, 0xed5f, 0x5d79, 0x0, 0x0);
        gbc.writeMem(0x11d3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xa133);
        EXPECT(gbc.pc(), 0x11d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0177
        gbc.setState(0x7456, 0x5ea2, 0x8ea0, 0x4596, 0x5da2, 0x94dd, 0x0, 0x1);
        gbc.writeMem(0x7456, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x5ea2);
        EXPECT(gbc.pc(), 0x7457);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0178
        gbc.setState(0x3df3, 0x17a4, 0xea70, 0x8a32, 0xb7e1, 0x3f2a, 0x0, 0x0);
        gbc.writeMem(0x3df3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x17a4);
        EXPECT(gbc.pc(), 0x3df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0179
        gbc.setState(0xd1ff, 0xe42, 0x1a40, 0xf628, 0xb47b, 0x29b8, 0x0, 0x0);
        gbc.writeMem(0xd1ff, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe42);
        EXPECT(gbc.pc(), 0xd200);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ff), 0x49);
        // 49 017C
        gbc.setState(0x3e7e, 0x6c3e, 0xede0, 0x1530, 0x3d40, 0xe593, 0x1, 0x1);
        gbc.writeMem(0x3e7e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x6c3e);
        EXPECT(gbc.pc(), 0x3e7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 017D
        gbc.setState(0x597, 0xe42d, 0xaa20, 0xad72, 0x3752, 0x9d41, 0x1, 0x0);
        gbc.writeMem(0x597, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xe42d);
        EXPECT(gbc.pc(), 0x598);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 017E
        gbc.setState(0x9cf9, 0x346e, 0x4bd0, 0xb060, 0x3ceb, 0xf7ee, 0x0, 0x1);
        gbc.writeMem(0x9cf9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x346e);
        EXPECT(gbc.pc(), 0x9cfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cf9), 0x49);
        // 49 017F
        gbc.setState(0xa06, 0xc20f, 0xc480, 0xc7eb, 0x16f4, 0x5cb7, 0x0, 0x0);
        gbc.writeMem(0xa06, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc20f);
        EXPECT(gbc.pc(), 0xa07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0180
        gbc.setState(0xcfb6, 0xeea7, 0x9f30, 0x4b0, 0xf9cc, 0xd590, 0x0, 0x1);
        gbc.writeMem(0xcfb6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xeea7);
        EXPECT(gbc.pc(), 0xcfb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfb6), 0x49);
        // 49 0181
        gbc.setState(0x700, 0x6cf9, 0x830, 0x308c, 0xcba8, 0x89b, 0x0, 0x0);
        gbc.writeMem(0x700, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6cf9);
        EXPECT(gbc.pc(), 0x701);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0182
        gbc.setState(0xde29, 0xd1d4, 0x2e20, 0x19f6, 0x8542, 0xdb34, 0x1, 0x1);
        gbc.writeMem(0xde29, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xd1d4);
        EXPECT(gbc.pc(), 0xde2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde29), 0x49);
        // 49 0183
        gbc.setState(0xddef, 0xada, 0x95e0, 0xc378, 0x5937, 0x7a2a, 0x0, 0x1);
        gbc.writeMem(0xddef, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xada);
        EXPECT(gbc.pc(), 0xddf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddef), 0x49);
        // 49 0184
        gbc.setState(0x9ed1, 0x5a2d, 0x37d0, 0x2c7c, 0x61d2, 0xdfd, 0x1, 0x0);
        gbc.writeMem(0x9ed1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5a2d);
        EXPECT(gbc.pc(), 0x9ed2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ed1), 0x49);
        // 49 0185
        gbc.setState(0x6daf, 0x52d2, 0xe470, 0x166d, 0x3a81, 0xd61, 0x1, 0x1);
        gbc.writeMem(0x6daf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x52d2);
        EXPECT(gbc.pc(), 0x6db0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0186
        gbc.setState(0x84cf, 0x7cb5, 0x9840, 0xbe42, 0x44c1, 0x7a07, 0x0, 0x0);
        gbc.writeMem(0x84cf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7cb5);
        EXPECT(gbc.pc(), 0x84d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84cf), 0x49);
        // 49 0187
        gbc.setState(0xc852, 0x5ef9, 0x4c40, 0x5970, 0xc8bf, 0x2d64, 0x0, 0x0);
        gbc.writeMem(0xc852, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5ef9);
        EXPECT(gbc.pc(), 0xc853);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc852), 0x49);
        // 49 0188
        gbc.setState(0xb03c, 0x18e5, 0x7f60, 0x90d6, 0x5caf, 0xe6ab, 0x0, 0x0);
        gbc.writeMem(0xb03c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x18e5);
        EXPECT(gbc.pc(), 0xb03d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb03c), 0x49);
        // 49 018A
        gbc.setState(0xae61, 0xea9, 0x4d50, 0xe265, 0x63fe, 0xe70d, 0x1, 0x1);
        gbc.writeMem(0xae61, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xea9);
        EXPECT(gbc.pc(), 0xae62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae61), 0x49);
        // 49 018B
        gbc.setState(0x38fa, 0x89f6, 0x5300, 0x739f, 0x9524, 0xa57d, 0x0, 0x1);
        gbc.writeMem(0x38fa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x89f6);
        EXPECT(gbc.pc(), 0x38fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 018C
        gbc.setState(0x53e2, 0x47c5, 0x61e0, 0xa5fa, 0x3e34, 0xef5a, 0x0, 0x1);
        gbc.writeMem(0x53e2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x47c5);
        EXPECT(gbc.pc(), 0x53e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 018D
        gbc.setState(0x8c65, 0x20c4, 0x7320, 0x25c5, 0x19c2, 0xb0b4, 0x1, 0x1);
        gbc.writeMem(0x8c65, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x20c4);
        EXPECT(gbc.pc(), 0x8c66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c65), 0x49);
        // 49 018E
        gbc.setState(0x8dfb, 0x739d, 0xaa80, 0x16a0, 0xcf6d, 0x7a6e, 0x0, 0x0);
        gbc.writeMem(0x8dfb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x739d);
        EXPECT(gbc.pc(), 0x8dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dfb), 0x49);
        // 49 018F
        gbc.setState(0xd19a, 0x843c, 0xfd60, 0x807d, 0x4683, 0xafce, 0x1, 0x0);
        gbc.writeMem(0xd19a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x843c);
        EXPECT(gbc.pc(), 0xd19b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd19a), 0x49);
        // 49 0190
        gbc.setState(0x7509, 0xf42a, 0xfb70, 0xb673, 0x85f2, 0x7fb4, 0x0, 0x0);
        gbc.writeMem(0x7509, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xf42a);
        EXPECT(gbc.pc(), 0x750a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0191
        gbc.setState(0x5345, 0x85ec, 0x1ae0, 0x6885, 0xa4a9, 0xfc79, 0x0, 0x1);
        gbc.writeMem(0x5345, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x85ec);
        EXPECT(gbc.pc(), 0x5346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0192
        gbc.setState(0x3f8, 0x1e07, 0x1be0, 0xc04d, 0xb461, 0x22da, 0x0, 0x1);
        gbc.writeMem(0x3f8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1e07);
        EXPECT(gbc.pc(), 0x3f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0193
        gbc.setState(0xe859, 0x5bae, 0x7d90, 0x1600, 0xced4, 0xf97f, 0x1, 0x1);
        gbc.writeMem(0xe859, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x5bae);
        EXPECT(gbc.pc(), 0xe85a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe859), 0x49);
        // 49 0194
        gbc.setState(0x431f, 0x7f69, 0x6e20, 0x9c43, 0x70ed, 0xbc90, 0x0, 0x1);
        gbc.writeMem(0x431f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7f69);
        EXPECT(gbc.pc(), 0x4320);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0196
        gbc.setState(0xda9a, 0x35f0, 0xafd0, 0x1064, 0x6f5e, 0xba06, 0x1, 0x1);
        gbc.writeMem(0xda9a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x35f0);
        EXPECT(gbc.pc(), 0xda9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda9a), 0x49);
        // 49 0197
        gbc.setState(0xd6d4, 0xe1c2, 0xbd30, 0xfbdb, 0x8241, 0x6f55, 0x1, 0x1);
        gbc.writeMem(0xd6d4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xe1c2);
        EXPECT(gbc.pc(), 0xd6d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6d4), 0x49);
        // 49 0198
        gbc.setState(0xd67a, 0x403, 0x9090, 0x538a, 0xf3a4, 0x55fe, 0x0, 0x1);
        gbc.writeMem(0xd67a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x403);
        EXPECT(gbc.pc(), 0xd67b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd67a), 0x49);
        // 49 0199
        gbc.setState(0x542e, 0xc155, 0x7b50, 0xa113, 0xc09e, 0x17bd, 0x0, 0x0);
        gbc.writeMem(0x542e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc155);
        EXPECT(gbc.pc(), 0x542f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 019A
        gbc.setState(0x7882, 0x6f63, 0xf530, 0x50b8, 0xe7d7, 0xe257, 0x0, 0x0);
        gbc.writeMem(0x7882, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6f63);
        EXPECT(gbc.pc(), 0x7883);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 019B
        gbc.setState(0x12f9, 0x87ee, 0x840, 0xefa3, 0xe068, 0x9ff6, 0x0, 0x1);
        gbc.writeMem(0x12f9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x87ee);
        EXPECT(gbc.pc(), 0x12fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 019C
        gbc.setState(0x5f33, 0x71f5, 0xf070, 0xa2c1, 0xb6a7, 0x62fb, 0x0, 0x0);
        gbc.writeMem(0x5f33, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x71f5);
        EXPECT(gbc.pc(), 0x5f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 019D
        gbc.setState(0xd2f0, 0x1bab, 0xd8c0, 0x2be0, 0xa4c4, 0x925e, 0x0, 0x1);
        gbc.writeMem(0xd2f0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x1bab);
        EXPECT(gbc.pc(), 0xd2f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f0), 0x49);
        // 49 019E
        gbc.setState(0x6901, 0xed3f, 0x2d70, 0x226e, 0x2ab1, 0x40f9, 0x1, 0x0);
        gbc.writeMem(0x6901, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xed3f);
        EXPECT(gbc.pc(), 0x6902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 019F
        gbc.setState(0x5d1, 0xc780, 0x4510, 0xb99b, 0x40e3, 0x9fc7, 0x0, 0x0);
        gbc.writeMem(0x5d1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xc780);
        EXPECT(gbc.pc(), 0x5d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01A0
        gbc.setState(0x17ee, 0x3d70, 0xfe0, 0x5fac, 0x452d, 0xafe3, 0x1, 0x0);
        gbc.writeMem(0x17ee, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x3d70);
        EXPECT(gbc.pc(), 0x17ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01A1
        gbc.setState(0x697a, 0xa220, 0x6120, 0x78a9, 0x9818, 0x2803, 0x1, 0x0);
        gbc.writeMem(0x697a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa220);
        EXPECT(gbc.pc(), 0x697b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01A2
        gbc.setState(0x2689, 0xfd3d, 0xcf0, 0xdbcf, 0xe6f0, 0x8f31, 0x0, 0x1);
        gbc.writeMem(0x2689, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xfd3d);
        EXPECT(gbc.pc(), 0x268a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 01A3
        gbc.setState(0xb5e9, 0xa370, 0x5f80, 0xb11, 0xf3f8, 0x6cac, 0x0, 0x0);
        gbc.writeMem(0xb5e9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xa370);
        EXPECT(gbc.pc(), 0xb5ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5e9), 0x49);
        // 49 01A4
        gbc.setState(0x48f9, 0xcc77, 0x9d40, 0xa9b2, 0x454a, 0xf2aa, 0x0, 0x1);
        gbc.writeMem(0x48f9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xcc77);
        EXPECT(gbc.pc(), 0x48fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01A5
        gbc.setState(0x55f2, 0x212a, 0x1710, 0xc30f, 0xac8d, 0x9c7a, 0x0, 0x1);
        gbc.writeMem(0x55f2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x212a);
        EXPECT(gbc.pc(), 0x55f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01A6
        gbc.setState(0xee9c, 0xe916, 0xf940, 0xddad, 0xb95b, 0x38b6, 0x0, 0x0);
        gbc.writeMem(0xee9c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xe916);
        EXPECT(gbc.pc(), 0xee9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee9c), 0x49);
        // 49 01A7
        gbc.setState(0x4f69, 0xf16e, 0xaa0, 0x67bf, 0x249c, 0xcd37, 0x1, 0x1);
        gbc.writeMem(0x4f69, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xf16e);
        EXPECT(gbc.pc(), 0x4f6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01A8
        gbc.setState(0x4bd0, 0xb412, 0x6a20, 0xcf5, 0x2561, 0x2d8f, 0x1, 0x0);
        gbc.writeMem(0x4bd0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xb412);
        EXPECT(gbc.pc(), 0x4bd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01A9
        gbc.setState(0x27c6, 0x6572, 0x3920, 0xba07, 0x4d8a, 0xb8f2, 0x1, 0x0);
        gbc.writeMem(0x27c6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6572);
        EXPECT(gbc.pc(), 0x27c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01AA
        gbc.setState(0xc4bc, 0x786a, 0x4e90, 0xde4f, 0x38d3, 0x17a1, 0x0, 0x0);
        gbc.writeMem(0xc4bc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x786a);
        EXPECT(gbc.pc(), 0xc4bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4bc), 0x49);
        // 49 01AB
        gbc.setState(0x3bc3, 0xea15, 0x92d0, 0x1949, 0xa689, 0x1988, 0x1, 0x0);
        gbc.writeMem(0x3bc3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xea15);
        EXPECT(gbc.pc(), 0x3bc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01AC
        gbc.setState(0x1b0c, 0x3765, 0x2850, 0x8e14, 0x9af7, 0xd85, 0x0, 0x0);
        gbc.writeMem(0x1b0c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x3765);
        EXPECT(gbc.pc(), 0x1b0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01AD
        gbc.setState(0x3f12, 0xb8f1, 0x49c0, 0x3e3b, 0x9f17, 0x5cf8, 0x1, 0x0);
        gbc.writeMem(0x3f12, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb8f1);
        EXPECT(gbc.pc(), 0x3f13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01AE
        gbc.setState(0xb117, 0xbc22, 0xe6e0, 0x6295, 0xbb57, 0x68d9, 0x1, 0x0);
        gbc.writeMem(0xb117, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xbc22);
        EXPECT(gbc.pc(), 0xb118);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb117), 0x49);
        // 49 01AF
        gbc.setState(0x3a9b, 0x9016, 0xe010, 0x9c67, 0xb1f0, 0xfac9, 0x1, 0x1);
        gbc.writeMem(0x3a9b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x9016);
        EXPECT(gbc.pc(), 0x3a9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01B0
        gbc.setState(0x25ee, 0x379b, 0xb000, 0x21c2, 0x8949, 0x25ef, 0x1, 0x0);
        gbc.writeMem(0x25ee, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x379b);
        EXPECT(gbc.pc(), 0x25ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01B1
        gbc.setState(0x9048, 0x7163, 0xd430, 0x2204, 0x7c89, 0x7301, 0x1, 0x0);
        gbc.writeMem(0x9048, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7163);
        EXPECT(gbc.pc(), 0x9049);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9048), 0x49);
        // 49 01B2
        gbc.setState(0x618f, 0xf605, 0x9620, 0x52b0, 0xad18, 0xbc2d, 0x1, 0x0);
        gbc.writeMem(0x618f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf605);
        EXPECT(gbc.pc(), 0x6190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01B3
        gbc.setState(0x40a0, 0xaa34, 0x6cf0, 0x6109, 0x7c41, 0x43e7, 0x0, 0x0);
        gbc.writeMem(0x40a0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xaa34);
        EXPECT(gbc.pc(), 0x40a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 01B4
        gbc.setState(0x844, 0x4637, 0x6660, 0xdd2c, 0x7fbf, 0x86ca, 0x1, 0x0);
        gbc.writeMem(0x844, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x4637);
        EXPECT(gbc.pc(), 0x845);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01B5
        gbc.setState(0xc64, 0xd027, 0x9b00, 0xb542, 0xe489, 0xa333, 0x0, 0x0);
        gbc.writeMem(0xc64, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xd027);
        EXPECT(gbc.pc(), 0xc65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01B6
        gbc.setState(0xbc29, 0xf56e, 0x6f40, 0xe399, 0x6173, 0xfd55, 0x1, 0x1);
        gbc.writeMem(0xbc29, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xf56e);
        EXPECT(gbc.pc(), 0xbc2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc29), 0x49);
        // 49 01B7
        gbc.setState(0xe9, 0x73b2, 0x1870, 0x8263, 0x12d1, 0xbe68, 0x0, 0x0);
        gbc.writeMem(0xe9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x73b2);
        EXPECT(gbc.pc(), 0xea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 01B8
        gbc.setState(0x5e0a, 0xd42b, 0xdee0, 0x3db3, 0x8330, 0xbcac, 0x0, 0x0);
        gbc.writeMem(0x5e0a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd42b);
        EXPECT(gbc.pc(), 0x5e0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01B9
        gbc.setState(0x92b, 0x8999, 0x92a0, 0x1c54, 0x9219, 0xa175, 0x1, 0x1);
        gbc.writeMem(0x92b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8999);
        EXPECT(gbc.pc(), 0x92c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01BA
        gbc.setState(0xe385, 0x4778, 0x6610, 0xa4b4, 0x4762, 0xf98, 0x1, 0x1);
        gbc.writeMem(0xe385, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4778);
        EXPECT(gbc.pc(), 0xe386);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe385), 0x49);
        // 49 01BB
        gbc.setState(0x9685, 0xdde7, 0x6310, 0xaee8, 0xe99b, 0x74b0, 0x1, 0x1);
        gbc.writeMem(0x9685, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xdde7);
        EXPECT(gbc.pc(), 0x9686);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9685), 0x49);
        // 49 01BC
        gbc.setState(0x5609, 0x4b2c, 0x380, 0x63a9, 0x8063, 0x9306, 0x0, 0x1);
        gbc.writeMem(0x5609, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4b2c);
        EXPECT(gbc.pc(), 0x560a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01BD
        gbc.setState(0x3c47, 0x8d54, 0x1f10, 0x74cf, 0x3521, 0xb0f2, 0x0, 0x0);
        gbc.writeMem(0x3c47, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8d54);
        EXPECT(gbc.pc(), 0x3c48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01BE
        gbc.setState(0x700e, 0x869e, 0xb850, 0x973f, 0xd67e, 0x1a30, 0x1, 0x0);
        gbc.writeMem(0x700e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x869e);
        EXPECT(gbc.pc(), 0x700f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01BF
        gbc.setState(0x4ab9, 0xd075, 0x1aa0, 0x22a7, 0x9a26, 0x23b6, 0x1, 0x0);
        gbc.writeMem(0x4ab9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd075);
        EXPECT(gbc.pc(), 0x4aba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01C0
        gbc.setState(0x9ffe, 0x368, 0x950, 0xcd6, 0x4dd6, 0x3152, 0x1, 0x0);
        gbc.writeMem(0x9ffe, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x368);
        EXPECT(gbc.pc(), 0x9fff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ffe), 0x49);
        // 49 01C1
        gbc.setState(0xe804, 0x63dc, 0xbdb0, 0xec93, 0x565f, 0xd8a5, 0x1, 0x0);
        gbc.writeMem(0xe804, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x63dc);
        EXPECT(gbc.pc(), 0xe805);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe804), 0x49);
        // 49 01C2
        gbc.setState(0x9335, 0xc9ae, 0x3a40, 0x1590, 0xc59e, 0x3fe3, 0x0, 0x0);
        gbc.writeMem(0x9335, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc9ae);
        EXPECT(gbc.pc(), 0x9336);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9335), 0x49);
        // 49 01C3
        gbc.setState(0xd910, 0x97e6, 0x6450, 0x7a06, 0xed6, 0xfa9b, 0x1, 0x1);
        gbc.writeMem(0xd910, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x97e6);
        EXPECT(gbc.pc(), 0xd911);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd910), 0x49);
        // 49 01C6
        gbc.setState(0x3a47, 0x147e, 0xe00, 0xe0eb, 0x33f9, 0x1ed5, 0x1, 0x1);
        gbc.writeMem(0x3a47, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x147e);
        EXPECT(gbc.pc(), 0x3a48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01C7
        gbc.setState(0x4d55, 0xd27d, 0x8340, 0x819d, 0x7519, 0x16b8, 0x1, 0x1);
        gbc.writeMem(0x4d55, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xd27d);
        EXPECT(gbc.pc(), 0x4d56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01C9
        gbc.setState(0x4110, 0xc4ed, 0x66a0, 0x352d, 0x5cd4, 0x3fe8, 0x0, 0x0);
        gbc.writeMem(0x4110, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc4ed);
        EXPECT(gbc.pc(), 0x4111);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01CA
        gbc.setState(0x50a2, 0x52f8, 0x7ac0, 0x3b34, 0xa16, 0x2f7b, 0x1, 0x0);
        gbc.writeMem(0x50a2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x52f8);
        EXPECT(gbc.pc(), 0x50a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01CB
        gbc.setState(0x8418, 0xc106, 0xf940, 0x4c9c, 0xbcc, 0x8dae, 0x1, 0x0);
        gbc.writeMem(0x8418, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xc106);
        EXPECT(gbc.pc(), 0x8419);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8418), 0x49);
        // 49 01CC
        gbc.setState(0x2745, 0xf9ff, 0xe080, 0x8485, 0x4f5e, 0x2aea, 0x0, 0x0);
        gbc.writeMem(0x2745, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xf9ff);
        EXPECT(gbc.pc(), 0x2746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01CD
        gbc.setState(0xde58, 0x955b, 0xd30, 0x7419, 0x9279, 0x562b, 0x0, 0x0);
        gbc.writeMem(0xde58, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x955b);
        EXPECT(gbc.pc(), 0xde59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde58), 0x49);
        // 49 01CE
        gbc.setState(0xe346, 0xaa70, 0x8330, 0xbfad, 0x9659, 0x30ed, 0x1, 0x1);
        gbc.writeMem(0xe346, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xaa70);
        EXPECT(gbc.pc(), 0xe347);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe346), 0x49);
        // 49 01CF
        gbc.setState(0x769d, 0x1605, 0xaae0, 0x291d, 0x90a6, 0x62a0, 0x1, 0x0);
        gbc.writeMem(0x769d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1605);
        EXPECT(gbc.pc(), 0x769e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01D0
        gbc.setState(0x6934, 0x178, 0x3310, 0x6b27, 0xadb8, 0x6c51, 0x0, 0x1);
        gbc.writeMem(0x6934, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x178);
        EXPECT(gbc.pc(), 0x6935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01D1
        gbc.setState(0x51e, 0xeb68, 0x1950, 0xdfb5, 0xe875, 0x1d17, 0x1, 0x0);
        gbc.writeMem(0x51e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xeb68);
        EXPECT(gbc.pc(), 0x51f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01D2
        gbc.setState(0xb786, 0x118d, 0x4020, 0xec5, 0x57fe, 0xa9ec, 0x1, 0x0);
        gbc.writeMem(0xb786, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x118d);
        EXPECT(gbc.pc(), 0xb787);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb786), 0x49);
        // 49 01D3
        gbc.setState(0x6656, 0xa428, 0x8f00, 0x7e46, 0x7bf6, 0x8879, 0x1, 0x1);
        gbc.writeMem(0x6656, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xa428);
        EXPECT(gbc.pc(), 0x6657);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01D4
        gbc.setState(0x6c9c, 0x54d3, 0x3460, 0x5f6e, 0xe7e2, 0x983c, 0x0, 0x0);
        gbc.writeMem(0x6c9c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x54d3);
        EXPECT(gbc.pc(), 0x6c9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01D5
        gbc.setState(0x544c, 0x6cfc, 0xafd0, 0x1a2a, 0xa62c, 0x1cc3, 0x1, 0x1);
        gbc.writeMem(0x544c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6cfc);
        EXPECT(gbc.pc(), 0x544d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01D6
        gbc.setState(0x912d, 0xf936, 0x1cb0, 0xb4c9, 0xa3b2, 0x989d, 0x1, 0x0);
        gbc.writeMem(0x912d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xf936);
        EXPECT(gbc.pc(), 0x912e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x912d), 0x49);
        // 49 01D7
        gbc.setState(0x7c9d, 0xd533, 0xf320, 0xb2f5, 0x3b0f, 0x39f8, 0x1, 0x0);
        gbc.writeMem(0x7c9d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xd533);
        EXPECT(gbc.pc(), 0x7c9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01D8
        gbc.setState(0xc277, 0x46ec, 0x9c60, 0x5607, 0xad3c, 0x77cb, 0x1, 0x0);
        gbc.writeMem(0xc277, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x46ec);
        EXPECT(gbc.pc(), 0xc278);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc277), 0x49);
        // 49 01D9
        gbc.setState(0x55ee, 0x838d, 0xfe90, 0xa4a7, 0x4664, 0x5ee8, 0x0, 0x1);
        gbc.writeMem(0x55ee, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x838d);
        EXPECT(gbc.pc(), 0x55ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01DA
        gbc.setState(0x9f78, 0xd97c, 0xdfa0, 0x306b, 0x1a69, 0x6468, 0x1, 0x0);
        gbc.writeMem(0x9f78, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xd97c);
        EXPECT(gbc.pc(), 0x9f79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f78), 0x49);
        // 49 01DB
        gbc.setState(0x2646, 0x6348, 0x87a0, 0xc05, 0x9f88, 0x6724, 0x0, 0x1);
        gbc.writeMem(0x2646, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x6348);
        EXPECT(gbc.pc(), 0x2647);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01DC
        gbc.setState(0x7321, 0xdc85, 0xfcf0, 0x6595, 0x56cb, 0x1806, 0x1, 0x1);
        gbc.writeMem(0x7321, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xdc85);
        EXPECT(gbc.pc(), 0x7322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 01DD
        gbc.setState(0xb2f7, 0x9b30, 0x3da0, 0x367, 0xf5ef, 0xec8e, 0x1, 0x1);
        gbc.writeMem(0xb2f7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x9b30);
        EXPECT(gbc.pc(), 0xb2f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2f7), 0x49);
        // 49 01DE
        gbc.setState(0xb126, 0xdcb4, 0xb50, 0x4fdb, 0x17fd, 0x4d5f, 0x1, 0x1);
        gbc.writeMem(0xb126, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdcb4);
        EXPECT(gbc.pc(), 0xb127);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb126), 0x49);
        // 49 01DF
        gbc.setState(0x3033, 0x79c0, 0xad10, 0x28ba, 0xa685, 0x1ecd, 0x0, 0x0);
        gbc.writeMem(0x3033, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x79c0);
        EXPECT(gbc.pc(), 0x3034);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01E0
        gbc.setState(0xbeef, 0x99ff, 0x3340, 0xb949, 0x398a, 0x150f, 0x0, 0x1);
        gbc.writeMem(0xbeef, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x99ff);
        EXPECT(gbc.pc(), 0xbef0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeef), 0x49);
        // 49 01E1
        gbc.setState(0xa057, 0xb320, 0xbc80, 0xcb1b, 0x14d4, 0x9b28, 0x0, 0x0);
        gbc.writeMem(0xa057, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb320);
        EXPECT(gbc.pc(), 0xa058);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa057), 0x49);
        // 49 01E2
        gbc.setState(0x5151, 0xc59d, 0x49c0, 0x22b9, 0x26ae, 0x579, 0x1, 0x0);
        gbc.writeMem(0x5151, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xc59d);
        EXPECT(gbc.pc(), 0x5152);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01E3
        gbc.setState(0x60ac, 0x99b8, 0xffc0, 0xf1f9, 0x7088, 0x1ea3, 0x0, 0x0);
        gbc.writeMem(0x60ac, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x99b8);
        EXPECT(gbc.pc(), 0x60ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01E4
        gbc.setState(0xc42d, 0xfe0f, 0x3670, 0x1e2, 0xf074, 0x26fc, 0x0, 0x1);
        gbc.writeMem(0xc42d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xfe0f);
        EXPECT(gbc.pc(), 0xc42e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc42d), 0x49);
        // 49 01E5
        gbc.setState(0xb6b0, 0x7d0e, 0xd560, 0x5593, 0x14f9, 0x7fc4, 0x0, 0x0);
        gbc.writeMem(0xb6b0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x7d0e);
        EXPECT(gbc.pc(), 0xb6b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6b0), 0x49);
        // 49 01E6
        gbc.setState(0x1111, 0xd3ca, 0x7250, 0x6de4, 0xec8d, 0xa847, 0x1, 0x1);
        gbc.writeMem(0x1111, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd3ca);
        EXPECT(gbc.pc(), 0x1112);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01E7
        gbc.setState(0x3c28, 0x5dad, 0xe1c0, 0xc00, 0x8ca9, 0x3110, 0x1, 0x0);
        gbc.writeMem(0x3c28, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5dad);
        EXPECT(gbc.pc(), 0x3c29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01E8
        gbc.setState(0xca6e, 0x756e, 0xbbf0, 0xfdbe, 0x6a5e, 0xd4ad, 0x1, 0x0);
        gbc.writeMem(0xca6e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x756e);
        EXPECT(gbc.pc(), 0xca6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca6e), 0x49);
        // 49 01E9
        gbc.setState(0xbf01, 0xf705, 0x550, 0x8a97, 0x1ba4, 0x8910, 0x1, 0x1);
        gbc.writeMem(0xbf01, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xf705);
        EXPECT(gbc.pc(), 0xbf02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf01), 0x49);
        // 49 01EA
        gbc.setState(0xb412, 0x8071, 0x32d0, 0xf401, 0xbe58, 0xc0c6, 0x1, 0x1);
        gbc.writeMem(0xb412, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8071);
        EXPECT(gbc.pc(), 0xb413);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb412), 0x49);
        // 49 01EB
        gbc.setState(0x43e2, 0xf9e, 0x2b30, 0x1807, 0xcc75, 0xddf1, 0x1, 0x0);
        gbc.writeMem(0x43e2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf9e);
        EXPECT(gbc.pc(), 0x43e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 01EC
        gbc.setState(0x398e, 0xfe24, 0xe4c0, 0x738c, 0x169b, 0x8ae8, 0x1, 0x0);
        gbc.writeMem(0x398e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfe24);
        EXPECT(gbc.pc(), 0x398f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01ED
        gbc.setState(0x9c4d, 0xc29d, 0x63e0, 0xb5aa, 0xa97e, 0x5de, 0x1, 0x1);
        gbc.writeMem(0x9c4d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xc29d);
        EXPECT(gbc.pc(), 0x9c4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c4d), 0x49);
        // 49 01EE
        gbc.setState(0x5fb2, 0xfa53, 0x64c0, 0x23a1, 0x63a, 0x9da4, 0x1, 0x0);
        gbc.writeMem(0x5fb2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xfa53);
        EXPECT(gbc.pc(), 0x5fb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01EF
        gbc.setState(0x54f6, 0x25ac, 0x9930, 0x3f29, 0xe6c6, 0x2c35, 0x0, 0x0);
        gbc.writeMem(0x54f6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x25ac);
        EXPECT(gbc.pc(), 0x54f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 01F0
        gbc.setState(0x3290, 0xeb09, 0x620, 0x4c9, 0xd02b, 0x715c, 0x0, 0x1);
        gbc.writeMem(0x3290, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xeb09);
        EXPECT(gbc.pc(), 0x3291);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01F1
        gbc.setState(0x36f1, 0x1ece, 0x89c0, 0x3383, 0xd9fd, 0xbed6, 0x1, 0x0);
        gbc.writeMem(0x36f1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x1ece);
        EXPECT(gbc.pc(), 0x36f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01F2
        gbc.setState(0x4e24, 0x2c7c, 0x98b0, 0x7317, 0xc9ae, 0xa176, 0x1, 0x1);
        gbc.writeMem(0x4e24, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2c7c);
        EXPECT(gbc.pc(), 0x4e25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 01F3
        gbc.setState(0x61fa, 0x7dde, 0x72e0, 0x4396, 0xdf09, 0x800e, 0x0, 0x0);
        gbc.writeMem(0x61fa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7dde);
        EXPECT(gbc.pc(), 0x61fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 01F4
        gbc.setState(0xa4f2, 0xe9d9, 0xc660, 0xe365, 0xda88, 0x560d, 0x0, 0x1);
        gbc.writeMem(0xa4f2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe9d9);
        EXPECT(gbc.pc(), 0xa4f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4f2), 0x49);
        // 49 01F5
        gbc.setState(0xc7c5, 0x35e0, 0x7bc0, 0xc9ed, 0x49ab, 0x6e6c, 0x1, 0x0);
        gbc.writeMem(0xc7c5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x35e0);
        EXPECT(gbc.pc(), 0xc7c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7c5), 0x49);
        // 49 01F6
        gbc.setState(0xec42, 0xd7cc, 0x95a0, 0xda50, 0xe181, 0x13a7, 0x1, 0x1);
        gbc.writeMem(0xec42, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd7cc);
        EXPECT(gbc.pc(), 0xec43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec42), 0x49);
        // 49 01F8
        gbc.setState(0x242, 0x6c5d, 0x91d0, 0xd876, 0x2903, 0xf8fd, 0x1, 0x1);
        gbc.writeMem(0x242, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x6c5d);
        EXPECT(gbc.pc(), 0x243);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 01F9
        gbc.setState(0xb7b3, 0x4b93, 0x2470, 0x2d65, 0xebcd, 0x13b3, 0x1, 0x0);
        gbc.writeMem(0xb7b3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4b93);
        EXPECT(gbc.pc(), 0xb7b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7b3), 0x49);
        // 49 01FA
        gbc.setState(0x70c, 0xaa83, 0x3040, 0xe8b2, 0xda8e, 0xb537, 0x0, 0x0);
        gbc.writeMem(0x70c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xaa83);
        EXPECT(gbc.pc(), 0x70d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01FB
        gbc.setState(0xd06c, 0x3f3a, 0xdcf0, 0x6ef0, 0xfa33, 0xd00d, 0x0, 0x0);
        gbc.writeMem(0xd06c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3f3a);
        EXPECT(gbc.pc(), 0xd06d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd06c), 0x49);
        // 49 01FC
        gbc.setState(0x84ce, 0x16c2, 0xb050, 0x761d, 0x33d9, 0x2e03, 0x0, 0x1);
        gbc.writeMem(0x84ce, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x16c2);
        EXPECT(gbc.pc(), 0x84cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ce), 0x49);
        // 49 01FD
        gbc.setState(0x4057, 0x2d32, 0x4340, 0x78c5, 0x1091, 0x68dd, 0x1, 0x1);
        gbc.writeMem(0x4057, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2d32);
        EXPECT(gbc.pc(), 0x4058);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 01FE
        gbc.setState(0x5d8b, 0x1c52, 0xe30, 0x5e11, 0xa19, 0x389b, 0x0, 0x0);
        gbc.writeMem(0x5d8b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1c52);
        EXPECT(gbc.pc(), 0x5d8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 01FF
        gbc.setState(0x9fa9, 0x3745, 0xd3d0, 0xf32c, 0x25d0, 0xa92c, 0x0, 0x1);
        gbc.writeMem(0x9fa9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x3745);
        EXPECT(gbc.pc(), 0x9faa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fa9), 0x49);
        // 49 0200
        gbc.setState(0x59b, 0x4348, 0xbd00, 0x5ef2, 0x2966, 0xcfb7, 0x1, 0x1);
        gbc.writeMem(0x59b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x4348);
        EXPECT(gbc.pc(), 0x59c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0201
        gbc.setState(0xe5b1, 0x10cb, 0xc0d0, 0x3e15, 0x17d0, 0x8d5c, 0x1, 0x1);
        gbc.writeMem(0xe5b1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x10cb);
        EXPECT(gbc.pc(), 0xe5b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5b1), 0x49);
        // 49 0202
        gbc.setState(0x3e4a, 0xd478, 0xa40, 0x9ff9, 0xac7e, 0xddbc, 0x1, 0x0);
        gbc.writeMem(0x3e4a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd478);
        EXPECT(gbc.pc(), 0x3e4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0203
        gbc.setState(0x38e3, 0xdd33, 0x59d0, 0x43e9, 0xd59e, 0x36a5, 0x1, 0x1);
        gbc.writeMem(0x38e3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xdd33);
        EXPECT(gbc.pc(), 0x38e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0204
        gbc.setState(0xd56e, 0x907c, 0xd500, 0xe771, 0x56d8, 0xfa62, 0x0, 0x0);
        gbc.writeMem(0xd56e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x907c);
        EXPECT(gbc.pc(), 0xd56f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd56e), 0x49);
        // 49 0205
        gbc.setState(0xa073, 0x7354, 0xd720, 0x6429, 0x3ec8, 0xc560, 0x1, 0x1);
        gbc.writeMem(0xa073, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x7354);
        EXPECT(gbc.pc(), 0xa074);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa073), 0x49);
        // 49 0206
        gbc.setState(0x2c0b, 0x1ac5, 0xbac0, 0x8c5e, 0xcb2f, 0xc909, 0x1, 0x0);
        gbc.writeMem(0x2c0b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1ac5);
        EXPECT(gbc.pc(), 0x2c0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0207
        gbc.setState(0xb52, 0xe466, 0xf030, 0x2b74, 0xf59a, 0xdc7d, 0x1, 0x0);
        gbc.writeMem(0xb52, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe466);
        EXPECT(gbc.pc(), 0xb53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0208
        gbc.setState(0x99e, 0xadc, 0x5940, 0x7727, 0x3a7d, 0x79c6, 0x0, 0x1);
        gbc.writeMem(0x99e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xadc);
        EXPECT(gbc.pc(), 0x99f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0209
        gbc.setState(0xd1c8, 0x421c, 0x40f0, 0x5e7d, 0x7ff8, 0x58fa, 0x1, 0x0);
        gbc.writeMem(0xd1c8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x421c);
        EXPECT(gbc.pc(), 0xd1c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1c8), 0x49);
        // 49 020A
        gbc.setState(0x7c45, 0x332c, 0x7ac0, 0xb63a, 0xa0cb, 0xe0c2, 0x1, 0x1);
        gbc.writeMem(0x7c45, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x332c);
        EXPECT(gbc.pc(), 0x7c46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 020C
        gbc.setState(0xdb1d, 0x546e, 0xf700, 0xde5a, 0x51dc, 0x59d3, 0x1, 0x1);
        gbc.writeMem(0xdb1d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x546e);
        EXPECT(gbc.pc(), 0xdb1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb1d), 0x49);
        // 49 020D
        gbc.setState(0xe284, 0x2184, 0xcbc0, 0x398b, 0xd84f, 0x4fdf, 0x0, 0x0);
        gbc.writeMem(0xe284, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x2184);
        EXPECT(gbc.pc(), 0xe285);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe284), 0x49);
        // 49 020E
        gbc.setState(0xa1e5, 0x763d, 0x5ca0, 0xe0d5, 0x2720, 0x530a, 0x0, 0x0);
        gbc.writeMem(0xa1e5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x763d);
        EXPECT(gbc.pc(), 0xa1e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1e5), 0x49);
        // 49 020F
        gbc.setState(0xab23, 0x7da3, 0x2b90, 0x3a5c, 0xc4ab, 0x4e65, 0x1, 0x0);
        gbc.writeMem(0xab23, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7da3);
        EXPECT(gbc.pc(), 0xab24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab23), 0x49);
        // 49 0210
        gbc.setState(0x9e3e, 0x2826, 0xd440, 0xf186, 0xc6d0, 0x1343, 0x1, 0x0);
        gbc.writeMem(0x9e3e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x2826);
        EXPECT(gbc.pc(), 0x9e3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e3e), 0x49);
        // 49 0211
        gbc.setState(0x179a, 0xf2dd, 0x3b30, 0xa5dd, 0x671d, 0x6b7d, 0x0, 0x1);
        gbc.writeMem(0x179a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf2dd);
        EXPECT(gbc.pc(), 0x179b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0212
        gbc.setState(0xb436, 0x360c, 0x520, 0x7c8e, 0x322e, 0x5c68, 0x1, 0x0);
        gbc.writeMem(0xb436, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x360c);
        EXPECT(gbc.pc(), 0xb437);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb436), 0x49);
        // 49 0213
        gbc.setState(0xaa6a, 0x3029, 0xa520, 0xa107, 0x256a, 0x291f, 0x1, 0x0);
        gbc.writeMem(0xaa6a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3029);
        EXPECT(gbc.pc(), 0xaa6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa6a), 0x49);
        // 49 0214
        gbc.setState(0x7295, 0xda8e, 0x1b90, 0xeebf, 0xe5d7, 0x83c4, 0x1, 0x0);
        gbc.writeMem(0x7295, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xda8e);
        EXPECT(gbc.pc(), 0x7296);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0215
        gbc.setState(0xa49d, 0xb4ef, 0x2460, 0x24ac, 0x352a, 0xb0c0, 0x1, 0x0);
        gbc.writeMem(0xa49d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb4ef);
        EXPECT(gbc.pc(), 0xa49e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa49d), 0x49);
        // 49 0216
        gbc.setState(0x38e3, 0x427, 0x63e0, 0x9460, 0x2f25, 0xb780, 0x1, 0x0);
        gbc.writeMem(0x38e3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x427);
        EXPECT(gbc.pc(), 0x38e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0217
        gbc.setState(0x29ed, 0xbe83, 0x4cc0, 0xe8cd, 0xdc64, 0x10aa, 0x1, 0x1);
        gbc.writeMem(0x29ed, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xbe83);
        EXPECT(gbc.pc(), 0x29ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0218
        gbc.setState(0x9496, 0xd66e, 0x24d0, 0x3f65, 0x12f5, 0xce38, 0x1, 0x0);
        gbc.writeMem(0x9496, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xd66e);
        EXPECT(gbc.pc(), 0x9497);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9496), 0x49);
        // 49 0219
        gbc.setState(0x37c9, 0x5cc6, 0x9d90, 0xd7ca, 0x7248, 0xe731, 0x1, 0x1);
        gbc.writeMem(0x37c9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x5cc6);
        EXPECT(gbc.pc(), 0x37ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 021A
        gbc.setState(0x551a, 0xb017, 0x3420, 0x9b40, 0xb441, 0xfbe, 0x1, 0x0);
        gbc.writeMem(0x551a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb017);
        EXPECT(gbc.pc(), 0x551b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 021B
        gbc.setState(0xa665, 0x9aba, 0xb8e0, 0xe97c, 0x6847, 0x404b, 0x0, 0x0);
        gbc.writeMem(0xa665, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9aba);
        EXPECT(gbc.pc(), 0xa666);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa665), 0x49);
        // 49 021C
        gbc.setState(0xe529, 0x89dd, 0xf830, 0xf064, 0xa743, 0x9c81, 0x1, 0x1);
        gbc.writeMem(0xe529, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x89dd);
        EXPECT(gbc.pc(), 0xe52a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe529), 0x49);
        // 49 021D
        gbc.setState(0x336b, 0xf67a, 0x5740, 0x5273, 0xa011, 0x54c4, 0x1, 0x1);
        gbc.writeMem(0x336b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf67a);
        EXPECT(gbc.pc(), 0x336c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 021E
        gbc.setState(0x40ba, 0x408d, 0x59a0, 0xbfde, 0x5a92, 0x2344, 0x1, 0x1);
        gbc.writeMem(0x40ba, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x408d);
        EXPECT(gbc.pc(), 0x40bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 021F
        gbc.setState(0x1808, 0x7ffc, 0xb10, 0xbef8, 0xd600, 0x56ba, 0x0, 0x0);
        gbc.writeMem(0x1808, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7ffc);
        EXPECT(gbc.pc(), 0x1809);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0220
        gbc.setState(0x1517, 0x1220, 0x29e0, 0x771a, 0xfb63, 0x24fa, 0x0, 0x0);
        gbc.writeMem(0x1517, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x1220);
        EXPECT(gbc.pc(), 0x1518);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0221
        gbc.setState(0xe23, 0x114b, 0xab70, 0xbdd5, 0x37b5, 0xca5b, 0x1, 0x0);
        gbc.writeMem(0xe23, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x114b);
        EXPECT(gbc.pc(), 0xe24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0222
        gbc.setState(0x4ea9, 0xe6db, 0xbe30, 0x3b9a, 0xa442, 0x5f69, 0x1, 0x0);
        gbc.writeMem(0x4ea9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe6db);
        EXPECT(gbc.pc(), 0x4eaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0223
        gbc.setState(0x1b1a, 0xbe18, 0xe5a0, 0xa6a8, 0x1b4b, 0x6cca, 0x1, 0x1);
        gbc.writeMem(0x1b1a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xbe18);
        EXPECT(gbc.pc(), 0x1b1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0224
        gbc.setState(0x8675, 0xaf37, 0x2400, 0xf013, 0x3d32, 0x97d4, 0x0, 0x1);
        gbc.writeMem(0x8675, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xaf37);
        EXPECT(gbc.pc(), 0x8676);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8675), 0x49);
        // 49 0225
        gbc.setState(0x5027, 0x1550, 0x4c10, 0x3cc2, 0xb6b1, 0x77e7, 0x0, 0x0);
        gbc.writeMem(0x5027, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x1550);
        EXPECT(gbc.pc(), 0x5028);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0226
        gbc.setState(0x40bc, 0x6243, 0xcb80, 0x6951, 0x9d0, 0xaa16, 0x1, 0x0);
        gbc.writeMem(0x40bc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6243);
        EXPECT(gbc.pc(), 0x40bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0227
        gbc.setState(0xc0ce, 0x58f, 0x6b20, 0x674a, 0x6765, 0x681a, 0x1, 0x0);
        gbc.writeMem(0xc0ce, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x58f);
        EXPECT(gbc.pc(), 0xc0cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0ce), 0x49);
        // 49 0228
        gbc.setState(0x15dc, 0x7b34, 0xb860, 0xc082, 0x1b69, 0xafcf, 0x1, 0x1);
        gbc.writeMem(0x15dc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x7b34);
        EXPECT(gbc.pc(), 0x15dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0229
        gbc.setState(0xd079, 0x2bfd, 0xf780, 0x28b3, 0xbd40, 0x10a5, 0x1, 0x0);
        gbc.writeMem(0xd079, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2bfd);
        EXPECT(gbc.pc(), 0xd07a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd079), 0x49);
        // 49 022A
        gbc.setState(0xd8b0, 0x20ef, 0x5fb0, 0xdd0b, 0x8810, 0xa7bf, 0x1, 0x0);
        gbc.writeMem(0xd8b0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x20ef);
        EXPECT(gbc.pc(), 0xd8b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8b0), 0x49);
        // 49 022C
        gbc.setState(0x6f01, 0x6719, 0x5190, 0x2120, 0x6f03, 0xa11c, 0x1, 0x0);
        gbc.writeMem(0x6f01, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6719);
        EXPECT(gbc.pc(), 0x6f02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 022D
        gbc.setState(0x9461, 0x3565, 0x6f60, 0x6945, 0xae2, 0x2442, 0x0, 0x1);
        gbc.writeMem(0x9461, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3565);
        EXPECT(gbc.pc(), 0x9462);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9461), 0x49);
        // 49 022E
        gbc.setState(0x31ff, 0xb651, 0x4b10, 0xbf3a, 0xbfe3, 0xb14c, 0x1, 0x0);
        gbc.writeMem(0x31ff, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xb651);
        EXPECT(gbc.pc(), 0x3200);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0230
        gbc.setState(0x50ea, 0xb807, 0xc100, 0x28f7, 0x2729, 0x1bb, 0x1, 0x1);
        gbc.writeMem(0x50ea, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xb807);
        EXPECT(gbc.pc(), 0x50eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0231
        gbc.setState(0xed19, 0x8999, 0x3f40, 0x20cf, 0x63a3, 0x3c2f, 0x0, 0x1);
        gbc.writeMem(0xed19, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8999);
        EXPECT(gbc.pc(), 0xed1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed19), 0x49);
        // 49 0232
        gbc.setState(0x4674, 0x7bd8, 0x9500, 0x839, 0xc10b, 0xc5b2, 0x1, 0x1);
        gbc.writeMem(0x4674, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7bd8);
        EXPECT(gbc.pc(), 0x4675);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0233
        gbc.setState(0xed47, 0xcc4f, 0xe3c0, 0xb448, 0x759d, 0xadda, 0x0, 0x0);
        gbc.writeMem(0xed47, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xcc4f);
        EXPECT(gbc.pc(), 0xed48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed47), 0x49);
        // 49 0234
        gbc.setState(0x4249, 0x23e0, 0x50e0, 0x528c, 0xa582, 0x8c3c, 0x0, 0x1);
        gbc.writeMem(0x4249, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x23e0);
        EXPECT(gbc.pc(), 0x424a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0235
        gbc.setState(0x7832, 0x9ce8, 0xa30, 0x986a, 0x3bce, 0x76a6, 0x1, 0x0);
        gbc.writeMem(0x7832, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9ce8);
        EXPECT(gbc.pc(), 0x7833);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0236
        gbc.setState(0xb118, 0x8ec, 0x1b60, 0x23, 0x297b, 0x8b0c, 0x0, 0x1);
        gbc.writeMem(0xb118, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x8ec);
        EXPECT(gbc.pc(), 0xb119);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb118), 0x49);
        // 49 0237
        gbc.setState(0x86f4, 0x4e63, 0x96f0, 0xb777, 0x570a, 0xb97a, 0x1, 0x0);
        gbc.writeMem(0x86f4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4e63);
        EXPECT(gbc.pc(), 0x86f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86f4), 0x49);
        // 49 0238
        gbc.setState(0x1234, 0x6a50, 0x9840, 0x88fc, 0x70b0, 0xd74a, 0x0, 0x0);
        gbc.writeMem(0x1234, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x6a50);
        EXPECT(gbc.pc(), 0x1235);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0239
        gbc.setState(0xe0fa, 0xf57, 0x44c0, 0xdc59, 0x2320, 0x84ac, 0x0, 0x1);
        gbc.writeMem(0xe0fa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf57);
        EXPECT(gbc.pc(), 0xe0fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0fa), 0x49);
        // 49 023A
        gbc.setState(0x1c7e, 0x18a3, 0x3950, 0xfe6d, 0x89c7, 0xe17, 0x1, 0x1);
        gbc.writeMem(0x1c7e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x18a3);
        EXPECT(gbc.pc(), 0x1c7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 023B
        gbc.setState(0x6c21, 0xb2f7, 0x5ea0, 0xdf3d, 0xa01b, 0x7ad, 0x1, 0x0);
        gbc.writeMem(0x6c21, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb2f7);
        EXPECT(gbc.pc(), 0x6c22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 023C
        gbc.setState(0x9f2b, 0x8530, 0x6650, 0xc8d0, 0x6639, 0x800d, 0x0, 0x0);
        gbc.writeMem(0x9f2b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8530);
        EXPECT(gbc.pc(), 0x9f2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f2b), 0x49);
        // 49 023D
        gbc.setState(0x5b84, 0x2d32, 0xbb0, 0xda71, 0xd4a9, 0x3587, 0x0, 0x1);
        gbc.writeMem(0x5b84, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2d32);
        EXPECT(gbc.pc(), 0x5b85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 023E
        gbc.setState(0xa8f5, 0x4423, 0xb160, 0xec4d, 0xbf4f, 0xddc3, 0x0, 0x0);
        gbc.writeMem(0xa8f5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x4423);
        EXPECT(gbc.pc(), 0xa8f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8f5), 0x49);
        // 49 023F
        gbc.setState(0xc2e1, 0x4150, 0x97b0, 0x908f, 0xe0e1, 0xb5af, 0x0, 0x0);
        gbc.writeMem(0xc2e1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4150);
        EXPECT(gbc.pc(), 0xc2e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2e1), 0x49);
        // 49 0240
        gbc.setState(0x29a7, 0x708b, 0xe810, 0x30d7, 0xe7d1, 0x5a35, 0x0, 0x0);
        gbc.writeMem(0x29a7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x708b);
        EXPECT(gbc.pc(), 0x29a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0241
        gbc.setState(0x8f07, 0xa952, 0xea90, 0x90e2, 0xaf71, 0x132c, 0x1, 0x0);
        gbc.writeMem(0x8f07, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xa952);
        EXPECT(gbc.pc(), 0x8f08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f07), 0x49);
        // 49 0242
        gbc.setState(0x627a, 0xd712, 0x6ba0, 0xae8f, 0xe85, 0xed5e, 0x0, 0x1);
        gbc.writeMem(0x627a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd712);
        EXPECT(gbc.pc(), 0x627b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0243
        gbc.setState(0x8113, 0xcd4a, 0x6fc0, 0x60a6, 0xbb3d, 0x8bd1, 0x1, 0x1);
        gbc.writeMem(0x8113, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xcd4a);
        EXPECT(gbc.pc(), 0x8114);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8113), 0x49);
        // 49 0244
        gbc.setState(0xcb90, 0x836f, 0x3850, 0x753f, 0xe396, 0xcf2f, 0x0, 0x0);
        gbc.writeMem(0xcb90, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x836f);
        EXPECT(gbc.pc(), 0xcb91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb90), 0x49);
        // 49 0246
        gbc.setState(0x720c, 0x723d, 0x6790, 0x5a04, 0x457c, 0xb31c, 0x0, 0x0);
        gbc.writeMem(0x720c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x723d);
        EXPECT(gbc.pc(), 0x720d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0247
        gbc.setState(0x8d39, 0x207e, 0xe550, 0x613, 0x1531, 0xeecd, 0x1, 0x1);
        gbc.writeMem(0x8d39, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x207e);
        EXPECT(gbc.pc(), 0x8d3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d39), 0x49);
        // 49 0248
        gbc.setState(0x3ddc, 0x7124, 0xfcc0, 0x9eb4, 0x28e4, 0xbc2a, 0x1, 0x0);
        gbc.writeMem(0x3ddc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x7124);
        EXPECT(gbc.pc(), 0x3ddd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 024A
        gbc.setState(0x1cdc, 0xeeda, 0xc460, 0x8751, 0x130b, 0x2bea, 0x1, 0x0);
        gbc.writeMem(0x1cdc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xeeda);
        EXPECT(gbc.pc(), 0x1cdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 024B
        gbc.setState(0x4c71, 0x42d1, 0x9ba0, 0x7ec9, 0x60f0, 0x28cb, 0x1, 0x0);
        gbc.writeMem(0x4c71, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x42d1);
        EXPECT(gbc.pc(), 0x4c72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 024C
        gbc.setState(0x7af7, 0xef51, 0xa680, 0x31a4, 0x6db0, 0xc585, 0x0, 0x1);
        gbc.writeMem(0x7af7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xef51);
        EXPECT(gbc.pc(), 0x7af8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 024D
        gbc.setState(0x7c34, 0x396c, 0x4590, 0xe834, 0x5ea2, 0x9a7a, 0x1, 0x0);
        gbc.writeMem(0x7c34, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x396c);
        EXPECT(gbc.pc(), 0x7c35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 024E
        gbc.setState(0x387b, 0x855c, 0x86e0, 0x4209, 0x785e, 0x85e7, 0x0, 0x0);
        gbc.writeMem(0x387b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x855c);
        EXPECT(gbc.pc(), 0x387c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 024F
        gbc.setState(0xc047, 0xf09e, 0xee30, 0xe274, 0x9866, 0xbea0, 0x1, 0x0);
        gbc.writeMem(0xc047, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf09e);
        EXPECT(gbc.pc(), 0xc048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc047), 0x49);
        // 49 0250
        gbc.setState(0xe5b3, 0xceca, 0x7760, 0x2a02, 0x8980, 0xdc4, 0x0, 0x0);
        gbc.writeMem(0xe5b3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xceca);
        EXPECT(gbc.pc(), 0xe5b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5b3), 0x49);
        // 49 0251
        gbc.setState(0x225a, 0xc389, 0xf0e0, 0xce3c, 0xe54c, 0xbecd, 0x1, 0x0);
        gbc.writeMem(0x225a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc389);
        EXPECT(gbc.pc(), 0x225b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0252
        gbc.setState(0x81b9, 0x94f3, 0xbc00, 0x11f2, 0x310e, 0x36f9, 0x1, 0x1);
        gbc.writeMem(0x81b9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x94f3);
        EXPECT(gbc.pc(), 0x81ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b9), 0x49);
        // 49 0253
        gbc.setState(0x26d9, 0xf8a8, 0x1150, 0x3b96, 0x849d, 0x53c1, 0x1, 0x1);
        gbc.writeMem(0x26d9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xf8a8);
        EXPECT(gbc.pc(), 0x26da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0254
        gbc.setState(0x65f3, 0xdf3f, 0xe180, 0xe997, 0x8be5, 0x6c72, 0x0, 0x0);
        gbc.writeMem(0x65f3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xdf3f);
        EXPECT(gbc.pc(), 0x65f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0255
        gbc.setState(0xccda, 0x74f6, 0x6820, 0x1267, 0x26f4, 0xf39f, 0x0, 0x0);
        gbc.writeMem(0xccda, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x74f6);
        EXPECT(gbc.pc(), 0xccdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccda), 0x49);
        // 49 0256
        gbc.setState(0x1fd9, 0xfb5a, 0x1980, 0xa3db, 0xc45d, 0x168a, 0x1, 0x1);
        gbc.writeMem(0x1fd9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xfb5a);
        EXPECT(gbc.pc(), 0x1fda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0257
        gbc.setState(0x1a7f, 0x59c9, 0xadb0, 0x88be, 0x9afe, 0x78fe, 0x0, 0x1);
        gbc.writeMem(0x1a7f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x59c9);
        EXPECT(gbc.pc(), 0x1a80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0258
        gbc.setState(0x877e, 0x4d85, 0x3170, 0xa008, 0x7b9b, 0x40a3, 0x0, 0x0);
        gbc.writeMem(0x877e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4d85);
        EXPECT(gbc.pc(), 0x877f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x877e), 0x49);
        // 49 0259
        gbc.setState(0xe840, 0x900, 0xa470, 0xcb2e, 0xd8a8, 0xe380, 0x1, 0x0);
        gbc.writeMem(0xe840, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x900);
        EXPECT(gbc.pc(), 0xe841);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe840), 0x49);
        // 49 025A
        gbc.setState(0x3eb8, 0x447c, 0xd240, 0x1c47, 0x5f38, 0x86c5, 0x1, 0x1);
        gbc.writeMem(0x3eb8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x447c);
        EXPECT(gbc.pc(), 0x3eb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 025B
        gbc.setState(0xe169, 0xed6a, 0x1e10, 0xfcf2, 0xbce7, 0x4ca4, 0x1, 0x1);
        gbc.writeMem(0xe169, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xed6a);
        EXPECT(gbc.pc(), 0xe16a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe169), 0x49);
        // 49 025C
        gbc.setState(0x40b1, 0x5586, 0x2e50, 0xb5bd, 0x6ca7, 0x8bb8, 0x0, 0x0);
        gbc.writeMem(0x40b1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5586);
        EXPECT(gbc.pc(), 0x40b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 025D
        gbc.setState(0xcb68, 0xc8ab, 0xb610, 0xb5e1, 0x2ac2, 0x36b0, 0x1, 0x1);
        gbc.writeMem(0xcb68, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xc8ab);
        EXPECT(gbc.pc(), 0xcb69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb68), 0x49);
        // 49 025F
        gbc.setState(0x8232, 0xf253, 0x95a0, 0xda5e, 0x7018, 0x7dd6, 0x0, 0x1);
        gbc.writeMem(0x8232, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf253);
        EXPECT(gbc.pc(), 0x8233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8232), 0x49);
        // 49 0260
        gbc.setState(0x754c, 0x926f, 0x5ae0, 0xcf9e, 0x8822, 0xd030, 0x1, 0x1);
        gbc.writeMem(0x754c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x926f);
        EXPECT(gbc.pc(), 0x754d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0261
        gbc.setState(0x614, 0xfc6c, 0x8290, 0xd387, 0x94f0, 0x3a4e, 0x1, 0x0);
        gbc.writeMem(0x614, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xfc6c);
        EXPECT(gbc.pc(), 0x615);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0262
        gbc.setState(0x85ee, 0xa27d, 0xda50, 0x8f6c, 0x72fa, 0x9cc, 0x0, 0x0);
        gbc.writeMem(0x85ee, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa27d);
        EXPECT(gbc.pc(), 0x85ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85ee), 0x49);
        // 49 0263
        gbc.setState(0xd41e, 0x6a6f, 0x4000, 0x5972, 0x7431, 0x43b7, 0x0, 0x0);
        gbc.writeMem(0xd41e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6a6f);
        EXPECT(gbc.pc(), 0xd41f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd41e), 0x49);
        // 49 0264
        gbc.setState(0x5db0, 0xae60, 0x2a20, 0xf3a1, 0x9604, 0x8be0, 0x1, 0x0);
        gbc.writeMem(0x5db0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xae60);
        EXPECT(gbc.pc(), 0x5db1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0265
        gbc.setState(0xbd8f, 0xa8f4, 0x8e80, 0x4810, 0xaaeb, 0xdce9, 0x1, 0x0);
        gbc.writeMem(0xbd8f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xa8f4);
        EXPECT(gbc.pc(), 0xbd90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd8f), 0x49);
        // 49 0266
        gbc.setState(0x7755, 0xe07, 0x6860, 0xe2ae, 0xca97, 0xf791, 0x1, 0x1);
        gbc.writeMem(0x7755, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xe07);
        EXPECT(gbc.pc(), 0x7756);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0269
        gbc.setState(0x6a87, 0x9cda, 0x8fd0, 0x28fb, 0x19c8, 0xd219, 0x0, 0x1);
        gbc.writeMem(0x6a87, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9cda);
        EXPECT(gbc.pc(), 0x6a88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 026A
        gbc.setState(0x9454, 0x1fc0, 0x780, 0x8465, 0x26b4, 0x2e97, 0x1, 0x1);
        gbc.writeMem(0x9454, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x1fc0);
        EXPECT(gbc.pc(), 0x9455);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9454), 0x49);
        // 49 026B
        gbc.setState(0x2aae, 0x56b4, 0x38e0, 0xee68, 0x61fa, 0x4a8f, 0x0, 0x1);
        gbc.writeMem(0x2aae, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x56b4);
        EXPECT(gbc.pc(), 0x2aaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 026C
        gbc.setState(0xce0c, 0xbf80, 0xb9f0, 0x723, 0x8228, 0x39e1, 0x1, 0x0);
        gbc.writeMem(0xce0c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xbf80);
        EXPECT(gbc.pc(), 0xce0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce0c), 0x49);
        // 49 026E
        gbc.setState(0x138d, 0xfbef, 0xc0f0, 0xacbe, 0xafe6, 0xd92, 0x1, 0x1);
        gbc.writeMem(0x138d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xfbef);
        EXPECT(gbc.pc(), 0x138e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0270
        gbc.setState(0x92ab, 0x24ac, 0x8ba0, 0x921a, 0x5870, 0x4a2a, 0x1, 0x1);
        gbc.writeMem(0x92ab, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x24ac);
        EXPECT(gbc.pc(), 0x92ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92ab), 0x49);
        // 49 0271
        gbc.setState(0x1431, 0xe3a3, 0xb730, 0xff83, 0x792e, 0x8e16, 0x0, 0x1);
        gbc.writeMem(0x1431, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xe3a3);
        EXPECT(gbc.pc(), 0x1432);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0272
        gbc.setState(0xe1d7, 0x377, 0x8600, 0x4e51, 0x3b9b, 0x487c, 0x0, 0x0);
        gbc.writeMem(0xe1d7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x377);
        EXPECT(gbc.pc(), 0xe1d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1d7), 0x49);
        // 49 0273
        gbc.setState(0xc94b, 0x7dbb, 0x2330, 0x37d2, 0x5ba, 0x58d4, 0x0, 0x0);
        gbc.writeMem(0xc94b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x7dbb);
        EXPECT(gbc.pc(), 0xc94c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc94b), 0x49);
        // 49 0274
        gbc.setState(0xd970, 0xd178, 0x73c0, 0x507c, 0xf5d6, 0x824, 0x0, 0x0);
        gbc.writeMem(0xd970, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xd178);
        EXPECT(gbc.pc(), 0xd971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd970), 0x49);
        // 49 0276
        gbc.setState(0x60bd, 0xa0e, 0x2e20, 0x9ece, 0x2098, 0xdb71, 0x0, 0x0);
        gbc.writeMem(0x60bd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa0e);
        EXPECT(gbc.pc(), 0x60be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0277
        gbc.setState(0xb2fc, 0x60fc, 0x6e30, 0xe467, 0x95e3, 0x30e5, 0x0, 0x1);
        gbc.writeMem(0xb2fc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x60fc);
        EXPECT(gbc.pc(), 0xb2fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2fc), 0x49);
        // 49 0278
        gbc.setState(0x64ad, 0x52c7, 0x65a0, 0x51e5, 0x54ae, 0x4626, 0x0, 0x1);
        gbc.writeMem(0x64ad, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x52c7);
        EXPECT(gbc.pc(), 0x64ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0279
        gbc.setState(0x22e0, 0xaa07, 0xb300, 0x3499, 0x128e, 0x359, 0x0, 0x0);
        gbc.writeMem(0x22e0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xaa07);
        EXPECT(gbc.pc(), 0x22e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 027A
        gbc.setState(0x94bf, 0x73d7, 0xd200, 0x502f, 0x48ee, 0x2d06, 0x0, 0x0);
        gbc.writeMem(0x94bf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x73d7);
        EXPECT(gbc.pc(), 0x94c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94bf), 0x49);
        // 49 027B
        gbc.setState(0x4892, 0xf44f, 0x73b0, 0x2a70, 0xe452, 0x7e38, 0x0, 0x1);
        gbc.writeMem(0x4892, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xf44f);
        EXPECT(gbc.pc(), 0x4893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 027C
        gbc.setState(0xee5b, 0xe99a, 0x8c80, 0x80dd, 0x5e6, 0xe087, 0x1, 0x0);
        gbc.writeMem(0xee5b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe99a);
        EXPECT(gbc.pc(), 0xee5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee5b), 0x49);
        // 49 027D
        gbc.setState(0x45ca, 0x11b9, 0x3780, 0x4fb3, 0xa500, 0xe384, 0x1, 0x0);
        gbc.writeMem(0x45ca, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x11b9);
        EXPECT(gbc.pc(), 0x45cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 027E
        gbc.setState(0x7b73, 0xe332, 0x5930, 0x6845, 0x87f5, 0x3704, 0x1, 0x0);
        gbc.writeMem(0x7b73, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xe332);
        EXPECT(gbc.pc(), 0x7b74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 027F
        gbc.setState(0x17d0, 0x2ea, 0x15a0, 0x6322, 0xe74d, 0x38da, 0x0, 0x0);
        gbc.writeMem(0x17d0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x2ea);
        EXPECT(gbc.pc(), 0x17d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0281
        gbc.setState(0xcb22, 0xdbd8, 0xe140, 0xf0f3, 0x140a, 0xe702, 0x0, 0x0);
        gbc.writeMem(0xcb22, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xdbd8);
        EXPECT(gbc.pc(), 0xcb23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb22), 0x49);
        // 49 0282
        gbc.setState(0x8e9c, 0x1bf6, 0x1720, 0x6359, 0x1d6c, 0x9602, 0x1, 0x0);
        gbc.writeMem(0x8e9c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1bf6);
        EXPECT(gbc.pc(), 0x8e9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e9c), 0x49);
        // 49 0283
        gbc.setState(0x9a51, 0xe1d3, 0xbe60, 0x3ce2, 0x7573, 0xc18f, 0x0, 0x1);
        gbc.writeMem(0x9a51, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe1d3);
        EXPECT(gbc.pc(), 0x9a52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a51), 0x49);
        // 49 0284
        gbc.setState(0x103c, 0x8567, 0x6310, 0x3d9a, 0x5a00, 0x872e, 0x1, 0x0);
        gbc.writeMem(0x103c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x8567);
        EXPECT(gbc.pc(), 0x103d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0285
        gbc.setState(0xa14c, 0x675, 0x8410, 0xf6b9, 0x722c, 0x5846, 0x1, 0x0);
        gbc.writeMem(0xa14c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x675);
        EXPECT(gbc.pc(), 0xa14d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa14c), 0x49);
        // 49 0286
        gbc.setState(0x4709, 0xe777, 0x2140, 0x6200, 0xd490, 0x1d7c, 0x1, 0x1);
        gbc.writeMem(0x4709, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe777);
        EXPECT(gbc.pc(), 0x470a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0287
        gbc.setState(0x955b, 0x3840, 0x94d0, 0xb3e6, 0x8d4d, 0x5ec4, 0x1, 0x0);
        gbc.writeMem(0x955b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x3840);
        EXPECT(gbc.pc(), 0x955c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x955b), 0x49);
        // 49 0288
        gbc.setState(0x2995, 0x3c38, 0xc60, 0x30e9, 0x9fcf, 0xdd83, 0x1, 0x1);
        gbc.writeMem(0x2995, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x3c38);
        EXPECT(gbc.pc(), 0x2996);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0289
        gbc.setState(0xc46e, 0x866a, 0x76e0, 0xa26e, 0xa1a0, 0xe109, 0x0, 0x1);
        gbc.writeMem(0xc46e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x866a);
        EXPECT(gbc.pc(), 0xc46f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc46e), 0x49);
        // 49 028A
        gbc.setState(0x8b4, 0x7765, 0xc420, 0xc945, 0x3afc, 0x48b2, 0x1, 0x1);
        gbc.writeMem(0x8b4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7765);
        EXPECT(gbc.pc(), 0x8b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 028B
        gbc.setState(0x11b7, 0xea1e, 0xf130, 0x29b1, 0x5a20, 0xae15, 0x1, 0x0);
        gbc.writeMem(0x11b7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xea1e);
        EXPECT(gbc.pc(), 0x11b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 028C
        gbc.setState(0x628, 0xab41, 0xf0e0, 0x747e, 0x3a82, 0x153c, 0x1, 0x0);
        gbc.writeMem(0x628, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xab41);
        EXPECT(gbc.pc(), 0x629);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 028D
        gbc.setState(0x1fef, 0xe61, 0xc700, 0x7356, 0x1d99, 0x11a5, 0x0, 0x1);
        gbc.writeMem(0x1fef, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe61);
        EXPECT(gbc.pc(), 0x1ff0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 028E
        gbc.setState(0xfab, 0x9539, 0x51e0, 0x6986, 0x9822, 0x105b, 0x1, 0x0);
        gbc.writeMem(0xfab, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9539);
        EXPECT(gbc.pc(), 0xfac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 028F
        gbc.setState(0x6a00, 0x1e34, 0x43f0, 0x70c4, 0xbc76, 0xfeec, 0x0, 0x0);
        gbc.writeMem(0x6a00, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x1e34);
        EXPECT(gbc.pc(), 0x6a01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0290
        gbc.setState(0xf6, 0xacf2, 0x2900, 0xc73b, 0x6dde, 0xe884, 0x1, 0x1);
        gbc.writeMem(0xf6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xacf2);
        EXPECT(gbc.pc(), 0xf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0291
        gbc.setState(0x94a1, 0x50c3, 0x86d0, 0x1165, 0xda38, 0x69ee, 0x0, 0x0);
        gbc.writeMem(0x94a1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x50c3);
        EXPECT(gbc.pc(), 0x94a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94a1), 0x49);
        // 49 0292
        gbc.setState(0x98c, 0xb387, 0xa320, 0x52a4, 0xbd74, 0x191a, 0x0, 0x0);
        gbc.writeMem(0x98c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xb387);
        EXPECT(gbc.pc(), 0x98d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0293
        gbc.setState(0xc577, 0xa62a, 0x2f0, 0x7ea4, 0xbddb, 0x78fa, 0x0, 0x1);
        gbc.writeMem(0xc577, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa62a);
        EXPECT(gbc.pc(), 0xc578);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc577), 0x49);
        // 49 0294
        gbc.setState(0xde49, 0xa9fa, 0xc90, 0x9a74, 0x3a9d, 0x338e, 0x0, 0x0);
        gbc.writeMem(0xde49, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa9fa);
        EXPECT(gbc.pc(), 0xde4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde49), 0x49);
        // 49 0295
        gbc.setState(0xc92, 0x90d8, 0xe0f0, 0xee77, 0x7d02, 0xf1dd, 0x1, 0x0);
        gbc.writeMem(0xc92, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x90d8);
        EXPECT(gbc.pc(), 0xc93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0296
        gbc.setState(0xeddb, 0x5564, 0xe1a0, 0xdb74, 0x690a, 0x3dff, 0x1, 0x0);
        gbc.writeMem(0xeddb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x5564);
        EXPECT(gbc.pc(), 0xeddc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeddb), 0x49);
        // 49 0297
        gbc.setState(0xeb67, 0x8b72, 0x7010, 0x92ce, 0x5f85, 0x20d, 0x0, 0x0);
        gbc.writeMem(0xeb67, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8b72);
        EXPECT(gbc.pc(), 0xeb68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb67), 0x49);
        // 49 0298
        gbc.setState(0x9efa, 0xe722, 0x7210, 0x5b56, 0x43d, 0x58b1, 0x0, 0x0);
        gbc.writeMem(0x9efa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe722);
        EXPECT(gbc.pc(), 0x9efb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9efa), 0x49);
        // 49 029A
        gbc.setState(0x7d3c, 0xf031, 0x2f10, 0xa220, 0xe57f, 0x1854, 0x1, 0x1);
        gbc.writeMem(0x7d3c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xf031);
        EXPECT(gbc.pc(), 0x7d3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 029B
        gbc.setState(0xac09, 0xcca1, 0x83e0, 0x6812, 0x8487, 0x8dac, 0x0, 0x1);
        gbc.writeMem(0xac09, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xcca1);
        EXPECT(gbc.pc(), 0xac0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac09), 0x49);
        // 49 029D
        gbc.setState(0x531d, 0xf9da, 0x5600, 0xbd42, 0xa152, 0x9b17, 0x0, 0x0);
        gbc.writeMem(0x531d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf9da);
        EXPECT(gbc.pc(), 0x531e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 029E
        gbc.setState(0x7141, 0xbd65, 0xa470, 0xdfbc, 0x255e, 0xcc34, 0x0, 0x0);
        gbc.writeMem(0x7141, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbd65);
        EXPECT(gbc.pc(), 0x7142);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 029F
        gbc.setState(0xcde1, 0xa665, 0x60c0, 0x4ff7, 0xc401, 0xb2e9, 0x0, 0x0);
        gbc.writeMem(0xcde1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xa665);
        EXPECT(gbc.pc(), 0xcde2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcde1), 0x49);
        // 49 02A0
        gbc.setState(0xce86, 0x6aff, 0x3f0, 0x54df, 0xf7e3, 0xfae2, 0x1, 0x0);
        gbc.writeMem(0xce86, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x6aff);
        EXPECT(gbc.pc(), 0xce87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce86), 0x49);
        // 49 02A1
        gbc.setState(0xd164, 0xd014, 0xb7e0, 0xb940, 0x5afc, 0xe7c9, 0x1, 0x1);
        gbc.writeMem(0xd164, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xd014);
        EXPECT(gbc.pc(), 0xd165);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd164), 0x49);
        // 49 02A2
        gbc.setState(0xb614, 0x75d3, 0xa430, 0x41b6, 0x5778, 0xf307, 0x0, 0x1);
        gbc.writeMem(0xb614, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x75d3);
        EXPECT(gbc.pc(), 0xb615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb614), 0x49);
        // 49 02A3
        gbc.setState(0x9998, 0xd92d, 0x5a70, 0xdb12, 0xb2b2, 0xd7f5, 0x1, 0x0);
        gbc.writeMem(0x9998, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xd92d);
        EXPECT(gbc.pc(), 0x9999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9998), 0x49);
        // 49 02A4
        gbc.setState(0x1348, 0x18d, 0xd700, 0x43ee, 0xbd86, 0x422f, 0x0, 0x1);
        gbc.writeMem(0x1348, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x18d);
        EXPECT(gbc.pc(), 0x1349);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 02A5
        gbc.setState(0x6752, 0xe454, 0xdab0, 0xe145, 0x34bd, 0x411a, 0x0, 0x0);
        gbc.writeMem(0x6752, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xe454);
        EXPECT(gbc.pc(), 0x6753);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02A6
        gbc.setState(0x943c, 0xb88, 0x2cd0, 0xa53, 0x208f, 0xaae3, 0x1, 0x0);
        gbc.writeMem(0x943c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb88);
        EXPECT(gbc.pc(), 0x943d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x943c), 0x49);
        // 49 02A8
        gbc.setState(0xc4c2, 0xd183, 0x8c60, 0xd517, 0x83e3, 0x3209, 0x0, 0x0);
        gbc.writeMem(0xc4c2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xd183);
        EXPECT(gbc.pc(), 0xc4c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4c2), 0x49);
        // 49 02A9
        gbc.setState(0xd61, 0x7b13, 0x660, 0x806a, 0x4225, 0xa3cd, 0x0, 0x0);
        gbc.writeMem(0xd61, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x7b13);
        EXPECT(gbc.pc(), 0xd62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02AA
        gbc.setState(0x93bb, 0x9ff0, 0x6d30, 0x2044, 0x31e2, 0x91b3, 0x1, 0x0);
        gbc.writeMem(0x93bb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9ff0);
        EXPECT(gbc.pc(), 0x93bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93bb), 0x49);
        // 49 02AC
        gbc.setState(0x68c8, 0xbf46, 0xe350, 0xf43d, 0x5c5c, 0x5732, 0x0, 0x0);
        gbc.writeMem(0x68c8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xbf46);
        EXPECT(gbc.pc(), 0x68c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02AD
        gbc.setState(0xd894, 0x1d18, 0x6850, 0x8cb3, 0x372a, 0x9ea, 0x0, 0x1);
        gbc.writeMem(0xd894, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x1d18);
        EXPECT(gbc.pc(), 0xd895);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd894), 0x49);
        // 49 02AE
        gbc.setState(0x96ed, 0x29ec, 0xdd80, 0xd128, 0x9be6, 0x767a, 0x1, 0x0);
        gbc.writeMem(0x96ed, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x29ec);
        EXPECT(gbc.pc(), 0x96ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ed), 0x49);
        // 49 02AF
        gbc.setState(0xe76b, 0xd33b, 0xfc30, 0xddac, 0xfa56, 0x4458, 0x1, 0x0);
        gbc.writeMem(0xe76b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xd33b);
        EXPECT(gbc.pc(), 0xe76c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe76b), 0x49);
        // 49 02B0
        gbc.setState(0x6218, 0x2107, 0x20a0, 0xe9d5, 0x5560, 0x76e4, 0x1, 0x1);
        gbc.writeMem(0x6218, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x2107);
        EXPECT(gbc.pc(), 0x6219);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02B1
        gbc.setState(0xb79b, 0xcd31, 0xce10, 0xdda6, 0x52df, 0xf4b2, 0x1, 0x1);
        gbc.writeMem(0xb79b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xcd31);
        EXPECT(gbc.pc(), 0xb79c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb79b), 0x49);
        // 49 02B2
        gbc.setState(0x1c48, 0xa19a, 0xdce0, 0xa63e, 0x2938, 0xcd7, 0x0, 0x1);
        gbc.writeMem(0x1c48, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa19a);
        EXPECT(gbc.pc(), 0x1c49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02B3
        gbc.setState(0x17a2, 0x84f1, 0x78e0, 0x8f9c, 0x3c1c, 0x5bef, 0x1, 0x1);
        gbc.writeMem(0x17a2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x84f1);
        EXPECT(gbc.pc(), 0x17a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02B4
        gbc.setState(0xa776, 0xc31, 0x390, 0x162e, 0x54ee, 0xc11a, 0x1, 0x0);
        gbc.writeMem(0xa776, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xc31);
        EXPECT(gbc.pc(), 0xa777);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa776), 0x49);
        // 49 02B5
        gbc.setState(0x32fc, 0xe239, 0xf5f0, 0xf5df, 0x6eb1, 0x538d, 0x0, 0x1);
        gbc.writeMem(0x32fc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe239);
        EXPECT(gbc.pc(), 0x32fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02B6
        gbc.setState(0xa42a, 0x14a, 0x1d50, 0x60a, 0x6881, 0x6cb0, 0x1, 0x1);
        gbc.writeMem(0xa42a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x14a);
        EXPECT(gbc.pc(), 0xa42b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa42a), 0x49);
        // 49 02B7
        gbc.setState(0x8e70, 0x3385, 0xe850, 0x5c7c, 0xca31, 0x2bd4, 0x0, 0x0);
        gbc.writeMem(0x8e70, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3385);
        EXPECT(gbc.pc(), 0x8e71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e70), 0x49);
        // 49 02B8
        gbc.setState(0x9789, 0xd33c, 0xacc0, 0x346f, 0xe33e, 0xa9c2, 0x0, 0x0);
        gbc.writeMem(0x9789, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd33c);
        EXPECT(gbc.pc(), 0x978a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9789), 0x49);
        // 49 02B9
        gbc.setState(0x9bf8, 0xe530, 0xcdb0, 0xa1e3, 0x6c72, 0xa86e, 0x0, 0x0);
        gbc.writeMem(0x9bf8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xe530);
        EXPECT(gbc.pc(), 0x9bf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bf8), 0x49);
        // 49 02BA
        gbc.setState(0x7750, 0x820c, 0xd660, 0xa05b, 0x9325, 0xaae9, 0x0, 0x0);
        gbc.writeMem(0x7750, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x820c);
        EXPECT(gbc.pc(), 0x7751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02BB
        gbc.setState(0xe75f, 0x76e8, 0xc970, 0x12ed, 0x4e8d, 0x1fd8, 0x0, 0x1);
        gbc.writeMem(0xe75f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x76e8);
        EXPECT(gbc.pc(), 0xe760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe75f), 0x49);
        // 49 02BC
        gbc.setState(0xec8a, 0xd405, 0x2990, 0xc94a, 0xa56a, 0xfd97, 0x0, 0x0);
        gbc.writeMem(0xec8a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd405);
        EXPECT(gbc.pc(), 0xec8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec8a), 0x49);
        // 49 02BD
        gbc.setState(0x2f9d, 0x320d, 0x1a70, 0x447, 0xddb6, 0x133, 0x1, 0x0);
        gbc.writeMem(0x2f9d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x320d);
        EXPECT(gbc.pc(), 0x2f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02BE
        gbc.setState(0xb12, 0x14e7, 0x6e80, 0x3a72, 0x7e22, 0x5fe1, 0x0, 0x1);
        gbc.writeMem(0xb12, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x14e7);
        EXPECT(gbc.pc(), 0xb13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 02BF
        gbc.setState(0xd156, 0x287c, 0x8780, 0x7df4, 0x55b5, 0xb7e6, 0x0, 0x0);
        gbc.writeMem(0xd156, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x287c);
        EXPECT(gbc.pc(), 0xd157);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd156), 0x49);
        // 49 02C0
        gbc.setState(0x6f90, 0x456c, 0x190, 0x821a, 0x4f9d, 0x287e, 0x1, 0x0);
        gbc.writeMem(0x6f90, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x456c);
        EXPECT(gbc.pc(), 0x6f91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02C1
        gbc.setState(0x4138, 0x2c68, 0xccf0, 0x152c, 0x7e01, 0xdd2c, 0x1, 0x0);
        gbc.writeMem(0x4138, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2c68);
        EXPECT(gbc.pc(), 0x4139);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02C2
        gbc.setState(0x4a0d, 0x5fa6, 0x5250, 0x8659, 0xfd8, 0x43bc, 0x1, 0x0);
        gbc.writeMem(0x4a0d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5fa6);
        EXPECT(gbc.pc(), 0x4a0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02C3
        gbc.setState(0xba7, 0x12c6, 0x9280, 0x9292, 0x47b5, 0x87e0, 0x1, 0x1);
        gbc.writeMem(0xba7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x12c6);
        EXPECT(gbc.pc(), 0xba8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 02C4
        gbc.setState(0x7152, 0x6098, 0x9200, 0xaa55, 0x1a37, 0x62b7, 0x1, 0x0);
        gbc.writeMem(0x7152, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6098);
        EXPECT(gbc.pc(), 0x7153);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 02C6
        gbc.setState(0x8c65, 0x6323, 0x4a60, 0x9a89, 0x7ad9, 0xc4c2, 0x1, 0x1);
        gbc.writeMem(0x8c65, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6323);
        EXPECT(gbc.pc(), 0x8c66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c65), 0x49);
        // 49 02C7
        gbc.setState(0xca62, 0x4ac0, 0x83e0, 0x8e78, 0x8daa, 0xfd7, 0x1, 0x0);
        gbc.writeMem(0xca62, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x4ac0);
        EXPECT(gbc.pc(), 0xca63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca62), 0x49);
        // 49 02C8
        gbc.setState(0x16f0, 0x704d, 0x4c20, 0x8a14, 0xdf94, 0xd9d7, 0x0, 0x0);
        gbc.writeMem(0x16f0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x704d);
        EXPECT(gbc.pc(), 0x16f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02C9
        gbc.setState(0x310a, 0x8237, 0x2710, 0xa628, 0x84c1, 0xdd17, 0x1, 0x1);
        gbc.writeMem(0x310a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8237);
        EXPECT(gbc.pc(), 0x310b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02CC
        gbc.setState(0x3e0c, 0x3d3a, 0xb550, 0xf384, 0xa23a, 0x6973, 0x0, 0x0);
        gbc.writeMem(0x3e0c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x3d3a);
        EXPECT(gbc.pc(), 0x3e0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02CD
        gbc.setState(0xca88, 0xbab3, 0x23c0, 0x448b, 0x50f3, 0x3399, 0x1, 0x1);
        gbc.writeMem(0xca88, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xbab3);
        EXPECT(gbc.pc(), 0xca89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca88), 0x49);
        // 49 02CE
        gbc.setState(0x25f5, 0xda87, 0xf730, 0xe270, 0xa825, 0x8a4e, 0x1, 0x1);
        gbc.writeMem(0x25f5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xda87);
        EXPECT(gbc.pc(), 0x25f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02CF
        gbc.setState(0x13a6, 0xe13d, 0x92c0, 0x4d74, 0xe97b, 0x9c8a, 0x1, 0x0);
        gbc.writeMem(0x13a6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xe13d);
        EXPECT(gbc.pc(), 0x13a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 02D0
        gbc.setState(0x23a4, 0xa54d, 0xed70, 0x1f9, 0x6fe2, 0x2896, 0x1, 0x0);
        gbc.writeMem(0x23a4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xa54d);
        EXPECT(gbc.pc(), 0x23a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02D1
        gbc.setState(0x646f, 0x551a, 0x4fd0, 0xf274, 0xc74b, 0xace1, 0x0, 0x0);
        gbc.writeMem(0x646f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x551a);
        EXPECT(gbc.pc(), 0x6470);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02D2
        gbc.setState(0x9066, 0x4bc7, 0x4f60, 0x2ec7, 0x9c10, 0xe575, 0x1, 0x1);
        gbc.writeMem(0x9066, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x4bc7);
        EXPECT(gbc.pc(), 0x9067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9066), 0x49);
        // 49 02D3
        gbc.setState(0x77c1, 0xcc4e, 0xaa90, 0x5da9, 0x596e, 0x4c3b, 0x1, 0x1);
        gbc.writeMem(0x77c1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xcc4e);
        EXPECT(gbc.pc(), 0x77c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02D4
        gbc.setState(0x275b, 0x1ac5, 0xa40, 0x4b7f, 0x7bb0, 0x3d5a, 0x0, 0x1);
        gbc.writeMem(0x275b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1ac5);
        EXPECT(gbc.pc(), 0x275c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 02D6
        gbc.setState(0xdd46, 0xc94f, 0x32d0, 0xb2f2, 0xdac, 0x23b0, 0x0, 0x0);
        gbc.writeMem(0xdd46, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xc94f);
        EXPECT(gbc.pc(), 0xdd47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd46), 0x49);
        // 49 02D7
        gbc.setState(0x2628, 0x5338, 0x8120, 0xb4d6, 0xc40c, 0xf21c, 0x1, 0x1);
        gbc.writeMem(0x2628, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5338);
        EXPECT(gbc.pc(), 0x2629);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02D8
        gbc.setState(0x6e1c, 0x88a6, 0x7910, 0x62ed, 0xd022, 0xcda1, 0x0, 0x0);
        gbc.writeMem(0x6e1c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x88a6);
        EXPECT(gbc.pc(), 0x6e1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02D9
        gbc.setState(0x5142, 0x2c9, 0x3ff0, 0xbc81, 0xf5d5, 0x9a7f, 0x1, 0x0);
        gbc.writeMem(0x5142, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2c9);
        EXPECT(gbc.pc(), 0x5143);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02DA
        gbc.setState(0xa925, 0x1f04, 0x3090, 0x1fec, 0xfc34, 0xdc21, 0x0, 0x1);
        gbc.writeMem(0xa925, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1f04);
        EXPECT(gbc.pc(), 0xa926);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa925), 0x49);
        // 49 02DB
        gbc.setState(0x2ea1, 0x3574, 0xe750, 0x6459, 0x89d1, 0xa820, 0x0, 0x0);
        gbc.writeMem(0x2ea1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x3574);
        EXPECT(gbc.pc(), 0x2ea2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02DC
        gbc.setState(0x931e, 0x4faa, 0x6f70, 0x9099, 0x7fc7, 0x82d4, 0x0, 0x1);
        gbc.writeMem(0x931e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4faa);
        EXPECT(gbc.pc(), 0x931f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x931e), 0x49);
        // 49 02DD
        gbc.setState(0x5cc5, 0xbb11, 0xb510, 0x5a8, 0x720e, 0xcc0d, 0x1, 0x1);
        gbc.writeMem(0x5cc5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xbb11);
        EXPECT(gbc.pc(), 0x5cc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02DE
        gbc.setState(0x2148, 0xce71, 0x1f60, 0x1c0, 0xa19b, 0x31ff, 0x0, 0x0);
        gbc.writeMem(0x2148, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xce71);
        EXPECT(gbc.pc(), 0x2149);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02DF
        gbc.setState(0xdd1a, 0x4a02, 0xb2c0, 0xf0a1, 0xa8bf, 0xc99b, 0x1, 0x1);
        gbc.writeMem(0xdd1a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4a02);
        EXPECT(gbc.pc(), 0xdd1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd1a), 0x49);
        // 49 02E0
        gbc.setState(0x5d12, 0x61fe, 0xc490, 0x7e06, 0x247c, 0x5e87, 0x1, 0x1);
        gbc.writeMem(0x5d12, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x61fe);
        EXPECT(gbc.pc(), 0x5d13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02E1
        gbc.setState(0xba8f, 0xd778, 0x4550, 0x15bd, 0x36e4, 0x4efb, 0x0, 0x0);
        gbc.writeMem(0xba8f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xd778);
        EXPECT(gbc.pc(), 0xba90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba8f), 0x49);
        // 49 02E2
        gbc.setState(0xbee1, 0xa8c8, 0x7720, 0xc0ea, 0x9343, 0x1bba, 0x0, 0x1);
        gbc.writeMem(0xbee1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa8c8);
        EXPECT(gbc.pc(), 0xbee2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbee1), 0x49);
        // 49 02E3
        gbc.setState(0xa776, 0x7110, 0x2da0, 0x8622, 0xe377, 0x71e2, 0x0, 0x1);
        gbc.writeMem(0xa776, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7110);
        EXPECT(gbc.pc(), 0xa777);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa776), 0x49);
        // 49 02E4
        gbc.setState(0x7e2f, 0x41d9, 0xc20, 0x5430, 0x9fb5, 0x8857, 0x1, 0x1);
        gbc.writeMem(0x7e2f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x41d9);
        EXPECT(gbc.pc(), 0x7e30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02E5
        gbc.setState(0x28b0, 0x241c, 0x71c0, 0xe2e, 0xd4c4, 0x9b13, 0x0, 0x0);
        gbc.writeMem(0x28b0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x241c);
        EXPECT(gbc.pc(), 0x28b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 02E6
        gbc.setState(0xc372, 0x32f1, 0x5520, 0x3e79, 0xde6f, 0x8da9, 0x0, 0x0);
        gbc.writeMem(0xc372, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x32f1);
        EXPECT(gbc.pc(), 0xc373);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc372), 0x49);
        // 49 02E7
        gbc.setState(0xb68e, 0x2105, 0xee10, 0x4cec, 0xb08c, 0x60c6, 0x0, 0x1);
        gbc.writeMem(0xb68e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2105);
        EXPECT(gbc.pc(), 0xb68f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb68e), 0x49);
        // 49 02E8
        gbc.setState(0x2c6a, 0x5964, 0xcbb0, 0x7d65, 0x170c, 0x15f8, 0x0, 0x1);
        gbc.writeMem(0x2c6a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x5964);
        EXPECT(gbc.pc(), 0x2c6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02E9
        gbc.setState(0xadc5, 0x9ed5, 0x8420, 0x5fe4, 0x2261, 0x2064, 0x1, 0x1);
        gbc.writeMem(0xadc5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x9ed5);
        EXPECT(gbc.pc(), 0xadc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadc5), 0x49);
        // 49 02EA
        gbc.setState(0x1150, 0x63b7, 0x9190, 0xe293, 0x7a22, 0x622a, 0x0, 0x1);
        gbc.writeMem(0x1150, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x63b7);
        EXPECT(gbc.pc(), 0x1151);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02EB
        gbc.setState(0x70ce, 0x7d9f, 0xcae0, 0xc1ff, 0x72d6, 0xbd2f, 0x0, 0x1);
        gbc.writeMem(0x70ce, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7d9f);
        EXPECT(gbc.pc(), 0x70cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02EC
        gbc.setState(0x5671, 0x340a, 0xa790, 0x44eb, 0xf427, 0xf8d0, 0x1, 0x1);
        gbc.writeMem(0x5671, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x340a);
        EXPECT(gbc.pc(), 0x5672);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 02EE
        gbc.setState(0x8cb8, 0x3761, 0xaf70, 0x67f6, 0xd65e, 0x178, 0x0, 0x1);
        gbc.writeMem(0x8cb8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x3761);
        EXPECT(gbc.pc(), 0x8cb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cb8), 0x49);
        // 49 02EF
        gbc.setState(0x8f9c, 0x7598, 0x7140, 0x8038, 0x986f, 0xb001, 0x1, 0x0);
        gbc.writeMem(0x8f9c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7598);
        EXPECT(gbc.pc(), 0x8f9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f9c), 0x49);
        // 49 02F0
        gbc.setState(0x838d, 0x3565, 0xb510, 0x6c18, 0xa335, 0xc1de, 0x1, 0x0);
        gbc.writeMem(0x838d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3565);
        EXPECT(gbc.pc(), 0x838e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x838d), 0x49);
        // 49 02F1
        gbc.setState(0x1a82, 0x85, 0x24b0, 0xa295, 0xaf5b, 0x44aa, 0x1, 0x1);
        gbc.writeMem(0x1a82, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x85);
        EXPECT(gbc.pc(), 0x1a83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02F2
        gbc.setState(0x92d1, 0xb518, 0x7de0, 0xa7b5, 0x7fed, 0x7aa1, 0x0, 0x1);
        gbc.writeMem(0x92d1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xb518);
        EXPECT(gbc.pc(), 0x92d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92d1), 0x49);
        // 49 02F3
        gbc.setState(0xe46a, 0x4449, 0x4800, 0x5400, 0x54ca, 0x59e2, 0x1, 0x0);
        gbc.writeMem(0xe46a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x4449);
        EXPECT(gbc.pc(), 0xe46b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe46a), 0x49);
        // 49 02F4
        gbc.setState(0x86c9, 0x636, 0xb510, 0x36b6, 0x74c4, 0x29aa, 0x0, 0x1);
        gbc.writeMem(0x86c9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x636);
        EXPECT(gbc.pc(), 0x86ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86c9), 0x49);
        // 49 02F5
        gbc.setState(0xe795, 0xeb8, 0x89f0, 0xd512, 0xf901, 0x5615, 0x1, 0x1);
        gbc.writeMem(0xe795, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xeb8);
        EXPECT(gbc.pc(), 0xe796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe795), 0x49);
        // 49 02F6
        gbc.setState(0xacc2, 0x5894, 0x27e0, 0xe68b, 0xd9f4, 0x6b3c, 0x0, 0x0);
        gbc.writeMem(0xacc2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5894);
        EXPECT(gbc.pc(), 0xacc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacc2), 0x49);
        // 49 02F7
        gbc.setState(0x4ed0, 0xedaa, 0x180, 0x4033, 0xf9df, 0xfe71, 0x0, 0x0);
        gbc.writeMem(0x4ed0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xedaa);
        EXPECT(gbc.pc(), 0x4ed1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 02F8
        gbc.setState(0x5aa5, 0x23d6, 0x7ba0, 0x7fdf, 0x9094, 0xbca3, 0x1, 0x1);
        gbc.writeMem(0x5aa5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x23d6);
        EXPECT(gbc.pc(), 0x5aa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 02F9
        gbc.setState(0x8290, 0xb457, 0x7f20, 0xfbfb, 0x29e0, 0x27a6, 0x0, 0x0);
        gbc.writeMem(0x8290, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb457);
        EXPECT(gbc.pc(), 0x8291);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8290), 0x49);
        // 49 02FA
        gbc.setState(0xe0b8, 0xaa06, 0x5960, 0x7f03, 0xfe43, 0x4e3, 0x1, 0x0);
        gbc.writeMem(0xe0b8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xaa06);
        EXPECT(gbc.pc(), 0xe0b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0b8), 0x49);
        // 49 02FC
        gbc.setState(0x8497, 0x64d4, 0xab80, 0x4979, 0x1dd9, 0xcb76, 0x1, 0x1);
        gbc.writeMem(0x8497, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x64d4);
        EXPECT(gbc.pc(), 0x8498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8497), 0x49);
        // 49 02FE
        gbc.setState(0x5517, 0x6b11, 0x49b0, 0xc78b, 0xc0e0, 0xdcc9, 0x0, 0x0);
        gbc.writeMem(0x5517, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x6b11);
        EXPECT(gbc.pc(), 0x5518);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 02FF
        gbc.setState(0xbf05, 0xe32f, 0x71f0, 0x33, 0xf7a6, 0x33db, 0x1, 0x1);
        gbc.writeMem(0xbf05, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xe32f);
        EXPECT(gbc.pc(), 0xbf06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf05), 0x49);
        // 49 0300
        gbc.setState(0x13ff, 0x5ca0, 0xc950, 0x7453, 0x5e8d, 0x29e1, 0x0, 0x1);
        gbc.writeMem(0x13ff, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x5ca0);
        EXPECT(gbc.pc(), 0x1400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0301
        gbc.setState(0x90b7, 0x272, 0x83f0, 0xece7, 0xe4ab, 0x7b4d, 0x0, 0x0);
        gbc.writeMem(0x90b7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x272);
        EXPECT(gbc.pc(), 0x90b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90b7), 0x49);
        // 49 0302
        gbc.setState(0x3d76, 0xa965, 0xffd0, 0xc043, 0x38fc, 0x4e77, 0x0, 0x0);
        gbc.writeMem(0x3d76, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa965);
        EXPECT(gbc.pc(), 0x3d77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0303
        gbc.setState(0x4607, 0xf113, 0x3780, 0xf91d, 0xd7d4, 0xd14d, 0x1, 0x1);
        gbc.writeMem(0x4607, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xf113);
        EXPECT(gbc.pc(), 0x4608);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0304
        gbc.setState(0xdc08, 0x3b9b, 0xeaa0, 0x50c0, 0xd04c, 0x25bf, 0x0, 0x1);
        gbc.writeMem(0xdc08, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x3b9b);
        EXPECT(gbc.pc(), 0xdc09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc08), 0x49);
        // 49 0305
        gbc.setState(0xe455, 0x548b, 0x3b40, 0x55d7, 0xd9f5, 0x55f4, 0x1, 0x0);
        gbc.writeMem(0xe455, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x548b);
        EXPECT(gbc.pc(), 0xe456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe455), 0x49);
        // 49 0306
        gbc.setState(0xc364, 0x93e0, 0x1780, 0x5b43, 0xaa9d, 0x92ee, 0x1, 0x1);
        gbc.writeMem(0xc364, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x93e0);
        EXPECT(gbc.pc(), 0xc365);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc364), 0x49);
        // 49 0307
        gbc.setState(0xac4a, 0x61c9, 0x8390, 0x84a7, 0xb026, 0x2c95, 0x1, 0x1);
        gbc.writeMem(0xac4a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x61c9);
        EXPECT(gbc.pc(), 0xac4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac4a), 0x49);
        // 49 0308
        gbc.setState(0x820b, 0x5ee0, 0x8610, 0x39a1, 0x8112, 0x54a, 0x1, 0x0);
        gbc.writeMem(0x820b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x5ee0);
        EXPECT(gbc.pc(), 0x820c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x820b), 0x49);
        // 49 0309
        gbc.setState(0xedc0, 0xd899, 0xfcf0, 0x48b0, 0x1636, 0x7e46, 0x0, 0x1);
        gbc.writeMem(0xedc0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xd899);
        EXPECT(gbc.pc(), 0xedc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedc0), 0x49);
        // 49 030A
        gbc.setState(0x1634, 0x990a, 0x52a0, 0xa521, 0x2d99, 0x721, 0x0, 0x1);
        gbc.writeMem(0x1634, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x990a);
        EXPECT(gbc.pc(), 0x1635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 030B
        gbc.setState(0x9fb1, 0xba67, 0x49d0, 0xcd62, 0x425, 0x6587, 0x1, 0x0);
        gbc.writeMem(0x9fb1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xba67);
        EXPECT(gbc.pc(), 0x9fb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fb1), 0x49);
        // 49 030C
        gbc.setState(0x1586, 0x770b, 0x6230, 0x46, 0x64ee, 0x3af9, 0x0, 0x0);
        gbc.writeMem(0x1586, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x770b);
        EXPECT(gbc.pc(), 0x1587);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 030D
        gbc.setState(0x83e6, 0x319c, 0x9100, 0x7e06, 0x56e4, 0x3c14, 0x0, 0x0);
        gbc.writeMem(0x83e6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x319c);
        EXPECT(gbc.pc(), 0x83e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83e6), 0x49);
        // 49 030E
        gbc.setState(0x4feb, 0xbada, 0xc930, 0x46f4, 0x12aa, 0xf36, 0x1, 0x0);
        gbc.writeMem(0x4feb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xbada);
        EXPECT(gbc.pc(), 0x4fec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 030F
        gbc.setState(0xd0bd, 0xbdc5, 0xbcf0, 0xa69c, 0x7ec6, 0x8781, 0x1, 0x0);
        gbc.writeMem(0xd0bd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xbdc5);
        EXPECT(gbc.pc(), 0xd0be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0bd), 0x49);
        // 49 0311
        gbc.setState(0x6f89, 0x32e5, 0x9e20, 0x74d8, 0x1813, 0xf524, 0x0, 0x1);
        gbc.writeMem(0x6f89, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x32e5);
        EXPECT(gbc.pc(), 0x6f8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0312
        gbc.setState(0xe6fe, 0x94cd, 0xa6a0, 0x152b, 0x2e9c, 0x14e5, 0x0, 0x0);
        gbc.writeMem(0xe6fe, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x94cd);
        EXPECT(gbc.pc(), 0xe6ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6fe), 0x49);
        // 49 0313
        gbc.setState(0x26f6, 0x9763, 0x6450, 0x1e08, 0x4c68, 0xfd21, 0x0, 0x0);
        gbc.writeMem(0x26f6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x9763);
        EXPECT(gbc.pc(), 0x26f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0314
        gbc.setState(0x4ffa, 0x3b69, 0x8440, 0xc836, 0x915c, 0x9ed3, 0x1, 0x1);
        gbc.writeMem(0x4ffa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x3b69);
        EXPECT(gbc.pc(), 0x4ffb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0315
        gbc.setState(0x562a, 0x57f1, 0x32e0, 0xbed5, 0x4adf, 0xe9b6, 0x0, 0x0);
        gbc.writeMem(0x562a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x57f1);
        EXPECT(gbc.pc(), 0x562b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0316
        gbc.setState(0x9b84, 0x31c0, 0xe530, 0xf8c2, 0x5479, 0x6c87, 0x0, 0x0);
        gbc.writeMem(0x9b84, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x31c0);
        EXPECT(gbc.pc(), 0x9b85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b84), 0x49);
        // 49 0317
        gbc.setState(0x4636, 0x4f8b, 0x3070, 0x4b30, 0x89a5, 0x4673, 0x0, 0x1);
        gbc.writeMem(0x4636, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x4f8b);
        EXPECT(gbc.pc(), 0x4637);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0318
        gbc.setState(0x4086, 0x9fcd, 0xdb90, 0xe855, 0x41e6, 0x5cb7, 0x1, 0x0);
        gbc.writeMem(0x4086, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x9fcd);
        EXPECT(gbc.pc(), 0x4087);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0319
        gbc.setState(0xd0c3, 0xbbd3, 0xafb0, 0xdfe7, 0x4c9b, 0xf3fa, 0x1, 0x1);
        gbc.writeMem(0xd0c3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xbbd3);
        EXPECT(gbc.pc(), 0xd0c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0c3), 0x49);
        // 49 031A
        gbc.setState(0x40fc, 0xa685, 0xc980, 0xd3eb, 0xf11d, 0x8513, 0x1, 0x1);
        gbc.writeMem(0x40fc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa685);
        EXPECT(gbc.pc(), 0x40fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 031B
        gbc.setState(0x3534, 0x1aac, 0x95c0, 0x3c67, 0x9fbf, 0xa0b3, 0x1, 0x0);
        gbc.writeMem(0x3534, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x1aac);
        EXPECT(gbc.pc(), 0x3535);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 031C
        gbc.setState(0x3770, 0x2811, 0x60b0, 0x5aa1, 0xde2f, 0x1158, 0x0, 0x1);
        gbc.writeMem(0x3770, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x2811);
        EXPECT(gbc.pc(), 0x3771);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 031D
        gbc.setState(0xab52, 0x7a1a, 0x22e0, 0xec07, 0x2bef, 0xb363, 0x0, 0x0);
        gbc.writeMem(0xab52, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x7a1a);
        EXPECT(gbc.pc(), 0xab53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab52), 0x49);
        // 49 031E
        gbc.setState(0x6c6d, 0x77e4, 0xd0c0, 0xdca9, 0xe183, 0x8163, 0x0, 0x0);
        gbc.writeMem(0x6c6d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x77e4);
        EXPECT(gbc.pc(), 0x6c6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 031F
        gbc.setState(0x823d, 0xc17a, 0xa710, 0x8b2, 0xddc2, 0xb578, 0x0, 0x1);
        gbc.writeMem(0x823d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xc17a);
        EXPECT(gbc.pc(), 0x823e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x823d), 0x49);
        // 49 0320
        gbc.setState(0x1962, 0xe337, 0x60, 0x75eb, 0x709e, 0x9519, 0x0, 0x0);
        gbc.writeMem(0x1962, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xe337);
        EXPECT(gbc.pc(), 0x1963);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0321
        gbc.setState(0xbd4, 0xc340, 0xbbb0, 0xea0d, 0xf178, 0xe56d, 0x1, 0x0);
        gbc.writeMem(0xbd4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xc340);
        EXPECT(gbc.pc(), 0xbd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0322
        gbc.setState(0x2014, 0x4ee4, 0xb590, 0x1409, 0x3dfe, 0x83bd, 0x1, 0x0);
        gbc.writeMem(0x2014, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4ee4);
        EXPECT(gbc.pc(), 0x2015);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0323
        gbc.setState(0x51c0, 0x46eb, 0xfb60, 0x6ea3, 0xab22, 0x8577, 0x1, 0x1);
        gbc.writeMem(0x51c0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x46eb);
        EXPECT(gbc.pc(), 0x51c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0324
        gbc.setState(0x2b6, 0xcad3, 0x8b20, 0x26b3, 0x21f6, 0xd9b5, 0x0, 0x1);
        gbc.writeMem(0x2b6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xcad3);
        EXPECT(gbc.pc(), 0x2b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0325
        gbc.setState(0x175f, 0x526a, 0x6a90, 0x1a22, 0x33f, 0xf33a, 0x0, 0x1);
        gbc.writeMem(0x175f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x526a);
        EXPECT(gbc.pc(), 0x1760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0326
        gbc.setState(0x4c9a, 0x28bc, 0x36f0, 0x519c, 0x90ce, 0x68a1, 0x0, 0x0);
        gbc.writeMem(0x4c9a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x28bc);
        EXPECT(gbc.pc(), 0x4c9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0327
        gbc.setState(0x266a, 0xca81, 0x50f0, 0xfb42, 0x3e57, 0x5c72, 0x1, 0x1);
        gbc.writeMem(0x266a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xca81);
        EXPECT(gbc.pc(), 0x266b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0328
        gbc.setState(0xc79e, 0xc8f0, 0x1630, 0xdca9, 0x4172, 0xc69e, 0x0, 0x1);
        gbc.writeMem(0xc79e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc8f0);
        EXPECT(gbc.pc(), 0xc79f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc79e), 0x49);
        // 49 0329
        gbc.setState(0x8e7d, 0xc1a2, 0x4850, 0x6840, 0xedd2, 0x63e0, 0x1, 0x0);
        gbc.writeMem(0x8e7d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xc1a2);
        EXPECT(gbc.pc(), 0x8e7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e7d), 0x49);
        // 49 032A
        gbc.setState(0x42e4, 0x200c, 0x7450, 0xf82b, 0xa3f7, 0x1591, 0x1, 0x1);
        gbc.writeMem(0x42e4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x200c);
        EXPECT(gbc.pc(), 0x42e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 032B
        gbc.setState(0xbed0, 0xbf7f, 0x9220, 0xcae7, 0x8dd5, 0xe767, 0x1, 0x0);
        gbc.writeMem(0xbed0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xbf7f);
        EXPECT(gbc.pc(), 0xbed1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbed0), 0x49);
        // 49 032C
        gbc.setState(0x3e5, 0xba38, 0x8650, 0x1dac, 0xfba1, 0xa611, 0x0, 0x1);
        gbc.writeMem(0x3e5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xba38);
        EXPECT(gbc.pc(), 0x3e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 032D
        gbc.setState(0xb550, 0xb548, 0x8260, 0xada3, 0xe358, 0x9061, 0x0, 0x1);
        gbc.writeMem(0xb550, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xb548);
        EXPECT(gbc.pc(), 0xb551);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb550), 0x49);
        // 49 032E
        gbc.setState(0x919c, 0xf03b, 0xca30, 0x4c59, 0xf867, 0x4a23, 0x1, 0x1);
        gbc.writeMem(0x919c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xf03b);
        EXPECT(gbc.pc(), 0x919d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x919c), 0x49);
        // 49 032F
        gbc.setState(0x7c48, 0x6833, 0xf80, 0x8e6d, 0x239, 0xd6ae, 0x0, 0x1);
        gbc.writeMem(0x7c48, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x6833);
        EXPECT(gbc.pc(), 0x7c49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0330
        gbc.setState(0xe453, 0x249c, 0xc280, 0x8f12, 0xaa9c, 0x6c53, 0x1, 0x0);
        gbc.writeMem(0xe453, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x249c);
        EXPECT(gbc.pc(), 0xe454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe453), 0x49);
        // 49 0331
        gbc.setState(0x7f16, 0x1176, 0xb9d0, 0x4f0c, 0x5e11, 0xaee5, 0x0, 0x1);
        gbc.writeMem(0x7f16, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x1176);
        EXPECT(gbc.pc(), 0x7f17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0332
        gbc.setState(0x739, 0xd1bb, 0x5700, 0x4670, 0x1d19, 0x696e, 0x1, 0x0);
        gbc.writeMem(0x739, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xd1bb);
        EXPECT(gbc.pc(), 0x73a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0333
        gbc.setState(0x5cd, 0x750a, 0x70, 0xbe9a, 0x734f, 0xfb40, 0x0, 0x0);
        gbc.writeMem(0x5cd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x750a);
        EXPECT(gbc.pc(), 0x5ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0334
        gbc.setState(0x1887, 0x4796, 0x79d0, 0xc4cf, 0xe55a, 0x92ed, 0x0, 0x0);
        gbc.writeMem(0x1887, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4796);
        EXPECT(gbc.pc(), 0x1888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0335
        gbc.setState(0x6dc5, 0x8da7, 0x67a0, 0x8da4, 0x80e1, 0x3c6, 0x0, 0x1);
        gbc.writeMem(0x6dc5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8da7);
        EXPECT(gbc.pc(), 0x6dc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0336
        gbc.setState(0x9ba8, 0x67e, 0x2b90, 0x901, 0x7172, 0x79a, 0x1, 0x1);
        gbc.writeMem(0x9ba8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x67e);
        EXPECT(gbc.pc(), 0x9ba9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ba8), 0x49);
        // 49 0337
        gbc.setState(0xdc38, 0x1aba, 0x2320, 0xdeea, 0xe37, 0xc3fa, 0x0, 0x0);
        gbc.writeMem(0xdc38, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x1aba);
        EXPECT(gbc.pc(), 0xdc39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc38), 0x49);
        // 49 0338
        gbc.setState(0xdeed, 0x7f19, 0x9120, 0x6e8c, 0xa21b, 0xda96, 0x1, 0x0);
        gbc.writeMem(0xdeed, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x7f19);
        EXPECT(gbc.pc(), 0xdeee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeed), 0x49);
        // 49 0339
        gbc.setState(0x475f, 0xc3b7, 0xd860, 0x3a26, 0x786f, 0xd2b8, 0x1, 0x0);
        gbc.writeMem(0x475f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc3b7);
        EXPECT(gbc.pc(), 0x4760);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 033A
        gbc.setState(0xdd93, 0x82b4, 0xe30, 0x996e, 0x3aec, 0x7450, 0x1, 0x1);
        gbc.writeMem(0xdd93, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x82b4);
        EXPECT(gbc.pc(), 0xdd94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd93), 0x49);
        // 49 033C
        gbc.setState(0x9ab, 0x6d05, 0x7f60, 0x6986, 0xafed, 0xe7a9, 0x0, 0x0);
        gbc.writeMem(0x9ab, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6d05);
        EXPECT(gbc.pc(), 0x9ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 033D
        gbc.setState(0x1597, 0xcbb3, 0xeed0, 0x9ba3, 0x85cb, 0xadea, 0x0, 0x0);
        gbc.writeMem(0x1597, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xcbb3);
        EXPECT(gbc.pc(), 0x1598);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 033E
        gbc.setState(0x3595, 0xab9b, 0x23e0, 0xf823, 0xae39, 0x722b, 0x0, 0x1);
        gbc.writeMem(0x3595, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xab9b);
        EXPECT(gbc.pc(), 0x3596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 033F
        gbc.setState(0x8a51, 0xe77c, 0x26b0, 0xcad7, 0xfbd6, 0x9c25, 0x0, 0x1);
        gbc.writeMem(0x8a51, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xe77c);
        EXPECT(gbc.pc(), 0x8a52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a51), 0x49);
        // 49 0340
        gbc.setState(0xb8d5, 0x7e7f, 0x5540, 0xede5, 0xd3f9, 0xf75b, 0x0, 0x1);
        gbc.writeMem(0xb8d5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x7e7f);
        EXPECT(gbc.pc(), 0xb8d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8d5), 0x49);
        // 49 0341
        gbc.setState(0xd9e8, 0x6101, 0x4930, 0x79d, 0x5482, 0x663c, 0x1, 0x1);
        gbc.writeMem(0xd9e8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x6101);
        EXPECT(gbc.pc(), 0xd9e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9e8), 0x49);
        // 49 0342
        gbc.setState(0xd935, 0x61c2, 0x48f0, 0x7e0d, 0xde05, 0xe183, 0x1, 0x0);
        gbc.writeMem(0xd935, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x61c2);
        EXPECT(gbc.pc(), 0xd936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd935), 0x49);
        // 49 0343
        gbc.setState(0x7a4d, 0x116d, 0xc7c0, 0x2ae0, 0x8af, 0xb738, 0x0, 0x1);
        gbc.writeMem(0x7a4d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x116d);
        EXPECT(gbc.pc(), 0x7a4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0344
        gbc.setState(0x1457, 0x373, 0xce50, 0x6759, 0x7cc, 0xb0d4, 0x1, 0x0);
        gbc.writeMem(0x1457, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x373);
        EXPECT(gbc.pc(), 0x1458);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0345
        gbc.setState(0xd661, 0xab7b, 0xf440, 0x9f9a, 0xd0e8, 0xc784, 0x1, 0x0);
        gbc.writeMem(0xd661, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xab7b);
        EXPECT(gbc.pc(), 0xd662);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd661), 0x49);
        // 49 0346
        gbc.setState(0x68b0, 0xb01f, 0x3900, 0x8327, 0x7c42, 0xfd35, 0x0, 0x1);
        gbc.writeMem(0x68b0, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb01f);
        EXPECT(gbc.pc(), 0x68b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0347
        gbc.setState(0xcd9a, 0xa14a, 0xddf0, 0x27fa, 0xaf6b, 0x5c8a, 0x1, 0x0);
        gbc.writeMem(0xcd9a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa14a);
        EXPECT(gbc.pc(), 0xcd9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd9a), 0x49);
        // 49 0348
        gbc.setState(0xe3a7, 0xd986, 0x7a30, 0xf640, 0xde45, 0xe43a, 0x0, 0x1);
        gbc.writeMem(0xe3a7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xd986);
        EXPECT(gbc.pc(), 0xe3a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3a7), 0x49);
        // 49 0349
        gbc.setState(0xe6a2, 0x4538, 0x8d70, 0x923a, 0x6f9c, 0x2b1e, 0x1, 0x1);
        gbc.writeMem(0xe6a2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4538);
        EXPECT(gbc.pc(), 0xe6a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6a2), 0x49);
        // 49 034A
        gbc.setState(0x4a53, 0x3249, 0x6870, 0x9011, 0x2f18, 0x1343, 0x1, 0x1);
        gbc.writeMem(0x4a53, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3249);
        EXPECT(gbc.pc(), 0x4a54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 034B
        gbc.setState(0x581a, 0x1f67, 0x39a0, 0x14ef, 0x9a44, 0xcf67, 0x1, 0x1);
        gbc.writeMem(0x581a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x1f67);
        EXPECT(gbc.pc(), 0x581b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 034C
        gbc.setState(0x45da, 0x7e38, 0xbaa0, 0x2fe9, 0xec4, 0x71f9, 0x1, 0x0);
        gbc.writeMem(0x45da, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7e38);
        EXPECT(gbc.pc(), 0x45db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 034D
        gbc.setState(0x9114, 0xc43a, 0x6170, 0xbb42, 0x1c86, 0x3fc5, 0x1, 0x0);
        gbc.writeMem(0x9114, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc43a);
        EXPECT(gbc.pc(), 0x9115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9114), 0x49);
        // 49 034E
        gbc.setState(0xb96c, 0x210a, 0x8630, 0x9274, 0x1d6e, 0xb747, 0x0, 0x0);
        gbc.writeMem(0xb96c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x210a);
        EXPECT(gbc.pc(), 0xb96d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb96c), 0x49);
        // 49 034F
        gbc.setState(0x31b1, 0xc6de, 0x2d80, 0xa11c, 0x1660, 0xab4a, 0x1, 0x1);
        gbc.writeMem(0x31b1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xc6de);
        EXPECT(gbc.pc(), 0x31b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0350
        gbc.setState(0xa414, 0xc0e5, 0x1eb0, 0x9e02, 0xa5c9, 0xec31, 0x0, 0x1);
        gbc.writeMem(0xa414, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc0e5);
        EXPECT(gbc.pc(), 0xa415);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa414), 0x49);
        // 49 0351
        gbc.setState(0x7ba7, 0xabec, 0xd9b0, 0x5a94, 0x2be1, 0x8abf, 0x0, 0x0);
        gbc.writeMem(0x7ba7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xabec);
        EXPECT(gbc.pc(), 0x7ba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0352
        gbc.setState(0x5692, 0x3802, 0x5650, 0x6102, 0x2b91, 0xa9f0, 0x0, 0x0);
        gbc.writeMem(0x5692, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x3802);
        EXPECT(gbc.pc(), 0x5693);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0353
        gbc.setState(0xa9bc, 0xa9e4, 0x8a00, 0xd112, 0xb097, 0xbee3, 0x1, 0x1);
        gbc.writeMem(0xa9bc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xa9e4);
        EXPECT(gbc.pc(), 0xa9bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9bc), 0x49);
        // 49 0354
        gbc.setState(0xef59, 0x4bb3, 0xcf30, 0xd2a0, 0x3078, 0xa12, 0x0, 0x0);
        gbc.writeMem(0xef59, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4bb3);
        EXPECT(gbc.pc(), 0xef5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef59), 0x49);
        // 49 0355
        gbc.setState(0x69ad, 0x6f2e, 0xe090, 0xcd14, 0xb4ea, 0xf00c, 0x1, 0x0);
        gbc.writeMem(0x69ad, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6f2e);
        EXPECT(gbc.pc(), 0x69ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0356
        gbc.setState(0x8f0c, 0x6957, 0x1800, 0x6509, 0xdea3, 0x10eb, 0x0, 0x0);
        gbc.writeMem(0x8f0c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x6957);
        EXPECT(gbc.pc(), 0x8f0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f0c), 0x49);
        // 49 0357
        gbc.setState(0x64c1, 0x77b2, 0x7ce0, 0xe965, 0x27d9, 0xaf32, 0x0, 0x0);
        gbc.writeMem(0x64c1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x77b2);
        EXPECT(gbc.pc(), 0x64c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0358
        gbc.setState(0x1803, 0x6e52, 0xe790, 0x5bef, 0xdba6, 0xd8b9, 0x1, 0x0);
        gbc.writeMem(0x1803, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6e52);
        EXPECT(gbc.pc(), 0x1804);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0359
        gbc.setState(0xbe04, 0xa6d1, 0xb240, 0x10e2, 0x7aa, 0x6d94, 0x0, 0x0);
        gbc.writeMem(0xbe04, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa6d1);
        EXPECT(gbc.pc(), 0xbe05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe04), 0x49);
        // 49 035A
        gbc.setState(0xc7d3, 0x49f4, 0xa650, 0xadc2, 0xcdad, 0x5f02, 0x0, 0x1);
        gbc.writeMem(0xc7d3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x49f4);
        EXPECT(gbc.pc(), 0xc7d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7d3), 0x49);
        // 49 035B
        gbc.setState(0x16c6, 0xfb3c, 0x1e70, 0xad5b, 0xd615, 0xdee4, 0x0, 0x1);
        gbc.writeMem(0x16c6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xfb3c);
        EXPECT(gbc.pc(), 0x16c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 035C
        gbc.setState(0x5f66, 0x12c7, 0xb8c0, 0x91ea, 0x1a2d, 0x6936, 0x1, 0x1);
        gbc.writeMem(0x5f66, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x12c7);
        EXPECT(gbc.pc(), 0x5f67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 035D
        gbc.setState(0x38, 0x7309, 0xece0, 0x84ef, 0xf0ec, 0xa553, 0x1, 0x1);
        gbc.writeMem(0x38, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7309);
        EXPECT(gbc.pc(), 0x39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 035E
        gbc.setState(0x897f, 0x586e, 0x8970, 0x4abe, 0x7fdd, 0x1f3d, 0x1, 0x0);
        gbc.writeMem(0x897f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x586e);
        EXPECT(gbc.pc(), 0x8980);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x897f), 0x49);
        // 49 035F
        gbc.setState(0x775c, 0x2d0a, 0xad0, 0xccb5, 0xbb02, 0xd386, 0x1, 0x0);
        gbc.writeMem(0x775c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2d0a);
        EXPECT(gbc.pc(), 0x775d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0361
        gbc.setState(0x5871, 0x1dbf, 0xdd0, 0xfe3b, 0xada7, 0xa445, 0x0, 0x1);
        gbc.writeMem(0x5871, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1dbf);
        EXPECT(gbc.pc(), 0x5872);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0362
        gbc.setState(0xb7ed, 0xf0c5, 0xfab0, 0x4555, 0xc1a6, 0x634c, 0x0, 0x0);
        gbc.writeMem(0xb7ed, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xf0c5);
        EXPECT(gbc.pc(), 0xb7ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7ed), 0x49);
        // 49 0364
        gbc.setState(0xecc4, 0xb17d, 0xba50, 0x7da9, 0xa7b6, 0x1e7d, 0x1, 0x1);
        gbc.writeMem(0xecc4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xb17d);
        EXPECT(gbc.pc(), 0xecc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecc4), 0x49);
        // 49 0365
        gbc.setState(0xe04a, 0x85dc, 0x53d0, 0x931, 0xb485, 0x509d, 0x0, 0x0);
        gbc.writeMem(0xe04a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x85dc);
        EXPECT(gbc.pc(), 0xe04b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe04a), 0x49);
        // 49 0366
        gbc.setState(0x8495, 0xce49, 0x7df0, 0xd4f0, 0xea7e, 0x5e49, 0x0, 0x0);
        gbc.writeMem(0x8495, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xce49);
        EXPECT(gbc.pc(), 0x8496);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8495), 0x49);
        // 49 0367
        gbc.setState(0x279, 0x3d79, 0x32c0, 0xfeda, 0x396c, 0x5b3d, 0x1, 0x1);
        gbc.writeMem(0x279, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3d79);
        EXPECT(gbc.pc(), 0x27a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0368
        gbc.setState(0x4a23, 0xca51, 0xb9a0, 0xbaf1, 0x5f5e, 0xe183, 0x1, 0x1);
        gbc.writeMem(0x4a23, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xca51);
        EXPECT(gbc.pc(), 0x4a24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0369
        gbc.setState(0xebdc, 0x3880, 0xa0d0, 0x7d0c, 0x69e0, 0x69d0, 0x1, 0x1);
        gbc.writeMem(0xebdc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3880);
        EXPECT(gbc.pc(), 0xebdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebdc), 0x49);
        // 49 036A
        gbc.setState(0x57ab, 0x21fc, 0x9cf0, 0x8c24, 0x915f, 0xb019, 0x1, 0x0);
        gbc.writeMem(0x57ab, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x21fc);
        EXPECT(gbc.pc(), 0x57ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 036B
        gbc.setState(0x657b, 0x2328, 0xd380, 0x515b, 0xbcf6, 0x2522, 0x1, 0x1);
        gbc.writeMem(0x657b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2328);
        EXPECT(gbc.pc(), 0x657c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 036C
        gbc.setState(0xb0b9, 0x1614, 0xa2a0, 0x91c1, 0x8906, 0x6d01, 0x1, 0x0);
        gbc.writeMem(0xb0b9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x1614);
        EXPECT(gbc.pc(), 0xb0ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0b9), 0x49);
        // 49 036D
        gbc.setState(0x9bc3, 0x6f1, 0x3ed0, 0x5bbf, 0xeb23, 0x9830, 0x1, 0x0);
        gbc.writeMem(0x9bc3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x6f1);
        EXPECT(gbc.pc(), 0x9bc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bc3), 0x49);
        // 49 036E
        gbc.setState(0x3874, 0xb380, 0xdbf0, 0xec04, 0x8fea, 0xd839, 0x1, 0x1);
        gbc.writeMem(0x3874, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb380);
        EXPECT(gbc.pc(), 0x3875);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 036F
        gbc.setState(0x1e5b, 0x570c, 0x82b0, 0xcbab, 0xd018, 0xe182, 0x1, 0x1);
        gbc.writeMem(0x1e5b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x570c);
        EXPECT(gbc.pc(), 0x1e5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0370
        gbc.setState(0x33c2, 0x11e9, 0x1b90, 0xf8a1, 0x50e6, 0x957, 0x0, 0x0);
        gbc.writeMem(0x33c2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x11e9);
        EXPECT(gbc.pc(), 0x33c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0371
        gbc.setState(0xea21, 0x7b64, 0x28a0, 0x6e3e, 0x5ed6, 0xcf7, 0x1, 0x0);
        gbc.writeMem(0xea21, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x7b64);
        EXPECT(gbc.pc(), 0xea22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea21), 0x49);
        // 49 0372
        gbc.setState(0xc19a, 0x3306, 0xe3e0, 0x3c0e, 0x383c, 0x6a3e, 0x1, 0x0);
        gbc.writeMem(0xc19a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3306);
        EXPECT(gbc.pc(), 0xc19b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc19a), 0x49);
        // 49 0373
        gbc.setState(0xb272, 0x200e, 0x4340, 0x6525, 0xc4e5, 0xf340, 0x0, 0x1);
        gbc.writeMem(0xb272, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x200e);
        EXPECT(gbc.pc(), 0xb273);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb272), 0x49);
        // 49 0374
        gbc.setState(0x7942, 0x816f, 0x41f0, 0x404, 0xd39d, 0xc30b, 0x1, 0x0);
        gbc.writeMem(0x7942, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x816f);
        EXPECT(gbc.pc(), 0x7943);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0375
        gbc.setState(0x10e3, 0x550c, 0x9360, 0x5bb3, 0x9a2e, 0x8e3d, 0x1, 0x1);
        gbc.writeMem(0x10e3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x550c);
        EXPECT(gbc.pc(), 0x10e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0376
        gbc.setState(0x68a8, 0xcb27, 0xc630, 0x49df, 0xbde9, 0xb868, 0x1, 0x0);
        gbc.writeMem(0x68a8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xcb27);
        EXPECT(gbc.pc(), 0x68a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0377
        gbc.setState(0x7f3b, 0xeb0d, 0x4e80, 0x6b9d, 0xbda9, 0xcdcb, 0x0, 0x1);
        gbc.writeMem(0x7f3b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xeb0d);
        EXPECT(gbc.pc(), 0x7f3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0378
        gbc.setState(0x239a, 0xa1cc, 0xd190, 0x274a, 0xba24, 0xc941, 0x0, 0x1);
        gbc.writeMem(0x239a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa1cc);
        EXPECT(gbc.pc(), 0x239b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0379
        gbc.setState(0xca88, 0x9a16, 0xed30, 0x46d1, 0xd1cf, 0x4357, 0x1, 0x1);
        gbc.writeMem(0xca88, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9a16);
        EXPECT(gbc.pc(), 0xca89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca88), 0x49);
        // 49 037A
        gbc.setState(0x46ec, 0x96ce, 0x3aa0, 0x48a1, 0xe16c, 0x6598, 0x1, 0x1);
        gbc.writeMem(0x46ec, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x96ce);
        EXPECT(gbc.pc(), 0x46ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 037B
        gbc.setState(0x1b2e, 0xf273, 0x3440, 0x243e, 0x25e4, 0x34fa, 0x0, 0x0);
        gbc.writeMem(0x1b2e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf273);
        EXPECT(gbc.pc(), 0x1b2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 037C
        gbc.setState(0xf53, 0x8ae8, 0x8200, 0xf633, 0x4d11, 0x2ed1, 0x0, 0x0);
        gbc.writeMem(0xf53, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8ae8);
        EXPECT(gbc.pc(), 0xf54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 037D
        gbc.setState(0x24d5, 0x59c, 0x2ef0, 0xbce6, 0xdb4e, 0x90dd, 0x1, 0x1);
        gbc.writeMem(0x24d5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x59c);
        EXPECT(gbc.pc(), 0x24d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 037E
        gbc.setState(0x5acd, 0x4a2b, 0x6630, 0x9029, 0x2bae, 0xfadf, 0x0, 0x1);
        gbc.writeMem(0x5acd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x4a2b);
        EXPECT(gbc.pc(), 0x5ace);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 037F
        gbc.setState(0x7b2, 0xe40, 0xa810, 0x6862, 0x504, 0x5fe7, 0x1, 0x1);
        gbc.writeMem(0x7b2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe40);
        EXPECT(gbc.pc(), 0x7b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0380
        gbc.setState(0x6094, 0x205b, 0x75a0, 0xc3b8, 0x883, 0x8de2, 0x1, 0x0);
        gbc.writeMem(0x6094, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x205b);
        EXPECT(gbc.pc(), 0x6095);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 0381
        gbc.setState(0x2f59, 0x12cc, 0xf370, 0xec8a, 0x1e6a, 0xfc52, 0x0, 0x1);
        gbc.writeMem(0x2f59, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x12cc);
        EXPECT(gbc.pc(), 0x2f5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0382
        gbc.setState(0xe1fa, 0xb839, 0xa300, 0xe74b, 0xe0d1, 0x1ea0, 0x1, 0x0);
        gbc.writeMem(0xe1fa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xb839);
        EXPECT(gbc.pc(), 0xe1fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1fa), 0x49);
        // 49 0383
        gbc.setState(0xa771, 0xa484, 0x9d80, 0x8a1c, 0xe06f, 0x48f0, 0x0, 0x1);
        gbc.writeMem(0xa771, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa484);
        EXPECT(gbc.pc(), 0xa772);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa771), 0x49);
        // 49 0384
        gbc.setState(0xc23f, 0x3d9f, 0xc9d0, 0x3b44, 0xbd0b, 0x93a2, 0x1, 0x1);
        gbc.writeMem(0xc23f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3d9f);
        EXPECT(gbc.pc(), 0xc240);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc23f), 0x49);
        // 49 0385
        gbc.setState(0x5817, 0x3c23, 0x63f0, 0x141c, 0x74f4, 0x957f, 0x0, 0x1);
        gbc.writeMem(0x5817, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x3c23);
        EXPECT(gbc.pc(), 0x5818);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0386
        gbc.setState(0xa9f8, 0x12ce, 0x790, 0xb2c3, 0x8685, 0xec6f, 0x1, 0x0);
        gbc.writeMem(0xa9f8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x12ce);
        EXPECT(gbc.pc(), 0xa9f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9f8), 0x49);
        // 49 0387
        gbc.setState(0x3248, 0x8f72, 0x3870, 0xc430, 0x26bc, 0xc1a9, 0x1, 0x1);
        gbc.writeMem(0x3248, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x8f72);
        EXPECT(gbc.pc(), 0x3249);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0388
        gbc.setState(0x2b, 0x53cd, 0xb430, 0xdca3, 0x20d0, 0x5170, 0x0, 0x1);
        gbc.writeMem(0x2b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x53cd);
        EXPECT(gbc.pc(), 0x2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0389
        gbc.setState(0xd4ba, 0x58e0, 0xec0, 0xf470, 0xa4d0, 0xb142, 0x1, 0x1);
        gbc.writeMem(0xd4ba, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x58e0);
        EXPECT(gbc.pc(), 0xd4bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4ba), 0x49);
        // 49 038A
        gbc.setState(0xdc3a, 0x8a91, 0x3380, 0x9ff3, 0x285e, 0x6d5e, 0x1, 0x0);
        gbc.writeMem(0xdc3a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x8a91);
        EXPECT(gbc.pc(), 0xdc3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc3a), 0x49);
        // 49 038B
        gbc.setState(0xd30f, 0x9c05, 0xca70, 0x8042, 0xacca, 0x553d, 0x0, 0x0);
        gbc.writeMem(0xd30f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9c05);
        EXPECT(gbc.pc(), 0xd310);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd30f), 0x49);
        // 49 038C
        gbc.setState(0x4766, 0xb95, 0xc1e0, 0xab5, 0xe48, 0x47a2, 0x0, 0x1);
        gbc.writeMem(0x4766, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xb95);
        EXPECT(gbc.pc(), 0x4767);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 038D
        gbc.setState(0x7e3f, 0x89ac, 0x74c0, 0x7c15, 0xae30, 0x3d99, 0x1, 0x1);
        gbc.writeMem(0x7e3f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x89ac);
        EXPECT(gbc.pc(), 0x7e40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 038E
        gbc.setState(0x7de8, 0x817e, 0x1a20, 0x9f34, 0x3887, 0x37e1, 0x0, 0x0);
        gbc.writeMem(0x7de8, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x817e);
        EXPECT(gbc.pc(), 0x7de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 038F
        gbc.setState(0x147, 0xb7c4, 0x51b0, 0x6ddb, 0x73b0, 0x889, 0x0, 0x0);
        gbc.writeMem(0x147, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xb7c4);
        EXPECT(gbc.pc(), 0x148);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0390
        gbc.setState(0xe819, 0x4422, 0xa880, 0xcdf1, 0xa534, 0x6cad, 0x1, 0x1);
        gbc.writeMem(0xe819, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x4422);
        EXPECT(gbc.pc(), 0xe81a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe819), 0x49);
        // 49 0391
        gbc.setState(0x778f, 0xc6b0, 0xcc10, 0x2839, 0x7f85, 0xe6e3, 0x0, 0x1);
        gbc.writeMem(0x778f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc6b0);
        EXPECT(gbc.pc(), 0x7790);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0392
        gbc.setState(0x25bd, 0xd27c, 0xdf50, 0x451d, 0xf2a0, 0x987, 0x1, 0x0);
        gbc.writeMem(0x25bd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xd27c);
        EXPECT(gbc.pc(), 0x25be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 0393
        gbc.setState(0xb47b, 0x95ca, 0x5af0, 0xbce4, 0xfa51, 0x9d5, 0x1, 0x1);
        gbc.writeMem(0xb47b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x95ca);
        EXPECT(gbc.pc(), 0xb47c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb47b), 0x49);
        // 49 0394
        gbc.setState(0x624c, 0x762d, 0x13f0, 0xfa7, 0x9c2c, 0xdc46, 0x1, 0x0);
        gbc.writeMem(0x624c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x762d);
        EXPECT(gbc.pc(), 0x624d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 0395
        gbc.setState(0xa4e9, 0x7b68, 0x4480, 0x8013, 0x6db4, 0xb07f, 0x0, 0x1);
        gbc.writeMem(0xa4e9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x7b68);
        EXPECT(gbc.pc(), 0xa4ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4e9), 0x49);
        // 49 0396
        gbc.setState(0xcd26, 0x8efd, 0xa740, 0x6d9b, 0x8690, 0x8d6c, 0x0, 0x1);
        gbc.writeMem(0xcd26, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x8efd);
        EXPECT(gbc.pc(), 0xcd27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd26), 0x49);
        // 49 0397
        gbc.setState(0xbff, 0xe604, 0xe980, 0x1508, 0xf43a, 0xc658, 0x0, 0x0);
        gbc.writeMem(0xbff, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe604);
        EXPECT(gbc.pc(), 0xc00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 0398
        gbc.setState(0xcadc, 0x256f, 0xf440, 0x4286, 0xc9a3, 0xe0e0, 0x1, 0x1);
        gbc.writeMem(0xcadc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x256f);
        EXPECT(gbc.pc(), 0xcadd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcadc), 0x49);
        // 49 0399
        gbc.setState(0xe7b5, 0xbdb0, 0x2d30, 0x7c41, 0xd591, 0x41de, 0x1, 0x0);
        gbc.writeMem(0xe7b5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xbdb0);
        EXPECT(gbc.pc(), 0xe7b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7b5), 0x49);
        // 49 039A
        gbc.setState(0x5a56, 0xb0a8, 0xe1e0, 0xb71a, 0x10ba, 0x3cdc, 0x0, 0x0);
        gbc.writeMem(0x5a56, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb0a8);
        EXPECT(gbc.pc(), 0x5a57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 039B
        gbc.setState(0x2834, 0xfc43, 0x61e0, 0x9012, 0x60ae, 0xc75c, 0x0, 0x1);
        gbc.writeMem(0x2834, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xfc43);
        EXPECT(gbc.pc(), 0x2835);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 039C
        gbc.setState(0x6320, 0xd4be, 0x9e50, 0xe60c, 0xf830, 0x349e, 0x0, 0x0);
        gbc.writeMem(0x6320, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd4be);
        EXPECT(gbc.pc(), 0x6321);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 039D
        gbc.setState(0x54c7, 0x377e, 0x26a0, 0x4307, 0x78c0, 0x8bef, 0x0, 0x1);
        gbc.writeMem(0x54c7, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x377e);
        EXPECT(gbc.pc(), 0x54c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 039E
        gbc.setState(0xe324, 0x3f78, 0x9460, 0xec15, 0xc343, 0xa81d, 0x0, 0x0);
        gbc.writeMem(0xe324, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3f78);
        EXPECT(gbc.pc(), 0xe325);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe324), 0x49);
        // 49 039F
        gbc.setState(0x5cc2, 0xc4b4, 0x9820, 0xfe26, 0x578b, 0xfbc1, 0x1, 0x0);
        gbc.writeMem(0x5cc2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xc4b4);
        EXPECT(gbc.pc(), 0x5cc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03A0
        gbc.setState(0x27e4, 0xa632, 0x2200, 0x2e89, 0x765c, 0x8831, 0x0, 0x0);
        gbc.writeMem(0x27e4, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa632);
        EXPECT(gbc.pc(), 0x27e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03A1
        gbc.setState(0xfd1, 0xe4a7, 0x8a70, 0x323a, 0x844e, 0xecfe, 0x0, 0x0);
        gbc.writeMem(0xfd1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe4a7);
        EXPECT(gbc.pc(), 0xfd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 03A2
        gbc.setState(0xa3dc, 0xa171, 0xe1e0, 0x5427, 0xfabb, 0x4e0b, 0x0, 0x1);
        gbc.writeMem(0xa3dc, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa171);
        EXPECT(gbc.pc(), 0xa3dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3dc), 0x49);
        // 49 03A3
        gbc.setState(0x352, 0xc521, 0x6a10, 0xfe4, 0xad05, 0x361, 0x1, 0x1);
        gbc.writeMem(0x352, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xc521);
        EXPECT(gbc.pc(), 0x353);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03A4
        gbc.setState(0x49d9, 0xcec3, 0xedf0, 0x1a9d, 0xa1c6, 0xe16b, 0x0, 0x0);
        gbc.writeMem(0x49d9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xcec3);
        EXPECT(gbc.pc(), 0x49da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 03A5
        gbc.setState(0x6be, 0xd74d, 0xfda0, 0xca0f, 0x9e28, 0x1b7b, 0x1, 0x1);
        gbc.writeMem(0x6be, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xd74d);
        EXPECT(gbc.pc(), 0x6bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03A6
        gbc.setState(0x17df, 0x2782, 0xe980, 0x3ccf, 0x2084, 0x4c14, 0x0, 0x1);
        gbc.writeMem(0x17df, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2782);
        EXPECT(gbc.pc(), 0x17e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03A7
        gbc.setState(0x1144, 0x812f, 0xf720, 0x8d65, 0x2717, 0x327, 0x0, 0x0);
        gbc.writeMem(0x1144, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x812f);
        EXPECT(gbc.pc(), 0x1145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03A8
        gbc.setState(0x4f39, 0xfd2b, 0x9760, 0x1b3a, 0x3e7b, 0x36d5, 0x1, 0x1);
        gbc.writeMem(0x4f39, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfd2b);
        EXPECT(gbc.pc(), 0x4f3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03A9
        gbc.setState(0xa433, 0xcab, 0x3370, 0x49b6, 0xc1ef, 0x5184, 0x1, 0x0);
        gbc.writeMem(0xa433, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xcab);
        EXPECT(gbc.pc(), 0xa434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa433), 0x49);
        // 49 03AA
        gbc.setState(0xd154, 0x2ec4, 0xf640, 0x9a7c, 0xadab, 0xda53, 0x0, 0x1);
        gbc.writeMem(0xd154, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2ec4);
        EXPECT(gbc.pc(), 0xd155);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd154), 0x49);
        // 49 03AB
        gbc.setState(0x5ff1, 0xf9c2, 0x110, 0x50a8, 0xde6d, 0xc80d, 0x1, 0x0);
        gbc.writeMem(0x5ff1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xf9c2);
        EXPECT(gbc.pc(), 0x5ff2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03AC
        gbc.setState(0xba84, 0xb24b, 0x48f0, 0x1b56, 0x2a7a, 0xf10c, 0x1, 0x1);
        gbc.writeMem(0xba84, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xb24b);
        EXPECT(gbc.pc(), 0xba85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba84), 0x49);
        // 49 03AD
        gbc.setState(0xc00c, 0xf475, 0xc4b0, 0x918, 0x9194, 0x6cb8, 0x1, 0x1);
        gbc.writeMem(0xc00c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xf475);
        EXPECT(gbc.pc(), 0xc00d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc00c), 0x49);
        // 49 03AE
        gbc.setState(0xb8ea, 0xaa81, 0xbfe0, 0xa8da, 0x1099, 0xc283, 0x0, 0x1);
        gbc.writeMem(0xb8ea, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xaa81);
        EXPECT(gbc.pc(), 0xb8eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8ea), 0x49);
        // 49 03AF
        gbc.setState(0xec6, 0xebe8, 0xc340, 0x3065, 0xd2, 0x4a7b, 0x0, 0x1);
        gbc.writeMem(0xec6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xebe8);
        EXPECT(gbc.pc(), 0xec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03B0
        gbc.setState(0xc2ed, 0x7e60, 0x31c0, 0xb78c, 0x67e7, 0xf708, 0x1, 0x0);
        gbc.writeMem(0xc2ed, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7e60);
        EXPECT(gbc.pc(), 0xc2ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2ed), 0x49);
        // 49 03B1
        gbc.setState(0x5b20, 0xd50c, 0x36f0, 0x1086, 0xc9c1, 0xd313, 0x0, 0x1);
        gbc.writeMem(0x5b20, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xd50c);
        EXPECT(gbc.pc(), 0x5b21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 03B2
        gbc.setState(0xabdb, 0x65e1, 0xaf70, 0x6db9, 0xbd38, 0xdf37, 0x1, 0x0);
        gbc.writeMem(0xabdb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x65e1);
        EXPECT(gbc.pc(), 0xabdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabdb), 0x49);
        // 49 03B3
        gbc.setState(0xf38, 0xbc11, 0xe720, 0x4893, 0x3c45, 0x8d58, 0x1, 0x0);
        gbc.writeMem(0xf38, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xbc11);
        EXPECT(gbc.pc(), 0xf39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03B4
        gbc.setState(0x473f, 0xc044, 0x83c0, 0xc6f0, 0xbfc0, 0x86c1, 0x1, 0x0);
        gbc.writeMem(0x473f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xc044);
        EXPECT(gbc.pc(), 0x4740);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03B5
        gbc.setState(0x9784, 0x40a4, 0x2f40, 0xc62e, 0x39f5, 0x53f9, 0x0, 0x1);
        gbc.writeMem(0x9784, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x40a4);
        EXPECT(gbc.pc(), 0x9785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9784), 0x49);
        // 49 03B6
        gbc.setState(0xe059, 0xdc60, 0x1f60, 0x2544, 0x9be2, 0x8a22, 0x1, 0x1);
        gbc.writeMem(0xe059, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xdc60);
        EXPECT(gbc.pc(), 0xe05a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe059), 0x49);
        // 49 03B7
        gbc.setState(0x82e1, 0x3765, 0xd950, 0xadae, 0x1510, 0x6dd5, 0x1, 0x1);
        gbc.writeMem(0x82e1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3765);
        EXPECT(gbc.pc(), 0x82e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82e1), 0x49);
        // 49 03B8
        gbc.setState(0xe727, 0xbaf2, 0x6710, 0x25f, 0xb3c3, 0xe01f, 0x0, 0x0);
        gbc.writeMem(0xe727, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xbaf2);
        EXPECT(gbc.pc(), 0xe728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe727), 0x49);
        // 49 03B9
        gbc.setState(0xeb76, 0x5e95, 0xea40, 0x1b88, 0x39a5, 0x269f, 0x0, 0x0);
        gbc.writeMem(0xeb76, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x5e95);
        EXPECT(gbc.pc(), 0xeb77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb76), 0x49);
        // 49 03BA
        gbc.setState(0x608, 0xea04, 0x34c0, 0x4235, 0xe26f, 0x97f7, 0x1, 0x0);
        gbc.writeMem(0x608, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xea04);
        EXPECT(gbc.pc(), 0x609);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03BC
        gbc.setState(0x4cca, 0x2299, 0xccc0, 0x137f, 0x2963, 0xd347, 0x1, 0x0);
        gbc.writeMem(0x4cca, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x2299);
        EXPECT(gbc.pc(), 0x4ccb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03BD
        gbc.setState(0x1e77, 0xd22c, 0x9410, 0x17de, 0xc9f0, 0x8705, 0x1, 0x0);
        gbc.writeMem(0x1e77, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd22c);
        EXPECT(gbc.pc(), 0x1e78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03BE
        gbc.setState(0x90b3, 0x140b, 0x7e70, 0xb100, 0x50f6, 0x180a, 0x1, 0x1);
        gbc.writeMem(0x90b3, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x140b);
        EXPECT(gbc.pc(), 0x90b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90b3), 0x49);
        // 49 03BF
        gbc.setState(0xc029, 0x27f0, 0xe910, 0x2ff4, 0xddeb, 0xb3f8, 0x0, 0x0);
        gbc.writeMem(0xc029, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x27f0);
        EXPECT(gbc.pc(), 0xc02a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc029), 0x49);
        // 49 03C0
        gbc.setState(0x7c15, 0xa482, 0xae90, 0xa25f, 0xadd4, 0xdfbc, 0x1, 0x1);
        gbc.writeMem(0x7c15, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa482);
        EXPECT(gbc.pc(), 0x7c16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03C1
        gbc.setState(0x6fed, 0x4a17, 0xdb30, 0xe288, 0xa9d3, 0x2d6e, 0x0, 0x1);
        gbc.writeMem(0x6fed, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x4a17);
        EXPECT(gbc.pc(), 0x6fee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 03C2
        gbc.setState(0x733c, 0xf2b2, 0x8be0, 0x27fe, 0x8355, 0x1246, 0x0, 0x0);
        gbc.writeMem(0x733c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf2b2);
        EXPECT(gbc.pc(), 0x733d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03C3
        gbc.setState(0x97d9, 0xe475, 0x5ef0, 0xad33, 0x8b6c, 0xe783, 0x1, 0x0);
        gbc.writeMem(0x97d9, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe475);
        EXPECT(gbc.pc(), 0x97da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97d9), 0x49);
        // 49 03C4
        gbc.setState(0x16e, 0x1aac, 0xabe0, 0x6850, 0x933, 0x7b6e, 0x0, 0x1);
        gbc.writeMem(0x16e, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x1aac);
        EXPECT(gbc.pc(), 0x16f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03C5
        gbc.setState(0xd359, 0xea21, 0xb490, 0x93ed, 0xbf6b, 0xb0ff, 0x0, 0x1);
        gbc.writeMem(0xd359, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xea21);
        EXPECT(gbc.pc(), 0xd35a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd359), 0x49);
        // 49 03C6
        gbc.setState(0x59cd, 0x64ae, 0x9600, 0xaa5f, 0x6941, 0xbefe, 0x0, 0x1);
        gbc.writeMem(0x59cd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x64ae);
        EXPECT(gbc.pc(), 0x59ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03C7
        gbc.setState(0x69bd, 0xae25, 0x12b0, 0x5b92, 0x852e, 0xb6a5, 0x0, 0x0);
        gbc.writeMem(0x69bd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xae25);
        EXPECT(gbc.pc(), 0x69be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 03C8
        gbc.setState(0xcbff, 0x8f54, 0x1a40, 0x6e09, 0x4a84, 0xd999, 0x0, 0x0);
        gbc.writeMem(0xcbff, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x8f54);
        EXPECT(gbc.pc(), 0xcc00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbff), 0x49);
        // 49 03C9
        gbc.setState(0x31c6, 0x2fe8, 0x40e0, 0xec8, 0x90b9, 0x5c09, 0x0, 0x0);
        gbc.writeMem(0x31c6, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x2fe8);
        EXPECT(gbc.pc(), 0x31c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03CA
        gbc.setState(0x584f, 0x12c0, 0x9490, 0x2e32, 0xfe5c, 0x2d28, 0x1, 0x0);
        gbc.writeMem(0x584f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x12c0);
        EXPECT(gbc.pc(), 0x5850);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03CB
        gbc.setState(0xb418, 0xaa8, 0xf8c0, 0x9b1f, 0x217c, 0xee07, 0x0, 0x0);
        gbc.writeMem(0xb418, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xaa8);
        EXPECT(gbc.pc(), 0xb419);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb418), 0x49);
        // 49 03CC
        gbc.setState(0x1a2d, 0x5657, 0x5f80, 0xa45d, 0x1ff7, 0xf121, 0x1, 0x1);
        gbc.writeMem(0x1a2d, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5657);
        EXPECT(gbc.pc(), 0x1a2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03CD
        gbc.setState(0x331a, 0xeddd, 0x1a50, 0x4842, 0x40bc, 0x9f43, 0x0, 0x0);
        gbc.writeMem(0x331a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xeddd);
        EXPECT(gbc.pc(), 0x331b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03CE
        gbc.setState(0xc110, 0xa20c, 0x3300, 0x204b, 0xf42e, 0xd5df, 0x0, 0x0);
        gbc.writeMem(0xc110, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa20c);
        EXPECT(gbc.pc(), 0xc111);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc110), 0x49);
        // 49 03CF
        gbc.setState(0x9ef, 0xeb1b, 0xa600, 0x2fc2, 0x8c59, 0xc745, 0x0, 0x0);
        gbc.writeMem(0x9ef, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xeb1b);
        EXPECT(gbc.pc(), 0x9f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03D0
        gbc.setState(0x3ce1, 0x4204, 0x4010, 0x37b3, 0x47dc, 0xed19, 0x0, 0x0);
        gbc.writeMem(0x3ce1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x4204);
        EXPECT(gbc.pc(), 0x3ce2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03D1
        gbc.setState(0x9beb, 0xaa68, 0x9010, 0x4630, 0x635d, 0xfa5f, 0x0, 0x0);
        gbc.writeMem(0x9beb, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xaa68);
        EXPECT(gbc.pc(), 0x9bec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9beb), 0x49);
        // 49 03D2
        gbc.setState(0xd241, 0xc91d, 0xbf70, 0xe8ed, 0xb04a, 0x1ddf, 0x0, 0x0);
        gbc.writeMem(0xd241, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc91d);
        EXPECT(gbc.pc(), 0xd242);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd241), 0x49);
        // 49 03D3
        gbc.setState(0xadda, 0x1e7f, 0xb2f0, 0x37ac, 0x7066, 0x412f, 0x0, 0x1);
        gbc.writeMem(0xadda, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x1e7f);
        EXPECT(gbc.pc(), 0xaddb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadda), 0x49);
        // 49 03D4
        gbc.setState(0x6174, 0xd4da, 0x25c0, 0x82a0, 0x4af2, 0x173d, 0x0, 0x0);
        gbc.writeMem(0x6174, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xd4da);
        EXPECT(gbc.pc(), 0x6175);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03D5
        gbc.setState(0x38f5, 0x771a, 0xbc10, 0x146e, 0xfdf6, 0x9fc1, 0x0, 0x0);
        gbc.writeMem(0x38f5, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x771a);
        EXPECT(gbc.pc(), 0x38f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03D6
        gbc.setState(0x68f1, 0x8e3, 0xf6e0, 0x4343, 0xa9fb, 0xe991, 0x1, 0x0);
        gbc.writeMem(0x68f1, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x8e3);
        EXPECT(gbc.pc(), 0x68f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03D7
        gbc.setState(0x3517, 0x87c8, 0x8b70, 0x7df4, 0xc6fa, 0xcff7, 0x1, 0x1);
        gbc.writeMem(0x3517, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x87c8);
        EXPECT(gbc.pc(), 0x3518);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 03D8
        gbc.setState(0x3cbf, 0xdb78, 0x3850, 0xa1ff, 0xa417, 0xd88e, 0x1, 0x0);
        gbc.writeMem(0x3cbf, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xdb78);
        EXPECT(gbc.pc(), 0x3cc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03D9
        gbc.setState(0xca43, 0xd622, 0x7b50, 0xd350, 0x87e4, 0xc51, 0x1, 0x0);
        gbc.writeMem(0xca43, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd622);
        EXPECT(gbc.pc(), 0xca44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca43), 0x49);
        // 49 03DA
        gbc.setState(0x4a8f, 0x44d1, 0x9e30, 0x8a00, 0x2879, 0xb9ea, 0x0, 0x0);
        gbc.writeMem(0x4a8f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x44d1);
        EXPECT(gbc.pc(), 0x4a90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 49 03DB
        gbc.setState(0x982b, 0xe0d6, 0x850, 0x227a, 0x8019, 0x4c58, 0x1, 0x0);
        gbc.writeMem(0x982b, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe0d6);
        EXPECT(gbc.pc(), 0x982c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x982b), 0x49);
        // 49 03DC
        gbc.setState(0x1db2, 0x9908, 0x6fc0, 0xb965, 0xff3b, 0x29e4, 0x1, 0x1);
        gbc.writeMem(0x1db2, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9908);
        EXPECT(gbc.pc(), 0x1db3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 49 03DD
        gbc.setState(0x963c, 0xcec7, 0x2110, 0x8a9a, 0xaa54, 0x2732, 0x0, 0x0);
        gbc.writeMem(0x963c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xcec7);
        EXPECT(gbc.pc(), 0x963d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x963c), 0x49);
        // 49 03DE
        gbc.setState(0x52a, 0x760c, 0xe660, 0x529, 0xa187, 0xfae7, 0x0, 0x1);
        gbc.writeMem(0x52a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x760c);
        EXPECT(gbc.pc(), 0x52b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03DF
        gbc.setState(0xb0ca, 0xdf0b, 0x9280, 0xda6e, 0x8bb8, 0x94db, 0x1, 0x1);
        gbc.writeMem(0xb0ca, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xdf0b);
        EXPECT(gbc.pc(), 0xb0cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0ca), 0x49);
        // 49 03E0
        gbc.setState(0x9c68, 0x970a, 0x2430, 0xa738, 0xc886, 0x7bd3, 0x1, 0x1);
        gbc.writeMem(0x9c68, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x970a);
        EXPECT(gbc.pc(), 0x9c69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c68), 0x49);
        // 49 03E2
        gbc.setState(0x6d6a, 0x7727, 0x2d60, 0x9ebb, 0xf53a, 0xbb3b, 0x0, 0x0);
        gbc.writeMem(0x6d6a, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x7727);
        EXPECT(gbc.pc(), 0x6d6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 49 03E3
        gbc.setState(0xefbd, 0xe198, 0x5280, 0xbd66, 0xd1fa, 0x42b4, 0x1, 0x1);
        gbc.writeMem(0xefbd, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xe198);
        EXPECT(gbc.pc(), 0xefbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefbd), 0x49);
        // 49 03E4
        gbc.setState(0x3917, 0x6e55, 0x5550, 0x823a, 0x71b2, 0x982f, 0x1, 0x1);
        gbc.writeMem(0x3917, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x6e55);
        EXPECT(gbc.pc(), 0x3918);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03E5
        gbc.setState(0x3513, 0x5aca, 0xe150, 0x8c88, 0xc702, 0xbc76, 0x1, 0x0);
        gbc.writeMem(0x3513, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5aca);
        EXPECT(gbc.pc(), 0x3514);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 49 03E6
        gbc.setState(0x5595, 0x13f9, 0x79f0, 0x3b6, 0x1c99, 0x9b8c, 0x0, 0x0);
        gbc.writeMem(0x5595, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x13f9);
        EXPECT(gbc.pc(), 0x5596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
    }
}
#endif
