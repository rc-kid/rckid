#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_cb_2d)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_cb_2d) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 2D 0000
        gbc.setState(0xddcf, 0x8e6b, 0xcee0, 0x1662, 0x238f, 0xa6d1, 0x0, 0x1);
        gbc.writeMem(0xddcf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x8e6b);
        EXPECT(gbc.pc(), 0xddd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddcf), 0xcb);
        EXPECT(gbc.readMem(0xddd0), 0x2d);
        // CB 2D 0001
        gbc.setState(0x9ca5, 0x3b7d, 0xb770, 0x71e5, 0x47a5, 0x1861, 0x1, 0x1);
        gbc.writeMem(0x9ca5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x3b7d);
        EXPECT(gbc.pc(), 0x9ca7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ca5), 0xcb);
        EXPECT(gbc.readMem(0x9ca6), 0x2d);
        // CB 2D 0002
        gbc.setState(0x8ae2, 0x3a40, 0x3bd0, 0x45bb, 0x713c, 0x8bf4, 0x1, 0x1);
        gbc.writeMem(0x8ae2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x3a40);
        EXPECT(gbc.pc(), 0x8ae4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ae2), 0xcb);
        EXPECT(gbc.readMem(0x8ae3), 0x2d);
        // CB 2D 0003
        gbc.setState(0x2413, 0x4ba9, 0x1ba0, 0xb233, 0xd768, 0xdd68, 0x0, 0x0);
        gbc.writeMem(0x2413, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4ba9);
        EXPECT(gbc.pc(), 0x2415);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0004
        gbc.setState(0x46d2, 0xe528, 0x8230, 0x820d, 0x8ee0, 0x1ab1, 0x1, 0x1);
        gbc.writeMem(0x46d2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xe528);
        EXPECT(gbc.pc(), 0x46d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0005
        gbc.setState(0xc26b, 0x3d20, 0xa510, 0x93e4, 0xf0ea, 0x8628, 0x0, 0x1);
        gbc.writeMem(0xc26b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x3d20);
        EXPECT(gbc.pc(), 0xc26d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc26b), 0xcb);
        EXPECT(gbc.readMem(0xc26c), 0x2d);
        // CB 2D 0006
        gbc.setState(0x2b10, 0x322d, 0xd4d0, 0xfac8, 0xeb36, 0x1146, 0x0, 0x0);
        gbc.writeMem(0x2b10, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x322d);
        EXPECT(gbc.pc(), 0x2b12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0007
        gbc.setState(0xe2a3, 0xab29, 0xae10, 0xb30a, 0x5d5, 0xe553, 0x0, 0x1);
        gbc.writeMem(0xe2a3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xab29);
        EXPECT(gbc.pc(), 0xe2a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2a3), 0xcb);
        EXPECT(gbc.readMem(0xe2a4), 0x2d);
        // CB 2D 0008
        gbc.setState(0xca24, 0x13e9, 0x5ce0, 0x8e95, 0x10de, 0x7346, 0x1, 0x1);
        gbc.writeMem(0xca24, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x13e9);
        EXPECT(gbc.pc(), 0xca26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca24), 0xcb);
        EXPECT(gbc.readMem(0xca25), 0x2d);
        // CB 2D 0009
        gbc.setState(0xd375, 0x2253, 0x4a20, 0x667f, 0x5011, 0x14cc, 0x1, 0x0);
        gbc.writeMem(0xd375, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2253);
        EXPECT(gbc.pc(), 0xd377);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd375), 0xcb);
        EXPECT(gbc.readMem(0xd376), 0x2d);
        // CB 2D 000A
        gbc.setState(0xa7d9, 0x6ecb, 0xe1b0, 0x9de6, 0xdab4, 0x5a1b, 0x1, 0x1);
        gbc.writeMem(0xa7d9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6ecb);
        EXPECT(gbc.pc(), 0xa7db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7d9), 0xcb);
        EXPECT(gbc.readMem(0xa7da), 0x2d);
        // CB 2D 000B
        gbc.setState(0x62d5, 0x1405, 0x5320, 0xbc3e, 0x1db7, 0x7895, 0x0, 0x1);
        gbc.writeMem(0x62d5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x1405);
        EXPECT(gbc.pc(), 0x62d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 000C
        gbc.setState(0x8a76, 0x6330, 0x47a0, 0xea7b, 0x4fcc, 0x7056, 0x1, 0x0);
        gbc.writeMem(0x8a76, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x6330);
        EXPECT(gbc.pc(), 0x8a78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a76), 0xcb);
        EXPECT(gbc.readMem(0x8a77), 0x2d);
        // CB 2D 000D
        gbc.setState(0xc6f5, 0x5dae, 0x7a70, 0x268, 0xba80, 0xab93, 0x1, 0x0);
        gbc.writeMem(0xc6f5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x5dae);
        EXPECT(gbc.pc(), 0xc6f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6f5), 0xcb);
        EXPECT(gbc.readMem(0xc6f6), 0x2d);
        // CB 2D 000E
        gbc.setState(0x160a, 0xdf15, 0x5830, 0xa95c, 0x270e, 0x6fb6, 0x0, 0x1);
        gbc.writeMem(0x160a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xdf15);
        EXPECT(gbc.pc(), 0x160c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 000F
        gbc.setState(0x59b5, 0xd95, 0x6050, 0xdf3b, 0x1aca, 0x4433, 0x0, 0x1);
        gbc.writeMem(0x59b5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xd95);
        EXPECT(gbc.pc(), 0x59b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0010
        gbc.setState(0xa08b, 0x8c64, 0xe8b0, 0x37b6, 0xfb1e, 0xa960, 0x1, 0x0);
        gbc.writeMem(0xa08b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8c64);
        EXPECT(gbc.pc(), 0xa08d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa08b), 0xcb);
        EXPECT(gbc.readMem(0xa08c), 0x2d);
        // CB 2D 0011
        gbc.setState(0xd745, 0x96fb, 0x6d30, 0xbdf0, 0xce15, 0x8d75, 0x0, 0x0);
        gbc.writeMem(0xd745, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x96fb);
        EXPECT(gbc.pc(), 0xd747);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd745), 0xcb);
        EXPECT(gbc.readMem(0xd746), 0x2d);
        // CB 2D 0012
        gbc.setState(0x39a7, 0xd724, 0x4b70, 0x169c, 0x5fec, 0x51b8, 0x1, 0x1);
        gbc.writeMem(0x39a7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xd724);
        EXPECT(gbc.pc(), 0x39a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0013
        gbc.setState(0x199, 0x3926, 0xf260, 0x9457, 0xcbe6, 0x1f86, 0x0, 0x0);
        gbc.writeMem(0x199, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x3926);
        EXPECT(gbc.pc(), 0x19b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0014
        gbc.setState(0x304e, 0x5cf0, 0x31b0, 0x65f7, 0xf800, 0xc471, 0x1, 0x1);
        gbc.writeMem(0x304e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5cf0);
        EXPECT(gbc.pc(), 0x3050);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0015
        gbc.setState(0xb1dc, 0x5430, 0xf6d0, 0xd8d1, 0xfb85, 0xceee, 0x1, 0x0);
        gbc.writeMem(0xb1dc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5430);
        EXPECT(gbc.pc(), 0xb1de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1dc), 0xcb);
        EXPECT(gbc.readMem(0xb1dd), 0x2d);
        // CB 2D 0016
        gbc.setState(0xefba, 0x5950, 0xacc0, 0x298a, 0xfb07, 0xd537, 0x0, 0x0);
        gbc.writeMem(0xefba, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x5950);
        EXPECT(gbc.pc(), 0xefbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefba), 0xcb);
        EXPECT(gbc.readMem(0xefbb), 0x2d);
        // CB 2D 0017
        gbc.setState(0x4bf5, 0x44cc, 0x7c90, 0xddec, 0x65e0, 0xb04d, 0x1, 0x1);
        gbc.writeMem(0x4bf5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x44cc);
        EXPECT(gbc.pc(), 0x4bf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0018
        gbc.setState(0x4240, 0x10aa, 0xfb90, 0x6a88, 0xab5, 0x5fec, 0x1, 0x1);
        gbc.writeMem(0x4240, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x10aa);
        EXPECT(gbc.pc(), 0x4242);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0019
        gbc.setState(0x5b0d, 0xeb9f, 0xbb60, 0x18fa, 0x4372, 0x49d1, 0x1, 0x0);
        gbc.writeMem(0x5b0d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xeb9f);
        EXPECT(gbc.pc(), 0x5b0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 001B
        gbc.setState(0xc326, 0xc08d, 0x3e50, 0xfa31, 0x5e6, 0x3920, 0x1, 0x0);
        gbc.writeMem(0xc326, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xc08d);
        EXPECT(gbc.pc(), 0xc328);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc326), 0xcb);
        EXPECT(gbc.readMem(0xc327), 0x2d);
        // CB 2D 001C
        gbc.setState(0x70aa, 0x9a83, 0x4b40, 0xdd65, 0xf734, 0x20c5, 0x1, 0x0);
        gbc.writeMem(0x70aa, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x9a83);
        EXPECT(gbc.pc(), 0x70ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 001D
        gbc.setState(0x7e12, 0xfa44, 0x48e0, 0xebc5, 0xbad6, 0x5c47, 0x0, 0x1);
        gbc.writeMem(0x7e12, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xfa44);
        EXPECT(gbc.pc(), 0x7e14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 001E
        gbc.setState(0xd323, 0xb6e, 0x9140, 0xf03, 0x61d7, 0x78cf, 0x0, 0x1);
        gbc.writeMem(0xd323, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb6e);
        EXPECT(gbc.pc(), 0xd325);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd323), 0xcb);
        EXPECT(gbc.readMem(0xd324), 0x2d);
        // CB 2D 001F
        gbc.setState(0x1d63, 0xbcff, 0x6390, 0x98f6, 0x74b, 0x1173, 0x0, 0x1);
        gbc.writeMem(0x1d63, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xbcff);
        EXPECT(gbc.pc(), 0x1d65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0020
        gbc.setState(0xa403, 0x29ec, 0x9f50, 0x34b2, 0x5536, 0xcc3a, 0x0, 0x1);
        gbc.writeMem(0xa403, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x29ec);
        EXPECT(gbc.pc(), 0xa405);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa403), 0xcb);
        EXPECT(gbc.readMem(0xa404), 0x2d);
        // CB 2D 0021
        gbc.setState(0xe126, 0x978, 0xbc20, 0xf354, 0xd88a, 0x2f0a, 0x0, 0x0);
        gbc.writeMem(0xe126, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x978);
        EXPECT(gbc.pc(), 0xe128);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe126), 0xcb);
        EXPECT(gbc.readMem(0xe127), 0x2d);
        // CB 2D 0022
        gbc.setState(0x4eca, 0x61ef, 0x59e0, 0xd4fd, 0x1e92, 0x5cda, 0x0, 0x0);
        gbc.writeMem(0x4eca, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x61ef);
        EXPECT(gbc.pc(), 0x4ecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0023
        gbc.setState(0x2dc4, 0x96f, 0x1a90, 0xe511, 0xa0dc, 0x8aba, 0x0, 0x1);
        gbc.writeMem(0x2dc4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x96f);
        EXPECT(gbc.pc(), 0x2dc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0024
        gbc.setState(0x968b, 0xd7a1, 0xa9a0, 0xf345, 0x5430, 0x30d0, 0x1, 0x0);
        gbc.writeMem(0x968b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd7a1);
        EXPECT(gbc.pc(), 0x968d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x968b), 0xcb);
        EXPECT(gbc.readMem(0x968c), 0x2d);
        // CB 2D 0025
        gbc.setState(0x6e28, 0x82bd, 0xd740, 0x7aea, 0x60ed, 0x52e3, 0x0, 0x0);
        gbc.writeMem(0x6e28, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x82bd);
        EXPECT(gbc.pc(), 0x6e2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0026
        gbc.setState(0x1805, 0x7f2e, 0xfc00, 0xf8c0, 0x6f, 0xae60, 0x0, 0x0);
        gbc.writeMem(0x1805, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x7f2e);
        EXPECT(gbc.pc(), 0x1807);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0027
        gbc.setState(0x6e7e, 0x7b6f, 0x7490, 0x6df6, 0x3738, 0xc4b6, 0x0, 0x0);
        gbc.writeMem(0x6e7e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x7b6f);
        EXPECT(gbc.pc(), 0x6e80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0028
        gbc.setState(0xa0ba, 0xe44a, 0xfb00, 0x3fe8, 0x4a1b, 0x973e, 0x0, 0x1);
        gbc.writeMem(0xa0ba, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xe44a);
        EXPECT(gbc.pc(), 0xa0bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0ba), 0xcb);
        EXPECT(gbc.readMem(0xa0bb), 0x2d);
        // CB 2D 0029
        gbc.setState(0x2f56, 0x840f, 0xf350, 0x1c61, 0x39c7, 0x3f80, 0x0, 0x0);
        gbc.writeMem(0x2f56, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x840f);
        EXPECT(gbc.pc(), 0x2f58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 002A
        gbc.setState(0x1148, 0xf392, 0x80c0, 0x2eb7, 0x9810, 0x2371, 0x0, 0x0);
        gbc.writeMem(0x1148, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xf392);
        EXPECT(gbc.pc(), 0x114a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 002B
        gbc.setState(0xeea5, 0x840, 0x1f80, 0x699, 0xe6a7, 0x266d, 0x1, 0x0);
        gbc.writeMem(0xeea5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x840);
        EXPECT(gbc.pc(), 0xeea7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeea5), 0xcb);
        EXPECT(gbc.readMem(0xeea6), 0x2d);
        // CB 2D 002C
        gbc.setState(0xe3d9, 0x7e59, 0x8400, 0x51b9, 0xe64e, 0x4a36, 0x0, 0x1);
        gbc.writeMem(0xe3d9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x7e59);
        EXPECT(gbc.pc(), 0xe3db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3d9), 0xcb);
        EXPECT(gbc.readMem(0xe3da), 0x2d);
        // CB 2D 002D
        gbc.setState(0x3fb5, 0x4225, 0x1890, 0x60ed, 0x6a48, 0x10c4, 0x1, 0x0);
        gbc.writeMem(0x3fb5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x4225);
        EXPECT(gbc.pc(), 0x3fb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 002E
        gbc.setState(0x9384, 0x55cb, 0x8980, 0x874, 0x9d9b, 0xcb41, 0x0, 0x1);
        gbc.writeMem(0x9384, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x55cb);
        EXPECT(gbc.pc(), 0x9386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9384), 0xcb);
        EXPECT(gbc.readMem(0x9385), 0x2d);
        // CB 2D 0030
        gbc.setState(0x426e, 0x43c1, 0x1a50, 0x8334, 0xca87, 0xe377, 0x0, 0x1);
        gbc.writeMem(0x426e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x43c1);
        EXPECT(gbc.pc(), 0x4270);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0031
        gbc.setState(0xac55, 0x1207, 0x3470, 0x562f, 0x997a, 0x6912, 0x1, 0x0);
        gbc.writeMem(0xac55, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1207);
        EXPECT(gbc.pc(), 0xac57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac55), 0xcb);
        EXPECT(gbc.readMem(0xac56), 0x2d);
        // CB 2D 0032
        gbc.setState(0x1640, 0xe9c7, 0xc810, 0xd871, 0x2bbf, 0xaa65, 0x1, 0x1);
        gbc.writeMem(0x1640, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe9c7);
        EXPECT(gbc.pc(), 0x1642);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0033
        gbc.setState(0xdc59, 0xf00e, 0x8f40, 0xbf3a, 0x6ded, 0xaf3c, 0x1, 0x1);
        gbc.writeMem(0xdc59, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf00e);
        EXPECT(gbc.pc(), 0xdc5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc59), 0xcb);
        EXPECT(gbc.readMem(0xdc5a), 0x2d);
        // CB 2D 0034
        gbc.setState(0xe74e, 0xe640, 0xce90, 0x40, 0x9df9, 0x3d67, 0x0, 0x1);
        gbc.writeMem(0xe74e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe640);
        EXPECT(gbc.pc(), 0xe750);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe74e), 0xcb);
        EXPECT(gbc.readMem(0xe74f), 0x2d);
        // CB 2D 0035
        gbc.setState(0xc328, 0x1bc0, 0xf270, 0xe6da, 0x48d1, 0xe8aa, 0x1, 0x0);
        gbc.writeMem(0xc328, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1bc0);
        EXPECT(gbc.pc(), 0xc32a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc328), 0xcb);
        EXPECT(gbc.readMem(0xc329), 0x2d);
        // CB 2D 0036
        gbc.setState(0xeb00, 0x7383, 0xd710, 0x2aec, 0x7a27, 0xe2bb, 0x1, 0x1);
        gbc.writeMem(0xeb00, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x7383);
        EXPECT(gbc.pc(), 0xeb02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb00), 0xcb);
        EXPECT(gbc.readMem(0xeb01), 0x2d);
        // CB 2D 0037
        gbc.setState(0x1813, 0xdbc6, 0x3780, 0xb66a, 0x94ec, 0xae79, 0x0, 0x1);
        gbc.writeMem(0x1813, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xdbc6);
        EXPECT(gbc.pc(), 0x1815);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0038
        gbc.setState(0x34b3, 0x7d58, 0x2fc0, 0xf21b, 0x7c1a, 0xf993, 0x1, 0x1);
        gbc.writeMem(0x34b3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7d58);
        EXPECT(gbc.pc(), 0x34b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0039
        gbc.setState(0xd30, 0xbc94, 0xe360, 0xeb1d, 0xd27d, 0xa3f2, 0x0, 0x1);
        gbc.writeMem(0xd30, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xbc94);
        EXPECT(gbc.pc(), 0xd32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 003A
        gbc.setState(0xe2e2, 0x99f8, 0xa8c0, 0xd56e, 0x7ab6, 0xc60a, 0x1, 0x0);
        gbc.writeMem(0xe2e2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x99f8);
        EXPECT(gbc.pc(), 0xe2e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2e2), 0xcb);
        EXPECT(gbc.readMem(0xe2e3), 0x2d);
        // CB 2D 003B
        gbc.setState(0x39d4, 0x4b3a, 0x8e90, 0xbc9b, 0xc098, 0xccbc, 0x0, 0x0);
        gbc.writeMem(0x39d4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x4b3a);
        EXPECT(gbc.pc(), 0x39d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 003C
        gbc.setState(0x52e7, 0xa259, 0x8780, 0xf85a, 0xea2a, 0xa96e, 0x1, 0x1);
        gbc.writeMem(0x52e7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xa259);
        EXPECT(gbc.pc(), 0x52e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 003D
        gbc.setState(0x61f, 0x8340, 0x37b0, 0x29ab, 0x4984, 0x6998, 0x1, 0x0);
        gbc.writeMem(0x61f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x8340);
        EXPECT(gbc.pc(), 0x621);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 003E
        gbc.setState(0xd3c7, 0x1709, 0xbbd0, 0xcca4, 0xb679, 0xdd9, 0x1, 0x0);
        gbc.writeMem(0xd3c7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x1709);
        EXPECT(gbc.pc(), 0xd3c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3c7), 0xcb);
        EXPECT(gbc.readMem(0xd3c8), 0x2d);
        // CB 2D 003F
        gbc.setState(0x1055, 0x727e, 0xcf30, 0xb078, 0x43c9, 0xa214, 0x1, 0x1);
        gbc.writeMem(0x1055, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x727e);
        EXPECT(gbc.pc(), 0x1057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0040
        gbc.setState(0x29d5, 0xd367, 0xe5f0, 0x8b2a, 0xac85, 0x4, 0x1, 0x1);
        gbc.writeMem(0x29d5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xd367);
        EXPECT(gbc.pc(), 0x29d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0041
        gbc.setState(0x1d9d, 0xa527, 0xb4e0, 0xa6e6, 0xd8e1, 0xf66a, 0x0, 0x1);
        gbc.writeMem(0x1d9d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xa527);
        EXPECT(gbc.pc(), 0x1d9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0042
        gbc.setState(0x726c, 0xe9aa, 0xf0d0, 0x6e1c, 0x13c0, 0x5039, 0x1, 0x1);
        gbc.writeMem(0x726c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe9aa);
        EXPECT(gbc.pc(), 0x726e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0043
        gbc.setState(0xc5c9, 0xd5cb, 0x5d20, 0x5d9d, 0x40f4, 0x98da, 0x1, 0x1);
        gbc.writeMem(0xc5c9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xd5cb);
        EXPECT(gbc.pc(), 0xc5cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5c9), 0xcb);
        EXPECT(gbc.readMem(0xc5ca), 0x2d);
        // CB 2D 0044
        gbc.setState(0x16c2, 0xad13, 0x43c0, 0x7cd4, 0x5400, 0x68ca, 0x0, 0x1);
        gbc.writeMem(0x16c2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xad13);
        EXPECT(gbc.pc(), 0x16c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0045
        gbc.setState(0x5d82, 0x9274, 0xece0, 0x6336, 0x825b, 0xb9af, 0x1, 0x1);
        gbc.writeMem(0x5d82, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x9274);
        EXPECT(gbc.pc(), 0x5d84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0046
        gbc.setState(0x82ef, 0xbdd7, 0xcf00, 0x856, 0x94c5, 0xc74b, 0x0, 0x1);
        gbc.writeMem(0x82ef, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xbdd7);
        EXPECT(gbc.pc(), 0x82f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82ef), 0xcb);
        EXPECT(gbc.readMem(0x82f0), 0x2d);
        // CB 2D 0047
        gbc.setState(0x8c76, 0xa356, 0xd8c0, 0x2fb0, 0x9896, 0xd4a2, 0x1, 0x0);
        gbc.writeMem(0x8c76, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xa356);
        EXPECT(gbc.pc(), 0x8c78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c76), 0xcb);
        EXPECT(gbc.readMem(0x8c77), 0x2d);
        // CB 2D 0048
        gbc.setState(0xce76, 0x3be3, 0xbbd0, 0x573c, 0xba25, 0x9fba, 0x1, 0x1);
        gbc.writeMem(0xce76, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3be3);
        EXPECT(gbc.pc(), 0xce78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce76), 0xcb);
        EXPECT(gbc.readMem(0xce77), 0x2d);
        // CB 2D 0049
        gbc.setState(0x8fa9, 0xb1ee, 0x3280, 0x3385, 0xa5c1, 0xcab9, 0x1, 0x1);
        gbc.writeMem(0x8fa9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb1ee);
        EXPECT(gbc.pc(), 0x8fab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fa9), 0xcb);
        EXPECT(gbc.readMem(0x8faa), 0x2d);
        // CB 2D 004A
        gbc.setState(0x34cb, 0xeb9b, 0xe560, 0xb8e7, 0x9f0b, 0xf639, 0x0, 0x1);
        gbc.writeMem(0x34cb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xeb9b);
        EXPECT(gbc.pc(), 0x34cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 004B
        gbc.setState(0x4027, 0x2da5, 0x97f0, 0xc0f2, 0x96a3, 0x614e, 0x0, 0x0);
        gbc.writeMem(0x4027, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2da5);
        EXPECT(gbc.pc(), 0x4029);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 004C
        gbc.setState(0x993a, 0x8c62, 0x93b0, 0x8ada, 0x6e33, 0x4653, 0x1, 0x0);
        gbc.writeMem(0x993a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8c62);
        EXPECT(gbc.pc(), 0x993c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x993a), 0xcb);
        EXPECT(gbc.readMem(0x993b), 0x2d);
        // CB 2D 004D
        gbc.setState(0x843, 0x2036, 0x94e0, 0x1c3e, 0x5e5b, 0x969d, 0x1, 0x1);
        gbc.writeMem(0x843, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x2036);
        EXPECT(gbc.pc(), 0x845);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 004E
        gbc.setState(0x7103, 0xe65d, 0x2cb0, 0x2e7, 0x24cd, 0x5cae, 0x0, 0x1);
        gbc.writeMem(0x7103, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xe65d);
        EXPECT(gbc.pc(), 0x7105);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 004F
        gbc.setState(0x4125, 0x97ba, 0xd0f0, 0x4c8c, 0x90dc, 0xa159, 0x0, 0x1);
        gbc.writeMem(0x4125, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x97ba);
        EXPECT(gbc.pc(), 0x4127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0050
        gbc.setState(0x9fab, 0x4e2a, 0x26d0, 0xd3f2, 0x5359, 0xd06a, 0x0, 0x1);
        gbc.writeMem(0x9fab, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4e2a);
        EXPECT(gbc.pc(), 0x9fad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fab), 0xcb);
        EXPECT(gbc.readMem(0x9fac), 0x2d);
        // CB 2D 0051
        gbc.setState(0x725, 0x585f, 0x80a0, 0xce8d, 0x87cb, 0x16d0, 0x0, 0x0);
        gbc.writeMem(0x725, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x585f);
        EXPECT(gbc.pc(), 0x727);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0052
        gbc.setState(0xdad9, 0x4887, 0x2370, 0x7305, 0x5f13, 0x5e43, 0x1, 0x0);
        gbc.writeMem(0xdad9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x4887);
        EXPECT(gbc.pc(), 0xdadb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdad9), 0xcb);
        EXPECT(gbc.readMem(0xdada), 0x2d);
        // CB 2D 0053
        gbc.setState(0xb536, 0xbd8f, 0xe300, 0x470e, 0xeda, 0xe97f, 0x1, 0x0);
        gbc.writeMem(0xb536, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbd8f);
        EXPECT(gbc.pc(), 0xb538);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb536), 0xcb);
        EXPECT(gbc.readMem(0xb537), 0x2d);
        // CB 2D 0054
        gbc.setState(0x9bdb, 0xee00, 0x4000, 0x13e6, 0xf9ab, 0xa4b5, 0x1, 0x0);
        gbc.writeMem(0x9bdb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xee00);
        EXPECT(gbc.pc(), 0x9bdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bdb), 0xcb);
        EXPECT(gbc.readMem(0x9bdc), 0x2d);
        // CB 2D 0055
        gbc.setState(0x49eb, 0xe97b, 0xd070, 0xa0a6, 0x98d8, 0xce22, 0x1, 0x1);
        gbc.writeMem(0x49eb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe97b);
        EXPECT(gbc.pc(), 0x49ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0056
        gbc.setState(0x2ff1, 0x16da, 0xd040, 0x3d43, 0xc2d8, 0x7137, 0x0, 0x0);
        gbc.writeMem(0x2ff1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x16da);
        EXPECT(gbc.pc(), 0x2ff3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0058
        gbc.setState(0xe90c, 0x44a9, 0x2e00, 0xbe18, 0xe9bf, 0x1b67, 0x0, 0x1);
        gbc.writeMem(0xe90c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x44a9);
        EXPECT(gbc.pc(), 0xe90e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe90c), 0xcb);
        EXPECT(gbc.readMem(0xe90d), 0x2d);
        // CB 2D 005A
        gbc.setState(0xdc38, 0x37a8, 0xf2c0, 0x6637, 0xf873, 0x6bb0, 0x1, 0x1);
        gbc.writeMem(0xdc38, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x37a8);
        EXPECT(gbc.pc(), 0xdc3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc38), 0xcb);
        EXPECT(gbc.readMem(0xdc39), 0x2d);
        // CB 2D 005B
        gbc.setState(0x3204, 0x1c0a, 0xe8d0, 0x10f8, 0xcb66, 0xd24a, 0x0, 0x1);
        gbc.writeMem(0x3204, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1c0a);
        EXPECT(gbc.pc(), 0x3206);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 005C
        gbc.setState(0xe0c2, 0xb39b, 0x5a10, 0x4bad, 0xa81f, 0x551f, 0x1, 0x0);
        gbc.writeMem(0xe0c2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xb39b);
        EXPECT(gbc.pc(), 0xe0c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0c2), 0xcb);
        EXPECT(gbc.readMem(0xe0c3), 0x2d);
        // CB 2D 005D
        gbc.setState(0x1c48, 0xc97d, 0x8e80, 0x7d25, 0xaa9f, 0xd53a, 0x0, 0x0);
        gbc.writeMem(0x1c48, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc97d);
        EXPECT(gbc.pc(), 0x1c4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 005E
        gbc.setState(0xb1cc, 0xb1d1, 0xd570, 0xfdd6, 0xd84b, 0x6942, 0x1, 0x0);
        gbc.writeMem(0xb1cc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb1d1);
        EXPECT(gbc.pc(), 0xb1ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1cc), 0xcb);
        EXPECT(gbc.readMem(0xb1cd), 0x2d);
        // CB 2D 005F
        gbc.setState(0x2eca, 0x7ffe, 0xc080, 0x387c, 0x398f, 0xfbfd, 0x1, 0x0);
        gbc.writeMem(0x2eca, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7ffe);
        EXPECT(gbc.pc(), 0x2ecc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0060
        gbc.setState(0x4eb1, 0x7028, 0x5340, 0x4b28, 0x1f1c, 0x6f9b, 0x1, 0x1);
        gbc.writeMem(0x4eb1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x7028);
        EXPECT(gbc.pc(), 0x4eb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0061
        gbc.setState(0x22cc, 0xed3e, 0xecb0, 0xe394, 0x8959, 0xbcc2, 0x0, 0x1);
        gbc.writeMem(0x22cc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xed3e);
        EXPECT(gbc.pc(), 0x22ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0062
        gbc.setState(0x9125, 0xe93b, 0x4f40, 0x7af, 0x24b1, 0x11d7, 0x0, 0x1);
        gbc.writeMem(0x9125, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe93b);
        EXPECT(gbc.pc(), 0x9127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9125), 0xcb);
        EXPECT(gbc.readMem(0x9126), 0x2d);
        // CB 2D 0063
        gbc.setState(0x7e5e, 0x35ad, 0xe660, 0x5e2d, 0x259b, 0x1354, 0x0, 0x1);
        gbc.writeMem(0x7e5e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x35ad);
        EXPECT(gbc.pc(), 0x7e60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0064
        gbc.setState(0x2fd7, 0x21b1, 0x230, 0x5f12, 0x13df, 0xf971, 0x0, 0x1);
        gbc.writeMem(0x2fd7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x21b1);
        EXPECT(gbc.pc(), 0x2fd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0065
        gbc.setState(0x8d07, 0xfa1d, 0x6000, 0xf236, 0x6586, 0xd674, 0x0, 0x0);
        gbc.writeMem(0x8d07, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xfa1d);
        EXPECT(gbc.pc(), 0x8d09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d07), 0xcb);
        EXPECT(gbc.readMem(0x8d08), 0x2d);
        // CB 2D 0066
        gbc.setState(0x8a4, 0xad9f, 0x23e0, 0xb8ad, 0x68c7, 0x862e, 0x0, 0x0);
        gbc.writeMem(0x8a4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xad9f);
        EXPECT(gbc.pc(), 0x8a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0067
        gbc.setState(0x8188, 0xbf18, 0x3a80, 0x3e93, 0x15a4, 0x715a, 0x0, 0x1);
        gbc.writeMem(0x8188, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xbf18);
        EXPECT(gbc.pc(), 0x818a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8188), 0xcb);
        EXPECT(gbc.readMem(0x8189), 0x2d);
        // CB 2D 0068
        gbc.setState(0x899f, 0x8048, 0xaf20, 0x4a8f, 0xa76a, 0x78c6, 0x1, 0x0);
        gbc.writeMem(0x899f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8048);
        EXPECT(gbc.pc(), 0x89a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x899f), 0xcb);
        EXPECT(gbc.readMem(0x89a0), 0x2d);
        // CB 2D 0069
        gbc.setState(0xcb06, 0x853a, 0x7be0, 0x7710, 0xe97d, 0x7ba2, 0x1, 0x1);
        gbc.writeMem(0xcb06, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x853a);
        EXPECT(gbc.pc(), 0xcb08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb06), 0xcb);
        EXPECT(gbc.readMem(0xcb07), 0x2d);
        // CB 2D 006A
        gbc.setState(0x44d8, 0x427e, 0xb2b0, 0x28b6, 0xe782, 0xa8, 0x1, 0x1);
        gbc.writeMem(0x44d8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x427e);
        EXPECT(gbc.pc(), 0x44da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 006B
        gbc.setState(0x4211, 0x2a17, 0x5890, 0xe3ff, 0x9895, 0xed91, 0x1, 0x1);
        gbc.writeMem(0x4211, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2a17);
        EXPECT(gbc.pc(), 0x4213);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 006C
        gbc.setState(0x9b0b, 0xcf21, 0x5290, 0xcc53, 0x6ad2, 0xbf8f, 0x1, 0x1);
        gbc.writeMem(0x9b0b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xcf21);
        EXPECT(gbc.pc(), 0x9b0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b0b), 0xcb);
        EXPECT(gbc.readMem(0x9b0c), 0x2d);
        // CB 2D 006D
        gbc.setState(0xc1bb, 0xb1b6, 0x68c0, 0xa161, 0xd2bc, 0x74e5, 0x1, 0x0);
        gbc.writeMem(0xc1bb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb1b6);
        EXPECT(gbc.pc(), 0xc1bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1bb), 0xcb);
        EXPECT(gbc.readMem(0xc1bc), 0x2d);
        // CB 2D 006E
        gbc.setState(0xedf5, 0x8865, 0x74f0, 0xdff6, 0x7f72, 0x680f, 0x1, 0x0);
        gbc.writeMem(0xedf5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8865);
        EXPECT(gbc.pc(), 0xedf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedf5), 0xcb);
        EXPECT(gbc.readMem(0xedf6), 0x2d);
        // CB 2D 006F
        gbc.setState(0x3396, 0x7b19, 0xf250, 0xd3e4, 0x891f, 0x8a53, 0x1, 0x0);
        gbc.writeMem(0x3396, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x7b19);
        EXPECT(gbc.pc(), 0x3398);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0070
        gbc.setState(0x6603, 0x9944, 0x8df0, 0x71c2, 0x4caf, 0xa87e, 0x0, 0x0);
        gbc.writeMem(0x6603, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9944);
        EXPECT(gbc.pc(), 0x6605);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0071
        gbc.setState(0xaf98, 0xcc61, 0xf580, 0xa290, 0x16f0, 0xdcc3, 0x0, 0x0);
        gbc.writeMem(0xaf98, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xcc61);
        EXPECT(gbc.pc(), 0xaf9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf98), 0xcb);
        EXPECT(gbc.readMem(0xaf99), 0x2d);
        // CB 2D 0072
        gbc.setState(0x26b7, 0x4b44, 0x8820, 0x562c, 0x42b2, 0x9851, 0x0, 0x1);
        gbc.writeMem(0x26b7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4b44);
        EXPECT(gbc.pc(), 0x26b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0073
        gbc.setState(0xe0b0, 0x44dc, 0xecb0, 0x8e94, 0x3061, 0x6d7b, 0x0, 0x0);
        gbc.writeMem(0xe0b0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x44dc);
        EXPECT(gbc.pc(), 0xe0b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0b0), 0xcb);
        EXPECT(gbc.readMem(0xe0b1), 0x2d);
        // CB 2D 0074
        gbc.setState(0xab9a, 0xe51c, 0xda0, 0x2ef4, 0x482f, 0x91b1, 0x0, 0x1);
        gbc.writeMem(0xab9a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xe51c);
        EXPECT(gbc.pc(), 0xab9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab9a), 0xcb);
        EXPECT(gbc.readMem(0xab9b), 0x2d);
        // CB 2D 0075
        gbc.setState(0x65be, 0x635f, 0x2050, 0xb43e, 0x3540, 0xac5e, 0x1, 0x1);
        gbc.writeMem(0x65be, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x635f);
        EXPECT(gbc.pc(), 0x65c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0076
        gbc.setState(0xb387, 0x8234, 0x9510, 0xacd9, 0xe2a4, 0xb6ab, 0x0, 0x1);
        gbc.writeMem(0xb387, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8234);
        EXPECT(gbc.pc(), 0xb389);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb387), 0xcb);
        EXPECT(gbc.readMem(0xb388), 0x2d);
        // CB 2D 0078
        gbc.setState(0xd6dd, 0xdcac, 0x8640, 0x2aa0, 0x8410, 0xc833, 0x0, 0x0);
        gbc.writeMem(0xd6dd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xdcac);
        EXPECT(gbc.pc(), 0xd6df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6dd), 0xcb);
        EXPECT(gbc.readMem(0xd6de), 0x2d);
        // CB 2D 0079
        gbc.setState(0xcb6f, 0xa922, 0xd650, 0x719d, 0x3111, 0x2c07, 0x0, 0x0);
        gbc.writeMem(0xcb6f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa922);
        EXPECT(gbc.pc(), 0xcb71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb6f), 0xcb);
        EXPECT(gbc.readMem(0xcb70), 0x2d);
        // CB 2D 007A
        gbc.setState(0xa995, 0xbf8f, 0x6390, 0xbf47, 0x5733, 0x77b, 0x0, 0x1);
        gbc.writeMem(0xa995, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xbf8f);
        EXPECT(gbc.pc(), 0xa997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa995), 0xcb);
        EXPECT(gbc.readMem(0xa996), 0x2d);
        // CB 2D 007B
        gbc.setState(0x4b2a, 0x74c2, 0x5330, 0x89ef, 0xa5d2, 0x1b41, 0x0, 0x1);
        gbc.writeMem(0x4b2a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x74c2);
        EXPECT(gbc.pc(), 0x4b2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 007C
        gbc.setState(0x8bc2, 0x44c, 0xc4d0, 0x72c2, 0xe138, 0x6607, 0x0, 0x1);
        gbc.writeMem(0x8bc2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x44c);
        EXPECT(gbc.pc(), 0x8bc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bc2), 0xcb);
        EXPECT(gbc.readMem(0x8bc3), 0x2d);
        // CB 2D 007D
        gbc.setState(0x2884, 0x8020, 0x9150, 0x39db, 0x3693, 0x1450, 0x0, 0x0);
        gbc.writeMem(0x2884, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x8020);
        EXPECT(gbc.pc(), 0x2886);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 007E
        gbc.setState(0x2368, 0x70c5, 0x8050, 0x11e2, 0x76d6, 0xd434, 0x0, 0x0);
        gbc.writeMem(0x2368, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x70c5);
        EXPECT(gbc.pc(), 0x236a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0080
        gbc.setState(0x7a90, 0xb83a, 0x2ad0, 0x612c, 0xb9cf, 0x97ed, 0x1, 0x1);
        gbc.writeMem(0x7a90, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb83a);
        EXPECT(gbc.pc(), 0x7a92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0081
        gbc.setState(0x3945, 0xce0, 0x5bd0, 0xebd1, 0x4a57, 0x62e6, 0x0, 0x0);
        gbc.writeMem(0x3945, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xce0);
        EXPECT(gbc.pc(), 0x3947);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0082
        gbc.setState(0x5c8d, 0x2f87, 0x55b0, 0x912b, 0xe73d, 0xbaaf, 0x1, 0x1);
        gbc.writeMem(0x5c8d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x2f87);
        EXPECT(gbc.pc(), 0x5c8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0083
        gbc.setState(0xeacf, 0x8038, 0xa3b0, 0x51d9, 0x68d5, 0xb1d2, 0x0, 0x0);
        gbc.writeMem(0xeacf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8038);
        EXPECT(gbc.pc(), 0xead1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeacf), 0xcb);
        EXPECT(gbc.readMem(0xead0), 0x2d);
        // CB 2D 0084
        gbc.setState(0x35eb, 0x143c, 0xa780, 0x3fa5, 0x16fe, 0x40e, 0x1, 0x1);
        gbc.writeMem(0x35eb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x143c);
        EXPECT(gbc.pc(), 0x35ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0085
        gbc.setState(0x6eee, 0x1074, 0xf520, 0x6383, 0x5892, 0x20f6, 0x0, 0x0);
        gbc.writeMem(0x6eee, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1074);
        EXPECT(gbc.pc(), 0x6ef0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0086
        gbc.setState(0xb6e0, 0x6bf1, 0x38d0, 0x7dcc, 0xc674, 0xd91e, 0x0, 0x0);
        gbc.writeMem(0xb6e0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x6bf1);
        EXPECT(gbc.pc(), 0xb6e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6e0), 0xcb);
        EXPECT(gbc.readMem(0xb6e1), 0x2d);
        // CB 2D 0087
        gbc.setState(0xa39c, 0x222a, 0xa820, 0x2e5b, 0xd197, 0xc1e8, 0x0, 0x0);
        gbc.writeMem(0xa39c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x222a);
        EXPECT(gbc.pc(), 0xa39e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa39c), 0xcb);
        EXPECT(gbc.readMem(0xa39d), 0x2d);
        // CB 2D 0088
        gbc.setState(0xcb65, 0xd108, 0x580, 0xa601, 0x32a5, 0xf7bf, 0x0, 0x1);
        gbc.writeMem(0xcb65, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xd108);
        EXPECT(gbc.pc(), 0xcb67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb65), 0xcb);
        EXPECT(gbc.readMem(0xcb66), 0x2d);
        // CB 2D 0089
        gbc.setState(0x20f0, 0xc62b, 0xddd0, 0x771b, 0xc0c8, 0x19d4, 0x0, 0x0);
        gbc.writeMem(0x20f0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc62b);
        EXPECT(gbc.pc(), 0x20f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 008A
        gbc.setState(0xd202, 0x9133, 0x83b0, 0xd875, 0xf823, 0x6c41, 0x1, 0x1);
        gbc.writeMem(0xd202, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9133);
        EXPECT(gbc.pc(), 0xd204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd202), 0xcb);
        EXPECT(gbc.readMem(0xd203), 0x2d);
        // CB 2D 008B
        gbc.setState(0x620d, 0x585d, 0xfaa0, 0xa9df, 0xdd1, 0x847, 0x1, 0x1);
        gbc.writeMem(0x620d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x585d);
        EXPECT(gbc.pc(), 0x620f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 008C
        gbc.setState(0xdba, 0x3a26, 0xd490, 0x7a75, 0x84d5, 0x1d5c, 0x1, 0x1);
        gbc.writeMem(0xdba, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3a26);
        EXPECT(gbc.pc(), 0xdbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 008D
        gbc.setState(0xb2e2, 0x3631, 0xa8b0, 0x21d0, 0x9fde, 0xccae, 0x0, 0x0);
        gbc.writeMem(0xb2e2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x3631);
        EXPECT(gbc.pc(), 0xb2e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2e2), 0xcb);
        EXPECT(gbc.readMem(0xb2e3), 0x2d);
        // CB 2D 008E
        gbc.setState(0x4165, 0x556e, 0x70f0, 0xb008, 0x658f, 0x9a5d, 0x0, 0x0);
        gbc.writeMem(0x4165, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x556e);
        EXPECT(gbc.pc(), 0x4167);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 008F
        gbc.setState(0xd7d8, 0x979, 0xe080, 0x9acb, 0xbc10, 0xb3b, 0x1, 0x1);
        gbc.writeMem(0xd7d8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x979);
        EXPECT(gbc.pc(), 0xd7da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7d8), 0xcb);
        EXPECT(gbc.readMem(0xd7d9), 0x2d);
        // CB 2D 0090
        gbc.setState(0xee2d, 0xdf55, 0xe290, 0x5f1d, 0xe60b, 0x8571, 0x1, 0x1);
        gbc.writeMem(0xee2d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xdf55);
        EXPECT(gbc.pc(), 0xee2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee2d), 0xcb);
        EXPECT(gbc.readMem(0xee2e), 0x2d);
        // CB 2D 0091
        gbc.setState(0x6a87, 0xaff5, 0xb660, 0x23c2, 0x2b0f, 0xfcbc, 0x0, 0x0);
        gbc.writeMem(0x6a87, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xaff5);
        EXPECT(gbc.pc(), 0x6a89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0092
        gbc.setState(0x3cc0, 0x42f0, 0xcc50, 0x60b0, 0x25b4, 0x9ad9, 0x0, 0x0);
        gbc.writeMem(0x3cc0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x42f0);
        EXPECT(gbc.pc(), 0x3cc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0095
        gbc.setState(0xc1af, 0xb948, 0xba40, 0xfb81, 0x7266, 0xa78f, 0x0, 0x0);
        gbc.writeMem(0xc1af, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xb948);
        EXPECT(gbc.pc(), 0xc1b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1af), 0xcb);
        EXPECT(gbc.readMem(0xc1b0), 0x2d);
        // CB 2D 0096
        gbc.setState(0x6c9a, 0xcf57, 0x6930, 0xe42d, 0xc4ea, 0x80b6, 0x0, 0x1);
        gbc.writeMem(0x6c9a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xcf57);
        EXPECT(gbc.pc(), 0x6c9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0097
        gbc.setState(0x719, 0x390c, 0x46b0, 0xa7d5, 0x663f, 0xd184, 0x1, 0x1);
        gbc.writeMem(0x719, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x390c);
        EXPECT(gbc.pc(), 0x71b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0098
        gbc.setState(0xe476, 0x9179, 0x60b0, 0x82ef, 0xe9d2, 0xbd9c, 0x0, 0x1);
        gbc.writeMem(0xe476, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9179);
        EXPECT(gbc.pc(), 0xe478);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe476), 0xcb);
        EXPECT(gbc.readMem(0xe477), 0x2d);
        // CB 2D 0099
        gbc.setState(0x1c60, 0x39f9, 0x3500, 0x45c, 0x704, 0x98f5, 0x1, 0x1);
        gbc.writeMem(0x1c60, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x39f9);
        EXPECT(gbc.pc(), 0x1c62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 009A
        gbc.setState(0x96ea, 0xa61d, 0x8b0, 0x38c, 0x2be9, 0x2a26, 0x0, 0x1);
        gbc.writeMem(0x96ea, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa61d);
        EXPECT(gbc.pc(), 0x96ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ea), 0xcb);
        EXPECT(gbc.readMem(0x96eb), 0x2d);
        // CB 2D 009B
        gbc.setState(0x3d19, 0x8b55, 0xaf80, 0x647b, 0x14b6, 0x208c, 0x1, 0x0);
        gbc.writeMem(0x3d19, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8b55);
        EXPECT(gbc.pc(), 0x3d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 009C
        gbc.setState(0xb671, 0x98d2, 0xd000, 0xd716, 0x1d3b, 0x7f91, 0x1, 0x1);
        gbc.writeMem(0xb671, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x98d2);
        EXPECT(gbc.pc(), 0xb673);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb671), 0xcb);
        EXPECT(gbc.readMem(0xb672), 0x2d);
        // CB 2D 009D
        gbc.setState(0x3e86, 0xef89, 0xd150, 0x3f9a, 0x8a78, 0x309b, 0x1, 0x1);
        gbc.writeMem(0x3e86, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xef89);
        EXPECT(gbc.pc(), 0x3e88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 009E
        gbc.setState(0x8fd2, 0x7121, 0x5e80, 0xaa37, 0x91ac, 0xe85d, 0x1, 0x0);
        gbc.writeMem(0x8fd2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7121);
        EXPECT(gbc.pc(), 0x8fd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fd2), 0xcb);
        EXPECT(gbc.readMem(0x8fd3), 0x2d);
        // CB 2D 009F
        gbc.setState(0xb160, 0x563a, 0x2800, 0x7f3e, 0x56c9, 0xd7ad, 0x0, 0x1);
        gbc.writeMem(0xb160, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x563a);
        EXPECT(gbc.pc(), 0xb162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb160), 0xcb);
        EXPECT(gbc.readMem(0xb161), 0x2d);
        // CB 2D 00A1
        gbc.setState(0x6ebd, 0x4247, 0x3c70, 0x4ce8, 0x6cb, 0x52a0, 0x1, 0x1);
        gbc.writeMem(0x6ebd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x4247);
        EXPECT(gbc.pc(), 0x6ebf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00A3
        gbc.setState(0x2c20, 0x74d7, 0x3670, 0x20f2, 0x5d1, 0xf041, 0x1, 0x0);
        gbc.writeMem(0x2c20, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x74d7);
        EXPECT(gbc.pc(), 0x2c22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00A4
        gbc.setState(0xbd49, 0x3d2f, 0x6920, 0xf52b, 0x9dd1, 0xf662, 0x0, 0x0);
        gbc.writeMem(0xbd49, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3d2f);
        EXPECT(gbc.pc(), 0xbd4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd49), 0xcb);
        EXPECT(gbc.readMem(0xbd4a), 0x2d);
        // CB 2D 00A6
        gbc.setState(0x5bc0, 0x6632, 0x4af0, 0x1437, 0x3e88, 0x8aeb, 0x0, 0x0);
        gbc.writeMem(0x5bc0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x6632);
        EXPECT(gbc.pc(), 0x5bc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00A7
        gbc.setState(0xa08, 0xc415, 0x3b00, 0xf5e9, 0x932d, 0x258c, 0x1, 0x0);
        gbc.writeMem(0xa08, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc415);
        EXPECT(gbc.pc(), 0xa0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00A8
        gbc.setState(0x5241, 0x9ac4, 0x6dd0, 0x5e25, 0x8af5, 0xf64c, 0x1, 0x0);
        gbc.writeMem(0x5241, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x9ac4);
        EXPECT(gbc.pc(), 0x5243);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00A9
        gbc.setState(0x6d64, 0x6f04, 0x6480, 0x59e, 0x141b, 0x6ffb, 0x0, 0x0);
        gbc.writeMem(0x6d64, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x6f04);
        EXPECT(gbc.pc(), 0x6d66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00AA
        gbc.setState(0xb25, 0xeefd, 0x3340, 0x63ad, 0xaa8b, 0x3896, 0x0, 0x1);
        gbc.writeMem(0xb25, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xeefd);
        EXPECT(gbc.pc(), 0xb27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00AB
        gbc.setState(0x934d, 0x9840, 0x6ae0, 0xe9ee, 0xd19d, 0x22e3, 0x0, 0x0);
        gbc.writeMem(0x934d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9840);
        EXPECT(gbc.pc(), 0x934f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x934d), 0xcb);
        EXPECT(gbc.readMem(0x934e), 0x2d);
        // CB 2D 00AC
        gbc.setState(0xdc59, 0xc1e8, 0xc050, 0x4413, 0xe504, 0x1e33, 0x1, 0x0);
        gbc.writeMem(0xdc59, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xc1e8);
        EXPECT(gbc.pc(), 0xdc5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc59), 0xcb);
        EXPECT(gbc.readMem(0xdc5a), 0x2d);
        // CB 2D 00AD
        gbc.setState(0xe96e, 0x1858, 0x8cf0, 0xb667, 0x593d, 0x329f, 0x0, 0x0);
        gbc.writeMem(0xe96e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x1858);
        EXPECT(gbc.pc(), 0xe970);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe96e), 0xcb);
        EXPECT(gbc.readMem(0xe96f), 0x2d);
        // CB 2D 00AE
        gbc.setState(0x4f02, 0xf761, 0x6230, 0x2eca, 0xa78d, 0x275e, 0x0, 0x0);
        gbc.writeMem(0x4f02, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf761);
        EXPECT(gbc.pc(), 0x4f04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00AF
        gbc.setState(0xe62f, 0xb95f, 0x8100, 0x1df4, 0x65af, 0x50d4, 0x0, 0x1);
        gbc.writeMem(0xe62f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb95f);
        EXPECT(gbc.pc(), 0xe631);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe62f), 0xcb);
        EXPECT(gbc.readMem(0xe630), 0x2d);
        // CB 2D 00B0
        gbc.setState(0x5404, 0x501f, 0xf9d0, 0x8023, 0xe65f, 0x2d4e, 0x0, 0x1);
        gbc.writeMem(0x5404, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x501f);
        EXPECT(gbc.pc(), 0x5406);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00B1
        gbc.setState(0x6eb1, 0xda2e, 0x3f70, 0x7838, 0xc841, 0xd50d, 0x1, 0x0);
        gbc.writeMem(0x6eb1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xda2e);
        EXPECT(gbc.pc(), 0x6eb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00B2
        gbc.setState(0x45af, 0x401b, 0xf010, 0x6ca9, 0xa3d1, 0x804d, 0x0, 0x1);
        gbc.writeMem(0x45af, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x401b);
        EXPECT(gbc.pc(), 0x45b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00B3
        gbc.setState(0xaee, 0x841, 0x9930, 0x7349, 0xa5b0, 0x3da8, 0x0, 0x1);
        gbc.writeMem(0xaee, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x841);
        EXPECT(gbc.pc(), 0xaf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00B4
        gbc.setState(0x867e, 0xf969, 0x6f10, 0xbdf6, 0xd27e, 0x15d6, 0x1, 0x1);
        gbc.writeMem(0x867e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf969);
        EXPECT(gbc.pc(), 0x8680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x867e), 0xcb);
        EXPECT(gbc.readMem(0x867f), 0x2d);
        // CB 2D 00B5
        gbc.setState(0xbbed, 0xa709, 0x39e0, 0x5a85, 0x5d94, 0xb1bd, 0x1, 0x1);
        gbc.writeMem(0xbbed, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa709);
        EXPECT(gbc.pc(), 0xbbef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbed), 0xcb);
        EXPECT(gbc.readMem(0xbbee), 0x2d);
        // CB 2D 00B6
        gbc.setState(0xcf38, 0xed1f, 0x5d50, 0x59b4, 0x44cb, 0xa096, 0x0, 0x1);
        gbc.writeMem(0xcf38, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xed1f);
        EXPECT(gbc.pc(), 0xcf3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf38), 0xcb);
        EXPECT(gbc.readMem(0xcf39), 0x2d);
        // CB 2D 00B7
        gbc.setState(0xcc16, 0xa2d9, 0x6fa0, 0xa2a2, 0xc9cd, 0xcfc9, 0x0, 0x0);
        gbc.writeMem(0xcc16, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xa2d9);
        EXPECT(gbc.pc(), 0xcc18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc16), 0xcb);
        EXPECT(gbc.readMem(0xcc17), 0x2d);
        // CB 2D 00B8
        gbc.setState(0xdbe0, 0xe6d2, 0xe4c0, 0x49d0, 0x2966, 0x333b, 0x0, 0x0);
        gbc.writeMem(0xdbe0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe6d2);
        EXPECT(gbc.pc(), 0xdbe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbe0), 0xcb);
        EXPECT(gbc.readMem(0xdbe1), 0x2d);
        // CB 2D 00B9
        gbc.setState(0xaaec, 0x80d3, 0x8b60, 0x1fea, 0xe1aa, 0x545b, 0x0, 0x0);
        gbc.writeMem(0xaaec, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x80d3);
        EXPECT(gbc.pc(), 0xaaee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaec), 0xcb);
        EXPECT(gbc.readMem(0xaaed), 0x2d);
        // CB 2D 00BA
        gbc.setState(0xb441, 0x2a70, 0xc5c0, 0x8340, 0x34b2, 0x28f5, 0x0, 0x1);
        gbc.writeMem(0xb441, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2a70);
        EXPECT(gbc.pc(), 0xb443);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb441), 0xcb);
        EXPECT(gbc.readMem(0xb442), 0x2d);
        // CB 2D 00BB
        gbc.setState(0x86ec, 0x6777, 0x5b0, 0x1916, 0x84c5, 0x9d40, 0x0, 0x1);
        gbc.writeMem(0x86ec, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6777);
        EXPECT(gbc.pc(), 0x86ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86ec), 0xcb);
        EXPECT(gbc.readMem(0x86ed), 0x2d);
        // CB 2D 00BC
        gbc.setState(0xe3b9, 0x5d59, 0xfb0, 0xc257, 0x5932, 0x4b56, 0x0, 0x1);
        gbc.writeMem(0xe3b9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x5d59);
        EXPECT(gbc.pc(), 0xe3bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b9), 0xcb);
        EXPECT(gbc.readMem(0xe3ba), 0x2d);
        // CB 2D 00BD
        gbc.setState(0xbab1, 0x81b3, 0xde10, 0xbf6f, 0xbae7, 0x82f0, 0x0, 0x0);
        gbc.writeMem(0xbab1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x81b3);
        EXPECT(gbc.pc(), 0xbab3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbab1), 0xcb);
        EXPECT(gbc.readMem(0xbab2), 0x2d);
        // CB 2D 00BE
        gbc.setState(0x15fa, 0xe96a, 0x530, 0x3ed9, 0x2d9f, 0x2d64, 0x1, 0x1);
        gbc.writeMem(0x15fa, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe96a);
        EXPECT(gbc.pc(), 0x15fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00BF
        gbc.setState(0x9de4, 0xb36a, 0x4a30, 0x5e7e, 0xc62b, 0xb4c8, 0x1, 0x0);
        gbc.writeMem(0x9de4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xb36a);
        EXPECT(gbc.pc(), 0x9de6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9de4), 0xcb);
        EXPECT(gbc.readMem(0x9de5), 0x2d);
        // CB 2D 00C0
        gbc.setState(0x8135, 0x9598, 0xd930, 0x612, 0x94ca, 0xcfbd, 0x1, 0x0);
        gbc.writeMem(0x8135, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x9598);
        EXPECT(gbc.pc(), 0x8137);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8135), 0xcb);
        EXPECT(gbc.readMem(0x8136), 0x2d);
        // CB 2D 00C1
        gbc.setState(0x8084, 0x4ce3, 0xe9f0, 0x19f9, 0x595c, 0x9443, 0x1, 0x0);
        gbc.writeMem(0x8084, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x4ce3);
        EXPECT(gbc.pc(), 0x8086);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8084), 0xcb);
        EXPECT(gbc.readMem(0x8085), 0x2d);
        // CB 2D 00C2
        gbc.setState(0x30e2, 0xe294, 0xc480, 0xac4a, 0xf0ff, 0xd584, 0x1, 0x1);
        gbc.writeMem(0x30e2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe294);
        EXPECT(gbc.pc(), 0x30e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00C3
        gbc.setState(0x21d0, 0x5a77, 0xf8c0, 0x36e, 0xeb1a, 0x20fd, 0x0, 0x1);
        gbc.writeMem(0x21d0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x5a77);
        EXPECT(gbc.pc(), 0x21d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00C4
        gbc.setState(0xe220, 0x9d08, 0xa320, 0xa924, 0x3236, 0xd7c4, 0x1, 0x1);
        gbc.writeMem(0xe220, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x9d08);
        EXPECT(gbc.pc(), 0xe222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe220), 0xcb);
        EXPECT(gbc.readMem(0xe221), 0x2d);
        // CB 2D 00C5
        gbc.setState(0xae67, 0x43c8, 0xd170, 0x756, 0x463, 0x2ece, 0x1, 0x1);
        gbc.writeMem(0xae67, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x43c8);
        EXPECT(gbc.pc(), 0xae69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae67), 0xcb);
        EXPECT(gbc.readMem(0xae68), 0x2d);
        // CB 2D 00C6
        gbc.setState(0x5531, 0x64ae, 0x3b00, 0x7ef1, 0xd3c6, 0xd3e, 0x1, 0x1);
        gbc.writeMem(0x5531, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x64ae);
        EXPECT(gbc.pc(), 0x5533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00C7
        gbc.setState(0xce2f, 0x95e, 0x8d50, 0x301f, 0xa72f, 0x1da4, 0x0, 0x0);
        gbc.writeMem(0xce2f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x95e);
        EXPECT(gbc.pc(), 0xce31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce2f), 0xcb);
        EXPECT(gbc.readMem(0xce30), 0x2d);
        // CB 2D 00C8
        gbc.setState(0xba12, 0xb202, 0x850, 0xd1bb, 0xc7fd, 0x8f31, 0x0, 0x1);
        gbc.writeMem(0xba12, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb202);
        EXPECT(gbc.pc(), 0xba14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba12), 0xcb);
        EXPECT(gbc.readMem(0xba13), 0x2d);
        // CB 2D 00C9
        gbc.setState(0x1ab6, 0x3fc4, 0x6640, 0xf171, 0x85b1, 0x5abd, 0x1, 0x0);
        gbc.writeMem(0x1ab6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3fc4);
        EXPECT(gbc.pc(), 0x1ab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00CA
        gbc.setState(0x83d5, 0xd22, 0x1380, 0x9d48, 0x8e1b, 0xc961, 0x0, 0x0);
        gbc.writeMem(0x83d5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd22);
        EXPECT(gbc.pc(), 0x83d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83d5), 0xcb);
        EXPECT(gbc.readMem(0x83d6), 0x2d);
        // CB 2D 00CB
        gbc.setState(0x1b67, 0xd6f8, 0x5f40, 0x7751, 0x5664, 0xff3a, 0x0, 0x0);
        gbc.writeMem(0x1b67, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xd6f8);
        EXPECT(gbc.pc(), 0x1b69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00CC
        gbc.setState(0x8f77, 0x3144, 0xdb30, 0xdec2, 0xff8d, 0xdf05, 0x1, 0x1);
        gbc.writeMem(0x8f77, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x3144);
        EXPECT(gbc.pc(), 0x8f79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f77), 0xcb);
        EXPECT(gbc.readMem(0x8f78), 0x2d);
        // CB 2D 00CD
        gbc.setState(0xa460, 0x7faf, 0xb680, 0x573, 0x485f, 0xced7, 0x1, 0x1);
        gbc.writeMem(0xa460, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x7faf);
        EXPECT(gbc.pc(), 0xa462);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa460), 0xcb);
        EXPECT(gbc.readMem(0xa461), 0x2d);
        // CB 2D 00CE
        gbc.setState(0xc24d, 0x95d1, 0xc730, 0x71a7, 0x9454, 0x54c, 0x1, 0x1);
        gbc.writeMem(0xc24d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x95d1);
        EXPECT(gbc.pc(), 0xc24f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc24d), 0xcb);
        EXPECT(gbc.readMem(0xc24e), 0x2d);
        // CB 2D 00CF
        gbc.setState(0x58bf, 0x9c4c, 0x9d00, 0x6084, 0xb031, 0x657b, 0x0, 0x0);
        gbc.writeMem(0x58bf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9c4c);
        EXPECT(gbc.pc(), 0x58c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00D0
        gbc.setState(0xa02f, 0x30de, 0xc620, 0xea4f, 0xbdcd, 0x1971, 0x0, 0x0);
        gbc.writeMem(0xa02f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x30de);
        EXPECT(gbc.pc(), 0xa031);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa02f), 0xcb);
        EXPECT(gbc.readMem(0xa030), 0x2d);
        // CB 2D 00D1
        gbc.setState(0xb1be, 0xdd30, 0x2270, 0x2f, 0xf1d9, 0xa77d, 0x0, 0x0);
        gbc.writeMem(0xb1be, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xdd30);
        EXPECT(gbc.pc(), 0xb1c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1be), 0xcb);
        EXPECT(gbc.readMem(0xb1bf), 0x2d);
        // CB 2D 00D2
        gbc.setState(0xe285, 0xf513, 0xb350, 0x868c, 0xc53d, 0xfa02, 0x0, 0x0);
        gbc.writeMem(0xe285, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf513);
        EXPECT(gbc.pc(), 0xe287);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe285), 0xcb);
        EXPECT(gbc.readMem(0xe286), 0x2d);
        // CB 2D 00D3
        gbc.setState(0x451, 0xa27a, 0x8e80, 0xa2cc, 0xf4be, 0x5d6d, 0x0, 0x1);
        gbc.writeMem(0x451, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa27a);
        EXPECT(gbc.pc(), 0x453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00D4
        gbc.setState(0x682b, 0x8482, 0x78c0, 0xa16c, 0xc5a9, 0x6e0b, 0x0, 0x0);
        gbc.writeMem(0x682b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8482);
        EXPECT(gbc.pc(), 0x682d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00D5
        gbc.setState(0x5079, 0x2e, 0x9d70, 0xa18c, 0xcbf1, 0x66bc, 0x0, 0x0);
        gbc.writeMem(0x5079, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x2e);
        EXPECT(gbc.pc(), 0x507b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00D6
        gbc.setState(0xb8f, 0x944b, 0x3ab0, 0x6e18, 0x6b16, 0x712f, 0x0, 0x0);
        gbc.writeMem(0xb8f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x944b);
        EXPECT(gbc.pc(), 0xb91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00D7
        gbc.setState(0x1146, 0xcc44, 0x42c0, 0xce55, 0xca25, 0xb238, 0x1, 0x0);
        gbc.writeMem(0x1146, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xcc44);
        EXPECT(gbc.pc(), 0x1148);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00D8
        gbc.setState(0x7793, 0xbda5, 0x9530, 0x516f, 0x7c86, 0x2e37, 0x1, 0x0);
        gbc.writeMem(0x7793, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbda5);
        EXPECT(gbc.pc(), 0x7795);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00D9
        gbc.setState(0xc928, 0x6edc, 0xd130, 0xe0c7, 0x3294, 0xfdc1, 0x0, 0x1);
        gbc.writeMem(0xc928, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6edc);
        EXPECT(gbc.pc(), 0xc92a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc928), 0xcb);
        EXPECT(gbc.readMem(0xc929), 0x2d);
        // CB 2D 00DA
        gbc.setState(0xc8ad, 0xaf8c, 0x7680, 0x9638, 0x89f8, 0xcc4f, 0x1, 0x0);
        gbc.writeMem(0xc8ad, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xaf8c);
        EXPECT(gbc.pc(), 0xc8af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8ad), 0xcb);
        EXPECT(gbc.readMem(0xc8ae), 0x2d);
        // CB 2D 00DB
        gbc.setState(0xc627, 0x2544, 0x1940, 0x4c89, 0xdc12, 0x78b1, 0x0, 0x1);
        gbc.writeMem(0xc627, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2544);
        EXPECT(gbc.pc(), 0xc629);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc627), 0xcb);
        EXPECT(gbc.readMem(0xc628), 0x2d);
        // CB 2D 00DD
        gbc.setState(0xb794, 0x1536, 0x6e90, 0x2029, 0x5bc2, 0x45ad, 0x0, 0x0);
        gbc.writeMem(0xb794, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x1536);
        EXPECT(gbc.pc(), 0xb796);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb794), 0xcb);
        EXPECT(gbc.readMem(0xb795), 0x2d);
        // CB 2D 00DE
        gbc.setState(0x5984, 0xac99, 0x9b70, 0x6adc, 0x6c7, 0xf2a1, 0x1, 0x1);
        gbc.writeMem(0x5984, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xac99);
        EXPECT(gbc.pc(), 0x5986);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00DF
        gbc.setState(0x76c6, 0x2fe3, 0xc220, 0x59b4, 0xaf98, 0x7dab, 0x1, 0x1);
        gbc.writeMem(0x76c6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2fe3);
        EXPECT(gbc.pc(), 0x76c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00E1
        gbc.setState(0x4fdd, 0x89d7, 0xe880, 0xf211, 0xdd5c, 0xfb39, 0x0, 0x0);
        gbc.writeMem(0x4fdd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x89d7);
        EXPECT(gbc.pc(), 0x4fdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00E2
        gbc.setState(0x9851, 0x5737, 0x2a50, 0x54fc, 0x1959, 0xa4a7, 0x1, 0x0);
        gbc.writeMem(0x9851, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5737);
        EXPECT(gbc.pc(), 0x9853);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9851), 0xcb);
        EXPECT(gbc.readMem(0x9852), 0x2d);
        // CB 2D 00E3
        gbc.setState(0xe4bf, 0xddf9, 0xa710, 0x3cc0, 0x276b, 0xb353, 0x0, 0x0);
        gbc.writeMem(0xe4bf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xddf9);
        EXPECT(gbc.pc(), 0xe4c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4bf), 0xcb);
        EXPECT(gbc.readMem(0xe4c0), 0x2d);
        // CB 2D 00E4
        gbc.setState(0x87e9, 0x90fb, 0x2740, 0x42d5, 0x7eb5, 0xae42, 0x0, 0x1);
        gbc.writeMem(0x87e9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x90fb);
        EXPECT(gbc.pc(), 0x87eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87e9), 0xcb);
        EXPECT(gbc.readMem(0x87ea), 0x2d);
        // CB 2D 00E5
        gbc.setState(0xef59, 0x6545, 0x88a0, 0x2d5f, 0x2cb1, 0x34df, 0x1, 0x1);
        gbc.writeMem(0xef59, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x6545);
        EXPECT(gbc.pc(), 0xef5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef59), 0xcb);
        EXPECT(gbc.readMem(0xef5a), 0x2d);
        // CB 2D 00E6
        gbc.setState(0x901f, 0xb2bc, 0xda80, 0x25ff, 0xa388, 0x2dba, 0x1, 0x0);
        gbc.writeMem(0x901f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb2bc);
        EXPECT(gbc.pc(), 0x9021);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x901f), 0xcb);
        EXPECT(gbc.readMem(0x9020), 0x2d);
        // CB 2D 00E7
        gbc.setState(0x646d, 0xbebd, 0x9480, 0x8a2d, 0x174, 0x43a6, 0x0, 0x1);
        gbc.writeMem(0x646d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xbebd);
        EXPECT(gbc.pc(), 0x646f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00E8
        gbc.setState(0x2d88, 0x20cc, 0x8e30, 0x8e47, 0x6196, 0x8775, 0x0, 0x1);
        gbc.writeMem(0x2d88, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x20cc);
        EXPECT(gbc.pc(), 0x2d8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00E9
        gbc.setState(0x45cb, 0xd56f, 0x8a70, 0xd2a9, 0x9e95, 0x268a, 0x1, 0x0);
        gbc.writeMem(0x45cb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xd56f);
        EXPECT(gbc.pc(), 0x45cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00EA
        gbc.setState(0x8059, 0x2a5e, 0xc740, 0x36fb, 0x5c0, 0x65a4, 0x0, 0x0);
        gbc.writeMem(0x8059, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x2a5e);
        EXPECT(gbc.pc(), 0x805b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8059), 0xcb);
        EXPECT(gbc.readMem(0x805a), 0x2d);
        // CB 2D 00EB
        gbc.setState(0x99d3, 0xb392, 0xb880, 0xe83b, 0xf06c, 0x2cde, 0x0, 0x1);
        gbc.writeMem(0x99d3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xb392);
        EXPECT(gbc.pc(), 0x99d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99d3), 0xcb);
        EXPECT(gbc.readMem(0x99d4), 0x2d);
        // CB 2D 00EC
        gbc.setState(0x6c4a, 0x4e7d, 0x5490, 0xe186, 0x4083, 0xdbaf, 0x1, 0x0);
        gbc.writeMem(0x6c4a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x4e7d);
        EXPECT(gbc.pc(), 0x6c4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00ED
        gbc.setState(0x23d, 0x59e9, 0x8210, 0x776a, 0xe170, 0xdd86, 0x0, 0x1);
        gbc.writeMem(0x23d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x59e9);
        EXPECT(gbc.pc(), 0x23f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00EE
        gbc.setState(0x9984, 0xf6ac, 0xf500, 0xdabb, 0x3681, 0xe77d, 0x1, 0x1);
        gbc.writeMem(0x9984, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf6ac);
        EXPECT(gbc.pc(), 0x9986);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9984), 0xcb);
        EXPECT(gbc.readMem(0x9985), 0x2d);
        // CB 2D 00EF
        gbc.setState(0xaea0, 0x58e7, 0x8f80, 0x82a, 0xaa95, 0x357d, 0x0, 0x0);
        gbc.writeMem(0xaea0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x58e7);
        EXPECT(gbc.pc(), 0xaea2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaea0), 0xcb);
        EXPECT(gbc.readMem(0xaea1), 0x2d);
        // CB 2D 00F0
        gbc.setState(0x6f22, 0xe952, 0x6000, 0xbb95, 0xe0e8, 0x830b, 0x0, 0x0);
        gbc.writeMem(0x6f22, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xe952);
        EXPECT(gbc.pc(), 0x6f24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00F1
        gbc.setState(0x5090, 0x2305, 0xf1a0, 0x1967, 0x24c4, 0x34fe, 0x1, 0x1);
        gbc.writeMem(0x5090, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2305);
        EXPECT(gbc.pc(), 0x5092);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00F2
        gbc.setState(0x53e2, 0x14c9, 0x5300, 0x9c24, 0xea3c, 0x5070, 0x1, 0x0);
        gbc.writeMem(0x53e2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x14c9);
        EXPECT(gbc.pc(), 0x53e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00F3
        gbc.setState(0x2a8d, 0xdc59, 0x86f0, 0x91e4, 0x3a66, 0x27a6, 0x0, 0x0);
        gbc.writeMem(0x2a8d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xdc59);
        EXPECT(gbc.pc(), 0x2a8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00F4
        gbc.setState(0x4017, 0x59a8, 0x3490, 0xbd85, 0x3bba, 0x6a92, 0x0, 0x0);
        gbc.writeMem(0x4017, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x59a8);
        EXPECT(gbc.pc(), 0x4019);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00F5
        gbc.setState(0x956f, 0x6a3d, 0xd6c0, 0x7d89, 0xa024, 0xe326, 0x1, 0x1);
        gbc.writeMem(0x956f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x6a3d);
        EXPECT(gbc.pc(), 0x9571);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x956f), 0xcb);
        EXPECT(gbc.readMem(0x9570), 0x2d);
        // CB 2D 00F6
        gbc.setState(0xbf81, 0x1d0c, 0xe780, 0x8097, 0xb8df, 0x24f8, 0x1, 0x1);
        gbc.writeMem(0xbf81, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1d0c);
        EXPECT(gbc.pc(), 0xbf83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf81), 0xcb);
        EXPECT(gbc.readMem(0xbf82), 0x2d);
        // CB 2D 00F7
        gbc.setState(0x6569, 0x327c, 0xc0a0, 0xabbb, 0xf056, 0x8844, 0x1, 0x0);
        gbc.writeMem(0x6569, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x327c);
        EXPECT(gbc.pc(), 0x656b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00F8
        gbc.setState(0x90db, 0x8ddf, 0x4d50, 0x22ad, 0xa819, 0xd818, 0x1, 0x0);
        gbc.writeMem(0x90db, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x8ddf);
        EXPECT(gbc.pc(), 0x90dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90db), 0xcb);
        EXPECT(gbc.readMem(0x90dc), 0x2d);
        // CB 2D 00F9
        gbc.setState(0x749c, 0x34ba, 0x9290, 0x6abf, 0x8fd0, 0x1c37, 0x0, 0x0);
        gbc.writeMem(0x749c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x34ba);
        EXPECT(gbc.pc(), 0x749e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00FA
        gbc.setState(0x6e7d, 0xab1, 0xf490, 0x2bed, 0x97e4, 0xaacb, 0x1, 0x1);
        gbc.writeMem(0x6e7d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xab1);
        EXPECT(gbc.pc(), 0x6e7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00FB
        gbc.setState(0x169e, 0x1ed6, 0x7410, 0xf7b9, 0xa82e, 0x1be3, 0x1, 0x0);
        gbc.writeMem(0x169e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x1ed6);
        EXPECT(gbc.pc(), 0x16a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 00FC
        gbc.setState(0x37e6, 0xa508, 0x1dc0, 0x78d, 0xa8f8, 0x8378, 0x0, 0x0);
        gbc.writeMem(0x37e6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa508);
        EXPECT(gbc.pc(), 0x37e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00FD
        gbc.setState(0x9e48, 0x5269, 0x9c50, 0xfed0, 0x8d55, 0x67f5, 0x0, 0x0);
        gbc.writeMem(0x9e48, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x5269);
        EXPECT(gbc.pc(), 0x9e4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e48), 0xcb);
        EXPECT(gbc.readMem(0x9e49), 0x2d);
        // CB 2D 00FE
        gbc.setState(0x6336, 0x1f57, 0x3500, 0x92b3, 0xc0e8, 0xb74c, 0x1, 0x1);
        gbc.writeMem(0x6336, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x1f57);
        EXPECT(gbc.pc(), 0x6338);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 00FF
        gbc.setState(0x7877, 0x72e5, 0x24c0, 0x655d, 0xeef4, 0xa7eb, 0x1, 0x1);
        gbc.writeMem(0x7877, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x72e5);
        EXPECT(gbc.pc(), 0x7879);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0100
        gbc.setState(0x129f, 0x3ac7, 0x66d0, 0xed46, 0x7824, 0xd15c, 0x0, 0x0);
        gbc.writeMem(0x129f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3ac7);
        EXPECT(gbc.pc(), 0x12a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0101
        gbc.setState(0x53a2, 0x20ee, 0xaaa0, 0xfe43, 0x8ec7, 0xe7b4, 0x0, 0x1);
        gbc.writeMem(0x53a2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x20ee);
        EXPECT(gbc.pc(), 0x53a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0102
        gbc.setState(0x63e7, 0xf669, 0xb2f0, 0x42dc, 0xf8da, 0x96f2, 0x1, 0x0);
        gbc.writeMem(0x63e7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf669);
        EXPECT(gbc.pc(), 0x63e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0103
        gbc.setState(0x158b, 0x8e2a, 0x7f70, 0x471b, 0x423, 0x6f75, 0x0, 0x1);
        gbc.writeMem(0x158b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x8e2a);
        EXPECT(gbc.pc(), 0x158d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0104
        gbc.setState(0x4ea1, 0x75bf, 0x2f10, 0x2b4a, 0x9391, 0x7a78, 0x1, 0x1);
        gbc.writeMem(0x4ea1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x75bf);
        EXPECT(gbc.pc(), 0x4ea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0105
        gbc.setState(0x2e30, 0xe4d6, 0x2f40, 0x6845, 0x8242, 0x367d, 0x1, 0x1);
        gbc.writeMem(0x2e30, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xe4d6);
        EXPECT(gbc.pc(), 0x2e32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0106
        gbc.setState(0xc444, 0x9633, 0x89a0, 0xaed3, 0x60f0, 0x1245, 0x0, 0x0);
        gbc.writeMem(0xc444, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9633);
        EXPECT(gbc.pc(), 0xc446);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc444), 0xcb);
        EXPECT(gbc.readMem(0xc445), 0x2d);
        // CB 2D 0107
        gbc.setState(0x5995, 0x7605, 0xd060, 0xf222, 0x3ed2, 0x8342, 0x0, 0x0);
        gbc.writeMem(0x5995, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x7605);
        EXPECT(gbc.pc(), 0x5997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0108
        gbc.setState(0xcb63, 0x71d1, 0x1070, 0x1aa5, 0xca88, 0x1414, 0x0, 0x1);
        gbc.writeMem(0xcb63, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x71d1);
        EXPECT(gbc.pc(), 0xcb65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb63), 0xcb);
        EXPECT(gbc.readMem(0xcb64), 0x2d);
        // CB 2D 0109
        gbc.setState(0xe21f, 0x1e6, 0xb80, 0x162e, 0x7976, 0x2f23, 0x1, 0x1);
        gbc.writeMem(0xe21f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1e6);
        EXPECT(gbc.pc(), 0xe221);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe21f), 0xcb);
        EXPECT(gbc.readMem(0xe220), 0x2d);
        // CB 2D 010B
        gbc.setState(0x14dd, 0xdadc, 0x4c50, 0x92c, 0xc5d8, 0x7faa, 0x1, 0x1);
        gbc.writeMem(0x14dd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xdadc);
        EXPECT(gbc.pc(), 0x14df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 010C
        gbc.setState(0xca, 0x2b45, 0x4150, 0x752d, 0x5c0f, 0x6230, 0x1, 0x1);
        gbc.writeMem(0xca, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2b45);
        EXPECT(gbc.pc(), 0xcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 010D
        gbc.setState(0xee5a, 0x4ade, 0xbc60, 0x9eaa, 0x1fe6, 0xff1a, 0x0, 0x0);
        gbc.writeMem(0xee5a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4ade);
        EXPECT(gbc.pc(), 0xee5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee5a), 0xcb);
        EXPECT(gbc.readMem(0xee5b), 0x2d);
        // CB 2D 010E
        gbc.setState(0xa54b, 0x81e, 0xa4a0, 0x2a8f, 0x4cb9, 0x1d76, 0x0, 0x1);
        gbc.writeMem(0xa54b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x81e);
        EXPECT(gbc.pc(), 0xa54d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa54b), 0xcb);
        EXPECT(gbc.readMem(0xa54c), 0x2d);
        // CB 2D 010F
        gbc.setState(0x99e6, 0x82de, 0xbc20, 0x9fed, 0xa55a, 0x1322, 0x0, 0x0);
        gbc.writeMem(0x99e6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x82de);
        EXPECT(gbc.pc(), 0x99e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99e6), 0xcb);
        EXPECT(gbc.readMem(0x99e7), 0x2d);
        // CB 2D 0110
        gbc.setState(0xeedc, 0x32f, 0xdcd0, 0xc8c6, 0x87ba, 0x11fa, 0x1, 0x1);
        gbc.writeMem(0xeedc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x32f);
        EXPECT(gbc.pc(), 0xeede);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeedc), 0xcb);
        EXPECT(gbc.readMem(0xeedd), 0x2d);
        // CB 2D 0111
        gbc.setState(0x5c9e, 0xfa02, 0x7690, 0x8100, 0x14fb, 0x360, 0x0, 0x0);
        gbc.writeMem(0x5c9e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xfa02);
        EXPECT(gbc.pc(), 0x5ca0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0112
        gbc.setState(0x3f12, 0x13f2, 0x1180, 0xf42c, 0x34a0, 0x601e, 0x0, 0x1);
        gbc.writeMem(0x3f12, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x13f2);
        EXPECT(gbc.pc(), 0x3f14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0113
        gbc.setState(0xe683, 0x96ac, 0x8a50, 0xd668, 0x241c, 0x163f, 0x1, 0x1);
        gbc.writeMem(0xe683, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x96ac);
        EXPECT(gbc.pc(), 0xe685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe683), 0xcb);
        EXPECT(gbc.readMem(0xe684), 0x2d);
        // CB 2D 0114
        gbc.setState(0xa6d7, 0x6f92, 0xff40, 0xf8c4, 0xc62d, 0xaf6d, 0x0, 0x0);
        gbc.writeMem(0xa6d7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6f92);
        EXPECT(gbc.pc(), 0xa6d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6d7), 0xcb);
        EXPECT(gbc.readMem(0xa6d8), 0x2d);
        // CB 2D 0115
        gbc.setState(0x7294, 0xdd94, 0x72d0, 0x3cef, 0x33c0, 0xacc0, 0x1, 0x1);
        gbc.writeMem(0x7294, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xdd94);
        EXPECT(gbc.pc(), 0x7296);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0116
        gbc.setState(0x2fed, 0x15af, 0xc610, 0x172b, 0x86cf, 0xd0e3, 0x0, 0x1);
        gbc.writeMem(0x2fed, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x15af);
        EXPECT(gbc.pc(), 0x2fef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0117
        gbc.setState(0xafb6, 0x8154, 0xb1b0, 0x9ed1, 0x335f, 0xb2b1, 0x1, 0x1);
        gbc.writeMem(0xafb6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8154);
        EXPECT(gbc.pc(), 0xafb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafb6), 0xcb);
        EXPECT(gbc.readMem(0xafb7), 0x2d);
        // CB 2D 0118
        gbc.setState(0x53af, 0xebb9, 0x5f20, 0x589a, 0xaf21, 0x9cb0, 0x1, 0x0);
        gbc.writeMem(0x53af, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xebb9);
        EXPECT(gbc.pc(), 0x53b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 011A
        gbc.setState(0x811a, 0x3f89, 0x31b0, 0xacb5, 0xd8f0, 0x27d4, 0x1, 0x1);
        gbc.writeMem(0x811a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x3f89);
        EXPECT(gbc.pc(), 0x811c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x811a), 0xcb);
        EXPECT(gbc.readMem(0x811b), 0x2d);
        // CB 2D 011B
        gbc.setState(0xc120, 0xc19a, 0x6230, 0xf25, 0x37c6, 0x7bf4, 0x0, 0x1);
        gbc.writeMem(0xc120, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xc19a);
        EXPECT(gbc.pc(), 0xc122);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc120), 0xcb);
        EXPECT(gbc.readMem(0xc121), 0x2d);
        // CB 2D 011C
        gbc.setState(0xe9a, 0x2354, 0xe3a0, 0xfdd2, 0x53aa, 0x6d81, 0x1, 0x0);
        gbc.writeMem(0xe9a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2354);
        EXPECT(gbc.pc(), 0xe9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 011D
        gbc.setState(0x6dbd, 0x12e1, 0x7d20, 0xed7c, 0xba91, 0xe299, 0x1, 0x1);
        gbc.writeMem(0x6dbd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x12e1);
        EXPECT(gbc.pc(), 0x6dbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 011E
        gbc.setState(0xd235, 0x8bc5, 0x1f30, 0x1108, 0x6037, 0x203f, 0x1, 0x0);
        gbc.writeMem(0xd235, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x8bc5);
        EXPECT(gbc.pc(), 0xd237);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd235), 0xcb);
        EXPECT(gbc.readMem(0xd236), 0x2d);
        // CB 2D 011F
        gbc.setState(0x2a6a, 0xbd22, 0x4410, 0x999d, 0x989b, 0xa144, 0x1, 0x1);
        gbc.writeMem(0x2a6a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xbd22);
        EXPECT(gbc.pc(), 0x2a6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0120
        gbc.setState(0xa684, 0x9e1, 0x7360, 0xc870, 0x33ac, 0x3437, 0x1, 0x1);
        gbc.writeMem(0xa684, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x9e1);
        EXPECT(gbc.pc(), 0xa686);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa684), 0xcb);
        EXPECT(gbc.readMem(0xa685), 0x2d);
        // CB 2D 0121
        gbc.setState(0x268f, 0x6ac5, 0xc1f0, 0x5203, 0xe49f, 0xa898, 0x1, 0x1);
        gbc.writeMem(0x268f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x6ac5);
        EXPECT(gbc.pc(), 0x2691);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0122
        gbc.setState(0x59b4, 0x3d6b, 0xe730, 0xe00, 0xebbf, 0xe13d, 0x0, 0x0);
        gbc.writeMem(0x59b4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3d6b);
        EXPECT(gbc.pc(), 0x59b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0123
        gbc.setState(0x281c, 0xbd3c, 0x3330, 0xef5d, 0x5df7, 0x7189, 0x0, 0x0);
        gbc.writeMem(0x281c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xbd3c);
        EXPECT(gbc.pc(), 0x281e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0124
        gbc.setState(0x1f8a, 0x58e4, 0x16f0, 0x67dc, 0xf5af, 0x9de9, 0x1, 0x0);
        gbc.writeMem(0x1f8a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x58e4);
        EXPECT(gbc.pc(), 0x1f8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0125
        gbc.setState(0xb014, 0x99ef, 0x1100, 0xbb47, 0xe1da, 0x2604, 0x1, 0x1);
        gbc.writeMem(0xb014, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x99ef);
        EXPECT(gbc.pc(), 0xb016);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb014), 0xcb);
        EXPECT(gbc.readMem(0xb015), 0x2d);
        // CB 2D 0126
        gbc.setState(0xe070, 0x58d2, 0x56c0, 0xeb21, 0xb942, 0x53b6, 0x1, 0x1);
        gbc.writeMem(0xe070, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x58d2);
        EXPECT(gbc.pc(), 0xe072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe070), 0xcb);
        EXPECT(gbc.readMem(0xe071), 0x2d);
        // CB 2D 0127
        gbc.setState(0x60ce, 0x5558, 0x57b0, 0xa9e6, 0xb831, 0x6a5b, 0x1, 0x0);
        gbc.writeMem(0x60ce, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5558);
        EXPECT(gbc.pc(), 0x60d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0128
        gbc.setState(0x2a89, 0xed68, 0x1650, 0x2b4, 0xb7e5, 0x43ac, 0x1, 0x1);
        gbc.writeMem(0x2a89, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xed68);
        EXPECT(gbc.pc(), 0x2a8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0129
        gbc.setState(0x3d5d, 0xce03, 0xa580, 0xe458, 0x5e57, 0x34c6, 0x1, 0x1);
        gbc.writeMem(0x3d5d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xce03);
        EXPECT(gbc.pc(), 0x3d5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 012A
        gbc.setState(0x6527, 0x1a79, 0xda0, 0x30ce, 0x8dbf, 0xafac, 0x0, 0x0);
        gbc.writeMem(0x6527, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x1a79);
        EXPECT(gbc.pc(), 0x6529);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 012B
        gbc.setState(0x6d6a, 0x5278, 0xef30, 0xcbf2, 0xfe75, 0x429a, 0x0, 0x1);
        gbc.writeMem(0x6d6a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5278);
        EXPECT(gbc.pc(), 0x6d6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 012D
        gbc.setState(0xd0fe, 0x532b, 0x9300, 0x217e, 0x3062, 0xca8e, 0x0, 0x1);
        gbc.writeMem(0xd0fe, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x532b);
        EXPECT(gbc.pc(), 0xd100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0fe), 0xcb);
        EXPECT(gbc.readMem(0xd0ff), 0x2d);
        // CB 2D 012E
        gbc.setState(0xc910, 0xe49b, 0x57c0, 0xec17, 0x3b72, 0x9369, 0x1, 0x1);
        gbc.writeMem(0xc910, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe49b);
        EXPECT(gbc.pc(), 0xc912);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc910), 0xcb);
        EXPECT(gbc.readMem(0xc911), 0x2d);
        // CB 2D 012F
        gbc.setState(0x7cb1, 0x6f44, 0x9ca0, 0x78f9, 0x93ef, 0xe3be, 0x1, 0x1);
        gbc.writeMem(0x7cb1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x6f44);
        EXPECT(gbc.pc(), 0x7cb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0130
        gbc.setState(0xe6a1, 0xb60d, 0x6570, 0x4ffe, 0xadac, 0xe41a, 0x0, 0x1);
        gbc.writeMem(0xe6a1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb60d);
        EXPECT(gbc.pc(), 0xe6a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a1), 0xcb);
        EXPECT(gbc.readMem(0xe6a2), 0x2d);
        // CB 2D 0131
        gbc.setState(0x596, 0x4853, 0xeac0, 0xa5ea, 0x1cc8, 0xeff6, 0x0, 0x1);
        gbc.writeMem(0x596, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x4853);
        EXPECT(gbc.pc(), 0x598);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0132
        gbc.setState(0x478b, 0x54e6, 0x2d0, 0x5964, 0x7b21, 0xfd1c, 0x1, 0x0);
        gbc.writeMem(0x478b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x54e6);
        EXPECT(gbc.pc(), 0x478d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0133
        gbc.setState(0x89bb, 0x8785, 0xcd50, 0x698d, 0x5a6e, 0x3fb4, 0x0, 0x0);
        gbc.writeMem(0x89bb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8785);
        EXPECT(gbc.pc(), 0x89bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89bb), 0xcb);
        EXPECT(gbc.readMem(0x89bc), 0x2d);
        // CB 2D 0134
        gbc.setState(0x16e8, 0x7ffa, 0x5c80, 0x917f, 0x26c9, 0x783b, 0x1, 0x1);
        gbc.writeMem(0x16e8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x7ffa);
        EXPECT(gbc.pc(), 0x16ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0135
        gbc.setState(0xa559, 0xcbf2, 0x54a0, 0x5153, 0xb629, 0x2043, 0x0, 0x1);
        gbc.writeMem(0xa559, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xcbf2);
        EXPECT(gbc.pc(), 0xa55b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa559), 0xcb);
        EXPECT(gbc.readMem(0xa55a), 0x2d);
        // CB 2D 0136
        gbc.setState(0xb618, 0x99f6, 0xb060, 0x5ee8, 0xb398, 0x3d7c, 0x1, 0x0);
        gbc.writeMem(0xb618, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x99f6);
        EXPECT(gbc.pc(), 0xb61a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb618), 0xcb);
        EXPECT(gbc.readMem(0xb619), 0x2d);
        // CB 2D 0137
        gbc.setState(0x338e, 0xcd97, 0xbfa0, 0x95e7, 0xaab4, 0xd17f, 0x1, 0x0);
        gbc.writeMem(0x338e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xcd97);
        EXPECT(gbc.pc(), 0x3390);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0138
        gbc.setState(0x8e84, 0x12b8, 0x3290, 0x52fe, 0xd439, 0xe6a7, 0x0, 0x0);
        gbc.writeMem(0x8e84, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x12b8);
        EXPECT(gbc.pc(), 0x8e86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e84), 0xcb);
        EXPECT(gbc.readMem(0x8e85), 0x2d);
        // CB 2D 0139
        gbc.setState(0x93e, 0x9585, 0x5210, 0x3daf, 0x31fd, 0x8cc4, 0x1, 0x0);
        gbc.writeMem(0x93e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x9585);
        EXPECT(gbc.pc(), 0x940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 013B
        gbc.setState(0x6f0e, 0x641a, 0x50d0, 0xd877, 0x72df, 0x3fad, 0x1, 0x1);
        gbc.writeMem(0x6f0e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x641a);
        EXPECT(gbc.pc(), 0x6f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 013C
        gbc.setState(0xd873, 0xc9d0, 0x2330, 0xea41, 0xe51, 0x6602, 0x0, 0x1);
        gbc.writeMem(0xd873, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xc9d0);
        EXPECT(gbc.pc(), 0xd875);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd873), 0xcb);
        EXPECT(gbc.readMem(0xd874), 0x2d);
        // CB 2D 013D
        gbc.setState(0xb077, 0x6d70, 0xfc70, 0x8536, 0x270a, 0x1078, 0x1, 0x0);
        gbc.writeMem(0xb077, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x6d70);
        EXPECT(gbc.pc(), 0xb079);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb077), 0xcb);
        EXPECT(gbc.readMem(0xb078), 0x2d);
        // CB 2D 013E
        gbc.setState(0x66f6, 0x9d99, 0x7090, 0xbec1, 0xc8f4, 0x315f, 0x1, 0x1);
        gbc.writeMem(0x66f6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9d99);
        EXPECT(gbc.pc(), 0x66f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 013F
        gbc.setState(0x22b1, 0x3382, 0x87e0, 0xdd9, 0xcfe3, 0xb7a7, 0x0, 0x0);
        gbc.writeMem(0x22b1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x3382);
        EXPECT(gbc.pc(), 0x22b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0140
        gbc.setState(0x7601, 0x1470, 0xce00, 0x6d94, 0x7e63, 0xc8d3, 0x0, 0x0);
        gbc.writeMem(0x7601, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1470);
        EXPECT(gbc.pc(), 0x7603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0141
        gbc.setState(0xb9b8, 0x42a5, 0xbac0, 0xc805, 0x4531, 0x64d7, 0x0, 0x0);
        gbc.writeMem(0xb9b8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x42a5);
        EXPECT(gbc.pc(), 0xb9ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9b8), 0xcb);
        EXPECT(gbc.readMem(0xb9b9), 0x2d);
        // CB 2D 0142
        gbc.setState(0xa347, 0x81e5, 0xa730, 0xab03, 0x9f68, 0x5f16, 0x0, 0x1);
        gbc.writeMem(0xa347, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x81e5);
        EXPECT(gbc.pc(), 0xa349);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa347), 0xcb);
        EXPECT(gbc.readMem(0xa348), 0x2d);
        // CB 2D 0143
        gbc.setState(0xec24, 0xfc95, 0x2370, 0x691b, 0x15c5, 0x26a4, 0x1, 0x0);
        gbc.writeMem(0xec24, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xfc95);
        EXPECT(gbc.pc(), 0xec26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec24), 0xcb);
        EXPECT(gbc.readMem(0xec25), 0x2d);
        // CB 2D 0144
        gbc.setState(0xee06, 0x63d8, 0x9680, 0x3e23, 0x29b2, 0x4d3f, 0x0, 0x1);
        gbc.writeMem(0xee06, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x63d8);
        EXPECT(gbc.pc(), 0xee08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee06), 0xcb);
        EXPECT(gbc.readMem(0xee07), 0x2d);
        // CB 2D 0145
        gbc.setState(0x6b66, 0x458d, 0xe330, 0xeb49, 0x652b, 0x4d0d, 0x0, 0x1);
        gbc.writeMem(0x6b66, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x458d);
        EXPECT(gbc.pc(), 0x6b68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0146
        gbc.setState(0xe266, 0x6165, 0x7260, 0x351b, 0xb8dd, 0x855d, 0x0, 0x0);
        gbc.writeMem(0xe266, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x6165);
        EXPECT(gbc.pc(), 0xe268);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe266), 0xcb);
        EXPECT(gbc.readMem(0xe267), 0x2d);
        // CB 2D 0147
        gbc.setState(0x5991, 0x4ebb, 0x890, 0xb0e0, 0x7088, 0x96cf, 0x1, 0x1);
        gbc.writeMem(0x5991, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4ebb);
        EXPECT(gbc.pc(), 0x5993);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0148
        gbc.setState(0x8e93, 0xdcfb, 0x83a0, 0x513e, 0x2367, 0xb87c, 0x0, 0x0);
        gbc.writeMem(0x8e93, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xdcfb);
        EXPECT(gbc.pc(), 0x8e95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e93), 0xcb);
        EXPECT(gbc.readMem(0x8e94), 0x2d);
        // CB 2D 0149
        gbc.setState(0x6bfe, 0xee48, 0xa2f0, 0x4adb, 0x1de, 0x2d06, 0x1, 0x0);
        gbc.writeMem(0x6bfe, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xee48);
        EXPECT(gbc.pc(), 0x6c00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 014A
        gbc.setState(0x1317, 0xae4, 0x5600, 0xc4cd, 0x18e8, 0x3907, 0x1, 0x0);
        gbc.writeMem(0x1317, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xae4);
        EXPECT(gbc.pc(), 0x1319);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 014B
        gbc.setState(0xd2b6, 0x481f, 0xcc00, 0x8e98, 0x3ff6, 0xa46f, 0x1, 0x0);
        gbc.writeMem(0xd2b6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x481f);
        EXPECT(gbc.pc(), 0xd2b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2b6), 0xcb);
        EXPECT(gbc.readMem(0xd2b7), 0x2d);
        // CB 2D 014C
        gbc.setState(0x650f, 0x91c8, 0x6e20, 0x74c0, 0x118d, 0x227b, 0x1, 0x0);
        gbc.writeMem(0x650f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x91c8);
        EXPECT(gbc.pc(), 0x6511);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 014D
        gbc.setState(0xcaee, 0xa0a6, 0x7b00, 0xee6e, 0xc88f, 0x7c2a, 0x0, 0x1);
        gbc.writeMem(0xcaee, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa0a6);
        EXPECT(gbc.pc(), 0xcaf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaee), 0xcb);
        EXPECT(gbc.readMem(0xcaef), 0x2d);
        // CB 2D 014E
        gbc.setState(0xd8d7, 0x32e4, 0xb000, 0x62d2, 0xae80, 0x5783, 0x1, 0x1);
        gbc.writeMem(0xd8d7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x32e4);
        EXPECT(gbc.pc(), 0xd8d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8d7), 0xcb);
        EXPECT(gbc.readMem(0xd8d8), 0x2d);
        // CB 2D 014F
        gbc.setState(0x5061, 0xb179, 0xb8a0, 0x8c6d, 0x6ef8, 0x8ee0, 0x0, 0x0);
        gbc.writeMem(0x5061, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb179);
        EXPECT(gbc.pc(), 0x5063);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0150
        gbc.setState(0x2fed, 0xf676, 0xf5c0, 0x59d, 0xd928, 0xe456, 0x1, 0x0);
        gbc.writeMem(0x2fed, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf676);
        EXPECT(gbc.pc(), 0x2fef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0151
        gbc.setState(0xcdae, 0xe11c, 0x99d0, 0x9c79, 0xa58b, 0xba9e, 0x1, 0x0);
        gbc.writeMem(0xcdae, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe11c);
        EXPECT(gbc.pc(), 0xcdb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdae), 0xcb);
        EXPECT(gbc.readMem(0xcdaf), 0x2d);
        // CB 2D 0152
        gbc.setState(0xd01b, 0xf956, 0x29b0, 0xdfe3, 0x67df, 0xc06a, 0x0, 0x0);
        gbc.writeMem(0xd01b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf956);
        EXPECT(gbc.pc(), 0xd01d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd01b), 0xcb);
        EXPECT(gbc.readMem(0xd01c), 0x2d);
        // CB 2D 0153
        gbc.setState(0x340c, 0xcf7, 0xf680, 0x5840, 0x2ef6, 0x6880, 0x0, 0x1);
        gbc.writeMem(0x340c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xcf7);
        EXPECT(gbc.pc(), 0x340e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0154
        gbc.setState(0x400c, 0xdabe, 0x3890, 0xe9de, 0x7254, 0x934c, 0x0, 0x0);
        gbc.writeMem(0x400c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xdabe);
        EXPECT(gbc.pc(), 0x400e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0155
        gbc.setState(0x66af, 0xb1f1, 0x7680, 0x6d9, 0xcd4c, 0x57ba, 0x1, 0x1);
        gbc.writeMem(0x66af, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb1f1);
        EXPECT(gbc.pc(), 0x66b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0156
        gbc.setState(0x2228, 0xbdc4, 0xc480, 0x4df, 0xcc90, 0xd0a5, 0x0, 0x1);
        gbc.writeMem(0x2228, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xbdc4);
        EXPECT(gbc.pc(), 0x222a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0157
        gbc.setState(0x99c2, 0x120, 0x1680, 0xaf04, 0x9a1c, 0xc7de, 0x0, 0x0);
        gbc.writeMem(0x99c2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x120);
        EXPECT(gbc.pc(), 0x99c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99c2), 0xcb);
        EXPECT(gbc.readMem(0x99c3), 0x2d);
        // CB 2D 0158
        gbc.setState(0x886b, 0xb4ff, 0x19a0, 0x1fe0, 0xedc9, 0xf0ff, 0x0, 0x1);
        gbc.writeMem(0x886b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xb4ff);
        EXPECT(gbc.pc(), 0x886d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x886b), 0xcb);
        EXPECT(gbc.readMem(0x886c), 0x2d);
        // CB 2D 015A
        gbc.setState(0xda1f, 0xcd71, 0xa960, 0xc491, 0xaa80, 0xebea, 0x0, 0x1);
        gbc.writeMem(0xda1f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xcd71);
        EXPECT(gbc.pc(), 0xda21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda1f), 0xcb);
        EXPECT(gbc.readMem(0xda20), 0x2d);
        // CB 2D 015B
        gbc.setState(0xe688, 0x4148, 0x7230, 0xd85a, 0xed66, 0xfefe, 0x1, 0x1);
        gbc.writeMem(0xe688, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4148);
        EXPECT(gbc.pc(), 0xe68a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe688), 0xcb);
        EXPECT(gbc.readMem(0xe689), 0x2d);
        // CB 2D 015C
        gbc.setState(0xb361, 0xff62, 0xe3e0, 0x3fb5, 0x49a4, 0xfc18, 0x1, 0x0);
        gbc.writeMem(0xb361, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xff62);
        EXPECT(gbc.pc(), 0xb363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb361), 0xcb);
        EXPECT(gbc.readMem(0xb362), 0x2d);
        // CB 2D 015E
        gbc.setState(0x60da, 0xe0b, 0xcd60, 0x871, 0x6669, 0x866b, 0x1, 0x0);
        gbc.writeMem(0x60da, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe0b);
        EXPECT(gbc.pc(), 0x60dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 015F
        gbc.setState(0xe56f, 0x1441, 0xb3f0, 0xe68, 0x92e4, 0xbacf, 0x0, 0x1);
        gbc.writeMem(0xe56f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x1441);
        EXPECT(gbc.pc(), 0xe571);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe56f), 0xcb);
        EXPECT(gbc.readMem(0xe570), 0x2d);
        // CB 2D 0160
        gbc.setState(0x6ac1, 0xe693, 0xcc10, 0xe9cb, 0xfb7f, 0x39b1, 0x0, 0x1);
        gbc.writeMem(0x6ac1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xe693);
        EXPECT(gbc.pc(), 0x6ac3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0161
        gbc.setState(0x38dd, 0xa530, 0xc30, 0x4e27, 0x164b, 0xb68d, 0x0, 0x1);
        gbc.writeMem(0x38dd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xa530);
        EXPECT(gbc.pc(), 0x38df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0163
        gbc.setState(0x38a3, 0xf61b, 0x1a30, 0x82c, 0x392f, 0x876b, 0x0, 0x0);
        gbc.writeMem(0x38a3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf61b);
        EXPECT(gbc.pc(), 0x38a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0164
        gbc.setState(0x6e29, 0x23eb, 0xd220, 0xe583, 0x32e0, 0xf02b, 0x1, 0x0);
        gbc.writeMem(0x6e29, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x23eb);
        EXPECT(gbc.pc(), 0x6e2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0165
        gbc.setState(0x1a2d, 0xe87b, 0x1370, 0xa322, 0x93ef, 0xc685, 0x1, 0x1);
        gbc.writeMem(0x1a2d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe87b);
        EXPECT(gbc.pc(), 0x1a2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0166
        gbc.setState(0x141a, 0xaf4e, 0xc9f0, 0x747a, 0x32d2, 0x7224, 0x0, 0x0);
        gbc.writeMem(0x141a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xaf4e);
        EXPECT(gbc.pc(), 0x141c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0167
        gbc.setState(0x896e, 0x1df7, 0xd9a0, 0x6cf9, 0x322a, 0x20eb, 0x0, 0x0);
        gbc.writeMem(0x896e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x1df7);
        EXPECT(gbc.pc(), 0x8970);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x896e), 0xcb);
        EXPECT(gbc.readMem(0x896f), 0x2d);
        // CB 2D 0168
        gbc.setState(0xb3b5, 0x53f6, 0xeb50, 0xeb28, 0xacc1, 0x76df, 0x0, 0x1);
        gbc.writeMem(0xb3b5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x53f6);
        EXPECT(gbc.pc(), 0xb3b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3b5), 0xcb);
        EXPECT(gbc.readMem(0xb3b6), 0x2d);
        // CB 2D 0169
        gbc.setState(0xaf9f, 0x77e2, 0x740, 0x5ea4, 0x636d, 0x40f9, 0x1, 0x0);
        gbc.writeMem(0xaf9f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x77e2);
        EXPECT(gbc.pc(), 0xafa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf9f), 0xcb);
        EXPECT(gbc.readMem(0xafa0), 0x2d);
        // CB 2D 016A
        gbc.setState(0xe5c, 0x19ad, 0x2590, 0x6b25, 0x8b3a, 0xdfb0, 0x0, 0x1);
        gbc.writeMem(0xe5c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x19ad);
        EXPECT(gbc.pc(), 0xe5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 016B
        gbc.setState(0x7080, 0x8aea, 0x9a20, 0x79ab, 0xb56a, 0x62aa, 0x0, 0x0);
        gbc.writeMem(0x7080, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8aea);
        EXPECT(gbc.pc(), 0x7082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 016C
        gbc.setState(0x9176, 0x31f4, 0xe930, 0xd21b, 0x3575, 0x9be4, 0x0, 0x1);
        gbc.writeMem(0x9176, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x31f4);
        EXPECT(gbc.pc(), 0x9178);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9176), 0xcb);
        EXPECT(gbc.readMem(0x9177), 0x2d);
        // CB 2D 016D
        gbc.setState(0x48e8, 0x7070, 0x7ee0, 0x63b4, 0x6737, 0xe925, 0x1, 0x1);
        gbc.writeMem(0x48e8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7070);
        EXPECT(gbc.pc(), 0x48ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 016E
        gbc.setState(0x1457, 0xa27e, 0x9980, 0xe6db, 0xb03, 0xe1b7, 0x0, 0x1);
        gbc.writeMem(0x1457, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xa27e);
        EXPECT(gbc.pc(), 0x1459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 016F
        gbc.setState(0x8740, 0x814b, 0xe9b0, 0x54cd, 0x81a7, 0x6a7b, 0x0, 0x0);
        gbc.writeMem(0x8740, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x814b);
        EXPECT(gbc.pc(), 0x8742);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8740), 0xcb);
        EXPECT(gbc.readMem(0x8741), 0x2d);
        // CB 2D 0170
        gbc.setState(0x11be, 0xa71a, 0x6d80, 0x4c99, 0xfec9, 0xb4ca, 0x0, 0x0);
        gbc.writeMem(0x11be, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xa71a);
        EXPECT(gbc.pc(), 0x11c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0171
        gbc.setState(0x5d7b, 0x785f, 0x7e0, 0x67db, 0x6418, 0xa29, 0x1, 0x1);
        gbc.writeMem(0x5d7b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x785f);
        EXPECT(gbc.pc(), 0x5d7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0172
        gbc.setState(0x300c, 0x1891, 0xbec0, 0x27fc, 0xcb07, 0x905d, 0x0, 0x0);
        gbc.writeMem(0x300c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1891);
        EXPECT(gbc.pc(), 0x300e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0173
        gbc.setState(0xb46, 0x22ec, 0x5030, 0x2e9b, 0xeb5c, 0x86ab, 0x1, 0x1);
        gbc.writeMem(0xb46, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x22ec);
        EXPECT(gbc.pc(), 0xb48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0174
        gbc.setState(0x3677, 0x7235, 0x9b0, 0xe313, 0xdff7, 0x15d5, 0x0, 0x0);
        gbc.writeMem(0x3677, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x7235);
        EXPECT(gbc.pc(), 0x3679);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0175
        gbc.setState(0x79c3, 0x1169, 0x3670, 0xb0a6, 0xc544, 0x74b3, 0x1, 0x0);
        gbc.writeMem(0x79c3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x1169);
        EXPECT(gbc.pc(), 0x79c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0176
        gbc.setState(0xc794, 0x11e2, 0x90d0, 0xe692, 0xea40, 0x5a3b, 0x0, 0x1);
        gbc.writeMem(0xc794, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x11e2);
        EXPECT(gbc.pc(), 0xc796);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc794), 0xcb);
        EXPECT(gbc.readMem(0xc795), 0x2d);
        // CB 2D 0177
        gbc.setState(0x577a, 0x36e4, 0x94c0, 0x49c7, 0xf831, 0x9373, 0x1, 0x1);
        gbc.writeMem(0x577a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x36e4);
        EXPECT(gbc.pc(), 0x577c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0178
        gbc.setState(0x4067, 0x9891, 0x4c40, 0x5e3b, 0x1d06, 0x247e, 0x1, 0x1);
        gbc.writeMem(0x4067, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9891);
        EXPECT(gbc.pc(), 0x4069);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0179
        gbc.setState(0x4043, 0x49a9, 0xa0e0, 0x6cde, 0xf3cc, 0x346a, 0x0, 0x1);
        gbc.writeMem(0x4043, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x49a9);
        EXPECT(gbc.pc(), 0x4045);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 017A
        gbc.setState(0x3c15, 0xd004, 0x55c0, 0xc1bd, 0x23eb, 0x436d, 0x0, 0x1);
        gbc.writeMem(0x3c15, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xd004);
        EXPECT(gbc.pc(), 0x3c17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 017B
        gbc.setState(0x3152, 0xed14, 0xe1d0, 0x2a44, 0xecc6, 0x3ea, 0x1, 0x0);
        gbc.writeMem(0x3152, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xed14);
        EXPECT(gbc.pc(), 0x3154);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 017C
        gbc.setState(0xb587, 0xf888, 0xc8a0, 0xa91e, 0xc0c1, 0xb4bd, 0x1, 0x1);
        gbc.writeMem(0xb587, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf888);
        EXPECT(gbc.pc(), 0xb589);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb587), 0xcb);
        EXPECT(gbc.readMem(0xb588), 0x2d);
        // CB 2D 017D
        gbc.setState(0x1002, 0x22d3, 0x7ec0, 0x50b0, 0xf0b5, 0x4133, 0x0, 0x1);
        gbc.writeMem(0x1002, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x22d3);
        EXPECT(gbc.pc(), 0x1004);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 017E
        gbc.setState(0x9cd5, 0x5393, 0xa1d0, 0x6a82, 0x4eb4, 0xd53, 0x0, 0x0);
        gbc.writeMem(0x9cd5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x5393);
        EXPECT(gbc.pc(), 0x9cd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cd5), 0xcb);
        EXPECT(gbc.readMem(0x9cd6), 0x2d);
        // CB 2D 017F
        gbc.setState(0x527f, 0x3482, 0xd1f0, 0x7846, 0x5ad5, 0xc396, 0x0, 0x0);
        gbc.writeMem(0x527f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x3482);
        EXPECT(gbc.pc(), 0x5281);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0180
        gbc.setState(0x4436, 0x55db, 0x5e30, 0x77dc, 0xd68, 0x979e, 0x0, 0x1);
        gbc.writeMem(0x4436, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x55db);
        EXPECT(gbc.pc(), 0x4438);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0181
        gbc.setState(0x132e, 0xdd77, 0xfa00, 0x8e52, 0xb940, 0x7f3b, 0x0, 0x1);
        gbc.writeMem(0x132e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xdd77);
        EXPECT(gbc.pc(), 0x1330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0182
        gbc.setState(0x2185, 0xcbfb, 0x77a0, 0x787, 0x479f, 0xf9d2, 0x0, 0x0);
        gbc.writeMem(0x2185, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xcbfb);
        EXPECT(gbc.pc(), 0x2187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0183
        gbc.setState(0x50c5, 0x9191, 0xc7c0, 0x2310, 0x4211, 0xfae5, 0x1, 0x0);
        gbc.writeMem(0x50c5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9191);
        EXPECT(gbc.pc(), 0x50c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0184
        gbc.setState(0xd, 0x29ee, 0x5e30, 0x5e67, 0x4bc4, 0xf087, 0x0, 0x0);
        gbc.writeMem(0xd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x29ee);
        EXPECT(gbc.pc(), 0xf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0185
        gbc.setState(0x265, 0x2042, 0x2770, 0x4a62, 0x3ff8, 0xa17d, 0x1, 0x1);
        gbc.writeMem(0x265, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2042);
        EXPECT(gbc.pc(), 0x267);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0186
        gbc.setState(0xdd89, 0xece7, 0xbb20, 0xe763, 0x9c8c, 0x686f, 0x1, 0x1);
        gbc.writeMem(0xdd89, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xece7);
        EXPECT(gbc.pc(), 0xdd8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd89), 0xcb);
        EXPECT(gbc.readMem(0xdd8a), 0x2d);
        // CB 2D 0187
        gbc.setState(0xd4f1, 0x3117, 0x5d50, 0x304a, 0x6e8b, 0xae2f, 0x1, 0x0);
        gbc.writeMem(0xd4f1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x3117);
        EXPECT(gbc.pc(), 0xd4f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4f1), 0xcb);
        EXPECT(gbc.readMem(0xd4f2), 0x2d);
        // CB 2D 0188
        gbc.setState(0x7d47, 0x404d, 0xdd60, 0x6d5c, 0xf7a1, 0x29a1, 0x0, 0x0);
        gbc.writeMem(0x7d47, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x404d);
        EXPECT(gbc.pc(), 0x7d49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0189
        gbc.setState(0x2970, 0x1514, 0x9930, 0xcfd9, 0x926d, 0xa5fb, 0x1, 0x0);
        gbc.writeMem(0x2970, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x1514);
        EXPECT(gbc.pc(), 0x2972);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 018A
        gbc.setState(0xeddc, 0xe1, 0xb10, 0x2a7, 0xa065, 0xdb39, 0x0, 0x1);
        gbc.writeMem(0xeddc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe1);
        EXPECT(gbc.pc(), 0xedde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeddc), 0xcb);
        EXPECT(gbc.readMem(0xeddd), 0x2d);
        // CB 2D 018B
        gbc.setState(0x615e, 0x1587, 0xd8b0, 0xbc84, 0x984e, 0xb9de, 0x0, 0x1);
        gbc.writeMem(0x615e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x1587);
        EXPECT(gbc.pc(), 0x6160);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 018C
        gbc.setState(0x611b, 0x77d4, 0x3330, 0x18d3, 0x65af, 0xfd2d, 0x1, 0x1);
        gbc.writeMem(0x611b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x77d4);
        EXPECT(gbc.pc(), 0x611d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 018D
        gbc.setState(0xe3fb, 0x5a3b, 0x3710, 0x4d3f, 0x8abd, 0xfcc3, 0x1, 0x0);
        gbc.writeMem(0xe3fb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x5a3b);
        EXPECT(gbc.pc(), 0xe3fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3fb), 0xcb);
        EXPECT(gbc.readMem(0xe3fc), 0x2d);
        // CB 2D 018E
        gbc.setState(0x975d, 0xeba, 0xd010, 0xa66d, 0xba67, 0x248a, 0x0, 0x0);
        gbc.writeMem(0x975d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xeba);
        EXPECT(gbc.pc(), 0x975f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x975d), 0xcb);
        EXPECT(gbc.readMem(0x975e), 0x2d);
        // CB 2D 018F
        gbc.setState(0xaf5a, 0xa4fd, 0x9770, 0x4894, 0x85ac, 0xf980, 0x1, 0x1);
        gbc.writeMem(0xaf5a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xa4fd);
        EXPECT(gbc.pc(), 0xaf5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf5a), 0xcb);
        EXPECT(gbc.readMem(0xaf5b), 0x2d);
        // CB 2D 0190
        gbc.setState(0x52, 0x1623, 0xd6f0, 0x46fa, 0x8b19, 0x86b8, 0x0, 0x1);
        gbc.writeMem(0x52, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x1623);
        EXPECT(gbc.pc(), 0x54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0191
        gbc.setState(0x59fc, 0x7076, 0xba80, 0xa42b, 0x7a6f, 0xe0b4, 0x1, 0x1);
        gbc.writeMem(0x59fc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x7076);
        EXPECT(gbc.pc(), 0x59fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0192
        gbc.setState(0xdf78, 0x3ad2, 0x5f70, 0x358b, 0xdf0f, 0xa784, 0x0, 0x1);
        gbc.writeMem(0xdf78, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3ad2);
        EXPECT(gbc.pc(), 0xdf7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf78), 0xcb);
        EXPECT(gbc.readMem(0xdf79), 0x2d);
        // CB 2D 0193
        gbc.setState(0x1b9f, 0x2796, 0xc0d0, 0x6ea0, 0xd40b, 0xc50c, 0x0, 0x1);
        gbc.writeMem(0x1b9f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x2796);
        EXPECT(gbc.pc(), 0x1ba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0194
        gbc.setState(0x9c44, 0x1f83, 0xd8f0, 0x1a2b, 0x5dac, 0x38d2, 0x1, 0x0);
        gbc.writeMem(0x9c44, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1f83);
        EXPECT(gbc.pc(), 0x9c46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c44), 0xcb);
        EXPECT(gbc.readMem(0x9c45), 0x2d);
        // CB 2D 0196
        gbc.setState(0xc639, 0x7598, 0x8bd0, 0xf685, 0x5f09, 0xe67f, 0x1, 0x0);
        gbc.writeMem(0xc639, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x7598);
        EXPECT(gbc.pc(), 0xc63b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc639), 0xcb);
        EXPECT(gbc.readMem(0xc63a), 0x2d);
        // CB 2D 0197
        gbc.setState(0x61e, 0x96f2, 0x4f50, 0x8b61, 0x4bfb, 0x5a8d, 0x1, 0x1);
        gbc.writeMem(0x61e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x96f2);
        EXPECT(gbc.pc(), 0x620);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0198
        gbc.setState(0x650c, 0x8a07, 0xd3f0, 0x6d6f, 0x6648, 0x50bb, 0x0, 0x0);
        gbc.writeMem(0x650c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8a07);
        EXPECT(gbc.pc(), 0x650e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0199
        gbc.setState(0x41a8, 0xd419, 0x4b60, 0x892e, 0x988, 0xd046, 0x0, 0x0);
        gbc.writeMem(0x41a8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xd419);
        EXPECT(gbc.pc(), 0x41aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 019A
        gbc.setState(0xd4e3, 0x83c5, 0xf6e0, 0x2bac, 0xd9b, 0x7acc, 0x1, 0x0);
        gbc.writeMem(0xd4e3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x83c5);
        EXPECT(gbc.pc(), 0xd4e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e3), 0xcb);
        EXPECT(gbc.readMem(0xd4e4), 0x2d);
        // CB 2D 019B
        gbc.setState(0x8b19, 0x9070, 0x3200, 0x8c23, 0x37f8, 0x3a73, 0x0, 0x0);
        gbc.writeMem(0x8b19, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9070);
        EXPECT(gbc.pc(), 0x8b1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b19), 0xcb);
        EXPECT(gbc.readMem(0x8b1a), 0x2d);
        // CB 2D 019C
        gbc.setState(0x78b6, 0xe319, 0xcab0, 0x1a0, 0x43bb, 0x5bd5, 0x0, 0x1);
        gbc.writeMem(0x78b6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xe319);
        EXPECT(gbc.pc(), 0x78b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 019D
        gbc.setState(0x2fea, 0xbea2, 0xaf80, 0xa325, 0x3b4f, 0xf4d, 0x1, 0x0);
        gbc.writeMem(0x2fea, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xbea2);
        EXPECT(gbc.pc(), 0x2fec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 019E
        gbc.setState(0x1fc5, 0x84f3, 0xbe10, 0xa863, 0x219, 0xd7c9, 0x1, 0x1);
        gbc.writeMem(0x1fc5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x84f3);
        EXPECT(gbc.pc(), 0x1fc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 019F
        gbc.setState(0x5117, 0xdbe5, 0x7590, 0xf56e, 0x3027, 0xa865, 0x1, 0x1);
        gbc.writeMem(0x5117, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xdbe5);
        EXPECT(gbc.pc(), 0x5119);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01A0
        gbc.setState(0x172d, 0xbd4a, 0xda80, 0xeba6, 0xcf93, 0xbea8, 0x0, 0x1);
        gbc.writeMem(0x172d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xbd4a);
        EXPECT(gbc.pc(), 0x172f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01A1
        gbc.setState(0x845b, 0x761a, 0x7f00, 0x5d6c, 0xc62a, 0x810d, 0x1, 0x0);
        gbc.writeMem(0x845b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x761a);
        EXPECT(gbc.pc(), 0x845d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x845b), 0xcb);
        EXPECT(gbc.readMem(0x845c), 0x2d);
        // CB 2D 01A2
        gbc.setState(0x7b35, 0x33e6, 0x2930, 0x3a4f, 0x273d, 0x7a2d, 0x0, 0x1);
        gbc.writeMem(0x7b35, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x33e6);
        EXPECT(gbc.pc(), 0x7b37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01A3
        gbc.setState(0xc9c6, 0xf7cf, 0xd010, 0x3ca8, 0xdd95, 0xbf54, 0x1, 0x1);
        gbc.writeMem(0xc9c6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf7cf);
        EXPECT(gbc.pc(), 0xc9c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9c6), 0xcb);
        EXPECT(gbc.readMem(0xc9c7), 0x2d);
        // CB 2D 01A4
        gbc.setState(0xe041, 0x1667, 0x2a20, 0x927a, 0xca4b, 0x209f, 0x0, 0x0);
        gbc.writeMem(0xe041, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x1667);
        EXPECT(gbc.pc(), 0xe043);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe041), 0xcb);
        EXPECT(gbc.readMem(0xe042), 0x2d);
        // CB 2D 01A5
        gbc.setState(0x7ffa, 0x14e1, 0x4540, 0xc09e, 0xcc04, 0x9592, 0x0, 0x0);
        gbc.writeMem(0x7ffa, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x14e1);
        EXPECT(gbc.pc(), 0x7ffc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01A6
        gbc.setState(0xb9a4, 0x3efb, 0xaea0, 0xce63, 0x5d84, 0x7aa3, 0x1, 0x1);
        gbc.writeMem(0xb9a4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3efb);
        EXPECT(gbc.pc(), 0xb9a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9a4), 0xcb);
        EXPECT(gbc.readMem(0xb9a5), 0x2d);
        // CB 2D 01A7
        gbc.setState(0x8d9a, 0xe238, 0x8fb0, 0x2320, 0xc5a7, 0xda0c, 0x0, 0x1);
        gbc.writeMem(0x8d9a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe238);
        EXPECT(gbc.pc(), 0x8d9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d9a), 0xcb);
        EXPECT(gbc.readMem(0x8d9b), 0x2d);
        // CB 2D 01A8
        gbc.setState(0x1c51, 0x603, 0x40a0, 0x521b, 0x136c, 0x6aa8, 0x0, 0x0);
        gbc.writeMem(0x1c51, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x603);
        EXPECT(gbc.pc(), 0x1c53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01A9
        gbc.setState(0x9f88, 0x9115, 0xbe0, 0x7597, 0xe44f, 0xa990, 0x1, 0x0);
        gbc.writeMem(0x9f88, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9115);
        EXPECT(gbc.pc(), 0x9f8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f88), 0xcb);
        EXPECT(gbc.readMem(0x9f89), 0x2d);
        // CB 2D 01AA
        gbc.setState(0xd27b, 0xbfe4, 0xac60, 0x1df7, 0x76b, 0x26de, 0x0, 0x0);
        gbc.writeMem(0xd27b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xbfe4);
        EXPECT(gbc.pc(), 0xd27d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd27b), 0xcb);
        EXPECT(gbc.readMem(0xd27c), 0x2d);
        // CB 2D 01AB
        gbc.setState(0x53db, 0xba00, 0x24a0, 0xc588, 0x3f17, 0xb154, 0x0, 0x1);
        gbc.writeMem(0x53db, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xba00);
        EXPECT(gbc.pc(), 0x53dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01AC
        gbc.setState(0x8a59, 0xbc8e, 0x28e0, 0xe21d, 0x5e17, 0x5602, 0x1, 0x0);
        gbc.writeMem(0x8a59, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xbc8e);
        EXPECT(gbc.pc(), 0x8a5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a59), 0xcb);
        EXPECT(gbc.readMem(0x8a5a), 0x2d);
        // CB 2D 01AD
        gbc.setState(0xb607, 0xec91, 0x21b0, 0x3cc2, 0xc11a, 0x8e4f, 0x1, 0x1);
        gbc.writeMem(0xb607, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xec91);
        EXPECT(gbc.pc(), 0xb609);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb607), 0xcb);
        EXPECT(gbc.readMem(0xb608), 0x2d);
        // CB 2D 01AE
        gbc.setState(0x957f, 0x38f8, 0xf4e0, 0x15c3, 0xce8c, 0xae4d, 0x0, 0x1);
        gbc.writeMem(0x957f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x38f8);
        EXPECT(gbc.pc(), 0x9581);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x957f), 0xcb);
        EXPECT(gbc.readMem(0x9580), 0x2d);
        // CB 2D 01AF
        gbc.setState(0x1d1c, 0xff5c, 0x9210, 0x7fd6, 0xb47f, 0x4198, 0x1, 0x1);
        gbc.writeMem(0x1d1c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xff5c);
        EXPECT(gbc.pc(), 0x1d1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01B2
        gbc.setState(0x69b4, 0xa905, 0xe950, 0xe041, 0xf6f7, 0xd00e, 0x1, 0x0);
        gbc.writeMem(0x69b4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xa905);
        EXPECT(gbc.pc(), 0x69b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01B3
        gbc.setState(0xf62, 0x5f14, 0x7d20, 0x91e1, 0x31a8, 0x9c97, 0x0, 0x1);
        gbc.writeMem(0xf62, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x5f14);
        EXPECT(gbc.pc(), 0xf64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01B4
        gbc.setState(0x4fff, 0x5346, 0x7900, 0xece6, 0x373d, 0xc626, 0x1, 0x1);
        gbc.writeMem(0x4fff, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x5346);
        EXPECT(gbc.pc(), 0x5001);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01B5
        gbc.setState(0xf6c, 0x2acd, 0xa700, 0x2a1, 0x5145, 0xfa1a, 0x0, 0x0);
        gbc.writeMem(0xf6c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2acd);
        EXPECT(gbc.pc(), 0xf6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01B6
        gbc.setState(0x3ff0, 0x64c0, 0x3b30, 0x3bf5, 0x4c13, 0x70b9, 0x0, 0x1);
        gbc.writeMem(0x3ff0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x64c0);
        EXPECT(gbc.pc(), 0x3ff2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01B7
        gbc.setState(0x640b, 0x20ee, 0x8ae0, 0xed4, 0x7dbb, 0x2af8, 0x1, 0x1);
        gbc.writeMem(0x640b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x20ee);
        EXPECT(gbc.pc(), 0x640d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01B8
        gbc.setState(0xdd3, 0xc25e, 0x1530, 0x983c, 0xaf23, 0x83e3, 0x0, 0x0);
        gbc.writeMem(0xdd3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc25e);
        EXPECT(gbc.pc(), 0xdd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01B9
        gbc.setState(0x5871, 0xb6db, 0xea0, 0x692f, 0xbadc, 0x2543, 0x1, 0x0);
        gbc.writeMem(0x5871, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb6db);
        EXPECT(gbc.pc(), 0x5873);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01BA
        gbc.setState(0xc7b2, 0x4b8c, 0x2ed0, 0xec50, 0xcaec, 0xcf82, 0x0, 0x1);
        gbc.writeMem(0xc7b2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4b8c);
        EXPECT(gbc.pc(), 0xc7b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b2), 0xcb);
        EXPECT(gbc.readMem(0xc7b3), 0x2d);
        // CB 2D 01BB
        gbc.setState(0x86e1, 0x3e94, 0xa740, 0x2557, 0xfd9b, 0x29bc, 0x0, 0x0);
        gbc.writeMem(0x86e1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3e94);
        EXPECT(gbc.pc(), 0x86e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e1), 0xcb);
        EXPECT(gbc.readMem(0x86e2), 0x2d);
        // CB 2D 01BC
        gbc.setState(0xd190, 0x9cf7, 0x5890, 0x898a, 0x3d9c, 0x4a0f, 0x1, 0x0);
        gbc.writeMem(0xd190, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x9cf7);
        EXPECT(gbc.pc(), 0xd192);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd190), 0xcb);
        EXPECT(gbc.readMem(0xd191), 0x2d);
        // CB 2D 01BD
        gbc.setState(0xd3af, 0x9e73, 0xbb90, 0x2b9, 0xbe28, 0xacaf, 0x1, 0x0);
        gbc.writeMem(0xd3af, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x9e73);
        EXPECT(gbc.pc(), 0xd3b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3af), 0xcb);
        EXPECT(gbc.readMem(0xd3b0), 0x2d);
        // CB 2D 01BE
        gbc.setState(0xa98f, 0x7837, 0xdad0, 0xbd4b, 0xb665, 0x5ac1, 0x1, 0x0);
        gbc.writeMem(0xa98f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x7837);
        EXPECT(gbc.pc(), 0xa991);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa98f), 0xcb);
        EXPECT(gbc.readMem(0xa990), 0x2d);
        // CB 2D 01BF
        gbc.setState(0x807b, 0x818a, 0x290, 0xe409, 0x9d2e, 0x512f, 0x1, 0x0);
        gbc.writeMem(0x807b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x818a);
        EXPECT(gbc.pc(), 0x807d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x807b), 0xcb);
        EXPECT(gbc.readMem(0x807c), 0x2d);
        // CB 2D 01C0
        gbc.setState(0x9c91, 0x217d, 0x9fd0, 0x996b, 0x8314, 0x94e2, 0x1, 0x1);
        gbc.writeMem(0x9c91, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x217d);
        EXPECT(gbc.pc(), 0x9c93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c91), 0xcb);
        EXPECT(gbc.readMem(0x9c92), 0x2d);
        // CB 2D 01C1
        gbc.setState(0xbda1, 0x70bf, 0x7e40, 0xf6ca, 0x3150, 0x93cb, 0x1, 0x1);
        gbc.writeMem(0xbda1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x70bf);
        EXPECT(gbc.pc(), 0xbda3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbda1), 0xcb);
        EXPECT(gbc.readMem(0xbda2), 0x2d);
        // CB 2D 01C2
        gbc.setState(0x1988, 0x540f, 0x96f0, 0x2736, 0xbd0c, 0x4be7, 0x0, 0x0);
        gbc.writeMem(0x1988, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x540f);
        EXPECT(gbc.pc(), 0x198a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01C3
        gbc.setState(0x501c, 0x9936, 0xb140, 0xafc8, 0x1da, 0xcf79, 0x0, 0x0);
        gbc.writeMem(0x501c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x9936);
        EXPECT(gbc.pc(), 0x501e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01C4
        gbc.setState(0xdc5c, 0x5829, 0x44b0, 0xd55a, 0x6d41, 0xebdc, 0x0, 0x1);
        gbc.writeMem(0xdc5c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x5829);
        EXPECT(gbc.pc(), 0xdc5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc5c), 0xcb);
        EXPECT(gbc.readMem(0xdc5d), 0x2d);
        // CB 2D 01C5
        gbc.setState(0x3910, 0x5149, 0xfbe0, 0xf8b0, 0x70ac, 0xe383, 0x0, 0x0);
        gbc.writeMem(0x3910, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x5149);
        EXPECT(gbc.pc(), 0x3912);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01C6
        gbc.setState(0x5633, 0xa562, 0x6800, 0x3cdc, 0x3125, 0x877c, 0x0, 0x1);
        gbc.writeMem(0x5633, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa562);
        EXPECT(gbc.pc(), 0x5635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01C7
        gbc.setState(0xe266, 0x4204, 0x12e0, 0xc89a, 0x926f, 0xa473, 0x0, 0x0);
        gbc.writeMem(0xe266, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x4204);
        EXPECT(gbc.pc(), 0xe268);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe266), 0xcb);
        EXPECT(gbc.readMem(0xe267), 0x2d);
        // CB 2D 01C8
        gbc.setState(0xedc3, 0x5527, 0x3210, 0x5f15, 0x8c71, 0xd4fa, 0x1, 0x0);
        gbc.writeMem(0xedc3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5527);
        EXPECT(gbc.pc(), 0xedc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedc3), 0xcb);
        EXPECT(gbc.readMem(0xedc4), 0x2d);
        // CB 2D 01C9
        gbc.setState(0x53f0, 0x9477, 0x2350, 0x44ea, 0x2951, 0x9ac3, 0x1, 0x1);
        gbc.writeMem(0x53f0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x9477);
        EXPECT(gbc.pc(), 0x53f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01CA
        gbc.setState(0x63ab, 0x8dea, 0x4fa0, 0xbb8e, 0xc755, 0x4f11, 0x0, 0x0);
        gbc.writeMem(0x63ab, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x8dea);
        EXPECT(gbc.pc(), 0x63ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01CB
        gbc.setState(0x68b4, 0xf90, 0x9970, 0xbabb, 0x4e90, 0x5b36, 0x0, 0x0);
        gbc.writeMem(0x68b4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xf90);
        EXPECT(gbc.pc(), 0x68b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01CC
        gbc.setState(0xdd6a, 0x44e5, 0xf80, 0xe16c, 0xf082, 0xeffa, 0x0, 0x0);
        gbc.writeMem(0xdd6a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x44e5);
        EXPECT(gbc.pc(), 0xdd6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd6a), 0xcb);
        EXPECT(gbc.readMem(0xdd6b), 0x2d);
        // CB 2D 01CD
        gbc.setState(0x58fd, 0x72ce, 0x6660, 0x4f65, 0x2fa0, 0xd231, 0x1, 0x1);
        gbc.writeMem(0x58fd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x72ce);
        EXPECT(gbc.pc(), 0x58ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01CE
        gbc.setState(0x8ca1, 0x5886, 0xfb50, 0x3363, 0x5316, 0x833d, 0x0, 0x0);
        gbc.writeMem(0x8ca1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x5886);
        EXPECT(gbc.pc(), 0x8ca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ca1), 0xcb);
        EXPECT(gbc.readMem(0x8ca2), 0x2d);
        // CB 2D 01CF
        gbc.setState(0x6eae, 0x7fbd, 0x7cf0, 0x9b47, 0xe735, 0x4607, 0x1, 0x0);
        gbc.writeMem(0x6eae, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x7fbd);
        EXPECT(gbc.pc(), 0x6eb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01D0
        gbc.setState(0x3249, 0x148, 0x91e0, 0x7cb1, 0x5be, 0xd7ef, 0x1, 0x0);
        gbc.writeMem(0x3249, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x148);
        EXPECT(gbc.pc(), 0x324b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01D1
        gbc.setState(0x9f5d, 0x8eb2, 0xf210, 0xdc38, 0x4f6c, 0x9afb, 0x0, 0x1);
        gbc.writeMem(0x9f5d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8eb2);
        EXPECT(gbc.pc(), 0x9f5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f5d), 0xcb);
        EXPECT(gbc.readMem(0x9f5e), 0x2d);
        // CB 2D 01D2
        gbc.setState(0xca74, 0xa3a1, 0xb1a0, 0x95c1, 0xa7bc, 0xb5d4, 0x1, 0x1);
        gbc.writeMem(0xca74, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xa3a1);
        EXPECT(gbc.pc(), 0xca76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca74), 0xcb);
        EXPECT(gbc.readMem(0xca75), 0x2d);
        // CB 2D 01D3
        gbc.setState(0xb07f, 0x961d, 0x93d0, 0xd87d, 0xbf95, 0x7cfe, 0x0, 0x0);
        gbc.writeMem(0xb07f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x961d);
        EXPECT(gbc.pc(), 0xb081);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb07f), 0xcb);
        EXPECT(gbc.readMem(0xb080), 0x2d);
        // CB 2D 01D4
        gbc.setState(0x34c7, 0x54a1, 0x7e90, 0xc040, 0xa2f5, 0xa887, 0x1, 0x1);
        gbc.writeMem(0x34c7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x54a1);
        EXPECT(gbc.pc(), 0x34c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01D5
        gbc.setState(0xb395, 0xf6a7, 0x7610, 0x93b, 0x99f4, 0x7069, 0x1, 0x1);
        gbc.writeMem(0xb395, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xf6a7);
        EXPECT(gbc.pc(), 0xb397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb395), 0xcb);
        EXPECT(gbc.readMem(0xb396), 0x2d);
        // CB 2D 01D6
        gbc.setState(0xedec, 0x1de7, 0x8990, 0x732, 0xdb7b, 0xd613, 0x1, 0x0);
        gbc.writeMem(0xedec, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1de7);
        EXPECT(gbc.pc(), 0xedee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedec), 0xcb);
        EXPECT(gbc.readMem(0xeded), 0x2d);
        // CB 2D 01D7
        gbc.setState(0x534a, 0xbfa2, 0x36f0, 0x44cc, 0x572b, 0xe737, 0x1, 0x0);
        gbc.writeMem(0x534a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbfa2);
        EXPECT(gbc.pc(), 0x534c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01D8
        gbc.setState(0x605f, 0xb931, 0x3570, 0x5a5d, 0x3950, 0x2f77, 0x0, 0x0);
        gbc.writeMem(0x605f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb931);
        EXPECT(gbc.pc(), 0x6061);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01DA
        gbc.setState(0x87b2, 0xb309, 0x9cb0, 0xe150, 0x6961, 0x6c88, 0x1, 0x0);
        gbc.writeMem(0x87b2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb309);
        EXPECT(gbc.pc(), 0x87b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87b2), 0xcb);
        EXPECT(gbc.readMem(0x87b3), 0x2d);
        // CB 2D 01DC
        gbc.setState(0xde4d, 0x8a6a, 0x9e90, 0x642f, 0x958e, 0xd87e, 0x1, 0x0);
        gbc.writeMem(0xde4d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x8a6a);
        EXPECT(gbc.pc(), 0xde4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde4d), 0xcb);
        EXPECT(gbc.readMem(0xde4e), 0x2d);
        // CB 2D 01DD
        gbc.setState(0x196b, 0x2a19, 0x9700, 0xbd82, 0xb192, 0x38fb, 0x0, 0x1);
        gbc.writeMem(0x196b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x2a19);
        EXPECT(gbc.pc(), 0x196d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01DE
        gbc.setState(0xae1a, 0xf402, 0xb9b0, 0xfd9b, 0x8689, 0x2a5b, 0x0, 0x0);
        gbc.writeMem(0xae1a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf402);
        EXPECT(gbc.pc(), 0xae1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae1a), 0xcb);
        EXPECT(gbc.readMem(0xae1b), 0x2d);
        // CB 2D 01DF
        gbc.setState(0x2b64, 0x851c, 0xc8e0, 0x9503, 0x38e7, 0xf42c, 0x0, 0x0);
        gbc.writeMem(0x2b64, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x851c);
        EXPECT(gbc.pc(), 0x2b66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01E0
        gbc.setState(0xb0ac, 0x3f3f, 0x41b0, 0x4a78, 0x83d5, 0x8d6e, 0x0, 0x1);
        gbc.writeMem(0xb0ac, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x3f3f);
        EXPECT(gbc.pc(), 0xb0ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0ac), 0xcb);
        EXPECT(gbc.readMem(0xb0ad), 0x2d);
        // CB 2D 01E1
        gbc.setState(0xa605, 0x4e99, 0x27a0, 0xcc4d, 0xe2e5, 0x3d78, 0x0, 0x0);
        gbc.writeMem(0xa605, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4e99);
        EXPECT(gbc.pc(), 0xa607);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa605), 0xcb);
        EXPECT(gbc.readMem(0xa606), 0x2d);
        // CB 2D 01E2
        gbc.setState(0xcf86, 0xd19d, 0xfa20, 0xb13f, 0xb521, 0x1f15, 0x0, 0x0);
        gbc.writeMem(0xcf86, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xd19d);
        EXPECT(gbc.pc(), 0xcf88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf86), 0xcb);
        EXPECT(gbc.readMem(0xcf87), 0x2d);
        // CB 2D 01E3
        gbc.setState(0xaa76, 0xb162, 0xf2d0, 0xc8f8, 0x480f, 0x9757, 0x1, 0x1);
        gbc.writeMem(0xaa76, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xb162);
        EXPECT(gbc.pc(), 0xaa78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa76), 0xcb);
        EXPECT(gbc.readMem(0xaa77), 0x2d);
        // CB 2D 01E4
        gbc.setState(0x3fa8, 0x8b12, 0xab30, 0xf7f1, 0x31c3, 0x6dcd, 0x0, 0x1);
        gbc.writeMem(0x3fa8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x8b12);
        EXPECT(gbc.pc(), 0x3faa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01E5
        gbc.setState(0x4953, 0x396a, 0xdf50, 0x84a6, 0x642a, 0x8606, 0x0, 0x0);
        gbc.writeMem(0x4953, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x396a);
        EXPECT(gbc.pc(), 0x4955);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01E6
        gbc.setState(0x945b, 0x535c, 0x1ed0, 0x4828, 0x6dc, 0x305b, 0x1, 0x0);
        gbc.writeMem(0x945b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x535c);
        EXPECT(gbc.pc(), 0x945d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x945b), 0xcb);
        EXPECT(gbc.readMem(0x945c), 0x2d);
        // CB 2D 01E8
        gbc.setState(0x4223, 0x2065, 0xc1d0, 0x9242, 0x745d, 0x315a, 0x0, 0x0);
        gbc.writeMem(0x4223, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2065);
        EXPECT(gbc.pc(), 0x4225);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01E9
        gbc.setState(0x6e02, 0x8023, 0x65c0, 0x7911, 0x3655, 0x4f6c, 0x0, 0x1);
        gbc.writeMem(0x6e02, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8023);
        EXPECT(gbc.pc(), 0x6e04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01EA
        gbc.setState(0x33f4, 0x3957, 0x4c00, 0x5023, 0xee8, 0xa3e6, 0x0, 0x0);
        gbc.writeMem(0x33f4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x3957);
        EXPECT(gbc.pc(), 0x33f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01EB
        gbc.setState(0xbef3, 0xbbc0, 0x3eb0, 0xc638, 0x8a45, 0xdfc5, 0x0, 0x1);
        gbc.writeMem(0xbef3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xbbc0);
        EXPECT(gbc.pc(), 0xbef5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef3), 0xcb);
        EXPECT(gbc.readMem(0xbef4), 0x2d);
        // CB 2D 01EC
        gbc.setState(0xe1ef, 0xf37, 0xdd60, 0xaa76, 0x8370, 0x436e, 0x1, 0x0);
        gbc.writeMem(0xe1ef, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xf37);
        EXPECT(gbc.pc(), 0xe1f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1ef), 0xcb);
        EXPECT(gbc.readMem(0xe1f0), 0x2d);
        // CB 2D 01EE
        gbc.setState(0x79ce, 0x81b2, 0x90, 0xf60f, 0xe830, 0xcee4, 0x0, 0x0);
        gbc.writeMem(0x79ce, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x81b2);
        EXPECT(gbc.pc(), 0x79d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01EF
        gbc.setState(0x6756, 0xb8be, 0xd980, 0x1dbe, 0xe679, 0x3eea, 0x1, 0x0);
        gbc.writeMem(0x6756, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xb8be);
        EXPECT(gbc.pc(), 0x6758);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01F0
        gbc.setState(0x3fac, 0xe764, 0xca80, 0xdc1e, 0x82cc, 0x4aa, 0x0, 0x0);
        gbc.writeMem(0x3fac, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe764);
        EXPECT(gbc.pc(), 0x3fae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01F1
        gbc.setState(0xd0e7, 0xc77c, 0x4bb0, 0xa4d1, 0x683d, 0xab39, 0x1, 0x0);
        gbc.writeMem(0xd0e7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc77c);
        EXPECT(gbc.pc(), 0xd0e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0e7), 0xcb);
        EXPECT(gbc.readMem(0xd0e8), 0x2d);
        // CB 2D 01F2
        gbc.setState(0xcfa0, 0xd999, 0x360, 0x9e76, 0x38ff, 0xed82, 0x0, 0x1);
        gbc.writeMem(0xcfa0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd999);
        EXPECT(gbc.pc(), 0xcfa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfa0), 0xcb);
        EXPECT(gbc.readMem(0xcfa1), 0x2d);
        // CB 2D 01F3
        gbc.setState(0x57c8, 0xec38, 0x5440, 0x22f7, 0xd1a9, 0xe0f7, 0x0, 0x0);
        gbc.writeMem(0x57c8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xec38);
        EXPECT(gbc.pc(), 0x57ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01F4
        gbc.setState(0x71bb, 0x9495, 0x4c80, 0x8a9c, 0x37d5, 0x4543, 0x0, 0x0);
        gbc.writeMem(0x71bb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x9495);
        EXPECT(gbc.pc(), 0x71bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01F5
        gbc.setState(0xaac3, 0xd717, 0xda10, 0xad08, 0x3599, 0x7fc6, 0x1, 0x1);
        gbc.writeMem(0xaac3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xd717);
        EXPECT(gbc.pc(), 0xaac5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaac3), 0xcb);
        EXPECT(gbc.readMem(0xaac4), 0x2d);
        // CB 2D 01F6
        gbc.setState(0x7674, 0xd934, 0xdf50, 0xad67, 0x66ad, 0xe4ca, 0x0, 0x0);
        gbc.writeMem(0x7674, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xd934);
        EXPECT(gbc.pc(), 0x7676);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01F8
        gbc.setState(0x6eb0, 0x147, 0x55c0, 0x44ce, 0xace7, 0x10e, 0x0, 0x0);
        gbc.writeMem(0x6eb0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x147);
        EXPECT(gbc.pc(), 0x6eb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01F9
        gbc.setState(0x23f6, 0x8eab, 0xf880, 0xeffc, 0x47cb, 0x5dbb, 0x0, 0x0);
        gbc.writeMem(0x23f6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8eab);
        EXPECT(gbc.pc(), 0x23f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01FA
        gbc.setState(0x8d66, 0x76aa, 0x790, 0x28d9, 0x962, 0x8890, 0x1, 0x1);
        gbc.writeMem(0x8d66, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x76aa);
        EXPECT(gbc.pc(), 0x8d68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d66), 0xcb);
        EXPECT(gbc.readMem(0x8d67), 0x2d);
        // CB 2D 01FB
        gbc.setState(0xda6f, 0xc33a, 0xa630, 0x8a22, 0xd8df, 0x4f, 0x1, 0x0);
        gbc.writeMem(0xda6f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc33a);
        EXPECT(gbc.pc(), 0xda71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda6f), 0xcb);
        EXPECT(gbc.readMem(0xda70), 0x2d);
        // CB 2D 01FC
        gbc.setState(0x3697, 0xad23, 0x6160, 0x92c4, 0x29af, 0xe96f, 0x1, 0x1);
        gbc.writeMem(0x3697, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xad23);
        EXPECT(gbc.pc(), 0x3699);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01FD
        gbc.setState(0x7990, 0x74b6, 0xcd20, 0x5b64, 0x96bc, 0xd999, 0x0, 0x1);
        gbc.writeMem(0x7990, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x74b6);
        EXPECT(gbc.pc(), 0x7992);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 01FE
        gbc.setState(0x7402, 0x7a3e, 0x5650, 0xbdff, 0xb6f2, 0xce38, 0x1, 0x1);
        gbc.writeMem(0x7402, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x7a3e);
        EXPECT(gbc.pc(), 0x7404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 01FF
        gbc.setState(0xa9a3, 0xafc6, 0x2b50, 0xb337, 0x9bce, 0xfcc9, 0x0, 0x1);
        gbc.writeMem(0xa9a3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xafc6);
        EXPECT(gbc.pc(), 0xa9a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9a3), 0xcb);
        EXPECT(gbc.readMem(0xa9a4), 0x2d);
        // CB 2D 0200
        gbc.setState(0xe3e4, 0xb9c8, 0x5ae0, 0xd20, 0xdefb, 0x9dfa, 0x0, 0x0);
        gbc.writeMem(0xe3e4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xb9c8);
        EXPECT(gbc.pc(), 0xe3e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3e4), 0xcb);
        EXPECT(gbc.readMem(0xe3e5), 0x2d);
        // CB 2D 0201
        gbc.setState(0x99d9, 0x7f24, 0xdd90, 0xa74d, 0xdcda, 0x9d88, 0x1, 0x1);
        gbc.writeMem(0x99d9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x7f24);
        EXPECT(gbc.pc(), 0x99db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99d9), 0xcb);
        EXPECT(gbc.readMem(0x99da), 0x2d);
        // CB 2D 0202
        gbc.setState(0x5b6f, 0x7ed0, 0x9f20, 0x778b, 0x2992, 0xfd68, 0x1, 0x1);
        gbc.writeMem(0x5b6f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7ed0);
        EXPECT(gbc.pc(), 0x5b71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0203
        gbc.setState(0x79a8, 0x3f36, 0xf2a0, 0xcf38, 0xad7a, 0x9e1c, 0x0, 0x0);
        gbc.writeMem(0x79a8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x3f36);
        EXPECT(gbc.pc(), 0x79aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0204
        gbc.setState(0x1c62, 0xd6a, 0x55c0, 0x2ea, 0x8677, 0x12e0, 0x1, 0x1);
        gbc.writeMem(0x1c62, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd6a);
        EXPECT(gbc.pc(), 0x1c64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0205
        gbc.setState(0xbd15, 0xf5fa, 0xa870, 0x9962, 0x2578, 0x6c7d, 0x1, 0x1);
        gbc.writeMem(0xbd15, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf5fa);
        EXPECT(gbc.pc(), 0xbd17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd15), 0xcb);
        EXPECT(gbc.readMem(0xbd16), 0x2d);
        // CB 2D 0206
        gbc.setState(0x7f89, 0x552, 0x8050, 0x71bd, 0xfba7, 0xa92d, 0x0, 0x1);
        gbc.writeMem(0x7f89, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x552);
        EXPECT(gbc.pc(), 0x7f8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0207
        gbc.setState(0x162c, 0x518a, 0x7a0, 0x3aa4, 0xee9b, 0x56d3, 0x1, 0x1);
        gbc.writeMem(0x162c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x518a);
        EXPECT(gbc.pc(), 0x162e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0208
        gbc.setState(0x946c, 0x7df, 0x10d0, 0xa397, 0x92c1, 0x2cc3, 0x0, 0x1);
        gbc.writeMem(0x946c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x7df);
        EXPECT(gbc.pc(), 0x946e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x946c), 0xcb);
        EXPECT(gbc.readMem(0x946d), 0x2d);
        // CB 2D 0209
        gbc.setState(0x38ec, 0x5d4e, 0x1400, 0x6153, 0x3ef9, 0xa05, 0x0, 0x0);
        gbc.writeMem(0x38ec, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5d4e);
        EXPECT(gbc.pc(), 0x38ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 020A
        gbc.setState(0x3028, 0xfb08, 0x24b0, 0x235e, 0xc14b, 0x6986, 0x1, 0x1);
        gbc.writeMem(0x3028, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xfb08);
        EXPECT(gbc.pc(), 0x302a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 020B
        gbc.setState(0xb1c4, 0x6b0, 0xaaf0, 0x94b, 0xf0b2, 0x5912, 0x1, 0x1);
        gbc.writeMem(0xb1c4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6b0);
        EXPECT(gbc.pc(), 0xb1c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1c4), 0xcb);
        EXPECT(gbc.readMem(0xb1c5), 0x2d);
        // CB 2D 020C
        gbc.setState(0xa116, 0xcbc1, 0x6fe0, 0x9a1, 0xd3fb, 0x386a, 0x0, 0x1);
        gbc.writeMem(0xa116, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xcbc1);
        EXPECT(gbc.pc(), 0xa118);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa116), 0xcb);
        EXPECT(gbc.readMem(0xa117), 0x2d);
        // CB 2D 020D
        gbc.setState(0xbfcd, 0x47c0, 0xd0c0, 0xc7fd, 0xbe81, 0x38c5, 0x0, 0x1);
        gbc.writeMem(0xbfcd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x47c0);
        EXPECT(gbc.pc(), 0xbfcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfcd), 0xcb);
        EXPECT(gbc.readMem(0xbfce), 0x2d);
        // CB 2D 020E
        gbc.setState(0x5c18, 0xcc11, 0xf150, 0xc37e, 0x91f2, 0x5296, 0x0, 0x0);
        gbc.writeMem(0x5c18, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xcc11);
        EXPECT(gbc.pc(), 0x5c1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 020F
        gbc.setState(0x7e23, 0xa3f9, 0x1b50, 0x7ad9, 0x296f, 0x8cfe, 0x0, 0x0);
        gbc.writeMem(0x7e23, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa3f9);
        EXPECT(gbc.pc(), 0x7e25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0210
        gbc.setState(0x8b61, 0x9de6, 0xd840, 0x64bd, 0x24fb, 0x87a1, 0x0, 0x0);
        gbc.writeMem(0x8b61, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9de6);
        EXPECT(gbc.pc(), 0x8b63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b61), 0xcb);
        EXPECT(gbc.readMem(0x8b62), 0x2d);
        // CB 2D 0211
        gbc.setState(0x3d4f, 0x213e, 0x8160, 0x7022, 0x1b43, 0x2e07, 0x0, 0x0);
        gbc.writeMem(0x3d4f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x213e);
        EXPECT(gbc.pc(), 0x3d51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0212
        gbc.setState(0x5749, 0xfc54, 0x55f0, 0x1c57, 0x73ca, 0x5188, 0x0, 0x0);
        gbc.writeMem(0x5749, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xfc54);
        EXPECT(gbc.pc(), 0x574b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0213
        gbc.setState(0x2634, 0x4d9, 0x5810, 0x4945, 0x65c3, 0x7395, 0x0, 0x1);
        gbc.writeMem(0x2634, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x4d9);
        EXPECT(gbc.pc(), 0x2636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0214
        gbc.setState(0x254f, 0x15bb, 0xe4f0, 0x62ec, 0x196d, 0x1e81, 0x1, 0x0);
        gbc.writeMem(0x254f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x15bb);
        EXPECT(gbc.pc(), 0x2551);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0215
        gbc.setState(0xc8a6, 0xfce3, 0x1760, 0x657e, 0xb99d, 0xa62a, 0x0, 0x0);
        gbc.writeMem(0xc8a6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xfce3);
        EXPECT(gbc.pc(), 0xc8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a6), 0xcb);
        EXPECT(gbc.readMem(0xc8a7), 0x2d);
        // CB 2D 0216
        gbc.setState(0xb8c1, 0xed62, 0x3950, 0x49e2, 0xa1ba, 0x8587, 0x1, 0x0);
        gbc.writeMem(0xb8c1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xed62);
        EXPECT(gbc.pc(), 0xb8c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8c1), 0xcb);
        EXPECT(gbc.readMem(0xb8c2), 0x2d);
        // CB 2D 021A
        gbc.setState(0x915f, 0x8fa5, 0x7e20, 0xb07c, 0x3475, 0x721b, 0x0, 0x1);
        gbc.writeMem(0x915f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8fa5);
        EXPECT(gbc.pc(), 0x9161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x915f), 0xcb);
        EXPECT(gbc.readMem(0x9160), 0x2d);
        // CB 2D 021B
        gbc.setState(0xd170, 0xf91c, 0xebb0, 0x2fb5, 0x6528, 0x3503, 0x0, 0x1);
        gbc.writeMem(0xd170, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf91c);
        EXPECT(gbc.pc(), 0xd172);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd170), 0xcb);
        EXPECT(gbc.readMem(0xd171), 0x2d);
        // CB 2D 021C
        gbc.setState(0xc9fc, 0x883d, 0x7ed0, 0xb272, 0x6ded, 0x6b84, 0x1, 0x1);
        gbc.writeMem(0xc9fc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x883d);
        EXPECT(gbc.pc(), 0xc9fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9fc), 0xcb);
        EXPECT(gbc.readMem(0xc9fd), 0x2d);
        // CB 2D 021D
        gbc.setState(0xe7df, 0x88c2, 0xa360, 0xfe1c, 0xcad5, 0xa361, 0x1, 0x0);
        gbc.writeMem(0xe7df, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x88c2);
        EXPECT(gbc.pc(), 0xe7e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7df), 0xcb);
        EXPECT(gbc.readMem(0xe7e0), 0x2d);
        // CB 2D 021E
        gbc.setState(0xa24c, 0x327f, 0x5d60, 0x4d6c, 0x8b64, 0x938, 0x1, 0x0);
        gbc.writeMem(0xa24c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x327f);
        EXPECT(gbc.pc(), 0xa24e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa24c), 0xcb);
        EXPECT(gbc.readMem(0xa24d), 0x2d);
        // CB 2D 021F
        gbc.setState(0xcbca, 0xfeed, 0x7bb0, 0x9a8e, 0xca18, 0x8d1, 0x0, 0x0);
        gbc.writeMem(0xcbca, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfeed);
        EXPECT(gbc.pc(), 0xcbcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbca), 0xcb);
        EXPECT(gbc.readMem(0xcbcb), 0x2d);
        // CB 2D 0220
        gbc.setState(0xeb86, 0x331f, 0x510, 0xa655, 0x365d, 0x7763, 0x0, 0x1);
        gbc.writeMem(0xeb86, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x331f);
        EXPECT(gbc.pc(), 0xeb88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb86), 0xcb);
        EXPECT(gbc.readMem(0xeb87), 0x2d);
        // CB 2D 0221
        gbc.setState(0x49ef, 0x9ab4, 0x9100, 0x9ea9, 0x895, 0x973e, 0x1, 0x1);
        gbc.writeMem(0x49ef, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x9ab4);
        EXPECT(gbc.pc(), 0x49f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0222
        gbc.setState(0x1661, 0x9b27, 0x9c70, 0xc9b0, 0x9803, 0xbd60, 0x0, 0x0);
        gbc.writeMem(0x1661, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x9b27);
        EXPECT(gbc.pc(), 0x1663);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0223
        gbc.setState(0xbadb, 0xd89a, 0x4250, 0xa9de, 0x23f3, 0xfe63, 0x0, 0x1);
        gbc.writeMem(0xbadb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd89a);
        EXPECT(gbc.pc(), 0xbadd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbadb), 0xcb);
        EXPECT(gbc.readMem(0xbadc), 0x2d);
        // CB 2D 0224
        gbc.setState(0x9d63, 0xd240, 0x7920, 0x6b30, 0x8d3d, 0xad1, 0x1, 0x1);
        gbc.writeMem(0x9d63, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd240);
        EXPECT(gbc.pc(), 0x9d65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d63), 0xcb);
        EXPECT(gbc.readMem(0x9d64), 0x2d);
        // CB 2D 0225
        gbc.setState(0xaaa5, 0xf899, 0x3210, 0x217, 0xf889, 0xeb48, 0x0, 0x0);
        gbc.writeMem(0xaaa5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xf899);
        EXPECT(gbc.pc(), 0xaaa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaa5), 0xcb);
        EXPECT(gbc.readMem(0xaaa6), 0x2d);
        // CB 2D 0226
        gbc.setState(0x1a6, 0xa86f, 0xb9a0, 0x332c, 0x3daa, 0x2eee, 0x1, 0x1);
        gbc.writeMem(0x1a6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa86f);
        EXPECT(gbc.pc(), 0x1a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0227
        gbc.setState(0x181a, 0xca0, 0xb7d0, 0x879f, 0x22bf, 0xf91a, 0x0, 0x1);
        gbc.writeMem(0x181a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xca0);
        EXPECT(gbc.pc(), 0x181c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0228
        gbc.setState(0x3f8, 0x4e9a, 0xf630, 0xae7e, 0xfcb7, 0x918a, 0x0, 0x0);
        gbc.writeMem(0x3f8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x4e9a);
        EXPECT(gbc.pc(), 0x3fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0229
        gbc.setState(0x650c, 0x356a, 0x43d0, 0x3f3c, 0x6a7f, 0xae19, 0x1, 0x0);
        gbc.writeMem(0x650c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x356a);
        EXPECT(gbc.pc(), 0x650e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 022A
        gbc.setState(0x737e, 0xea91, 0x4e60, 0xe9b9, 0x8483, 0xa49c, 0x1, 0x1);
        gbc.writeMem(0x737e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xea91);
        EXPECT(gbc.pc(), 0x7380);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 022B
        gbc.setState(0x8b14, 0x43ba, 0xfea0, 0x8917, 0x9b70, 0x72bf, 0x0, 0x0);
        gbc.writeMem(0x8b14, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x43ba);
        EXPECT(gbc.pc(), 0x8b16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b14), 0xcb);
        EXPECT(gbc.readMem(0x8b15), 0x2d);
        // CB 2D 022C
        gbc.setState(0xbf83, 0xd605, 0x1600, 0x922d, 0xcca1, 0xd64c, 0x0, 0x0);
        gbc.writeMem(0xbf83, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xd605);
        EXPECT(gbc.pc(), 0xbf85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf83), 0xcb);
        EXPECT(gbc.readMem(0xbf84), 0x2d);
        // CB 2D 022D
        gbc.setState(0x8dd1, 0x1161, 0x7970, 0xa7a0, 0x7fa0, 0x440c, 0x1, 0x0);
        gbc.writeMem(0x8dd1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1161);
        EXPECT(gbc.pc(), 0x8dd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dd1), 0xcb);
        EXPECT(gbc.readMem(0x8dd2), 0x2d);
        // CB 2D 022E
        gbc.setState(0xd9e4, 0xa809, 0xcd20, 0xaa, 0xaa0f, 0x9b65, 0x1, 0x0);
        gbc.writeMem(0xd9e4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xa809);
        EXPECT(gbc.pc(), 0xd9e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9e4), 0xcb);
        EXPECT(gbc.readMem(0xd9e5), 0x2d);
        // CB 2D 022F
        gbc.setState(0xce8c, 0xbd49, 0x4e20, 0xfd5, 0x6dcc, 0x8c4c, 0x0, 0x0);
        gbc.writeMem(0xce8c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xbd49);
        EXPECT(gbc.pc(), 0xce8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce8c), 0xcb);
        EXPECT(gbc.readMem(0xce8d), 0x2d);
        // CB 2D 0230
        gbc.setState(0xb8be, 0xab6c, 0xd400, 0x7193, 0x6d3d, 0x69bd, 0x1, 0x1);
        gbc.writeMem(0xb8be, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xab6c);
        EXPECT(gbc.pc(), 0xb8c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8be), 0xcb);
        EXPECT(gbc.readMem(0xb8bf), 0x2d);
        // CB 2D 0231
        gbc.setState(0xcd27, 0x5267, 0x2a40, 0x2506, 0xafec, 0x8d8b, 0x0, 0x1);
        gbc.writeMem(0xcd27, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x5267);
        EXPECT(gbc.pc(), 0xcd29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd27), 0xcb);
        EXPECT(gbc.readMem(0xcd28), 0x2d);
        // CB 2D 0233
        gbc.setState(0x2214, 0x8f09, 0x9fb0, 0xcc2, 0x1cec, 0x69d7, 0x0, 0x0);
        gbc.writeMem(0x2214, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8f09);
        EXPECT(gbc.pc(), 0x2216);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0234
        gbc.setState(0x83b6, 0x9192, 0x39b0, 0x1cb9, 0x5b82, 0x5ba3, 0x1, 0x0);
        gbc.writeMem(0x83b6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9192);
        EXPECT(gbc.pc(), 0x83b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83b6), 0xcb);
        EXPECT(gbc.readMem(0x83b7), 0x2d);
        // CB 2D 0235
        gbc.setState(0x1357, 0xc8cc, 0x65e0, 0x6925, 0x59fd, 0x118f, 0x1, 0x0);
        gbc.writeMem(0x1357, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xc8cc);
        EXPECT(gbc.pc(), 0x1359);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0236
        gbc.setState(0xdab7, 0x6333, 0xe050, 0x323e, 0xd612, 0xb239, 0x0, 0x1);
        gbc.writeMem(0xdab7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6333);
        EXPECT(gbc.pc(), 0xdab9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdab7), 0xcb);
        EXPECT(gbc.readMem(0xdab8), 0x2d);
        // CB 2D 0237
        gbc.setState(0xc743, 0x3a2a, 0x19b0, 0x9a75, 0x6e96, 0x8d9a, 0x0, 0x0);
        gbc.writeMem(0xc743, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x3a2a);
        EXPECT(gbc.pc(), 0xc745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc743), 0xcb);
        EXPECT(gbc.readMem(0xc744), 0x2d);
        // CB 2D 0238
        gbc.setState(0x4420, 0xfd97, 0x8fc0, 0x3c68, 0xf7ad, 0x1dd2, 0x0, 0x0);
        gbc.writeMem(0x4420, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xfd97);
        EXPECT(gbc.pc(), 0x4422);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0239
        gbc.setState(0x2c62, 0xc003, 0x52f0, 0xbfb3, 0x813d, 0x9894, 0x1, 0x0);
        gbc.writeMem(0x2c62, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xc003);
        EXPECT(gbc.pc(), 0x2c64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 023A
        gbc.setState(0x512, 0xbbd6, 0xc4d0, 0x524, 0xb388, 0x78f2, 0x1, 0x1);
        gbc.writeMem(0x512, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xbbd6);
        EXPECT(gbc.pc(), 0x514);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 023B
        gbc.setState(0x7ea1, 0x352c, 0x1dd0, 0x5d34, 0xe880, 0xf2cc, 0x0, 0x1);
        gbc.writeMem(0x7ea1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x352c);
        EXPECT(gbc.pc(), 0x7ea3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 023C
        gbc.setState(0x2d9a, 0x1f76, 0xacb0, 0xcd02, 0xcf2a, 0x3b60, 0x0, 0x1);
        gbc.writeMem(0x2d9a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1f76);
        EXPECT(gbc.pc(), 0x2d9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 023D
        gbc.setState(0xb610, 0x4876, 0x9db0, 0x4f5b, 0x9f8f, 0xf990, 0x1, 0x1);
        gbc.writeMem(0xb610, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x4876);
        EXPECT(gbc.pc(), 0xb612);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb610), 0xcb);
        EXPECT(gbc.readMem(0xb611), 0x2d);
        // CB 2D 023E
        gbc.setState(0xc09c, 0xd9f0, 0x6c40, 0xd8d5, 0x1e70, 0xe9ce, 0x0, 0x0);
        gbc.writeMem(0xc09c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd9f0);
        EXPECT(gbc.pc(), 0xc09e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc09c), 0xcb);
        EXPECT(gbc.readMem(0xc09d), 0x2d);
        // CB 2D 023F
        gbc.setState(0xbd65, 0x7024, 0xac70, 0x9f5c, 0x770f, 0xd400, 0x1, 0x1);
        gbc.writeMem(0xbd65, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7024);
        EXPECT(gbc.pc(), 0xbd67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd65), 0xcb);
        EXPECT(gbc.readMem(0xbd66), 0x2d);
        // CB 2D 0240
        gbc.setState(0x1a61, 0xc34d, 0x9410, 0x881f, 0x8e49, 0xca7f, 0x0, 0x0);
        gbc.writeMem(0x1a61, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xc34d);
        EXPECT(gbc.pc(), 0x1a63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0241
        gbc.setState(0x16fa, 0x321a, 0x8f80, 0xea54, 0xc4a0, 0x1236, 0x0, 0x1);
        gbc.writeMem(0x16fa, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x321a);
        EXPECT(gbc.pc(), 0x16fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0242
        gbc.setState(0xd557, 0x38b5, 0xea50, 0xc62d, 0x5ef4, 0xb478, 0x1, 0x0);
        gbc.writeMem(0xd557, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x38b5);
        EXPECT(gbc.pc(), 0xd559);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd557), 0xcb);
        EXPECT(gbc.readMem(0xd558), 0x2d);
        // CB 2D 0243
        gbc.setState(0x2c93, 0xd00a, 0x9490, 0xd166, 0xd626, 0x973c, 0x1, 0x1);
        gbc.writeMem(0x2c93, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xd00a);
        EXPECT(gbc.pc(), 0x2c95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0244
        gbc.setState(0x125e, 0x904c, 0x28e0, 0x919e, 0xde16, 0x55ba, 0x0, 0x0);
        gbc.writeMem(0x125e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x904c);
        EXPECT(gbc.pc(), 0x1260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0245
        gbc.setState(0x505e, 0xee9e, 0x7600, 0x16ad, 0xe9ed, 0xd9d2, 0x0, 0x1);
        gbc.writeMem(0x505e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xee9e);
        EXPECT(gbc.pc(), 0x5060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0246
        gbc.setState(0x6611, 0x81d3, 0x5a90, 0xd44, 0xd1bd, 0x350a, 0x0, 0x1);
        gbc.writeMem(0x6611, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x81d3);
        EXPECT(gbc.pc(), 0x6613);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0247
        gbc.setState(0xce94, 0x2ece, 0x6be0, 0x79b5, 0x8216, 0xc8fb, 0x1, 0x1);
        gbc.writeMem(0xce94, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x2ece);
        EXPECT(gbc.pc(), 0xce96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce94), 0xcb);
        EXPECT(gbc.readMem(0xce95), 0x2d);
        // CB 2D 0248
        gbc.setState(0xefa5, 0xaab8, 0xb50, 0xf17e, 0x2dd1, 0xd691, 0x0, 0x0);
        gbc.writeMem(0xefa5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xaab8);
        EXPECT(gbc.pc(), 0xefa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefa5), 0xcb);
        EXPECT(gbc.readMem(0xefa6), 0x2d);
        // CB 2D 0249
        gbc.setState(0x7674, 0x486d, 0xe7c0, 0x3bdb, 0xb523, 0xcef3, 0x0, 0x0);
        gbc.writeMem(0x7674, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x486d);
        EXPECT(gbc.pc(), 0x7676);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 024A
        gbc.setState(0x4436, 0x4e36, 0x460, 0xf8d3, 0xc111, 0x1d40, 0x1, 0x0);
        gbc.writeMem(0x4436, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x4e36);
        EXPECT(gbc.pc(), 0x4438);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 024B
        gbc.setState(0x6cbc, 0xef3d, 0xc010, 0xf4e, 0x51fa, 0xcbb2, 0x1, 0x0);
        gbc.writeMem(0x6cbc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xef3d);
        EXPECT(gbc.pc(), 0x6cbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 024C
        gbc.setState(0x8511, 0xd82c, 0xb0c0, 0x536e, 0x1052, 0xcbe6, 0x1, 0x1);
        gbc.writeMem(0x8511, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd82c);
        EXPECT(gbc.pc(), 0x8513);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8511), 0xcb);
        EXPECT(gbc.readMem(0x8512), 0x2d);
        // CB 2D 024D
        gbc.setState(0xd38, 0x9b42, 0x1da0, 0x5668, 0x1d4b, 0x81e8, 0x1, 0x0);
        gbc.writeMem(0xd38, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x9b42);
        EXPECT(gbc.pc(), 0xd3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 024E
        gbc.setState(0xd809, 0xd8d2, 0x6770, 0x323a, 0x79bc, 0x3de2, 0x0, 0x0);
        gbc.writeMem(0xd809, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xd8d2);
        EXPECT(gbc.pc(), 0xd80b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd809), 0xcb);
        EXPECT(gbc.readMem(0xd80a), 0x2d);
        // CB 2D 0250
        gbc.setState(0x5ae6, 0x7544, 0x4140, 0xdbc, 0x1325, 0x146, 0x0, 0x1);
        gbc.writeMem(0x5ae6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7544);
        EXPECT(gbc.pc(), 0x5ae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0251
        gbc.setState(0x636c, 0x8dd0, 0xf940, 0x6293, 0xc58f, 0x3bd0, 0x0, 0x1);
        gbc.writeMem(0x636c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x8dd0);
        EXPECT(gbc.pc(), 0x636e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0252
        gbc.setState(0x8a20, 0xd62a, 0x14d0, 0xa10f, 0x7fb1, 0xa4ee, 0x0, 0x1);
        gbc.writeMem(0x8a20, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xd62a);
        EXPECT(gbc.pc(), 0x8a22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a20), 0xcb);
        EXPECT(gbc.readMem(0x8a21), 0x2d);
        // CB 2D 0253
        gbc.setState(0x2a08, 0x334d, 0x6df0, 0x9076, 0x5d0e, 0xddb4, 0x0, 0x1);
        gbc.writeMem(0x2a08, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x334d);
        EXPECT(gbc.pc(), 0x2a0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0254
        gbc.setState(0x9167, 0x4b21, 0x50d0, 0x74d8, 0x9bd4, 0x4845, 0x0, 0x0);
        gbc.writeMem(0x9167, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4b21);
        EXPECT(gbc.pc(), 0x9169);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9167), 0xcb);
        EXPECT(gbc.readMem(0x9168), 0x2d);
        // CB 2D 0255
        gbc.setState(0xe299, 0x2f8, 0xed50, 0xfccb, 0x212, 0x200c, 0x0, 0x1);
        gbc.writeMem(0xe299, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x2f8);
        EXPECT(gbc.pc(), 0xe29b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe299), 0xcb);
        EXPECT(gbc.readMem(0xe29a), 0x2d);
        // CB 2D 0256
        gbc.setState(0x598c, 0x8dc0, 0x9150, 0xa7a9, 0xd752, 0x36a5, 0x0, 0x0);
        gbc.writeMem(0x598c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8dc0);
        EXPECT(gbc.pc(), 0x598e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0257
        gbc.setState(0xdfd0, 0xb027, 0x6f50, 0x3804, 0x642a, 0xe8da, 0x1, 0x1);
        gbc.writeMem(0xdfd0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xb027);
        EXPECT(gbc.pc(), 0xdfd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfd0), 0xcb);
        EXPECT(gbc.readMem(0xdfd1), 0x2d);
        // CB 2D 0258
        gbc.setState(0xcd3a, 0x17e1, 0x2e00, 0x5073, 0x4c08, 0x2d68, 0x1, 0x1);
        gbc.writeMem(0xcd3a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x17e1);
        EXPECT(gbc.pc(), 0xcd3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd3a), 0xcb);
        EXPECT(gbc.readMem(0xcd3b), 0x2d);
        // CB 2D 0259
        gbc.setState(0x69d6, 0x658, 0x62f0, 0x8ac7, 0x6f6, 0xe9d8, 0x0, 0x1);
        gbc.writeMem(0x69d6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x658);
        EXPECT(gbc.pc(), 0x69d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 025A
        gbc.setState(0xbd82, 0x85f9, 0x1830, 0x4ed7, 0x3c38, 0xc8c5, 0x0, 0x0);
        gbc.writeMem(0xbd82, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x85f9);
        EXPECT(gbc.pc(), 0xbd84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd82), 0xcb);
        EXPECT(gbc.readMem(0xbd83), 0x2d);
        // CB 2D 025B
        gbc.setState(0x564f, 0x804, 0xdf0, 0x759a, 0xf2f0, 0xcc14, 0x1, 0x1);
        gbc.writeMem(0x564f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x804);
        EXPECT(gbc.pc(), 0x5651);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 025C
        gbc.setState(0xcf47, 0x43ee, 0x6230, 0xed6c, 0xcdba, 0x87ca, 0x1, 0x1);
        gbc.writeMem(0xcf47, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x43ee);
        EXPECT(gbc.pc(), 0xcf49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf47), 0xcb);
        EXPECT(gbc.readMem(0xcf48), 0x2d);
        // CB 2D 025D
        gbc.setState(0xec28, 0x1c89, 0x8ed0, 0x7570, 0x397d, 0xff57, 0x1, 0x0);
        gbc.writeMem(0xec28, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1c89);
        EXPECT(gbc.pc(), 0xec2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec28), 0xcb);
        EXPECT(gbc.readMem(0xec29), 0x2d);
        // CB 2D 025E
        gbc.setState(0x83d7, 0x6ba3, 0x2b0, 0x30c7, 0x480b, 0xe149, 0x1, 0x1);
        gbc.writeMem(0x83d7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x6ba3);
        EXPECT(gbc.pc(), 0x83d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83d7), 0xcb);
        EXPECT(gbc.readMem(0x83d8), 0x2d);
        // CB 2D 025F
        gbc.setState(0x6e46, 0x11db, 0x8b80, 0x8de3, 0x878f, 0xa61e, 0x0, 0x1);
        gbc.writeMem(0x6e46, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x11db);
        EXPECT(gbc.pc(), 0x6e48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0260
        gbc.setState(0xe182, 0xc74, 0xf10, 0xaf5a, 0xb306, 0xa108, 0x1, 0x0);
        gbc.writeMem(0xe182, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc74);
        EXPECT(gbc.pc(), 0xe184);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe182), 0xcb);
        EXPECT(gbc.readMem(0xe183), 0x2d);
        // CB 2D 0261
        gbc.setState(0x6f2, 0x9457, 0xa010, 0xc1e7, 0xf28c, 0x7eef, 0x1, 0x1);
        gbc.writeMem(0x6f2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9457);
        EXPECT(gbc.pc(), 0x6f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0262
        gbc.setState(0x2d30, 0x4a48, 0x7fb0, 0x6a97, 0x83b8, 0xcceb, 0x1, 0x1);
        gbc.writeMem(0x2d30, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4a48);
        EXPECT(gbc.pc(), 0x2d32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0263
        gbc.setState(0x7032, 0x796a, 0xdee0, 0xbcce, 0x7ae9, 0xc18c, 0x1, 0x1);
        gbc.writeMem(0x7032, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x796a);
        EXPECT(gbc.pc(), 0x7034);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0264
        gbc.setState(0x3032, 0x9a28, 0xbec0, 0xcc60, 0xfd2c, 0x634f, 0x1, 0x0);
        gbc.writeMem(0x3032, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x9a28);
        EXPECT(gbc.pc(), 0x3034);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0265
        gbc.setState(0xe931, 0x5131, 0xd910, 0xa1fb, 0x6348, 0x8051, 0x1, 0x1);
        gbc.writeMem(0xe931, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x5131);
        EXPECT(gbc.pc(), 0xe933);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe931), 0xcb);
        EXPECT(gbc.readMem(0xe932), 0x2d);
        // CB 2D 0266
        gbc.setState(0xd3e, 0x5a84, 0xc870, 0xbeca, 0x9b65, 0xef75, 0x0, 0x1);
        gbc.writeMem(0xd3e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x5a84);
        EXPECT(gbc.pc(), 0xd40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0267
        gbc.setState(0xde41, 0xb65c, 0xa130, 0xd130, 0x27f1, 0x4d0a, 0x1, 0x0);
        gbc.writeMem(0xde41, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb65c);
        EXPECT(gbc.pc(), 0xde43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde41), 0xcb);
        EXPECT(gbc.readMem(0xde42), 0x2d);
        // CB 2D 0268
        gbc.setState(0x4bdd, 0x4745, 0xb860, 0x66e4, 0x11c7, 0x515d, 0x0, 0x1);
        gbc.writeMem(0x4bdd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4745);
        EXPECT(gbc.pc(), 0x4bdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0269
        gbc.setState(0x9e71, 0x27de, 0x63e0, 0xbb0b, 0x5604, 0xcd37, 0x1, 0x0);
        gbc.writeMem(0x9e71, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x27de);
        EXPECT(gbc.pc(), 0x9e73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e71), 0xcb);
        EXPECT(gbc.readMem(0x9e72), 0x2d);
        // CB 2D 026A
        gbc.setState(0x92af, 0x2076, 0x7c60, 0xc586, 0x654a, 0x3f2c, 0x1, 0x1);
        gbc.writeMem(0x92af, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x2076);
        EXPECT(gbc.pc(), 0x92b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92af), 0xcb);
        EXPECT(gbc.readMem(0x92b0), 0x2d);
        // CB 2D 026B
        gbc.setState(0x5061, 0xc9fd, 0x5480, 0x12fa, 0xfdfa, 0xb963, 0x0, 0x1);
        gbc.writeMem(0x5061, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc9fd);
        EXPECT(gbc.pc(), 0x5063);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 026D
        gbc.setState(0xb4e1, 0xb764, 0xe570, 0x79d8, 0xe970, 0x11ec, 0x0, 0x1);
        gbc.writeMem(0xb4e1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb764);
        EXPECT(gbc.pc(), 0xb4e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e1), 0xcb);
        EXPECT(gbc.readMem(0xb4e2), 0x2d);
        // CB 2D 026E
        gbc.setState(0xa27a, 0x1fd2, 0x2ec0, 0xcb5, 0xc0a4, 0x81bc, 0x0, 0x0);
        gbc.writeMem(0xa27a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x1fd2);
        EXPECT(gbc.pc(), 0xa27c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa27a), 0xcb);
        EXPECT(gbc.readMem(0xa27b), 0x2d);
        // CB 2D 026F
        gbc.setState(0x525f, 0xeb23, 0x5230, 0x6551, 0xbba5, 0x2743, 0x0, 0x1);
        gbc.writeMem(0x525f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xeb23);
        EXPECT(gbc.pc(), 0x5261);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0270
        gbc.setState(0x1810, 0x8a6, 0xacd0, 0x425a, 0x1043, 0xeabe, 0x0, 0x1);
        gbc.writeMem(0x1810, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8a6);
        EXPECT(gbc.pc(), 0x1812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0271
        gbc.setState(0x8ee3, 0xc4fa, 0xff0, 0x85f8, 0x618f, 0x2be4, 0x0, 0x0);
        gbc.writeMem(0x8ee3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc4fa);
        EXPECT(gbc.pc(), 0x8ee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ee3), 0xcb);
        EXPECT(gbc.readMem(0x8ee4), 0x2d);
        // CB 2D 0272
        gbc.setState(0x262d, 0x7e9a, 0xd750, 0xe222, 0xbd7f, 0xda0b, 0x1, 0x1);
        gbc.writeMem(0x262d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x7e9a);
        EXPECT(gbc.pc(), 0x262f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0273
        gbc.setState(0x6b25, 0xb748, 0xfcf0, 0xfc14, 0x73ae, 0x3b0, 0x1, 0x1);
        gbc.writeMem(0x6b25, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb748);
        EXPECT(gbc.pc(), 0x6b27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0274
        gbc.setState(0x6d53, 0xba48, 0x5d70, 0x80da, 0x7987, 0x7c30, 0x1, 0x1);
        gbc.writeMem(0x6d53, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xba48);
        EXPECT(gbc.pc(), 0x6d55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0275
        gbc.setState(0x12aa, 0x898, 0x2820, 0x774f, 0xc2a8, 0x8aaa, 0x1, 0x1);
        gbc.writeMem(0x12aa, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x898);
        EXPECT(gbc.pc(), 0x12ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0276
        gbc.setState(0x5a2e, 0xb94c, 0xd6c0, 0x50e0, 0x5d93, 0xf7a6, 0x1, 0x0);
        gbc.writeMem(0x5a2e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xb94c);
        EXPECT(gbc.pc(), 0x5a30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0277
        gbc.setState(0x26, 0x439b, 0xd9b0, 0x1ac1, 0x1099, 0xc38e, 0x1, 0x0);
        gbc.writeMem(0x26, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x439b);
        EXPECT(gbc.pc(), 0x28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0278
        gbc.setState(0x2c4b, 0x4904, 0x8c90, 0x22fa, 0x18a5, 0xad89, 0x0, 0x1);
        gbc.writeMem(0x2c4b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x4904);
        EXPECT(gbc.pc(), 0x2c4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0279
        gbc.setState(0x8c1d, 0x8e44, 0xac30, 0x6bbb, 0xa2ee, 0x9af3, 0x1, 0x0);
        gbc.writeMem(0x8c1d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8e44);
        EXPECT(gbc.pc(), 0x8c1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c1d), 0xcb);
        EXPECT(gbc.readMem(0x8c1e), 0x2d);
        // CB 2D 027A
        gbc.setState(0x9e40, 0xc44f, 0x4fc0, 0xfd43, 0x6cce, 0x6a7c, 0x0, 0x0);
        gbc.writeMem(0x9e40, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xc44f);
        EXPECT(gbc.pc(), 0x9e42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e40), 0xcb);
        EXPECT(gbc.readMem(0x9e41), 0x2d);
        // CB 2D 027B
        gbc.setState(0x3115, 0xb7b2, 0x5d0, 0xda85, 0x75f1, 0x8a00, 0x1, 0x0);
        gbc.writeMem(0x3115, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb7b2);
        EXPECT(gbc.pc(), 0x3117);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 027C
        gbc.setState(0xec26, 0x7dc8, 0x8060, 0xd2b, 0x526d, 0x60da, 0x0, 0x1);
        gbc.writeMem(0xec26, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7dc8);
        EXPECT(gbc.pc(), 0xec28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec26), 0xcb);
        EXPECT(gbc.readMem(0xec27), 0x2d);
        // CB 2D 027E
        gbc.setState(0xe31f, 0xd562, 0xe5c0, 0x96b7, 0x773a, 0x78cc, 0x1, 0x0);
        gbc.writeMem(0xe31f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd562);
        EXPECT(gbc.pc(), 0xe321);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe31f), 0xcb);
        EXPECT(gbc.readMem(0xe320), 0x2d);
        // CB 2D 027F
        gbc.setState(0x36aa, 0xb695, 0x1bc0, 0xdd5d, 0xf391, 0xf389, 0x1, 0x1);
        gbc.writeMem(0x36aa, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb695);
        EXPECT(gbc.pc(), 0x36ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0280
        gbc.setState(0x19da, 0x569b, 0x9bd0, 0x5864, 0x26c8, 0x2d52, 0x1, 0x1);
        gbc.writeMem(0x19da, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x569b);
        EXPECT(gbc.pc(), 0x19dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0281
        gbc.setState(0x2dbd, 0xf348, 0x8f80, 0x3fb2, 0xa50c, 0xbf86, 0x0, 0x1);
        gbc.writeMem(0x2dbd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xf348);
        EXPECT(gbc.pc(), 0x2dbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0282
        gbc.setState(0x298a, 0x99c7, 0x1ed0, 0xfb6e, 0xc057, 0x3237, 0x0, 0x0);
        gbc.writeMem(0x298a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x99c7);
        EXPECT(gbc.pc(), 0x298c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0283
        gbc.setState(0xaff6, 0x9056, 0xe9e0, 0x11aa, 0xe4e, 0xe024, 0x0, 0x0);
        gbc.writeMem(0xaff6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x9056);
        EXPECT(gbc.pc(), 0xaff8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaff6), 0xcb);
        EXPECT(gbc.readMem(0xaff7), 0x2d);
        // CB 2D 0284
        gbc.setState(0x2b38, 0x9c2b, 0x2880, 0x652d, 0x7489, 0x3a33, 0x0, 0x1);
        gbc.writeMem(0x2b38, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9c2b);
        EXPECT(gbc.pc(), 0x2b3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0285
        gbc.setState(0x53d4, 0xdafe, 0x1f40, 0x6d00, 0x7b9c, 0xbd07, 0x0, 0x1);
        gbc.writeMem(0x53d4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xdafe);
        EXPECT(gbc.pc(), 0x53d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0286
        gbc.setState(0xee08, 0x99f6, 0xe1d0, 0xddab, 0x564b, 0x426d, 0x1, 0x1);
        gbc.writeMem(0xee08, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x99f6);
        EXPECT(gbc.pc(), 0xee0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee08), 0xcb);
        EXPECT(gbc.readMem(0xee09), 0x2d);
        // CB 2D 0287
        gbc.setState(0x2629, 0xb03c, 0x14f0, 0x67f5, 0xe862, 0xbfd6, 0x0, 0x1);
        gbc.writeMem(0x2629, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb03c);
        EXPECT(gbc.pc(), 0x262b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0288
        gbc.setState(0x3ca6, 0x8bdf, 0x5560, 0x317c, 0x9af6, 0x5984, 0x0, 0x0);
        gbc.writeMem(0x3ca6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x8bdf);
        EXPECT(gbc.pc(), 0x3ca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0289
        gbc.setState(0xd73b, 0x2775, 0xe030, 0x7ca5, 0xf0e2, 0xc243, 0x0, 0x1);
        gbc.writeMem(0xd73b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x2775);
        EXPECT(gbc.pc(), 0xd73d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd73b), 0xcb);
        EXPECT(gbc.readMem(0xd73c), 0x2d);
        // CB 2D 028A
        gbc.setState(0xafce, 0x33fd, 0x9010, 0xc347, 0x657c, 0xed25, 0x1, 0x0);
        gbc.writeMem(0xafce, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x33fd);
        EXPECT(gbc.pc(), 0xafd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafce), 0xcb);
        EXPECT(gbc.readMem(0xafcf), 0x2d);
        // CB 2D 028B
        gbc.setState(0x8f4, 0x3a1f, 0xd790, 0xe5be, 0x6be4, 0x4d07, 0x0, 0x1);
        gbc.writeMem(0x8f4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3a1f);
        EXPECT(gbc.pc(), 0x8f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 028C
        gbc.setState(0x4e1b, 0x62cb, 0x4fb0, 0xf2ba, 0x87a1, 0x4332, 0x1, 0x1);
        gbc.writeMem(0x4e1b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x62cb);
        EXPECT(gbc.pc(), 0x4e1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 028D
        gbc.setState(0x169d, 0xa0dc, 0xb890, 0xad09, 0xf4b4, 0x4ff, 0x1, 0x0);
        gbc.writeMem(0x169d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa0dc);
        EXPECT(gbc.pc(), 0x169f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 028E
        gbc.setState(0x746b, 0xc207, 0xe540, 0xf4aa, 0xe8fd, 0xb28b, 0x0, 0x0);
        gbc.writeMem(0x746b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc207);
        EXPECT(gbc.pc(), 0x746d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0290
        gbc.setState(0x5755, 0x5323, 0xbe50, 0x17c7, 0x791f, 0x549d, 0x0, 0x1);
        gbc.writeMem(0x5755, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5323);
        EXPECT(gbc.pc(), 0x5757);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0291
        gbc.setState(0x1517, 0xf8df, 0x87e0, 0x5834, 0xa750, 0x7dab, 0x1, 0x0);
        gbc.writeMem(0x1517, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xf8df);
        EXPECT(gbc.pc(), 0x1519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0292
        gbc.setState(0xef08, 0x990b, 0x8d80, 0xea6e, 0x2af8, 0x26cb, 0x1, 0x1);
        gbc.writeMem(0xef08, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x990b);
        EXPECT(gbc.pc(), 0xef0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef08), 0xcb);
        EXPECT(gbc.readMem(0xef09), 0x2d);
        // CB 2D 0293
        gbc.setState(0x36b4, 0x82da, 0x37c0, 0x8cbd, 0xf119, 0xcee4, 0x0, 0x1);
        gbc.writeMem(0x36b4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x82da);
        EXPECT(gbc.pc(), 0x36b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0294
        gbc.setState(0x3efc, 0xebcb, 0x2620, 0xe85a, 0x872e, 0x9523, 0x1, 0x1);
        gbc.writeMem(0x3efc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xebcb);
        EXPECT(gbc.pc(), 0x3efe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0295
        gbc.setState(0x9092, 0x2667, 0xd30, 0xbeb2, 0xfc5, 0x6b6f, 0x1, 0x0);
        gbc.writeMem(0x9092, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2667);
        EXPECT(gbc.pc(), 0x9094);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9092), 0xcb);
        EXPECT(gbc.readMem(0x9093), 0x2d);
        // CB 2D 0296
        gbc.setState(0xbe74, 0xfe07, 0x77f0, 0x5731, 0x9c4a, 0xaeba, 0x0, 0x0);
        gbc.writeMem(0xbe74, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xfe07);
        EXPECT(gbc.pc(), 0xbe76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe74), 0xcb);
        EXPECT(gbc.readMem(0xbe75), 0x2d);
        // CB 2D 0298
        gbc.setState(0x7fec, 0x46f, 0x6370, 0xbe90, 0x5b66, 0x510, 0x0, 0x0);
        gbc.writeMem(0x7fec, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x46f);
        EXPECT(gbc.pc(), 0x7fee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0299
        gbc.setState(0x255a, 0x2814, 0x60d0, 0x21d9, 0xe863, 0x6754, 0x1, 0x0);
        gbc.writeMem(0x255a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x2814);
        EXPECT(gbc.pc(), 0x255c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 029A
        gbc.setState(0xbc36, 0x54db, 0x8980, 0x7fd0, 0x8630, 0x8ed2, 0x1, 0x1);
        gbc.writeMem(0xbc36, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x54db);
        EXPECT(gbc.pc(), 0xbc38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc36), 0xcb);
        EXPECT(gbc.readMem(0xbc37), 0x2d);
        // CB 2D 029B
        gbc.setState(0xeaec, 0xcefb, 0x5c20, 0xa1c, 0xa4ab, 0x23b7, 0x0, 0x0);
        gbc.writeMem(0xeaec, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xcefb);
        EXPECT(gbc.pc(), 0xeaee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaec), 0xcb);
        EXPECT(gbc.readMem(0xeaed), 0x2d);
        // CB 2D 029C
        gbc.setState(0x5b1a, 0x802a, 0x7950, 0xd6cf, 0xebee, 0xc178, 0x0, 0x0);
        gbc.writeMem(0x5b1a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x802a);
        EXPECT(gbc.pc(), 0x5b1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 029D
        gbc.setState(0xcc6f, 0xcda2, 0x46f0, 0x8451, 0xbb21, 0x26d, 0x0, 0x1);
        gbc.writeMem(0xcc6f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xcda2);
        EXPECT(gbc.pc(), 0xcc71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc6f), 0xcb);
        EXPECT(gbc.readMem(0xcc70), 0x2d);
        // CB 2D 029E
        gbc.setState(0x9b0e, 0xc440, 0x8a40, 0x4116, 0x3436, 0xd5b5, 0x1, 0x1);
        gbc.writeMem(0x9b0e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xc440);
        EXPECT(gbc.pc(), 0x9b10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b0e), 0xcb);
        EXPECT(gbc.readMem(0x9b0f), 0x2d);
        // CB 2D 029F
        gbc.setState(0xb20d, 0xc756, 0x1110, 0xd3f9, 0x373b, 0xec7, 0x0, 0x0);
        gbc.writeMem(0xb20d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc756);
        EXPECT(gbc.pc(), 0xb20f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb20d), 0xcb);
        EXPECT(gbc.readMem(0xb20e), 0x2d);
        // CB 2D 02A0
        gbc.setState(0xde96, 0x85fa, 0xcd30, 0xd5b2, 0x3466, 0x1678, 0x1, 0x1);
        gbc.writeMem(0xde96, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x85fa);
        EXPECT(gbc.pc(), 0xde98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde96), 0xcb);
        EXPECT(gbc.readMem(0xde97), 0x2d);
        // CB 2D 02A2
        gbc.setState(0x480d, 0x2971, 0xdd40, 0xb65b, 0xa9ec, 0x732e, 0x1, 0x1);
        gbc.writeMem(0x480d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x2971);
        EXPECT(gbc.pc(), 0x480f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02A3
        gbc.setState(0x927c, 0x3d42, 0x2640, 0x729b, 0x7e06, 0xf9a, 0x1, 0x0);
        gbc.writeMem(0x927c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x3d42);
        EXPECT(gbc.pc(), 0x927e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x927c), 0xcb);
        EXPECT(gbc.readMem(0x927d), 0x2d);
        // CB 2D 02A4
        gbc.setState(0xb8e8, 0xdb64, 0xc680, 0x9e49, 0x532d, 0x18e1, 0x1, 0x1);
        gbc.writeMem(0xb8e8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xdb64);
        EXPECT(gbc.pc(), 0xb8ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8e8), 0xcb);
        EXPECT(gbc.readMem(0xb8e9), 0x2d);
        // CB 2D 02A5
        gbc.setState(0x7c30, 0x7758, 0x7260, 0x638d, 0xe36b, 0x3e59, 0x0, 0x1);
        gbc.writeMem(0x7c30, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x7758);
        EXPECT(gbc.pc(), 0x7c32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02A6
        gbc.setState(0xc6cb, 0xf88, 0x8110, 0x48d3, 0xa6ff, 0x7d9, 0x1, 0x1);
        gbc.writeMem(0xc6cb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xf88);
        EXPECT(gbc.pc(), 0xc6cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6cb), 0xcb);
        EXPECT(gbc.readMem(0xc6cc), 0x2d);
        // CB 2D 02A7
        gbc.setState(0x2e66, 0x63f6, 0xf050, 0xde8, 0x64db, 0x6787, 0x0, 0x0);
        gbc.writeMem(0x2e66, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x63f6);
        EXPECT(gbc.pc(), 0x2e68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02A8
        gbc.setState(0x7e46, 0x4d1, 0x660, 0xc554, 0xfb30, 0x674e, 0x1, 0x1);
        gbc.writeMem(0x7e46, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x4d1);
        EXPECT(gbc.pc(), 0x7e48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02A9
        gbc.setState(0xa233, 0x9388, 0x22d0, 0xbc9b, 0xe75e, 0x31d9, 0x0, 0x1);
        gbc.writeMem(0xa233, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x9388);
        EXPECT(gbc.pc(), 0xa235);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa233), 0xcb);
        EXPECT(gbc.readMem(0xa234), 0x2d);
        // CB 2D 02AA
        gbc.setState(0x26bf, 0xb69, 0xe880, 0xb4b1, 0x7a60, 0x54a4, 0x0, 0x1);
        gbc.writeMem(0x26bf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb69);
        EXPECT(gbc.pc(), 0x26c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02AB
        gbc.setState(0x509c, 0x52e2, 0xacf0, 0xa565, 0x314b, 0xb89e, 0x0, 0x1);
        gbc.writeMem(0x509c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x52e2);
        EXPECT(gbc.pc(), 0x509e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02AC
        gbc.setState(0x8cea, 0x680a, 0xd630, 0x7808, 0xf4b9, 0xfe3c, 0x1, 0x1);
        gbc.writeMem(0x8cea, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x680a);
        EXPECT(gbc.pc(), 0x8cec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cea), 0xcb);
        EXPECT(gbc.readMem(0x8ceb), 0x2d);
        // CB 2D 02AD
        gbc.setState(0xe57d, 0x6138, 0x1a40, 0x7a25, 0x2819, 0x4bcc, 0x0, 0x1);
        gbc.writeMem(0xe57d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x6138);
        EXPECT(gbc.pc(), 0xe57f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe57d), 0xcb);
        EXPECT(gbc.readMem(0xe57e), 0x2d);
        // CB 2D 02AE
        gbc.setState(0xe5c2, 0x4c1f, 0xcd10, 0xd06b, 0x5b66, 0x6283, 0x1, 0x0);
        gbc.writeMem(0xe5c2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4c1f);
        EXPECT(gbc.pc(), 0xe5c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5c2), 0xcb);
        EXPECT(gbc.readMem(0xe5c3), 0x2d);
        // CB 2D 02AF
        gbc.setState(0x9526, 0xc862, 0xc9b0, 0xd837, 0x8d0, 0x20b9, 0x1, 0x1);
        gbc.writeMem(0x9526, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xc862);
        EXPECT(gbc.pc(), 0x9528);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9526), 0xcb);
        EXPECT(gbc.readMem(0x9527), 0x2d);
        // CB 2D 02B0
        gbc.setState(0x843e, 0xf01d, 0xed0, 0x3c8f, 0x5232, 0xd0ff, 0x1, 0x1);
        gbc.writeMem(0x843e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf01d);
        EXPECT(gbc.pc(), 0x8440);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x843e), 0xcb);
        EXPECT(gbc.readMem(0x843f), 0x2d);
        // CB 2D 02B1
        gbc.setState(0x957e, 0x2baf, 0xb4d0, 0x37cf, 0x142a, 0x6e58, 0x1, 0x0);
        gbc.writeMem(0x957e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2baf);
        EXPECT(gbc.pc(), 0x9580);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x957e), 0xcb);
        EXPECT(gbc.readMem(0x957f), 0x2d);
        // CB 2D 02B2
        gbc.setState(0x48de, 0x4919, 0x5d00, 0xf281, 0xa486, 0x9c05, 0x1, 0x1);
        gbc.writeMem(0x48de, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4919);
        EXPECT(gbc.pc(), 0x48e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02B3
        gbc.setState(0x29cc, 0x2ab5, 0xee0, 0xf900, 0x2d4b, 0x6a24, 0x1, 0x0);
        gbc.writeMem(0x29cc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x2ab5);
        EXPECT(gbc.pc(), 0x29ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02B4
        gbc.setState(0xc7e, 0x4118, 0xdd70, 0x8f17, 0x64c0, 0xc83d, 0x1, 0x1);
        gbc.writeMem(0xc7e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4118);
        EXPECT(gbc.pc(), 0xc80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02B5
        gbc.setState(0x3d53, 0x7a1f, 0x9920, 0xef9e, 0x73a4, 0x2ef7, 0x0, 0x0);
        gbc.writeMem(0x3d53, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x7a1f);
        EXPECT(gbc.pc(), 0x3d55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02B6
        gbc.setState(0x7eb5, 0x119a, 0xbab0, 0x4ceb, 0xbb60, 0x8536, 0x0, 0x1);
        gbc.writeMem(0x7eb5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x119a);
        EXPECT(gbc.pc(), 0x7eb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02B7
        gbc.setState(0xbb3c, 0xc7e6, 0x10, 0x3e01, 0xc37, 0x80fa, 0x0, 0x0);
        gbc.writeMem(0xbb3c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc7e6);
        EXPECT(gbc.pc(), 0xbb3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb3c), 0xcb);
        EXPECT(gbc.readMem(0xbb3d), 0x2d);
        // CB 2D 02B8
        gbc.setState(0x1964, 0xb43a, 0x2a50, 0xe02d, 0x3f05, 0x662e, 0x1, 0x1);
        gbc.writeMem(0x1964, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb43a);
        EXPECT(gbc.pc(), 0x1966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02B9
        gbc.setState(0x329f, 0xf095, 0xbc80, 0xf6a1, 0x997b, 0x65f2, 0x1, 0x0);
        gbc.writeMem(0x329f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf095);
        EXPECT(gbc.pc(), 0x32a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02BA
        gbc.setState(0x406c, 0xbd83, 0xbd30, 0xb655, 0xf132, 0x5fb3, 0x0, 0x0);
        gbc.writeMem(0x406c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xbd83);
        EXPECT(gbc.pc(), 0x406e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02BB
        gbc.setState(0xdcdc, 0x4eb8, 0xa210, 0x99ea, 0xd081, 0xa112, 0x0, 0x1);
        gbc.writeMem(0xdcdc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4eb8);
        EXPECT(gbc.pc(), 0xdcde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcdc), 0xcb);
        EXPECT(gbc.readMem(0xdcdd), 0x2d);
        // CB 2D 02BC
        gbc.setState(0x6baf, 0x9a90, 0x1590, 0x529d, 0xd9ea, 0xc799, 0x0, 0x0);
        gbc.writeMem(0x6baf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x9a90);
        EXPECT(gbc.pc(), 0x6bb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02BD
        gbc.setState(0x6221, 0x78f4, 0x360, 0x9dec, 0x72f, 0x91be, 0x1, 0x1);
        gbc.writeMem(0x6221, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x78f4);
        EXPECT(gbc.pc(), 0x6223);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02BE
        gbc.setState(0x5c24, 0xdef1, 0x5680, 0xe3ca, 0x9d81, 0xd754, 0x1, 0x1);
        gbc.writeMem(0x5c24, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdef1);
        EXPECT(gbc.pc(), 0x5c26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02BF
        gbc.setState(0xc660, 0xa638, 0x3a40, 0x6162, 0x6c37, 0xefe4, 0x1, 0x1);
        gbc.writeMem(0xc660, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa638);
        EXPECT(gbc.pc(), 0xc662);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc660), 0xcb);
        EXPECT(gbc.readMem(0xc661), 0x2d);
        // CB 2D 02C0
        gbc.setState(0x2fd2, 0x8410, 0x6370, 0x2dfe, 0x4dad, 0xa8ad, 0x0, 0x0);
        gbc.writeMem(0x2fd2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x8410);
        EXPECT(gbc.pc(), 0x2fd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02C1
        gbc.setState(0x3242, 0x1d12, 0x39f0, 0xfd3d, 0xb979, 0x5756, 0x0, 0x0);
        gbc.writeMem(0x3242, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1d12);
        EXPECT(gbc.pc(), 0x3244);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02C2
        gbc.setState(0xde10, 0x154c, 0x4dc0, 0x14ed, 0x905b, 0xd381, 0x1, 0x0);
        gbc.writeMem(0xde10, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x154c);
        EXPECT(gbc.pc(), 0xde12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde10), 0xcb);
        EXPECT(gbc.readMem(0xde11), 0x2d);
        // CB 2D 02C3
        gbc.setState(0x8f3e, 0x6e9a, 0xb2a0, 0xac4e, 0x9ff, 0xcc7f, 0x1, 0x0);
        gbc.writeMem(0x8f3e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x6e9a);
        EXPECT(gbc.pc(), 0x8f40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f3e), 0xcb);
        EXPECT(gbc.readMem(0x8f3f), 0x2d);
        // CB 2D 02C4
        gbc.setState(0x1f0c, 0xf202, 0xcdf0, 0x3bcc, 0x2d9e, 0x103c, 0x0, 0x0);
        gbc.writeMem(0x1f0c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf202);
        EXPECT(gbc.pc(), 0x1f0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02C5
        gbc.setState(0x9ae8, 0xef50, 0x7650, 0xc2ee, 0x9607, 0x78cf, 0x1, 0x1);
        gbc.writeMem(0x9ae8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xef50);
        EXPECT(gbc.pc(), 0x9aea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ae8), 0xcb);
        EXPECT(gbc.readMem(0x9ae9), 0x2d);
        // CB 2D 02C6
        gbc.setState(0x7b2d, 0x7ece, 0xf150, 0x4fb4, 0xc416, 0x4f3b, 0x1, 0x1);
        gbc.writeMem(0x7b2d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x7ece);
        EXPECT(gbc.pc(), 0x7b2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02C7
        gbc.setState(0x7082, 0xced0, 0xa940, 0xe96, 0x9a7a, 0x7087, 0x1, 0x0);
        gbc.writeMem(0x7082, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xced0);
        EXPECT(gbc.pc(), 0x7084);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02C9
        gbc.setState(0xb2f8, 0x54c3, 0xd040, 0xb620, 0x49a6, 0x11d2, 0x1, 0x1);
        gbc.writeMem(0xb2f8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x54c3);
        EXPECT(gbc.pc(), 0xb2fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2f8), 0xcb);
        EXPECT(gbc.readMem(0xb2f9), 0x2d);
        // CB 2D 02CA
        gbc.setState(0xadf3, 0x558e, 0x9980, 0x9bd0, 0xa0a0, 0x43f6, 0x1, 0x0);
        gbc.writeMem(0xadf3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x558e);
        EXPECT(gbc.pc(), 0xadf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadf3), 0xcb);
        EXPECT(gbc.readMem(0xadf4), 0x2d);
        // CB 2D 02CB
        gbc.setState(0x98de, 0x5b7e, 0x950, 0x22df, 0x4bc8, 0xb621, 0x1, 0x0);
        gbc.writeMem(0x98de, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5b7e);
        EXPECT(gbc.pc(), 0x98e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98de), 0xcb);
        EXPECT(gbc.readMem(0x98df), 0x2d);
        // CB 2D 02CC
        gbc.setState(0xba1d, 0x47d0, 0x190, 0x3db7, 0x4cda, 0x27a0, 0x1, 0x1);
        gbc.writeMem(0xba1d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x47d0);
        EXPECT(gbc.pc(), 0xba1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba1d), 0xcb);
        EXPECT(gbc.readMem(0xba1e), 0x2d);
        // CB 2D 02CD
        gbc.setState(0xe357, 0x3e16, 0x1ab0, 0x1a8a, 0xb1de, 0x2b75, 0x1, 0x0);
        gbc.writeMem(0xe357, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x3e16);
        EXPECT(gbc.pc(), 0xe359);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe357), 0xcb);
        EXPECT(gbc.readMem(0xe358), 0x2d);
        // CB 2D 02CE
        gbc.setState(0x24be, 0x6f2d, 0x88c0, 0x705c, 0xedf0, 0xc4b5, 0x0, 0x1);
        gbc.writeMem(0x24be, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x6f2d);
        EXPECT(gbc.pc(), 0x24c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02CF
        gbc.setState(0xa4e8, 0x6a4c, 0x4830, 0x6f8e, 0xc5a0, 0x54c0, 0x1, 0x0);
        gbc.writeMem(0xa4e8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6a4c);
        EXPECT(gbc.pc(), 0xa4ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4e8), 0xcb);
        EXPECT(gbc.readMem(0xa4e9), 0x2d);
        // CB 2D 02D0
        gbc.setState(0xb31c, 0x4daf, 0xca10, 0x4530, 0xdc95, 0xd467, 0x1, 0x1);
        gbc.writeMem(0xb31c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x4daf);
        EXPECT(gbc.pc(), 0xb31e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb31c), 0xcb);
        EXPECT(gbc.readMem(0xb31d), 0x2d);
        // CB 2D 02D2
        gbc.setState(0x91fb, 0x9613, 0xb90, 0xd459, 0xb891, 0x7d47, 0x1, 0x0);
        gbc.writeMem(0x91fb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9613);
        EXPECT(gbc.pc(), 0x91fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91fb), 0xcb);
        EXPECT(gbc.readMem(0x91fc), 0x2d);
        // CB 2D 02D4
        gbc.setState(0x98bd, 0x83ae, 0x21c0, 0x64fb, 0x4200, 0x51ef, 0x0, 0x0);
        gbc.writeMem(0x98bd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x83ae);
        EXPECT(gbc.pc(), 0x98bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98bd), 0xcb);
        EXPECT(gbc.readMem(0x98be), 0x2d);
        // CB 2D 02D5
        gbc.setState(0x7d4b, 0x99d5, 0xe920, 0xb7c0, 0x48bc, 0x22cf, 0x0, 0x0);
        gbc.writeMem(0x7d4b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x99d5);
        EXPECT(gbc.pc(), 0x7d4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02D6
        gbc.setState(0x7cde, 0xb101, 0x6ea0, 0xb1fb, 0xc8e1, 0x266e, 0x1, 0x0);
        gbc.writeMem(0x7cde, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xb101);
        EXPECT(gbc.pc(), 0x7ce0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02D7
        gbc.setState(0x7fbf, 0xd2d7, 0xb530, 0xea59, 0x4560, 0x54c0, 0x1, 0x1);
        gbc.writeMem(0x7fbf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd2d7);
        EXPECT(gbc.pc(), 0x7fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02D8
        gbc.setState(0xe158, 0xd1f6, 0x1d50, 0x10a7, 0x2ce7, 0x70ce, 0x0, 0x0);
        gbc.writeMem(0xe158, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd1f6);
        EXPECT(gbc.pc(), 0xe15a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe158), 0xcb);
        EXPECT(gbc.readMem(0xe159), 0x2d);
        // CB 2D 02D9
        gbc.setState(0xe106, 0x79b1, 0x3be0, 0x8559, 0xcfe4, 0x463, 0x0, 0x1);
        gbc.writeMem(0xe106, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x79b1);
        EXPECT(gbc.pc(), 0xe108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe106), 0xcb);
        EXPECT(gbc.readMem(0xe107), 0x2d);
        // CB 2D 02DA
        gbc.setState(0xd720, 0xd575, 0x6fd0, 0xd7e1, 0xab07, 0x7e0d, 0x0, 0x1);
        gbc.writeMem(0xd720, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd575);
        EXPECT(gbc.pc(), 0xd722);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd720), 0xcb);
        EXPECT(gbc.readMem(0xd721), 0x2d);
        // CB 2D 02DB
        gbc.setState(0x37aa, 0xedec, 0x3a40, 0x5839, 0x4518, 0x384, 0x1, 0x0);
        gbc.writeMem(0x37aa, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xedec);
        EXPECT(gbc.pc(), 0x37ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02DC
        gbc.setState(0x7892, 0x8dc7, 0x3360, 0x7581, 0xf48a, 0x443b, 0x0, 0x1);
        gbc.writeMem(0x7892, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8dc7);
        EXPECT(gbc.pc(), 0x7894);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02DD
        gbc.setState(0xa684, 0xc1cf, 0x46a0, 0x1578, 0xd2ca, 0xcffb, 0x0, 0x0);
        gbc.writeMem(0xa684, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc1cf);
        EXPECT(gbc.pc(), 0xa686);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa684), 0xcb);
        EXPECT(gbc.readMem(0xa685), 0x2d);
        // CB 2D 02DE
        gbc.setState(0x1f62, 0x1900, 0x4c90, 0x39e8, 0xe5e2, 0xdbb7, 0x0, 0x1);
        gbc.writeMem(0x1f62, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x1900);
        EXPECT(gbc.pc(), 0x1f64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02DF
        gbc.setState(0x90a2, 0x9115, 0x25f0, 0xa650, 0x815d, 0xe248, 0x0, 0x1);
        gbc.writeMem(0x90a2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9115);
        EXPECT(gbc.pc(), 0x90a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90a2), 0xcb);
        EXPECT(gbc.readMem(0x90a3), 0x2d);
        // CB 2D 02E0
        gbc.setState(0x7d15, 0xf46d, 0xda0, 0xfae7, 0xdfab, 0x413f, 0x1, 0x0);
        gbc.writeMem(0x7d15, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xf46d);
        EXPECT(gbc.pc(), 0x7d17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02E1
        gbc.setState(0xc51e, 0x2677, 0xde0, 0xb94c, 0xf3a2, 0x715b, 0x0, 0x1);
        gbc.writeMem(0xc51e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2677);
        EXPECT(gbc.pc(), 0xc520);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc51e), 0xcb);
        EXPECT(gbc.readMem(0xc51f), 0x2d);
        // CB 2D 02E2
        gbc.setState(0x95b6, 0xc032, 0x9c70, 0xe19d, 0xe723, 0x9d03, 0x1, 0x1);
        gbc.writeMem(0x95b6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xc032);
        EXPECT(gbc.pc(), 0x95b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95b6), 0xcb);
        EXPECT(gbc.readMem(0x95b7), 0x2d);
        // CB 2D 02E3
        gbc.setState(0x85c3, 0x98cd, 0x8320, 0x226a, 0xaa1e, 0x204, 0x0, 0x0);
        gbc.writeMem(0x85c3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x98cd);
        EXPECT(gbc.pc(), 0x85c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85c3), 0xcb);
        EXPECT(gbc.readMem(0x85c4), 0x2d);
        // CB 2D 02E4
        gbc.setState(0xac9d, 0x2757, 0x8180, 0xa4eb, 0x99fe, 0xe597, 0x0, 0x0);
        gbc.writeMem(0xac9d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x2757);
        EXPECT(gbc.pc(), 0xac9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac9d), 0xcb);
        EXPECT(gbc.readMem(0xac9e), 0x2d);
        // CB 2D 02E5
        gbc.setState(0xe532, 0xb4d7, 0x4a60, 0xc3fc, 0xae47, 0xe22d, 0x0, 0x1);
        gbc.writeMem(0xe532, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xb4d7);
        EXPECT(gbc.pc(), 0xe534);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe532), 0xcb);
        EXPECT(gbc.readMem(0xe533), 0x2d);
        // CB 2D 02E6
        gbc.setState(0x195f, 0x689a, 0x1b60, 0x4837, 0xafda, 0x4718, 0x1, 0x1);
        gbc.writeMem(0x195f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x689a);
        EXPECT(gbc.pc(), 0x1961);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02E7
        gbc.setState(0x498e, 0xd8a5, 0x3dd0, 0x6cae, 0x6a3c, 0x9d4a, 0x1, 0x0);
        gbc.writeMem(0x498e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd8a5);
        EXPECT(gbc.pc(), 0x4990);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02E9
        gbc.setState(0xd2bb, 0x26ce, 0xfd60, 0x2777, 0x1a39, 0xf50d, 0x0, 0x1);
        gbc.writeMem(0xd2bb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x26ce);
        EXPECT(gbc.pc(), 0xd2bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2bb), 0xcb);
        EXPECT(gbc.readMem(0xd2bc), 0x2d);
        // CB 2D 02EA
        gbc.setState(0x538a, 0xd1b2, 0xe260, 0xdb8e, 0xa9ac, 0x3306, 0x0, 0x0);
        gbc.writeMem(0x538a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xd1b2);
        EXPECT(gbc.pc(), 0x538c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02EB
        gbc.setState(0xd909, 0x357e, 0xc350, 0x33a9, 0xf8a3, 0xe170, 0x1, 0x0);
        gbc.writeMem(0xd909, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x357e);
        EXPECT(gbc.pc(), 0xd90b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd909), 0xcb);
        EXPECT(gbc.readMem(0xd90a), 0x2d);
        // CB 2D 02EC
        gbc.setState(0x3482, 0xe2d8, 0xabb0, 0xa949, 0xd445, 0xac4, 0x1, 0x1);
        gbc.writeMem(0x3482, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe2d8);
        EXPECT(gbc.pc(), 0x3484);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02EE
        gbc.setState(0xc83d, 0xb15a, 0x2e20, 0xa3f8, 0x4dac, 0xdc65, 0x1, 0x1);
        gbc.writeMem(0xc83d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xb15a);
        EXPECT(gbc.pc(), 0xc83f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc83d), 0xcb);
        EXPECT(gbc.readMem(0xc83e), 0x2d);
        // CB 2D 02EF
        gbc.setState(0x5721, 0x32e, 0x9c90, 0x3d1f, 0xc0ff, 0x7b0d, 0x0, 0x1);
        gbc.writeMem(0x5721, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x32e);
        EXPECT(gbc.pc(), 0x5723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02F0
        gbc.setState(0x2160, 0x5b6d, 0x1a20, 0xc467, 0x7bd3, 0x7fce, 0x1, 0x0);
        gbc.writeMem(0x2160, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x5b6d);
        EXPECT(gbc.pc(), 0x2162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02F1
        gbc.setState(0x5d2b, 0x1752, 0x2a00, 0xa0a3, 0xd53b, 0x69b5, 0x1, 0x1);
        gbc.writeMem(0x5d2b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1752);
        EXPECT(gbc.pc(), 0x5d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02F2
        gbc.setState(0xa84f, 0x37ef, 0xd350, 0x9226, 0x4db3, 0xdd8c, 0x1, 0x0);
        gbc.writeMem(0xa84f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x37ef);
        EXPECT(gbc.pc(), 0xa851);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa84f), 0xcb);
        EXPECT(gbc.readMem(0xa850), 0x2d);
        // CB 2D 02F3
        gbc.setState(0xac95, 0xb30e, 0xf1f0, 0x4966, 0xb119, 0xf09c, 0x0, 0x0);
        gbc.writeMem(0xac95, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xb30e);
        EXPECT(gbc.pc(), 0xac97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac95), 0xcb);
        EXPECT(gbc.readMem(0xac96), 0x2d);
        // CB 2D 02F4
        gbc.setState(0x8639, 0x1e4e, 0xac0, 0x82e7, 0xe9d7, 0xec68, 0x1, 0x0);
        gbc.writeMem(0x8639, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1e4e);
        EXPECT(gbc.pc(), 0x863b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8639), 0xcb);
        EXPECT(gbc.readMem(0x863a), 0x2d);
        // CB 2D 02F5
        gbc.setState(0x2ad5, 0x613f, 0xe0, 0xedca, 0xc5d6, 0xdbc, 0x0, 0x1);
        gbc.writeMem(0x2ad5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x613f);
        EXPECT(gbc.pc(), 0x2ad7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02F6
        gbc.setState(0x4ce, 0x54d0, 0x590, 0xbabe, 0xc9b8, 0x8423, 0x0, 0x1);
        gbc.writeMem(0x4ce, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x54d0);
        EXPECT(gbc.pc(), 0x4d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02F7
        gbc.setState(0x7c8b, 0xfdc2, 0x2e20, 0x3578, 0xec41, 0xd5ef, 0x1, 0x0);
        gbc.writeMem(0x7c8b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xfdc2);
        EXPECT(gbc.pc(), 0x7c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02F8
        gbc.setState(0x7b48, 0x176f, 0xd0f0, 0x914c, 0x80d4, 0x2f1c, 0x1, 0x1);
        gbc.writeMem(0x7b48, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x176f);
        EXPECT(gbc.pc(), 0x7b4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02F9
        gbc.setState(0x739d, 0xd56b, 0xe280, 0xf034, 0x3200, 0x89e2, 0x1, 0x0);
        gbc.writeMem(0x739d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xd56b);
        EXPECT(gbc.pc(), 0x739f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 02FA
        gbc.setState(0xcfd, 0xf725, 0x5a50, 0x394f, 0xd901, 0xff, 0x0, 0x0);
        gbc.writeMem(0xcfd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf725);
        EXPECT(gbc.pc(), 0xcff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 02FB
        gbc.setState(0xe790, 0xa849, 0x4480, 0xfd2d, 0x78c1, 0x4a15, 0x0, 0x0);
        gbc.writeMem(0xe790, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xa849);
        EXPECT(gbc.pc(), 0xe792);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe790), 0xcb);
        EXPECT(gbc.readMem(0xe791), 0x2d);
        // CB 2D 02FC
        gbc.setState(0xd311, 0x66f5, 0x9e0, 0x31f7, 0xedd8, 0xbfa2, 0x1, 0x0);
        gbc.writeMem(0xd311, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x66f5);
        EXPECT(gbc.pc(), 0xd313);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd311), 0xcb);
        EXPECT(gbc.readMem(0xd312), 0x2d);
        // CB 2D 02FE
        gbc.setState(0xbe93, 0x7988, 0x7bd0, 0x104a, 0xa95c, 0xb7d0, 0x0, 0x1);
        gbc.writeMem(0xbe93, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7988);
        EXPECT(gbc.pc(), 0xbe95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe93), 0xcb);
        EXPECT(gbc.readMem(0xbe94), 0x2d);
        // CB 2D 02FF
        gbc.setState(0xb4d0, 0x4b5c, 0x32e0, 0x1815, 0x76c1, 0xe26b, 0x0, 0x1);
        gbc.writeMem(0xb4d0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4b5c);
        EXPECT(gbc.pc(), 0xb4d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4d0), 0xcb);
        EXPECT(gbc.readMem(0xb4d1), 0x2d);
        // CB 2D 0300
        gbc.setState(0xb9f1, 0xa2ff, 0xfb00, 0x81, 0x200a, 0xbb90, 0x0, 0x1);
        gbc.writeMem(0xb9f1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xa2ff);
        EXPECT(gbc.pc(), 0xb9f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9f1), 0xcb);
        EXPECT(gbc.readMem(0xb9f2), 0x2d);
        // CB 2D 0301
        gbc.setState(0x7dad, 0x2e1a, 0xb260, 0x500, 0x9a38, 0xaf55, 0x1, 0x1);
        gbc.writeMem(0x7dad, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x2e1a);
        EXPECT(gbc.pc(), 0x7daf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0303
        gbc.setState(0x5b5, 0xa6a0, 0xf5b0, 0x5bb9, 0x1a17, 0x8c1, 0x1, 0x1);
        gbc.writeMem(0x5b5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa6a0);
        EXPECT(gbc.pc(), 0x5b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0304
        gbc.setState(0x824d, 0x341a, 0xbc40, 0xe02c, 0xf925, 0x7fb4, 0x1, 0x0);
        gbc.writeMem(0x824d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x341a);
        EXPECT(gbc.pc(), 0x824f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x824d), 0xcb);
        EXPECT(gbc.readMem(0x824e), 0x2d);
        // CB 2D 0305
        gbc.setState(0x881f, 0xf4ba, 0x6ba0, 0xc5af, 0x475c, 0x5165, 0x0, 0x1);
        gbc.writeMem(0x881f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf4ba);
        EXPECT(gbc.pc(), 0x8821);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x881f), 0xcb);
        EXPECT(gbc.readMem(0x8820), 0x2d);
        // CB 2D 0306
        gbc.setState(0x285, 0xd106, 0xa1d0, 0xc3f8, 0x8bca, 0x30fd, 0x1, 0x1);
        gbc.writeMem(0x285, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd106);
        EXPECT(gbc.pc(), 0x287);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0307
        gbc.setState(0xca92, 0xafb9, 0xe170, 0xcf8d, 0x7545, 0xc7b7, 0x1, 0x1);
        gbc.writeMem(0xca92, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xafb9);
        EXPECT(gbc.pc(), 0xca94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca92), 0xcb);
        EXPECT(gbc.readMem(0xca93), 0x2d);
        // CB 2D 0308
        gbc.setState(0x9c48, 0x7914, 0xc5e0, 0x62ae, 0x4120, 0xc807, 0x1, 0x0);
        gbc.writeMem(0x9c48, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x7914);
        EXPECT(gbc.pc(), 0x9c4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c48), 0xcb);
        EXPECT(gbc.readMem(0x9c49), 0x2d);
        // CB 2D 0309
        gbc.setState(0x6d2b, 0xaeda, 0x9d20, 0xdcb7, 0x9922, 0xfc5e, 0x1, 0x1);
        gbc.writeMem(0x6d2b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xaeda);
        EXPECT(gbc.pc(), 0x6d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 030A
        gbc.setState(0x9079, 0xc36c, 0x3820, 0xe566, 0xccde, 0x3e4e, 0x0, 0x0);
        gbc.writeMem(0x9079, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc36c);
        EXPECT(gbc.pc(), 0x907b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9079), 0xcb);
        EXPECT(gbc.readMem(0x907a), 0x2d);
        // CB 2D 030B
        gbc.setState(0x35e4, 0xd8d1, 0x5bf0, 0xdfd1, 0x75b3, 0x5929, 0x1, 0x0);
        gbc.writeMem(0x35e4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xd8d1);
        EXPECT(gbc.pc(), 0x35e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 030C
        gbc.setState(0x6dda, 0x6452, 0x9c60, 0xc363, 0xe7cf, 0xeb4e, 0x0, 0x1);
        gbc.writeMem(0x6dda, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x6452);
        EXPECT(gbc.pc(), 0x6ddc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 030D
        gbc.setState(0x7527, 0xeb7, 0x600, 0x813e, 0xb0c3, 0x1716, 0x1, 0x0);
        gbc.writeMem(0x7527, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xeb7);
        EXPECT(gbc.pc(), 0x7529);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 030E
        gbc.setState(0xafd7, 0x30bd, 0x3f40, 0x2ece, 0x7fa4, 0xf82f, 0x0, 0x0);
        gbc.writeMem(0xafd7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x30bd);
        EXPECT(gbc.pc(), 0xafd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafd7), 0xcb);
        EXPECT(gbc.readMem(0xafd8), 0x2d);
        // CB 2D 030F
        gbc.setState(0xed2d, 0xcd8c, 0xd110, 0xb767, 0x29e3, 0xda10, 0x0, 0x0);
        gbc.writeMem(0xed2d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xcd8c);
        EXPECT(gbc.pc(), 0xed2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed2d), 0xcb);
        EXPECT(gbc.readMem(0xed2e), 0x2d);
        // CB 2D 0310
        gbc.setState(0x282b, 0x786a, 0xb940, 0x7905, 0xc3d7, 0x903b, 0x1, 0x0);
        gbc.writeMem(0x282b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x786a);
        EXPECT(gbc.pc(), 0x282d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0311
        gbc.setState(0x2159, 0xef90, 0x8c0, 0xb170, 0xd8b3, 0x8fe8, 0x0, 0x0);
        gbc.writeMem(0x2159, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xef90);
        EXPECT(gbc.pc(), 0x215b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0312
        gbc.setState(0x299c, 0x6f2, 0xa890, 0x3fde, 0x9f71, 0xa8e3, 0x0, 0x0);
        gbc.writeMem(0x299c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x6f2);
        EXPECT(gbc.pc(), 0x299e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0313
        gbc.setState(0xca69, 0x3058, 0xe400, 0xc31f, 0x35ec, 0xce17, 0x0, 0x0);
        gbc.writeMem(0xca69, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x3058);
        EXPECT(gbc.pc(), 0xca6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca69), 0xcb);
        EXPECT(gbc.readMem(0xca6a), 0x2d);
        // CB 2D 0314
        gbc.setState(0x3451, 0xcbcc, 0xcd20, 0xa9b0, 0xcb8e, 0x87d9, 0x1, 0x1);
        gbc.writeMem(0x3451, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xcbcc);
        EXPECT(gbc.pc(), 0x3453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0315
        gbc.setState(0x2db8, 0x3ca0, 0x2300, 0xe6d0, 0x3c49, 0xcdd1, 0x0, 0x1);
        gbc.writeMem(0x2db8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3ca0);
        EXPECT(gbc.pc(), 0x2dba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0316
        gbc.setState(0x98aa, 0x8ffc, 0xca00, 0x9158, 0x8b91, 0xd1ad, 0x0, 0x0);
        gbc.writeMem(0x98aa, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x8ffc);
        EXPECT(gbc.pc(), 0x98ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98aa), 0xcb);
        EXPECT(gbc.readMem(0x98ab), 0x2d);
        // CB 2D 0317
        gbc.setState(0x78f0, 0x28b4, 0xe5b0, 0xe363, 0x43f6, 0xa3c1, 0x1, 0x0);
        gbc.writeMem(0x78f0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x28b4);
        EXPECT(gbc.pc(), 0x78f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0318
        gbc.setState(0xcc95, 0xdb41, 0xfc0, 0xe11c, 0x3efc, 0xba11, 0x1, 0x1);
        gbc.writeMem(0xcc95, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xdb41);
        EXPECT(gbc.pc(), 0xcc97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc95), 0xcb);
        EXPECT(gbc.readMem(0xcc96), 0x2d);
        // CB 2D 0319
        gbc.setState(0x6085, 0xbe47, 0xe1b0, 0xec79, 0x6b79, 0x5024, 0x0, 0x1);
        gbc.writeMem(0x6085, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xbe47);
        EXPECT(gbc.pc(), 0x6087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 031A
        gbc.setState(0x2f4c, 0x26d1, 0x400, 0xf9fa, 0x8af8, 0xff0d, 0x1, 0x0);
        gbc.writeMem(0x2f4c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x26d1);
        EXPECT(gbc.pc(), 0x2f4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 031B
        gbc.setState(0xbc3c, 0xc0a1, 0x9000, 0x5ebd, 0x5a4d, 0x64c2, 0x1, 0x1);
        gbc.writeMem(0xbc3c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xc0a1);
        EXPECT(gbc.pc(), 0xbc3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc3c), 0xcb);
        EXPECT(gbc.readMem(0xbc3d), 0x2d);
        // CB 2D 031C
        gbc.setState(0x7b31, 0x67bd, 0xc130, 0xa69c, 0x126c, 0xfe65, 0x0, 0x0);
        gbc.writeMem(0x7b31, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x67bd);
        EXPECT(gbc.pc(), 0x7b33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 031D
        gbc.setState(0x2fc9, 0x40ab, 0x3bc0, 0x1cd7, 0x9e6f, 0xee95, 0x0, 0x1);
        gbc.writeMem(0x2fc9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x40ab);
        EXPECT(gbc.pc(), 0x2fcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 031E
        gbc.setState(0x101c, 0x89e, 0x4fc0, 0xb33e, 0x1dda, 0xc64d, 0x1, 0x0);
        gbc.writeMem(0x101c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x89e);
        EXPECT(gbc.pc(), 0x101e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 031F
        gbc.setState(0x52a3, 0xd180, 0x2520, 0x5ab8, 0x1439, 0x67ce, 0x1, 0x0);
        gbc.writeMem(0x52a3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd180);
        EXPECT(gbc.pc(), 0x52a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0321
        gbc.setState(0x1c85, 0x8c13, 0x7970, 0x7c58, 0x1ac2, 0xedc0, 0x0, 0x0);
        gbc.writeMem(0x1c85, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x8c13);
        EXPECT(gbc.pc(), 0x1c87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0323
        gbc.setState(0x2246, 0x9f92, 0x21e0, 0x7cc0, 0x8458, 0xada2, 0x1, 0x0);
        gbc.writeMem(0x2246, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9f92);
        EXPECT(gbc.pc(), 0x2248);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0324
        gbc.setState(0x7425, 0x8121, 0x6150, 0xaf61, 0x932e, 0x3737, 0x1, 0x0);
        gbc.writeMem(0x7425, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x8121);
        EXPECT(gbc.pc(), 0x7427);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0325
        gbc.setState(0xdd27, 0x8b10, 0xcc50, 0x9afb, 0xa196, 0x3bda, 0x1, 0x0);
        gbc.writeMem(0xdd27, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x8b10);
        EXPECT(gbc.pc(), 0xdd29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd27), 0xcb);
        EXPECT(gbc.readMem(0xdd28), 0x2d);
        // CB 2D 0326
        gbc.setState(0xbdd9, 0x959b, 0x79e0, 0xd903, 0x9c36, 0x5659, 0x1, 0x1);
        gbc.writeMem(0xbdd9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x959b);
        EXPECT(gbc.pc(), 0xbddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdd9), 0xcb);
        EXPECT(gbc.readMem(0xbdda), 0x2d);
        // CB 2D 0327
        gbc.setState(0x3190, 0x637b, 0xcb70, 0x1675, 0x4618, 0x8c4f, 0x1, 0x0);
        gbc.writeMem(0x3190, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x637b);
        EXPECT(gbc.pc(), 0x3192);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0328
        gbc.setState(0xd44f, 0x86d4, 0x71b0, 0xd472, 0xfa9, 0x19ff, 0x0, 0x1);
        gbc.writeMem(0xd44f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x86d4);
        EXPECT(gbc.pc(), 0xd451);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd44f), 0xcb);
        EXPECT(gbc.readMem(0xd450), 0x2d);
        // CB 2D 0329
        gbc.setState(0x1245, 0xbf5d, 0x29d0, 0x593b, 0x8d18, 0x47f1, 0x1, 0x0);
        gbc.writeMem(0x1245, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xbf5d);
        EXPECT(gbc.pc(), 0x1247);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 032A
        gbc.setState(0xca7, 0x34ab, 0xbfa0, 0xa588, 0x773, 0x4a50, 0x1, 0x0);
        gbc.writeMem(0xca7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x34ab);
        EXPECT(gbc.pc(), 0xca9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 032B
        gbc.setState(0x25a2, 0x6d1c, 0xdc30, 0xa460, 0xfafb, 0x7e0e, 0x0, 0x1);
        gbc.writeMem(0x25a2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x6d1c);
        EXPECT(gbc.pc(), 0x25a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 032C
        gbc.setState(0xdd2d, 0xa782, 0x3880, 0x49fd, 0xe3fe, 0x9e24, 0x0, 0x1);
        gbc.writeMem(0xdd2d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa782);
        EXPECT(gbc.pc(), 0xdd2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd2d), 0xcb);
        EXPECT(gbc.readMem(0xdd2e), 0x2d);
        // CB 2D 032D
        gbc.setState(0xb242, 0xf24d, 0x13b0, 0x76cd, 0x8257, 0xc39c, 0x1, 0x1);
        gbc.writeMem(0xb242, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf24d);
        EXPECT(gbc.pc(), 0xb244);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb242), 0xcb);
        EXPECT(gbc.readMem(0xb243), 0x2d);
        // CB 2D 032E
        gbc.setState(0xb03d, 0x1661, 0x2490, 0xdc56, 0x48e4, 0x34, 0x1, 0x0);
        gbc.writeMem(0xb03d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1661);
        EXPECT(gbc.pc(), 0xb03f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb03d), 0xcb);
        EXPECT(gbc.readMem(0xb03e), 0x2d);
        // CB 2D 032F
        gbc.setState(0xb0ef, 0x10ab, 0xaf10, 0x9027, 0x17ee, 0x68db, 0x1, 0x0);
        gbc.writeMem(0xb0ef, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x10ab);
        EXPECT(gbc.pc(), 0xb0f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0ef), 0xcb);
        EXPECT(gbc.readMem(0xb0f0), 0x2d);
        // CB 2D 0330
        gbc.setState(0x49bc, 0xb62d, 0x5670, 0x70e5, 0x2ec0, 0xfa16, 0x1, 0x1);
        gbc.writeMem(0x49bc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xb62d);
        EXPECT(gbc.pc(), 0x49be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0332
        gbc.setState(0x12b, 0x961, 0xe520, 0xf288, 0x6745, 0x810, 0x1, 0x0);
        gbc.writeMem(0x12b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x961);
        EXPECT(gbc.pc(), 0x12d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0333
        gbc.setState(0x8f35, 0x2d8e, 0xe0, 0xdd5, 0xfc7b, 0x1b1b, 0x0, 0x1);
        gbc.writeMem(0x8f35, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2d8e);
        EXPECT(gbc.pc(), 0x8f37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f35), 0xcb);
        EXPECT(gbc.readMem(0x8f36), 0x2d);
        // CB 2D 0334
        gbc.setState(0x84cf, 0xaad6, 0x4ea0, 0xa8f, 0x174b, 0xa4aa, 0x1, 0x0);
        gbc.writeMem(0x84cf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xaad6);
        EXPECT(gbc.pc(), 0x84d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84cf), 0xcb);
        EXPECT(gbc.readMem(0x84d0), 0x2d);
        // CB 2D 0335
        gbc.setState(0x8cf0, 0x69c8, 0xa190, 0x385b, 0x63b, 0x9554, 0x0, 0x1);
        gbc.writeMem(0x8cf0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x69c8);
        EXPECT(gbc.pc(), 0x8cf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cf0), 0xcb);
        EXPECT(gbc.readMem(0x8cf1), 0x2d);
        // CB 2D 0336
        gbc.setState(0x85e3, 0xeae9, 0xfa0, 0xf5bd, 0xe37d, 0xc0f7, 0x0, 0x1);
        gbc.writeMem(0x85e3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xeae9);
        EXPECT(gbc.pc(), 0x85e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85e3), 0xcb);
        EXPECT(gbc.readMem(0x85e4), 0x2d);
        // CB 2D 0337
        gbc.setState(0x9fef, 0x2aa3, 0x7b0, 0x2dd5, 0x485f, 0x7539, 0x0, 0x1);
        gbc.writeMem(0x9fef, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x2aa3);
        EXPECT(gbc.pc(), 0x9ff1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fef), 0xcb);
        EXPECT(gbc.readMem(0x9ff0), 0x2d);
        // CB 2D 0338
        gbc.setState(0x199e, 0xfab9, 0x5f40, 0x1425, 0x2cf, 0xc98f, 0x0, 0x0);
        gbc.writeMem(0x199e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xfab9);
        EXPECT(gbc.pc(), 0x19a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0339
        gbc.setState(0x3b18, 0x5c39, 0xce50, 0x5413, 0xa85d, 0xd9da, 0x0, 0x1);
        gbc.writeMem(0x3b18, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x5c39);
        EXPECT(gbc.pc(), 0x3b1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 033A
        gbc.setState(0x3524, 0x6bf8, 0x93e0, 0x203f, 0xf7cb, 0x7272, 0x1, 0x0);
        gbc.writeMem(0x3524, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6bf8);
        EXPECT(gbc.pc(), 0x3526);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 033B
        gbc.setState(0x4411, 0xb5fa, 0x5a80, 0x1879, 0x9e90, 0xdf9d, 0x1, 0x0);
        gbc.writeMem(0x4411, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xb5fa);
        EXPECT(gbc.pc(), 0x4413);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 033C
        gbc.setState(0xc5f4, 0x708b, 0x7ef0, 0x6133, 0xd2ed, 0xa7fe, 0x1, 0x1);
        gbc.writeMem(0xc5f4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x708b);
        EXPECT(gbc.pc(), 0xc5f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5f4), 0xcb);
        EXPECT(gbc.readMem(0xc5f5), 0x2d);
        // CB 2D 033D
        gbc.setState(0xb635, 0x44c5, 0x5080, 0x6a9, 0xc5, 0x6a9e, 0x1, 0x0);
        gbc.writeMem(0xb635, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x44c5);
        EXPECT(gbc.pc(), 0xb637);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb635), 0xcb);
        EXPECT(gbc.readMem(0xb636), 0x2d);
        // CB 2D 033E
        gbc.setState(0xe2a5, 0x1546, 0xa600, 0x4aa5, 0x82c, 0xa206, 0x1, 0x0);
        gbc.writeMem(0xe2a5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x1546);
        EXPECT(gbc.pc(), 0xe2a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2a5), 0xcb);
        EXPECT(gbc.readMem(0xe2a6), 0x2d);
        // CB 2D 033F
        gbc.setState(0xf3a, 0x7425, 0xbb90, 0xec5, 0x47cc, 0xd7ae, 0x0, 0x0);
        gbc.writeMem(0xf3a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x7425);
        EXPECT(gbc.pc(), 0xf3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0340
        gbc.setState(0x2ecc, 0xddb5, 0xa10, 0x64a5, 0xd480, 0x9b9e, 0x1, 0x1);
        gbc.writeMem(0x2ecc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xddb5);
        EXPECT(gbc.pc(), 0x2ece);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0341
        gbc.setState(0x1242, 0xbb42, 0x5a60, 0xc77f, 0xeb73, 0xbe8e, 0x0, 0x0);
        gbc.writeMem(0x1242, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xbb42);
        EXPECT(gbc.pc(), 0x1244);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0342
        gbc.setState(0x8570, 0xec19, 0xff40, 0xd515, 0xa095, 0x9562, 0x1, 0x1);
        gbc.writeMem(0x8570, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xec19);
        EXPECT(gbc.pc(), 0x8572);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8570), 0xcb);
        EXPECT(gbc.readMem(0x8571), 0x2d);
        // CB 2D 0343
        gbc.setState(0xe014, 0x92ba, 0x50f0, 0x4417, 0x9333, 0xb3f6, 0x0, 0x0);
        gbc.writeMem(0xe014, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x92ba);
        EXPECT(gbc.pc(), 0xe016);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe014), 0xcb);
        EXPECT(gbc.readMem(0xe015), 0x2d);
        // CB 2D 0344
        gbc.setState(0x8fe7, 0xfd23, 0x43f0, 0xe2d1, 0x79ca, 0x6148, 0x1, 0x0);
        gbc.writeMem(0x8fe7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xfd23);
        EXPECT(gbc.pc(), 0x8fe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fe7), 0xcb);
        EXPECT(gbc.readMem(0x8fe8), 0x2d);
        // CB 2D 0345
        gbc.setState(0xf89, 0xe188, 0xe20, 0x337d, 0x9d86, 0x2db3, 0x1, 0x1);
        gbc.writeMem(0xf89, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe188);
        EXPECT(gbc.pc(), 0xf8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0346
        gbc.setState(0x7d92, 0x6491, 0xec50, 0x7208, 0x72f5, 0x6e53, 0x1, 0x0);
        gbc.writeMem(0x7d92, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x6491);
        EXPECT(gbc.pc(), 0x7d94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0347
        gbc.setState(0x9cff, 0xd434, 0x40f0, 0xe234, 0x2d6c, 0x761c, 0x0, 0x1);
        gbc.writeMem(0x9cff, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xd434);
        EXPECT(gbc.pc(), 0x9d01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cff), 0xcb);
        EXPECT(gbc.readMem(0x9d00), 0x2d);
        // CB 2D 0348
        gbc.setState(0x815a, 0x886b, 0x950, 0x8cce, 0x9c30, 0x27b9, 0x1, 0x1);
        gbc.writeMem(0x815a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x886b);
        EXPECT(gbc.pc(), 0x815c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x815a), 0xcb);
        EXPECT(gbc.readMem(0x815b), 0x2d);
        // CB 2D 034A
        gbc.setState(0xc068, 0xc442, 0x6320, 0xb8b9, 0xeb9a, 0x8751, 0x0, 0x1);
        gbc.writeMem(0xc068, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xc442);
        EXPECT(gbc.pc(), 0xc06a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc068), 0xcb);
        EXPECT(gbc.readMem(0xc069), 0x2d);
        // CB 2D 034B
        gbc.setState(0x499f, 0xc467, 0xd8e0, 0x503c, 0x79c, 0x925a, 0x0, 0x1);
        gbc.writeMem(0x499f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xc467);
        EXPECT(gbc.pc(), 0x49a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 034C
        gbc.setState(0x1277, 0xe7d1, 0x6500, 0xc04, 0x2437, 0x98f6, 0x0, 0x0);
        gbc.writeMem(0x1277, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xe7d1);
        EXPECT(gbc.pc(), 0x1279);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 034D
        gbc.setState(0x854d, 0x3203, 0x8ad0, 0xb81e, 0x7748, 0xab8b, 0x1, 0x1);
        gbc.writeMem(0x854d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3203);
        EXPECT(gbc.pc(), 0x854f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x854d), 0xcb);
        EXPECT(gbc.readMem(0x854e), 0x2d);
        // CB 2D 034E
        gbc.setState(0x4a80, 0x2be3, 0xadb0, 0x2112, 0xaca9, 0x5bd4, 0x0, 0x0);
        gbc.writeMem(0x4a80, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x2be3);
        EXPECT(gbc.pc(), 0x4a82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 034F
        gbc.setState(0x73d3, 0xd769, 0x720, 0xa076, 0xbd4d, 0xb861, 0x1, 0x0);
        gbc.writeMem(0x73d3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd769);
        EXPECT(gbc.pc(), 0x73d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0350
        gbc.setState(0x963d, 0xc1ae, 0x5280, 0x2649, 0xf459, 0x7ebe, 0x1, 0x1);
        gbc.writeMem(0x963d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc1ae);
        EXPECT(gbc.pc(), 0x963f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x963d), 0xcb);
        EXPECT(gbc.readMem(0x963e), 0x2d);
        // CB 2D 0351
        gbc.setState(0x5ead, 0x223d, 0xe760, 0xdb6b, 0xb1b0, 0x4190, 0x1, 0x1);
        gbc.writeMem(0x5ead, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x223d);
        EXPECT(gbc.pc(), 0x5eaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0353
        gbc.setState(0x8e5, 0xbbe, 0x1310, 0x4bc, 0x6daa, 0xa97e, 0x0, 0x0);
        gbc.writeMem(0x8e5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbbe);
        EXPECT(gbc.pc(), 0x8e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0354
        gbc.setState(0xe022, 0x1267, 0xe9f0, 0x671e, 0xf727, 0x5941, 0x1, 0x1);
        gbc.writeMem(0xe022, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x1267);
        EXPECT(gbc.pc(), 0xe024);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe022), 0xcb);
        EXPECT(gbc.readMem(0xe023), 0x2d);
        // CB 2D 0355
        gbc.setState(0x9429, 0x7238, 0xd340, 0x48ea, 0x958d, 0xf856, 0x0, 0x1);
        gbc.writeMem(0x9429, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7238);
        EXPECT(gbc.pc(), 0x942b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9429), 0xcb);
        EXPECT(gbc.readMem(0x942a), 0x2d);
        // CB 2D 0356
        gbc.setState(0x8a4b, 0xca11, 0xd090, 0xcc69, 0x4919, 0x7bb0, 0x1, 0x0);
        gbc.writeMem(0x8a4b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xca11);
        EXPECT(gbc.pc(), 0x8a4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a4b), 0xcb);
        EXPECT(gbc.readMem(0x8a4c), 0x2d);
        // CB 2D 0357
        gbc.setState(0x108, 0xde1, 0x5290, 0x95e0, 0x713, 0x3f4c, 0x0, 0x1);
        gbc.writeMem(0x108, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xde1);
        EXPECT(gbc.pc(), 0x10a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0358
        gbc.setState(0xb3ad, 0x91cd, 0x6340, 0x1ec6, 0xff27, 0x8983, 0x0, 0x1);
        gbc.writeMem(0xb3ad, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x91cd);
        EXPECT(gbc.pc(), 0xb3af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ad), 0xcb);
        EXPECT(gbc.readMem(0xb3ae), 0x2d);
        // CB 2D 0359
        gbc.setState(0xb58, 0x2866, 0x8b40, 0x5741, 0xcd7a, 0xc0a4, 0x1, 0x1);
        gbc.writeMem(0xb58, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x2866);
        EXPECT(gbc.pc(), 0xb5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 035B
        gbc.setState(0x4c1f, 0xc938, 0xc8f0, 0x2215, 0xe396, 0x86f8, 0x0, 0x1);
        gbc.writeMem(0x4c1f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc938);
        EXPECT(gbc.pc(), 0x4c21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 035C
        gbc.setState(0x371d, 0xb03, 0xd220, 0x8afc, 0x27a2, 0x79b3, 0x1, 0x0);
        gbc.writeMem(0x371d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xb03);
        EXPECT(gbc.pc(), 0x371f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 035D
        gbc.setState(0x2a47, 0x7960, 0x64e0, 0x4a1d, 0xbbef, 0xb7d1, 0x0, 0x0);
        gbc.writeMem(0x2a47, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7960);
        EXPECT(gbc.pc(), 0x2a49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 035E
        gbc.setState(0xd12d, 0x943b, 0x1890, 0x8bb6, 0x3f9, 0x1f36, 0x0, 0x1);
        gbc.writeMem(0xd12d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x943b);
        EXPECT(gbc.pc(), 0xd12f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd12d), 0xcb);
        EXPECT(gbc.readMem(0xd12e), 0x2d);
        // CB 2D 035F
        gbc.setState(0x4b96, 0x41cd, 0xe480, 0xe5c2, 0xb753, 0xcd16, 0x1, 0x1);
        gbc.writeMem(0x4b96, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x41cd);
        EXPECT(gbc.pc(), 0x4b98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0360
        gbc.setState(0x561d, 0x8a49, 0x7400, 0xfcf3, 0x21f1, 0xe3a3, 0x0, 0x1);
        gbc.writeMem(0x561d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8a49);
        EXPECT(gbc.pc(), 0x561f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0361
        gbc.setState(0x6607, 0x342d, 0x9c50, 0xcb14, 0x640, 0x44c8, 0x0, 0x0);
        gbc.writeMem(0x6607, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x342d);
        EXPECT(gbc.pc(), 0x6609);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0362
        gbc.setState(0xb0c2, 0x7d14, 0xc90, 0xee6e, 0xe941, 0x1c7d, 0x1, 0x1);
        gbc.writeMem(0xb0c2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7d14);
        EXPECT(gbc.pc(), 0xb0c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0c2), 0xcb);
        EXPECT(gbc.readMem(0xb0c3), 0x2d);
        // CB 2D 0363
        gbc.setState(0x24ba, 0x59bf, 0x5fa0, 0x88b4, 0x30eb, 0xd250, 0x0, 0x1);
        gbc.writeMem(0x24ba, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x59bf);
        EXPECT(gbc.pc(), 0x24bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0364
        gbc.setState(0xc56b, 0xb7ab, 0xe60, 0xfd9, 0x480, 0xb500, 0x0, 0x0);
        gbc.writeMem(0xc56b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb7ab);
        EXPECT(gbc.pc(), 0xc56d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc56b), 0xcb);
        EXPECT(gbc.readMem(0xc56c), 0x2d);
        // CB 2D 0365
        gbc.setState(0xc4cd, 0xa757, 0x84e0, 0xa57b, 0x46af, 0x65e6, 0x0, 0x1);
        gbc.writeMem(0xc4cd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa757);
        EXPECT(gbc.pc(), 0xc4cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4cd), 0xcb);
        EXPECT(gbc.readMem(0xc4ce), 0x2d);
        // CB 2D 0366
        gbc.setState(0xb465, 0xcc17, 0xf5c0, 0x93fc, 0x7c9f, 0x8009, 0x0, 0x0);
        gbc.writeMem(0xb465, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xcc17);
        EXPECT(gbc.pc(), 0xb467);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb465), 0xcb);
        EXPECT(gbc.readMem(0xb466), 0x2d);
        // CB 2D 0367
        gbc.setState(0xdc73, 0x5903, 0x4720, 0xbf8e, 0xb583, 0x675a, 0x0, 0x1);
        gbc.writeMem(0xdc73, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5903);
        EXPECT(gbc.pc(), 0xdc75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc73), 0xcb);
        EXPECT(gbc.readMem(0xdc74), 0x2d);
        // CB 2D 0368
        gbc.setState(0x5416, 0x542d, 0x7db0, 0xd58c, 0xe598, 0x3e47, 0x0, 0x0);
        gbc.writeMem(0x5416, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x542d);
        EXPECT(gbc.pc(), 0x5418);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0369
        gbc.setState(0xbad, 0xf949, 0xa8f0, 0xc7f0, 0x3d04, 0x40be, 0x1, 0x1);
        gbc.writeMem(0xbad, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf949);
        EXPECT(gbc.pc(), 0xbaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 036A
        gbc.setState(0x6887, 0xfefc, 0x6be0, 0xb00e, 0x4cec, 0x8722, 0x0, 0x1);
        gbc.writeMem(0x6887, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xfefc);
        EXPECT(gbc.pc(), 0x6889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 036B
        gbc.setState(0x7644, 0x9794, 0xe410, 0xa674, 0xf936, 0x8397, 0x1, 0x1);
        gbc.writeMem(0x7644, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x9794);
        EXPECT(gbc.pc(), 0x7646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 036C
        gbc.setState(0x6b81, 0xa04d, 0x8210, 0x39, 0x1b1f, 0x2402, 0x0, 0x0);
        gbc.writeMem(0x6b81, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xa04d);
        EXPECT(gbc.pc(), 0x6b83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 036D
        gbc.setState(0x3219, 0xb83e, 0xdc00, 0x1047, 0xcb5d, 0xa6b9, 0x1, 0x0);
        gbc.writeMem(0x3219, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb83e);
        EXPECT(gbc.pc(), 0x321b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 036E
        gbc.setState(0x2d00, 0x8cd2, 0xe9d0, 0x930f, 0x757a, 0xef2, 0x0, 0x1);
        gbc.writeMem(0x2d00, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8cd2);
        EXPECT(gbc.pc(), 0x2d02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 036F
        gbc.setState(0x62a1, 0x1103, 0xda70, 0x34f7, 0x7bd6, 0xaefd, 0x1, 0x1);
        gbc.writeMem(0x62a1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1103);
        EXPECT(gbc.pc(), 0x62a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0370
        gbc.setState(0x8038, 0x7adf, 0x58c0, 0xf374, 0xe0b, 0x5401, 0x1, 0x0);
        gbc.writeMem(0x8038, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7adf);
        EXPECT(gbc.pc(), 0x803a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8038), 0xcb);
        EXPECT(gbc.readMem(0x8039), 0x2d);
        // CB 2D 0371
        gbc.setState(0xb186, 0x2296, 0xc890, 0x489a, 0x9a1f, 0x31a2, 0x1, 0x0);
        gbc.writeMem(0xb186, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2296);
        EXPECT(gbc.pc(), 0xb188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb186), 0xcb);
        EXPECT(gbc.readMem(0xb187), 0x2d);
        // CB 2D 0372
        gbc.setState(0xa753, 0x74f5, 0x7480, 0x5565, 0x1bbc, 0xe1b7, 0x0, 0x0);
        gbc.writeMem(0xa753, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x74f5);
        EXPECT(gbc.pc(), 0xa755);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa753), 0xcb);
        EXPECT(gbc.readMem(0xa754), 0x2d);
        // CB 2D 0373
        gbc.setState(0x488f, 0x14b9, 0x34e0, 0xbdc6, 0x8, 0xd631, 0x0, 0x0);
        gbc.writeMem(0x488f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x14b9);
        EXPECT(gbc.pc(), 0x4891);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0374
        gbc.setState(0x3dfc, 0x4b44, 0x6ef0, 0xf220, 0xd910, 0xe2df, 0x1, 0x0);
        gbc.writeMem(0x3dfc, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x4b44);
        EXPECT(gbc.pc(), 0x3dfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0375
        gbc.setState(0x1e44, 0xe90b, 0x6310, 0x183d, 0xe5af, 0xe3d1, 0x0, 0x1);
        gbc.writeMem(0x1e44, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xe90b);
        EXPECT(gbc.pc(), 0x1e46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0376
        gbc.setState(0xef0, 0x722d, 0xc080, 0xc815, 0xa929, 0x7e92, 0x1, 0x0);
        gbc.writeMem(0xef0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x722d);
        EXPECT(gbc.pc(), 0xef2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0377
        gbc.setState(0x347e, 0xe300, 0xe700, 0xf253, 0x8270, 0x47e8, 0x1, 0x1);
        gbc.writeMem(0x347e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xe300);
        EXPECT(gbc.pc(), 0x3480);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0378
        gbc.setState(0x316b, 0x790f, 0x4b90, 0x134b, 0xc198, 0x11b1, 0x0, 0x1);
        gbc.writeMem(0x316b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x790f);
        EXPECT(gbc.pc(), 0x316d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0379
        gbc.setState(0x4a36, 0x3c27, 0xd0d0, 0x95e8, 0x4b69, 0xb16c, 0x1, 0x0);
        gbc.writeMem(0x4a36, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3c27);
        EXPECT(gbc.pc(), 0x4a38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 037A
        gbc.setState(0x8c1a, 0xa1d4, 0x1bc0, 0x7592, 0x2d2c, 0xfeca, 0x1, 0x0);
        gbc.writeMem(0x8c1a, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xa1d4);
        EXPECT(gbc.pc(), 0x8c1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c1a), 0xcb);
        EXPECT(gbc.readMem(0x8c1b), 0x2d);
        // CB 2D 037B
        gbc.setState(0x5479, 0x80a0, 0xc7d0, 0xec49, 0xd363, 0xc734, 0x0, 0x1);
        gbc.writeMem(0x5479, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x80a0);
        EXPECT(gbc.pc(), 0x547b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 037C
        gbc.setState(0x21b6, 0x6e3a, 0xac80, 0x18ff, 0xa6d0, 0xcf58, 0x0, 0x1);
        gbc.writeMem(0x21b6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x6e3a);
        EXPECT(gbc.pc(), 0x21b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 037D
        gbc.setState(0x8750, 0x2d62, 0x3ae0, 0xc586, 0x9f0c, 0x1081, 0x1, 0x0);
        gbc.writeMem(0x8750, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2d62);
        EXPECT(gbc.pc(), 0x8752);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8750), 0xcb);
        EXPECT(gbc.readMem(0x8751), 0x2d);
        // CB 2D 037E
        gbc.setState(0x7526, 0x7b46, 0xd010, 0x41a6, 0xa22c, 0xfcc5, 0x1, 0x1);
        gbc.writeMem(0x7526, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7b46);
        EXPECT(gbc.pc(), 0x7528);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 037F
        gbc.setState(0xac35, 0xc179, 0x58d0, 0x289f, 0x702a, 0xa030, 0x0, 0x0);
        gbc.writeMem(0xac35, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc179);
        EXPECT(gbc.pc(), 0xac37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac35), 0xcb);
        EXPECT(gbc.readMem(0xac36), 0x2d);
        // CB 2D 0380
        gbc.setState(0xa05d, 0xbf9a, 0x2f20, 0x3694, 0x4645, 0x9e02, 0x0, 0x1);
        gbc.writeMem(0xa05d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xbf9a);
        EXPECT(gbc.pc(), 0xa05f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa05d), 0xcb);
        EXPECT(gbc.readMem(0xa05e), 0x2d);
        // CB 2D 0381
        gbc.setState(0xe3a6, 0x5e26, 0x1df0, 0xc4ef, 0x7c9f, 0xd6c0, 0x1, 0x0);
        gbc.writeMem(0xe3a6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x5e26);
        EXPECT(gbc.pc(), 0xe3a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3a6), 0xcb);
        EXPECT(gbc.readMem(0xe3a7), 0x2d);
        // CB 2D 0382
        gbc.setState(0xde06, 0x316, 0xcdc0, 0x10ac, 0x7808, 0x20d6, 0x1, 0x0);
        gbc.writeMem(0xde06, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x316);
        EXPECT(gbc.pc(), 0xde08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde06), 0xcb);
        EXPECT(gbc.readMem(0xde07), 0x2d);
        // CB 2D 0383
        gbc.setState(0xeda0, 0x786b, 0xee40, 0xbd87, 0x7f95, 0xde32, 0x1, 0x0);
        gbc.writeMem(0xeda0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x786b);
        EXPECT(gbc.pc(), 0xeda2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeda0), 0xcb);
        EXPECT(gbc.readMem(0xeda1), 0x2d);
        // CB 2D 0384
        gbc.setState(0x7a78, 0xb025, 0x5540, 0x58c2, 0xbf16, 0xc321, 0x0, 0x1);
        gbc.writeMem(0x7a78, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb025);
        EXPECT(gbc.pc(), 0x7a7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0385
        gbc.setState(0x5d6, 0x18c, 0x6590, 0x47e8, 0xcae7, 0xd0ae, 0x1, 0x1);
        gbc.writeMem(0x5d6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x18c);
        EXPECT(gbc.pc(), 0x5d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0386
        gbc.setState(0x8360, 0x9bf7, 0xde10, 0x38b, 0x7b25, 0x83a8, 0x1, 0x0);
        gbc.writeMem(0x8360, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x9bf7);
        EXPECT(gbc.pc(), 0x8362);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8360), 0xcb);
        EXPECT(gbc.readMem(0x8361), 0x2d);
        // CB 2D 0387
        gbc.setState(0x4f60, 0x5c67, 0xf570, 0xf2ab, 0xd12b, 0xea39, 0x1, 0x0);
        gbc.writeMem(0x4f60, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5c67);
        EXPECT(gbc.pc(), 0x4f62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0388
        gbc.setState(0x6e05, 0x1f41, 0x7e0, 0x6748, 0x530c, 0xe08b, 0x0, 0x0);
        gbc.writeMem(0x6e05, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x1f41);
        EXPECT(gbc.pc(), 0x6e07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0389
        gbc.setState(0xbcfe, 0xafe8, 0x9af0, 0xab43, 0x34fd, 0xe55, 0x1, 0x1);
        gbc.writeMem(0xbcfe, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xafe8);
        EXPECT(gbc.pc(), 0xbd00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcfe), 0xcb);
        EXPECT(gbc.readMem(0xbcff), 0x2d);
        // CB 2D 038A
        gbc.setState(0x85a8, 0xfa38, 0xd070, 0xdeff, 0xa7ea, 0x6688, 0x0, 0x0);
        gbc.writeMem(0x85a8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xfa38);
        EXPECT(gbc.pc(), 0x85aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85a8), 0xcb);
        EXPECT(gbc.readMem(0x85a9), 0x2d);
        // CB 2D 038B
        gbc.setState(0x1672, 0x53f2, 0x4ad0, 0x1830, 0x5813, 0x1605, 0x0, 0x1);
        gbc.writeMem(0x1672, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x53f2);
        EXPECT(gbc.pc(), 0x1674);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 038C
        gbc.setState(0xadf4, 0x507, 0x6610, 0x4383, 0xd1c2, 0x52cb, 0x0, 0x0);
        gbc.writeMem(0xadf4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x507);
        EXPECT(gbc.pc(), 0xadf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadf4), 0xcb);
        EXPECT(gbc.readMem(0xadf5), 0x2d);
        // CB 2D 038D
        gbc.setState(0x12fd, 0x8733, 0x3a20, 0x5d1a, 0x6d1e, 0x8a8d, 0x1, 0x1);
        gbc.writeMem(0x12fd, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8733);
        EXPECT(gbc.pc(), 0x12ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 038E
        gbc.setState(0x6685, 0xff77, 0x5660, 0x8a02, 0xe1e6, 0xe8b8, 0x1, 0x1);
        gbc.writeMem(0x6685, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xff77);
        EXPECT(gbc.pc(), 0x6687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 038F
        gbc.setState(0x96f5, 0x67e7, 0xeb30, 0x6037, 0x7be9, 0x8bfb, 0x0, 0x0);
        gbc.writeMem(0x96f5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x67e7);
        EXPECT(gbc.pc(), 0x96f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96f5), 0xcb);
        EXPECT(gbc.readMem(0x96f6), 0x2d);
        // CB 2D 0390
        gbc.setState(0x28c, 0x5d5b, 0x1410, 0x85df, 0x1ed6, 0x2213, 0x0, 0x0);
        gbc.writeMem(0x28c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5d5b);
        EXPECT(gbc.pc(), 0x28e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0391
        gbc.setState(0x31ce, 0x5631, 0xa9c0, 0x1c27, 0xda50, 0xc624, 0x1, 0x0);
        gbc.writeMem(0x31ce, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5631);
        EXPECT(gbc.pc(), 0x31d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0392
        gbc.setState(0x9c1f, 0x3177, 0x66d0, 0x4719, 0x19a, 0x2b08, 0x0, 0x0);
        gbc.writeMem(0x9c1f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3177);
        EXPECT(gbc.pc(), 0x9c21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c1f), 0xcb);
        EXPECT(gbc.readMem(0x9c20), 0x2d);
        // CB 2D 0393
        gbc.setState(0x5f9c, 0xdc2f, 0x60e0, 0xbeb2, 0xbf92, 0xe0d7, 0x1, 0x0);
        gbc.writeMem(0x5f9c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xdc2f);
        EXPECT(gbc.pc(), 0x5f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0394
        gbc.setState(0x33be, 0xf957, 0x3020, 0xa91b, 0x3464, 0xb192, 0x1, 0x1);
        gbc.writeMem(0x33be, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf957);
        EXPECT(gbc.pc(), 0x33c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0395
        gbc.setState(0xa195, 0xf1a2, 0x1040, 0x61fd, 0x91d0, 0x41f2, 0x0, 0x0);
        gbc.writeMem(0xa195, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf1a2);
        EXPECT(gbc.pc(), 0xa197);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa195), 0xcb);
        EXPECT(gbc.readMem(0xa196), 0x2d);
        // CB 2D 0396
        gbc.setState(0x5380, 0xd6f2, 0xa450, 0xec97, 0xc954, 0x4d8a, 0x1, 0x1);
        gbc.writeMem(0x5380, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xd6f2);
        EXPECT(gbc.pc(), 0x5382);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0397
        gbc.setState(0x6ca7, 0x7f54, 0x84d0, 0x9379, 0x1558, 0x843c, 0x0, 0x1);
        gbc.writeMem(0x6ca7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7f54);
        EXPECT(gbc.pc(), 0x6ca9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 0398
        gbc.setState(0x2bf4, 0xd436, 0x7830, 0x8c4c, 0xd1cf, 0xe19b, 0x1, 0x1);
        gbc.writeMem(0x2bf4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd436);
        EXPECT(gbc.pc(), 0x2bf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 0399
        gbc.setState(0x4c36, 0xb904, 0x88f0, 0x18db, 0x4ce5, 0xc058, 0x1, 0x0);
        gbc.writeMem(0x4c36, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xb904);
        EXPECT(gbc.pc(), 0x4c38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 039A
        gbc.setState(0x2453, 0xfcaf, 0x5030, 0x4d43, 0x634a, 0xc7f7, 0x0, 0x1);
        gbc.writeMem(0x2453, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xfcaf);
        EXPECT(gbc.pc(), 0x2455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 039B
        gbc.setState(0x20ff, 0x2e78, 0xafe0, 0xd23d, 0x1ab0, 0x177c, 0x0, 0x1);
        gbc.writeMem(0x20ff, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2e78);
        EXPECT(gbc.pc(), 0x2101);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 039C
        gbc.setState(0x9fff, 0x7a7b, 0xba0, 0xd23, 0xe5e7, 0xfd93, 0x0, 0x1);
        gbc.writeMem(0x9fff, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7a7b);
        EXPECT(gbc.pc(), 0xa001);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fff), 0xcb);
        EXPECT(gbc.readMem(0xa000), 0x2d);
        // CB 2D 039D
        gbc.setState(0x4880, 0x21b, 0xfdf0, 0x542d, 0x4b5c, 0x269e, 0x0, 0x1);
        gbc.writeMem(0x4880, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x21b);
        EXPECT(gbc.pc(), 0x4882);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 039E
        gbc.setState(0x4899, 0x45c8, 0x1f50, 0xd446, 0xbc0a, 0xfcb4, 0x1, 0x0);
        gbc.writeMem(0x4899, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x45c8);
        EXPECT(gbc.pc(), 0x489b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 039F
        gbc.setState(0x3785, 0x772a, 0x1530, 0x6572, 0x7d04, 0x1d65, 0x0, 0x0);
        gbc.writeMem(0x3785, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x772a);
        EXPECT(gbc.pc(), 0x3787);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03A0
        gbc.setState(0x5204, 0x484d, 0xeb00, 0xad34, 0xcd5a, 0x299, 0x1, 0x1);
        gbc.writeMem(0x5204, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x484d);
        EXPECT(gbc.pc(), 0x5206);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03A1
        gbc.setState(0x5382, 0xba6c, 0x4fe0, 0xae92, 0xda18, 0x867c, 0x1, 0x0);
        gbc.writeMem(0x5382, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xba6c);
        EXPECT(gbc.pc(), 0x5384);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03A2
        gbc.setState(0x4dad, 0x6277, 0x5330, 0x5efe, 0x460e, 0x994, 0x0, 0x0);
        gbc.writeMem(0x4dad, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x6277);
        EXPECT(gbc.pc(), 0x4daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03A3
        gbc.setState(0x6d32, 0x8f65, 0x6910, 0xf53f, 0xd23, 0xc770, 0x1, 0x1);
        gbc.writeMem(0x6d32, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8f65);
        EXPECT(gbc.pc(), 0x6d34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03A4
        gbc.setState(0xa84f, 0x9d00, 0x3930, 0xc02b, 0x4fd1, 0xf8f7, 0x0, 0x1);
        gbc.writeMem(0xa84f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9d00);
        EXPECT(gbc.pc(), 0xa851);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa84f), 0xcb);
        EXPECT(gbc.readMem(0xa850), 0x2d);
        // CB 2D 03A5
        gbc.setState(0xe5ab, 0xb7d0, 0xa910, 0xf1bb, 0xb682, 0x40d4, 0x1, 0x0);
        gbc.writeMem(0xe5ab, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb7d0);
        EXPECT(gbc.pc(), 0xe5ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5ab), 0xcb);
        EXPECT(gbc.readMem(0xe5ac), 0x2d);
        // CB 2D 03A6
        gbc.setState(0x73e9, 0x30bc, 0x4a0, 0x82fc, 0x464, 0xab37, 0x0, 0x1);
        gbc.writeMem(0x73e9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x30bc);
        EXPECT(gbc.pc(), 0x73eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03A7
        gbc.setState(0xd804, 0xba25, 0x1680, 0x5f21, 0x73e6, 0xcda9, 0x0, 0x1);
        gbc.writeMem(0xd804, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xba25);
        EXPECT(gbc.pc(), 0xd806);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd804), 0xcb);
        EXPECT(gbc.readMem(0xd805), 0x2d);
        // CB 2D 03A8
        gbc.setState(0xb5b4, 0x126b, 0x9b90, 0x20db, 0x3b87, 0x10fb, 0x1, 0x1);
        gbc.writeMem(0xb5b4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x126b);
        EXPECT(gbc.pc(), 0xb5b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5b4), 0xcb);
        EXPECT(gbc.readMem(0xb5b5), 0x2d);
        // CB 2D 03A9
        gbc.setState(0x7971, 0x7a97, 0x68a0, 0x46bf, 0x3899, 0x1839, 0x0, 0x0);
        gbc.writeMem(0x7971, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x7a97);
        EXPECT(gbc.pc(), 0x7973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03AA
        gbc.setState(0x34f0, 0x3fab, 0x1ed0, 0xf3c7, 0xf4fa, 0x62c9, 0x0, 0x0);
        gbc.writeMem(0x34f0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3fab);
        EXPECT(gbc.pc(), 0x34f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03AC
        gbc.setState(0xd13c, 0x3ea9, 0xf260, 0xe3b1, 0x4bb9, 0x39d6, 0x0, 0x1);
        gbc.writeMem(0xd13c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3ea9);
        EXPECT(gbc.pc(), 0xd13e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd13c), 0xcb);
        EXPECT(gbc.readMem(0xd13d), 0x2d);
        // CB 2D 03AD
        gbc.setState(0x5f08, 0x60f7, 0xb5e0, 0x6405, 0xe0d3, 0xd570, 0x0, 0x1);
        gbc.writeMem(0x5f08, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x60f7);
        EXPECT(gbc.pc(), 0x5f0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03AE
        gbc.setState(0x53be, 0x289, 0xc3d0, 0x8b2b, 0xed08, 0xc600, 0x0, 0x1);
        gbc.writeMem(0x53be, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x289);
        EXPECT(gbc.pc(), 0x53c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03AF
        gbc.setState(0xde2, 0x5a9b, 0x5a80, 0x9d4e, 0xaade, 0x21f5, 0x0, 0x0);
        gbc.writeMem(0xde2, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x5a9b);
        EXPECT(gbc.pc(), 0xde4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03B0
        gbc.setState(0x15d7, 0x5873, 0xb7f0, 0x4b3f, 0xe6e3, 0xad24, 0x0, 0x0);
        gbc.writeMem(0x15d7, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5873);
        EXPECT(gbc.pc(), 0x15d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03B1
        gbc.setState(0xafe4, 0x9c0c, 0x9290, 0xe302, 0x29ae, 0x39b4, 0x1, 0x1);
        gbc.writeMem(0xafe4, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9c0c);
        EXPECT(gbc.pc(), 0xafe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafe4), 0xcb);
        EXPECT(gbc.readMem(0xafe5), 0x2d);
        // CB 2D 03B2
        gbc.setState(0x9b44, 0x164b, 0xfa10, 0x2b85, 0x14bd, 0xbcf1, 0x1, 0x0);
        gbc.writeMem(0x9b44, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x164b);
        EXPECT(gbc.pc(), 0x9b46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b44), 0xcb);
        EXPECT(gbc.readMem(0x9b45), 0x2d);
        // CB 2D 03B3
        gbc.setState(0xe09d, 0x1715, 0x4060, 0x7914, 0x39a9, 0x64df, 0x1, 0x0);
        gbc.writeMem(0xe09d, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x1715);
        EXPECT(gbc.pc(), 0xe09f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe09d), 0xcb);
        EXPECT(gbc.readMem(0xe09e), 0x2d);
        // CB 2D 03B5
        gbc.setState(0x72b9, 0xa838, 0xfef0, 0x54e7, 0x604b, 0x92b2, 0x0, 0x1);
        gbc.writeMem(0x72b9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xa838);
        EXPECT(gbc.pc(), 0x72bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03B6
        gbc.setState(0x92f, 0xb121, 0xa490, 0x178d, 0x125a, 0xa39c, 0x1, 0x1);
        gbc.writeMem(0x92f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xb121);
        EXPECT(gbc.pc(), 0x931);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03B7
        gbc.setState(0x2b1f, 0x9a98, 0xbb60, 0x24fa, 0x4d7e, 0x266a, 0x0, 0x0);
        gbc.writeMem(0x2b1f, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9a98);
        EXPECT(gbc.pc(), 0x2b21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03B8
        gbc.setState(0x1970, 0x126e, 0x8a90, 0x41fd, 0x633d, 0x36c1, 0x1, 0x1);
        gbc.writeMem(0x1970, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x126e);
        EXPECT(gbc.pc(), 0x1972);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03B9
        gbc.setState(0x79ec, 0x9abc, 0xa730, 0x1072, 0xbc64, 0xb1e2, 0x1, 0x1);
        gbc.writeMem(0x79ec, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9abc);
        EXPECT(gbc.pc(), 0x79ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03BA
        gbc.setState(0x7670, 0x184b, 0x2d80, 0x3e44, 0xcafa, 0x38fa, 0x1, 0x1);
        gbc.writeMem(0x7670, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x184b);
        EXPECT(gbc.pc(), 0x7672);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03BB
        gbc.setState(0x6978, 0xb9e8, 0x2670, 0x4bbb, 0x154c, 0x4b11, 0x1, 0x0);
        gbc.writeMem(0x6978, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb9e8);
        EXPECT(gbc.pc(), 0x697a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03BC
        gbc.setState(0x713c, 0x7dc5, 0xb380, 0xc1f5, 0x8eb3, 0xc003, 0x0, 0x0);
        gbc.writeMem(0x713c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7dc5);
        EXPECT(gbc.pc(), 0x713e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03BD
        gbc.setState(0x38f1, 0xbc1f, 0x81b0, 0x58ff, 0x7463, 0xfc10, 0x0, 0x0);
        gbc.writeMem(0x38f1, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xbc1f);
        EXPECT(gbc.pc(), 0x38f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03BE
        gbc.setState(0xcd16, 0xa4d8, 0x46d0, 0x2bba, 0x3084, 0x1c1d, 0x1, 0x1);
        gbc.writeMem(0xcd16, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa4d8);
        EXPECT(gbc.pc(), 0xcd18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd16), 0xcb);
        EXPECT(gbc.readMem(0xcd17), 0x2d);
        // CB 2D 03BF
        gbc.setState(0x8c42, 0xb8ec, 0xde30, 0x86e3, 0x77ed, 0x38d6, 0x1, 0x1);
        gbc.writeMem(0x8c42, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb8ec);
        EXPECT(gbc.pc(), 0x8c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c42), 0xcb);
        EXPECT(gbc.readMem(0x8c43), 0x2d);
        // CB 2D 03C0
        gbc.setState(0x88b9, 0x513, 0x0, 0xbd9, 0x3fc1, 0xfbff, 0x0, 0x1);
        gbc.writeMem(0x88b9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x513);
        EXPECT(gbc.pc(), 0x88bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88b9), 0xcb);
        EXPECT(gbc.readMem(0x88ba), 0x2d);
        // CB 2D 03C1
        gbc.setState(0x1331, 0x2453, 0x50b0, 0x63c4, 0x9109, 0xf6bb, 0x1, 0x0);
        gbc.writeMem(0x1331, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2453);
        EXPECT(gbc.pc(), 0x1333);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03C2
        gbc.setState(0xa1df, 0x1abe, 0xc20, 0x635e, 0x188a, 0xf0a2, 0x1, 0x1);
        gbc.writeMem(0xa1df, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1abe);
        EXPECT(gbc.pc(), 0xa1e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1df), 0xcb);
        EXPECT(gbc.readMem(0xa1e0), 0x2d);
        // CB 2D 03C3
        gbc.setState(0x366c, 0x74ea, 0x1040, 0xccbc, 0x3b9e, 0xec1f, 0x1, 0x1);
        gbc.writeMem(0x366c, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x74ea);
        EXPECT(gbc.pc(), 0x366e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03C4
        gbc.setState(0x2f64, 0x40ff, 0x4130, 0x679e, 0x9402, 0x8a31, 0x0, 0x0);
        gbc.writeMem(0x2f64, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x40ff);
        EXPECT(gbc.pc(), 0x2f66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03C5
        gbc.setState(0x66d6, 0xb0de, 0xe530, 0x8b79, 0xa69, 0xef5a, 0x0, 0x1);
        gbc.writeMem(0x66d6, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xb0de);
        EXPECT(gbc.pc(), 0x66d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03C6
        gbc.setState(0xa106, 0xe352, 0xd930, 0xc8b1, 0x3f0a, 0xb375, 0x1, 0x1);
        gbc.writeMem(0xa106, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xe352);
        EXPECT(gbc.pc(), 0xa108);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa106), 0xcb);
        EXPECT(gbc.readMem(0xa107), 0x2d);
        // CB 2D 03C7
        gbc.setState(0xeac5, 0x9424, 0xc0c0, 0x875, 0x3771, 0xf080, 0x0, 0x0);
        gbc.writeMem(0xeac5, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x9424);
        EXPECT(gbc.pc(), 0xeac7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeac5), 0xcb);
        EXPECT(gbc.readMem(0xeac6), 0x2d);
        // CB 2D 03C8
        gbc.setState(0x826, 0xf089, 0x6520, 0x4c70, 0xe9ed, 0x6985, 0x0, 0x0);
        gbc.writeMem(0x826, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf089);
        EXPECT(gbc.pc(), 0x828);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03C9
        gbc.setState(0x85d0, 0x738f, 0x2d30, 0x10d2, 0x5beb, 0xe7bd, 0x1, 0x0);
        gbc.writeMem(0x85d0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x738f);
        EXPECT(gbc.pc(), 0x85d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85d0), 0xcb);
        EXPECT(gbc.readMem(0x85d1), 0x2d);
        // CB 2D 03CA
        gbc.setState(0x7d44, 0x7177, 0x3040, 0xc432, 0x1cb4, 0xf93, 0x1, 0x0);
        gbc.writeMem(0x7d44, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7177);
        EXPECT(gbc.pc(), 0x7d46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03CB
        gbc.setState(0x96b8, 0xde1a, 0xf980, 0x760c, 0x1fae, 0x7e30, 0x0, 0x0);
        gbc.writeMem(0x96b8, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xde1a);
        EXPECT(gbc.pc(), 0x96ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96b8), 0xcb);
        EXPECT(gbc.readMem(0x96b9), 0x2d);
        // CB 2D 03CC
        gbc.setState(0x3674, 0x4b43, 0x6290, 0xba0d, 0x700e, 0x451e, 0x0, 0x1);
        gbc.writeMem(0x3674, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x4b43);
        EXPECT(gbc.pc(), 0x3676);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03CD
        gbc.setState(0x2c87, 0x129e, 0x2200, 0xb19d, 0x20c2, 0x10ed, 0x0, 0x1);
        gbc.writeMem(0x2c87, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x129e);
        EXPECT(gbc.pc(), 0x2c89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03CF
        gbc.setState(0x7ded, 0xfa5c, 0x740, 0x164b, 0xb27d, 0x129, 0x0, 0x1);
        gbc.writeMem(0x7ded, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xfa5c);
        EXPECT(gbc.pc(), 0x7def);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03D0
        gbc.setState(0x6272, 0x3b21, 0x64f0, 0xf61b, 0xf4b, 0x522f, 0x0, 0x0);
        gbc.writeMem(0x6272, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x3b21);
        EXPECT(gbc.pc(), 0x6274);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03D1
        gbc.setState(0x3951, 0xc3b7, 0x4570, 0x2471, 0x419, 0x52fa, 0x1, 0x1);
        gbc.writeMem(0x3951, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc3b7);
        EXPECT(gbc.pc(), 0x3953);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03D2
        gbc.setState(0x2478, 0x2378, 0x8410, 0xda78, 0xe4bb, 0x5820, 0x1, 0x0);
        gbc.writeMem(0x2478, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2378);
        EXPECT(gbc.pc(), 0x247a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03D3
        gbc.setState(0x1abf, 0xc208, 0xf620, 0x65e7, 0x9b7c, 0xa389, 0x0, 0x1);
        gbc.writeMem(0x1abf, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xc208);
        EXPECT(gbc.pc(), 0x1ac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03D4
        gbc.setState(0x5ed9, 0xf3f4, 0xdac0, 0xfd4a, 0xb801, 0xe24c, 0x1, 0x1);
        gbc.writeMem(0x5ed9, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf3f4);
        EXPECT(gbc.pc(), 0x5edb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03D5
        gbc.setState(0x982, 0xdd27, 0xf500, 0x41b4, 0x518c, 0xc7, 0x0, 0x0);
        gbc.writeMem(0x982, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xdd27);
        EXPECT(gbc.pc(), 0x984);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03D6
        gbc.setState(0x3e4b, 0xf272, 0x7fa0, 0x736d, 0xf914, 0x1106, 0x1, 0x1);
        gbc.writeMem(0x3e4b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf272);
        EXPECT(gbc.pc(), 0x3e4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03D7
        gbc.setState(0x69e3, 0x7f5a, 0x1050, 0x390d, 0x4555, 0x711e, 0x0, 0x1);
        gbc.writeMem(0x69e3, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x7f5a);
        EXPECT(gbc.pc(), 0x69e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03D8
        gbc.setState(0x6724, 0xdc2a, 0xe240, 0xe51a, 0x6cb9, 0x6e28, 0x0, 0x0);
        gbc.writeMem(0x6724, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xdc2a);
        EXPECT(gbc.pc(), 0x6726);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03D9
        gbc.setState(0x572b, 0xf823, 0xf0d0, 0xa658, 0x9454, 0x254a, 0x0, 0x1);
        gbc.writeMem(0x572b, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xf823);
        EXPECT(gbc.pc(), 0x572d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03DA
        gbc.setState(0xa05e, 0x8bf7, 0x2fe0, 0x6017, 0xbb26, 0x3ed3, 0x1, 0x0);
        gbc.writeMem(0xa05e, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8bf7);
        EXPECT(gbc.pc(), 0xa060);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa05e), 0xcb);
        EXPECT(gbc.readMem(0xa05f), 0x2d);
        // CB 2D 03DB
        gbc.setState(0xcebb, 0x2195, 0x4b40, 0xdba9, 0x5cf8, 0xaf27, 0x0, 0x1);
        gbc.writeMem(0xcebb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x2195);
        EXPECT(gbc.pc(), 0xcebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcebb), 0xcb);
        EXPECT(gbc.readMem(0xcebc), 0x2d);
        // CB 2D 03DC
        gbc.setState(0xd63, 0xa08a, 0xb50, 0x86b, 0x1a35, 0x2f2c, 0x0, 0x1);
        gbc.writeMem(0xd63, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xa08a);
        EXPECT(gbc.pc(), 0xd65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03DD
        gbc.setState(0xe716, 0x2c47, 0xa140, 0xbc7d, 0x65ac, 0xf53, 0x1, 0x1);
        gbc.writeMem(0xe716, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x2c47);
        EXPECT(gbc.pc(), 0xe718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe716), 0xcb);
        EXPECT(gbc.readMem(0xe717), 0x2d);
        // CB 2D 03DE
        gbc.setState(0xde0, 0x8151, 0xd960, 0xb8af, 0xbc70, 0xaf7d, 0x1, 0x1);
        gbc.writeMem(0xde0, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x8151);
        EXPECT(gbc.pc(), 0xde2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03DF
        gbc.setState(0xbcb, 0x5b4c, 0x4a40, 0x75fe, 0x7d59, 0xf2ae, 0x1, 0x0);
        gbc.writeMem(0xbcb, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x5b4c);
        EXPECT(gbc.pc(), 0xbcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03E0
        gbc.setState(0x43ae, 0x15cf, 0xc140, 0xb59, 0xd172, 0x1842, 0x0, 0x0);
        gbc.writeMem(0x43ae, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x15cf);
        EXPECT(gbc.pc(), 0x43b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 2D 03E1
        gbc.setState(0xc358, 0x9566, 0xdff0, 0x619, 0xba16, 0x1752, 0x1, 0x1);
        gbc.writeMem(0xc358, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x9566);
        EXPECT(gbc.pc(), 0xc35a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc358), 0xcb);
        EXPECT(gbc.readMem(0xc359), 0x2d);
        // CB 2D 03E2
        gbc.setState(0xca76, 0x2498, 0xa920, 0x4347, 0xe75b, 0x8040, 0x0, 0x0);
        gbc.writeMem(0xca76, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x2498);
        EXPECT(gbc.pc(), 0xca78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca76), 0xcb);
        EXPECT(gbc.readMem(0xca77), 0x2d);
        // CB 2D 03E3
        gbc.setState(0x9286, 0x9edd, 0x25a0, 0x6849, 0x3117, 0x96c7, 0x0, 0x1);
        gbc.writeMem(0x9286, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9edd);
        EXPECT(gbc.pc(), 0x9288);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9286), 0xcb);
        EXPECT(gbc.readMem(0x9287), 0x2d);
        // CB 2D 03E4
        gbc.setState(0x9390, 0xa270, 0xd0f0, 0xd37b, 0x7d60, 0xafe3, 0x0, 0x1);
        gbc.writeMem(0x9390, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa270);
        EXPECT(gbc.pc(), 0x9392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9390), 0xcb);
        EXPECT(gbc.readMem(0x9391), 0x2d);
        // CB 2D 03E5
        gbc.setState(0x5a04, 0x7aa2, 0xbc80, 0x7e31, 0x4139, 0xb475, 0x1, 0x1);
        gbc.writeMem(0x5a04, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x7aa2);
        EXPECT(gbc.pc(), 0x5a06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 2D 03E6
        gbc.setState(0xd91, 0x8af, 0x47c0, 0x70c7, 0x4183, 0x7dc4, 0x1, 0x0);
        gbc.writeMem(0xd91, { 0xcb, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8af);
        EXPECT(gbc.pc(), 0xd93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
