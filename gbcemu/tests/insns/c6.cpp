#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_c6)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_c6) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // C6 0000
        gbc.setState(0xe9c6, 0xd5ee, 0xc5d0, 0x42df, 0x83be, 0xbb41, 0x0, 0x0);
        gbc.writeMem(0xe9c6, { 0xc6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd5ee);
        EXPECT(gbc.pc(), 0xe9c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9c6), 0xc6);
        EXPECT(gbc.readMem(0xe9c7), 0xcf);
        // C6 0001
        gbc.setState(0xd991, 0x42a5, 0x2da0, 0xb7f6, 0x1eb0, 0xc9da, 0x0, 0x1);
        gbc.writeMem(0xd991, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x42a5);
        EXPECT(gbc.pc(), 0xd993);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd991), 0xc6);
        EXPECT(gbc.readMem(0xd992), 0x62);
        // C6 0002
        gbc.setState(0xa117, 0xe87c, 0x7140, 0x1574, 0xbe29, 0xfd9b, 0x0, 0x1);
        gbc.writeMem(0xa117, { 0xc6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xe87c);
        EXPECT(gbc.pc(), 0xa119);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa117), 0xc6);
        EXPECT(gbc.readMem(0xa118), 0x3e);
        // C6 0003
        gbc.setState(0xbbce, 0xa478, 0xd220, 0x99bf, 0x7aef, 0x106c, 0x0, 0x0);
        gbc.writeMem(0xbbce, { 0xc6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xa478);
        EXPECT(gbc.pc(), 0xbbd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbce), 0xc6);
        EXPECT(gbc.readMem(0xbbcf), 0xa9);
        // C6 0004
        gbc.setState(0x217b, 0xbe9b, 0x8ab0, 0xd75a, 0x952d, 0x8247, 0x1, 0x0);
        gbc.writeMem(0x217b, { 0xc6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xbe9b);
        EXPECT(gbc.pc(), 0x217d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0005
        gbc.setState(0xdbb, 0xcc9a, 0xcff0, 0x8547, 0x6832, 0x74f, 0x0, 0x0);
        gbc.writeMem(0xdbb, { 0xc6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xcc9a);
        EXPECT(gbc.pc(), 0xdbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0006
        gbc.setState(0x6289, 0x93c7, 0x8de0, 0xbf7e, 0x4d, 0xedc4, 0x1, 0x1);
        gbc.writeMem(0x6289, { 0xc6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x93c7);
        EXPECT(gbc.pc(), 0x628b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0007
        gbc.setState(0x9cd, 0xabc1, 0x4000, 0xab01, 0x60bf, 0x3d40, 0x0, 0x0);
        gbc.writeMem(0x9cd, { 0xc6, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xabc1);
        EXPECT(gbc.pc(), 0x9cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0008
        gbc.setState(0xc379, 0x709f, 0xe2f0, 0x69c0, 0x8162, 0xf301, 0x1, 0x1);
        gbc.writeMem(0xc379, { 0xc6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x709f);
        EXPECT(gbc.pc(), 0xc37b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc379), 0xc6);
        EXPECT(gbc.readMem(0xc37a), 0xf7);
        // C6 0009
        gbc.setState(0x10f2, 0x115c, 0x6020, 0x9f03, 0x1f79, 0x3419, 0x1, 0x0);
        gbc.writeMem(0x10f2, { 0xc6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x115c);
        EXPECT(gbc.pc(), 0x10f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 000A
        gbc.setState(0x2c25, 0x3994, 0x4c70, 0x6e93, 0x20b, 0x5d67, 0x0, 0x1);
        gbc.writeMem(0x2c25, { 0xc6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x3994);
        EXPECT(gbc.pc(), 0x2c27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 000B
        gbc.setState(0xb13c, 0x8fe0, 0xbf50, 0x6846, 0xf36f, 0x37e7, 0x0, 0x1);
        gbc.writeMem(0xb13c, { 0xc6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x8fe0);
        EXPECT(gbc.pc(), 0xb13e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb13c), 0xc6);
        EXPECT(gbc.readMem(0xb13d), 0x41);
        // C6 000C
        gbc.setState(0x5139, 0xd03, 0x1a60, 0x2cd3, 0x949a, 0x1b99, 0x0, 0x1);
        gbc.writeMem(0x5139, { 0xc6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xd03);
        EXPECT(gbc.pc(), 0x513b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 000D
        gbc.setState(0x8254, 0x6727, 0x4240, 0x7ff5, 0x8ee1, 0xfbe7, 0x1, 0x1);
        gbc.writeMem(0x8254, { 0xc6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6727);
        EXPECT(gbc.pc(), 0x8256);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8254), 0xc6);
        EXPECT(gbc.readMem(0x8255), 0x2);
        // C6 000E
        gbc.setState(0xd6e6, 0x97e5, 0x2930, 0xb7f, 0x9831, 0xad12, 0x1, 0x1);
        gbc.writeMem(0xd6e6, { 0xc6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x97e5);
        EXPECT(gbc.pc(), 0xd6e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6e6), 0xc6);
        EXPECT(gbc.readMem(0xd6e7), 0x98);
        // C6 000F
        gbc.setState(0x7967, 0x1a3d, 0xc270, 0xd1a8, 0x71db, 0x4927, 0x1, 0x0);
        gbc.writeMem(0x7967, { 0xc6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x1a3d);
        EXPECT(gbc.pc(), 0x7969);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0010
        gbc.setState(0xc40f, 0xcdf3, 0x5230, 0x77cf, 0x8062, 0xc848, 0x1, 0x0);
        gbc.writeMem(0xc40f, { 0xc6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xcdf3);
        EXPECT(gbc.pc(), 0xc411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc40f), 0xc6);
        EXPECT(gbc.readMem(0xc410), 0xf0);
        // C6 0011
        gbc.setState(0xad4c, 0x8d47, 0x13e0, 0x75c, 0x933d, 0xa311, 0x1, 0x1);
        gbc.writeMem(0xad4c, { 0xc6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x8d47);
        EXPECT(gbc.pc(), 0xad4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad4c), 0xc6);
        EXPECT(gbc.readMem(0xad4d), 0x8f);
        // C6 0012
        gbc.setState(0x7f25, 0x5343, 0x4180, 0xfc29, 0x873f, 0x2cbb, 0x1, 0x0);
        gbc.writeMem(0x7f25, { 0xc6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5343);
        EXPECT(gbc.pc(), 0x7f27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0013
        gbc.setState(0xa3b4, 0x3176, 0x7c30, 0xa5f5, 0xbc62, 0x468f, 0x0, 0x1);
        gbc.writeMem(0xa3b4, { 0xc6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3176);
        EXPECT(gbc.pc(), 0xa3b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3b4), 0xc6);
        EXPECT(gbc.readMem(0xa3b5), 0xb8);
        // C6 0015
        gbc.setState(0x406e, 0xb80f, 0x6c0, 0xf3f5, 0x8d3d, 0xd6e0, 0x0, 0x1);
        gbc.writeMem(0x406e, { 0xc6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xb80f);
        EXPECT(gbc.pc(), 0x4070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0016
        gbc.setState(0x10be, 0x7043, 0x8530, 0xbb7a, 0xbf37, 0x35b1, 0x1, 0x1);
        gbc.writeMem(0x10be, { 0xc6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7043);
        EXPECT(gbc.pc(), 0x10c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0017
        gbc.setState(0x39c5, 0x22a4, 0x4650, 0x12aa, 0x64e1, 0x2546, 0x1, 0x0);
        gbc.writeMem(0x39c5, { 0xc6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x22a4);
        EXPECT(gbc.pc(), 0x39c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0018
        gbc.setState(0x5fa9, 0x6b50, 0xd20, 0xb584, 0x7b47, 0xec43, 0x1, 0x1);
        gbc.writeMem(0x5fa9, { 0xc6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x6b50);
        EXPECT(gbc.pc(), 0x5fab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0019
        gbc.setState(0x3104, 0x2812, 0xb540, 0x4d04, 0x2597, 0xe860, 0x1, 0x1);
        gbc.writeMem(0x3104, { 0xc6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2812);
        EXPECT(gbc.pc(), 0x3106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 001A
        gbc.setState(0x600, 0x4ba1, 0x1a40, 0x9af9, 0xda78, 0x671f, 0x0, 0x0);
        gbc.writeMem(0x600, { 0xc6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4ba1);
        EXPECT(gbc.pc(), 0x602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 001B
        gbc.setState(0x359b, 0xfb87, 0x8630, 0x6432, 0xfb8e, 0xc599, 0x0, 0x0);
        gbc.writeMem(0x359b, { 0xc6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xfb87);
        EXPECT(gbc.pc(), 0x359d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 001C
        gbc.setState(0x19ad, 0x668f, 0xe980, 0x47fb, 0xf38e, 0x2fb9, 0x0, 0x1);
        gbc.writeMem(0x19ad, { 0xc6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x668f);
        EXPECT(gbc.pc(), 0x19af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 001D
        gbc.setState(0x87c6, 0xb173, 0x7b60, 0x5d8, 0x9b3e, 0x8f6d, 0x1, 0x1);
        gbc.writeMem(0x87c6, { 0xc6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb173);
        EXPECT(gbc.pc(), 0x87c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87c6), 0xc6);
        EXPECT(gbc.readMem(0x87c7), 0x4);
        // C6 001E
        gbc.setState(0x5c17, 0x7870, 0xb9b0, 0x1f30, 0x15b1, 0x4fa9, 0x1, 0x0);
        gbc.writeMem(0x5c17, { 0xc6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x7870);
        EXPECT(gbc.pc(), 0x5c19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 001F
        gbc.setState(0xc2c5, 0x4759, 0x9a20, 0x558f, 0x9015, 0x956e, 0x0, 0x0);
        gbc.writeMem(0xc2c5, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x4759);
        EXPECT(gbc.pc(), 0xc2c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2c5), 0xc6);
        EXPECT(gbc.readMem(0xc2c6), 0x84);
        // C6 0020
        gbc.setState(0x726f, 0x5391, 0x1180, 0xfb68, 0x51e4, 0xb4c1, 0x0, 0x1);
        gbc.writeMem(0x726f, { 0xc6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x5391);
        EXPECT(gbc.pc(), 0x7271);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0021
        gbc.setState(0x1cec, 0xf255, 0x5c10, 0x10b5, 0x5130, 0xcdaa, 0x0, 0x1);
        gbc.writeMem(0x1cec, { 0xc6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf255);
        EXPECT(gbc.pc(), 0x1cee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0022
        gbc.setState(0x50c4, 0xd6fa, 0xd7f0, 0xbac, 0xbfaa, 0x48c7, 0x1, 0x0);
        gbc.writeMem(0x50c4, { 0xc6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xd6fa);
        EXPECT(gbc.pc(), 0x50c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0023
        gbc.setState(0x26b4, 0x2031, 0x14b0, 0x38f4, 0xa47f, 0xec6, 0x0, 0x0);
        gbc.writeMem(0x26b4, { 0xc6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2031);
        EXPECT(gbc.pc(), 0x26b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0024
        gbc.setState(0xd905, 0xa4c5, 0x6430, 0x5ac5, 0x521b, 0xcff1, 0x1, 0x1);
        gbc.writeMem(0xd905, { 0xc6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa4c5);
        EXPECT(gbc.pc(), 0xd907);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd905), 0xc6);
        EXPECT(gbc.readMem(0xd906), 0xcc);
        // C6 0025
        gbc.setState(0xb9e5, 0xc603, 0x81d0, 0xd0f0, 0xf189, 0x957a, 0x0, 0x1);
        gbc.writeMem(0xb9e5, { 0xc6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xc603);
        EXPECT(gbc.pc(), 0xb9e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9e5), 0xc6);
        EXPECT(gbc.readMem(0xb9e6), 0x19);
        // C6 0026
        gbc.setState(0x65bc, 0x1dcd, 0xd4b0, 0x7623, 0x3a53, 0xe867, 0x1, 0x1);
        gbc.writeMem(0x65bc, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x1dcd);
        EXPECT(gbc.pc(), 0x65be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0027
        gbc.setState(0xb2f0, 0x4af2, 0x4b90, 0x9f0a, 0x33f1, 0xf603, 0x1, 0x1);
        gbc.writeMem(0xb2f0, { 0xc6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x4af2);
        EXPECT(gbc.pc(), 0xb2f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2f0), 0xc6);
        EXPECT(gbc.readMem(0xb2f1), 0x18);
        // C6 0028
        gbc.setState(0x1196, 0xd2ca, 0x390, 0x12d7, 0xe0aa, 0xa6ad, 0x1, 0x0);
        gbc.writeMem(0x1196, { 0xc6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xd2ca);
        EXPECT(gbc.pc(), 0x1198);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0029
        gbc.setState(0x390f, 0xbf1b, 0xcbd0, 0x2c5f, 0x46ff, 0x35b8, 0x0, 0x1);
        gbc.writeMem(0x390f, { 0xc6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xbf1b);
        EXPECT(gbc.pc(), 0x3911);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 002B
        gbc.setState(0x994, 0x9337, 0x9440, 0x3be5, 0x52fe, 0x8672, 0x1, 0x1);
        gbc.writeMem(0x994, { 0xc6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x9337);
        EXPECT(gbc.pc(), 0x996);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 002C
        gbc.setState(0x45c5, 0xec58, 0x10f0, 0xe23d, 0x79ac, 0x6c55, 0x0, 0x1);
        gbc.writeMem(0x45c5, { 0xc6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xec58);
        EXPECT(gbc.pc(), 0x45c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 002D
        gbc.setState(0xe544, 0x76a1, 0xf230, 0x8820, 0x1379, 0x5bd0, 0x1, 0x1);
        gbc.writeMem(0xe544, { 0xc6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x76a1);
        EXPECT(gbc.pc(), 0xe546);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe544), 0xc6);
        EXPECT(gbc.readMem(0xe545), 0xc4);
        // C6 002E
        gbc.setState(0xd8fd, 0xfc07, 0xf970, 0x718e, 0xbed3, 0xc155, 0x0, 0x0);
        gbc.writeMem(0xd8fd, { 0xc6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xfc07);
        EXPECT(gbc.pc(), 0xd8ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8fd), 0xc6);
        EXPECT(gbc.readMem(0xd8fe), 0x8b);
        // C6 002F
        gbc.setState(0xb015, 0xd808, 0xc7c0, 0xe9a0, 0xd4bf, 0x7517, 0x0, 0x0);
        gbc.writeMem(0xb015, { 0xc6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xd808);
        EXPECT(gbc.pc(), 0xb017);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb015), 0xc6);
        EXPECT(gbc.readMem(0xb016), 0xe0);
        // C6 0030
        gbc.setState(0x7333, 0x3b59, 0xce80, 0x6896, 0x85ae, 0x4a2f, 0x1, 0x0);
        gbc.writeMem(0x7333, { 0xc6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x3b59);
        EXPECT(gbc.pc(), 0x7335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0031
        gbc.setState(0xc772, 0x497f, 0x3960, 0x4342, 0xaae7, 0x45a9, 0x0, 0x1);
        gbc.writeMem(0xc772, { 0xc6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x497f);
        EXPECT(gbc.pc(), 0xc774);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc772), 0xc6);
        EXPECT(gbc.readMem(0xc773), 0x95);
        // C6 0032
        gbc.setState(0x86ab, 0x685, 0x6550, 0xcc29, 0xd148, 0x9b34, 0x0, 0x1);
        gbc.writeMem(0x86ab, { 0xc6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x685);
        EXPECT(gbc.pc(), 0x86ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86ab), 0xc6);
        EXPECT(gbc.readMem(0x86ac), 0x1f);
        // C6 0033
        gbc.setState(0x3329, 0xf0c0, 0x45a0, 0x71ca, 0x7b7e, 0xb017, 0x0, 0x0);
        gbc.writeMem(0x3329, { 0xc6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf0c0);
        EXPECT(gbc.pc(), 0x332b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0034
        gbc.setState(0x8245, 0x2db6, 0x3a0, 0x72b, 0xb2fa, 0xda3e, 0x0, 0x0);
        gbc.writeMem(0x8245, { 0xc6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2db6);
        EXPECT(gbc.pc(), 0x8247);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8245), 0xc6);
        EXPECT(gbc.readMem(0x8246), 0x11);
        // C6 0035
        gbc.setState(0x7423, 0x4447, 0xa9a0, 0x1c98, 0x8561, 0x8c6, 0x1, 0x1);
        gbc.writeMem(0x7423, { 0xc6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4447);
        EXPECT(gbc.pc(), 0x7425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0037
        gbc.setState(0xef10, 0x3149, 0xd870, 0x57a3, 0x80a, 0xe128, 0x0, 0x1);
        gbc.writeMem(0xef10, { 0xc6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3149);
        EXPECT(gbc.pc(), 0xef12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef10), 0xc6);
        EXPECT(gbc.readMem(0xef11), 0x2f);
        // C6 0038
        gbc.setState(0xc6a3, 0xca96, 0x1b40, 0x7c66, 0xee90, 0xc72a, 0x1, 0x1);
        gbc.writeMem(0xc6a3, { 0xc6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xca96);
        EXPECT(gbc.pc(), 0xc6a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a3), 0xc6);
        EXPECT(gbc.readMem(0xc6a4), 0x17);
        // C6 0039
        gbc.setState(0xb4e0, 0x8e81, 0x5d50, 0xa739, 0xd6f2, 0x82b9, 0x1, 0x1);
        gbc.writeMem(0xb4e0, { 0xc6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x8e81);
        EXPECT(gbc.pc(), 0xb4e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e0), 0xc6);
        EXPECT(gbc.readMem(0xb4e1), 0x32);
        // C6 003B
        gbc.setState(0xb878, 0x6961, 0xcd40, 0x1c7b, 0xefe8, 0x2112, 0x1, 0x1);
        gbc.writeMem(0xb878, { 0xc6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x6961);
        EXPECT(gbc.pc(), 0xb87a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb878), 0xc6);
        EXPECT(gbc.readMem(0xb879), 0x71);
        // C6 003C
        gbc.setState(0xce44, 0x3a7b, 0x7ad0, 0xc273, 0x81ff, 0x63d4, 0x0, 0x1);
        gbc.writeMem(0xce44, { 0xc6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3a7b);
        EXPECT(gbc.pc(), 0xce46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce44), 0xc6);
        EXPECT(gbc.readMem(0xce45), 0x9b);
        // C6 003D
        gbc.setState(0xa8c2, 0x9c21, 0xbce0, 0x2c59, 0x7354, 0xa883, 0x1, 0x1);
        gbc.writeMem(0xa8c2, { 0xc6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9c21);
        EXPECT(gbc.pc(), 0xa8c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8c2), 0xc6);
        EXPECT(gbc.readMem(0xa8c3), 0xe8);
        // C6 003F
        gbc.setState(0x529c, 0x53e0, 0xeb50, 0x8764, 0x7ce8, 0xd77, 0x1, 0x1);
        gbc.writeMem(0x529c, { 0xc6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x53e0);
        EXPECT(gbc.pc(), 0x529e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0040
        gbc.setState(0xbec7, 0x4591, 0xd840, 0x4e9e, 0x1758, 0x4065, 0x1, 0x1);
        gbc.writeMem(0xbec7, { 0xc6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4591);
        EXPECT(gbc.pc(), 0xbec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbec7), 0xc6);
        EXPECT(gbc.readMem(0xbec8), 0x6e);
        // C6 0041
        gbc.setState(0x4dc1, 0x3ef8, 0xab90, 0x9c09, 0x4b36, 0xe0b2, 0x0, 0x1);
        gbc.writeMem(0x4dc1, { 0xc6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x3ef8);
        EXPECT(gbc.pc(), 0x4dc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0042
        gbc.setState(0xb4dc, 0x20fd, 0x1a40, 0xc2a8, 0x3557, 0x1c51, 0x1, 0x0);
        gbc.writeMem(0xb4dc, { 0xc6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x20fd);
        EXPECT(gbc.pc(), 0xb4de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4dc), 0xc6);
        EXPECT(gbc.readMem(0xb4dd), 0x0);
        // C6 0043
        gbc.setState(0x2103, 0x102, 0xc3d0, 0x9958, 0x61d, 0x9073, 0x0, 0x0);
        gbc.writeMem(0x2103, { 0xc6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x102);
        EXPECT(gbc.pc(), 0x2105);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0044
        gbc.setState(0x10be, 0x7cdf, 0x380, 0x3403, 0xab4c, 0xe9a1, 0x0, 0x0);
        gbc.writeMem(0x10be, { 0xc6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7cdf);
        EXPECT(gbc.pc(), 0x10c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0045
        gbc.setState(0x6f08, 0x710, 0x7650, 0x6603, 0x15b2, 0xd843, 0x1, 0x1);
        gbc.writeMem(0x6f08, { 0xc6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x710);
        EXPECT(gbc.pc(), 0x6f0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0046
        gbc.setState(0xee65, 0x5150, 0x7f70, 0x9b99, 0x5780, 0x7dbf, 0x1, 0x0);
        gbc.writeMem(0xee65, { 0xc6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5150);
        EXPECT(gbc.pc(), 0xee67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee65), 0xc6);
        EXPECT(gbc.readMem(0xee66), 0x57);
        // C6 0047
        gbc.setState(0x4683, 0xdf37, 0x4f90, 0x334c, 0x8492, 0xbcb2, 0x0, 0x1);
        gbc.writeMem(0x4683, { 0xc6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xdf37);
        EXPECT(gbc.pc(), 0x4685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0048
        gbc.setState(0x4157, 0xd727, 0xc3c0, 0x7203, 0xeb82, 0x836b, 0x1, 0x1);
        gbc.writeMem(0x4157, { 0xc6, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xd727);
        EXPECT(gbc.pc(), 0x4159);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0049
        gbc.setState(0x804d, 0xaabc, 0x6da0, 0xce82, 0xe02f, 0xbaa4, 0x1, 0x1);
        gbc.writeMem(0x804d, { 0xc6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xaabc);
        EXPECT(gbc.pc(), 0x804f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x804d), 0xc6);
        EXPECT(gbc.readMem(0x804e), 0xc4);
        // C6 004A
        gbc.setState(0xb29d, 0x3c65, 0x8600, 0x9e5, 0xe302, 0xf18, 0x0, 0x1);
        gbc.writeMem(0xb29d, { 0xc6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x3c65);
        EXPECT(gbc.pc(), 0xb29f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb29d), 0xc6);
        EXPECT(gbc.readMem(0xb29e), 0xc2);
        // C6 004B
        gbc.setState(0x9284, 0x52a8, 0x4f30, 0xfd09, 0xdcb0, 0xcfa0, 0x0, 0x0);
        gbc.writeMem(0x9284, { 0xc6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x52a8);
        EXPECT(gbc.pc(), 0x9286);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9284), 0xc6);
        EXPECT(gbc.readMem(0x9285), 0xd0);
        // C6 004C
        gbc.setState(0x222d, 0xf80f, 0x6f10, 0x357d, 0xfc4c, 0x1194, 0x0, 0x1);
        gbc.writeMem(0x222d, { 0xc6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf80f);
        EXPECT(gbc.pc(), 0x222f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 004D
        gbc.setState(0xc8b1, 0xd8e8, 0x5950, 0x370e, 0x3f2b, 0xbd69, 0x1, 0x1);
        gbc.writeMem(0xc8b1, { 0xc6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd8e8);
        EXPECT(gbc.pc(), 0xc8b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b1), 0xc6);
        EXPECT(gbc.readMem(0xc8b2), 0xb2);
        // C6 004E
        gbc.setState(0x65d4, 0x1841, 0xbce0, 0xc17a, 0x5588, 0x4aa0, 0x0, 0x1);
        gbc.writeMem(0x65d4, { 0xc6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1841);
        EXPECT(gbc.pc(), 0x65d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 004F
        gbc.setState(0xe1bd, 0x8fac, 0x8fc0, 0x2937, 0x94bf, 0xec52, 0x0, 0x1);
        gbc.writeMem(0xe1bd, { 0xc6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x8fac);
        EXPECT(gbc.pc(), 0xe1bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1bd), 0xc6);
        EXPECT(gbc.readMem(0xe1be), 0x44);
        // C6 0050
        gbc.setState(0x141a, 0xfe1f, 0xace0, 0xbdcc, 0xc0df, 0xa99d, 0x1, 0x1);
        gbc.writeMem(0x141a, { 0xc6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xfe1f);
        EXPECT(gbc.pc(), 0x141c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0051
        gbc.setState(0x7495, 0xaec9, 0x2bc0, 0x51e3, 0xb283, 0xa601, 0x1, 0x1);
        gbc.writeMem(0x7495, { 0xc6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xaec9);
        EXPECT(gbc.pc(), 0x7497);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0052
        gbc.setState(0x68ca, 0xcf08, 0xa3c0, 0xc8c0, 0x7252, 0xa703, 0x0, 0x1);
        gbc.writeMem(0x68ca, { 0xc6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xcf08);
        EXPECT(gbc.pc(), 0x68cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0053
        gbc.setState(0xd9bc, 0x4d47, 0x3700, 0x5054, 0xceb1, 0x74cf, 0x0, 0x1);
        gbc.writeMem(0xd9bc, { 0xc6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4d47);
        EXPECT(gbc.pc(), 0xd9be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9bc), 0xc6);
        EXPECT(gbc.readMem(0xd9bd), 0xb7);
        // C6 0054
        gbc.setState(0xdffc, 0x2bea, 0xbf0, 0x5329, 0xe62, 0x66b1, 0x0, 0x1);
        gbc.writeMem(0xdffc, { 0xc6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2bea);
        EXPECT(gbc.pc(), 0xdffe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdffc), 0xc6);
        EXPECT(gbc.readMem(0xdffd), 0x10);
        // C6 0055
        gbc.setState(0x5a72, 0x25f8, 0x7ec0, 0xaba0, 0xc21b, 0xc7d7, 0x0, 0x0);
        gbc.writeMem(0x5a72, { 0xc6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x25f8);
        EXPECT(gbc.pc(), 0x5a74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0056
        gbc.setState(0xd845, 0x18f5, 0x74a0, 0x922e, 0xe73a, 0x4f81, 0x0, 0x0);
        gbc.writeMem(0xd845, { 0xc6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x18f5);
        EXPECT(gbc.pc(), 0xd847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd845), 0xc6);
        EXPECT(gbc.readMem(0xd846), 0xd0);
        // C6 0057
        gbc.setState(0x323d, 0xb94, 0x7330, 0x5434, 0x696b, 0xd59b, 0x0, 0x0);
        gbc.writeMem(0x323d, { 0xc6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb94);
        EXPECT(gbc.pc(), 0x323f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0058
        gbc.setState(0x5fb1, 0x8e5e, 0x2ef0, 0xa09c, 0xde77, 0x4376, 0x0, 0x1);
        gbc.writeMem(0x5fb1, { 0xc6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x8e5e);
        EXPECT(gbc.pc(), 0x5fb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0059
        gbc.setState(0x1381, 0x449c, 0x4bf0, 0x5aed, 0x8cec, 0xce59, 0x0, 0x1);
        gbc.writeMem(0x1381, { 0xc6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x449c);
        EXPECT(gbc.pc(), 0x1383);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 005A
        gbc.setState(0x8cd4, 0x51f7, 0x10a0, 0x90ac, 0x5186, 0xf050, 0x0, 0x1);
        gbc.writeMem(0x8cd4, { 0xc6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x51f7);
        EXPECT(gbc.pc(), 0x8cd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cd4), 0xc6);
        EXPECT(gbc.readMem(0x8cd5), 0x2a);
        // C6 005B
        gbc.setState(0xd41f, 0xa84d, 0xcee0, 0xc2e1, 0xa4a1, 0xd967, 0x1, 0x0);
        gbc.writeMem(0xd41f, { 0xc6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa84d);
        EXPECT(gbc.pc(), 0xd421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd41f), 0xc6);
        EXPECT(gbc.readMem(0xd420), 0xe1);
        // C6 005C
        gbc.setState(0x50b5, 0x7ba6, 0x3060, 0x85a1, 0x3b61, 0x4d49, 0x1, 0x0);
        gbc.writeMem(0x50b5, { 0xc6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x7ba6);
        EXPECT(gbc.pc(), 0x50b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 005D
        gbc.setState(0x6583, 0x3ab7, 0x4c10, 0x6358, 0x4b5, 0x384b, 0x1, 0x0);
        gbc.writeMem(0x6583, { 0xc6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3ab7);
        EXPECT(gbc.pc(), 0x6585);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 005E
        gbc.setState(0x5551, 0xf86a, 0x50b0, 0xbec, 0xe7b8, 0x1c88, 0x0, 0x0);
        gbc.writeMem(0x5551, { 0xc6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xf86a);
        EXPECT(gbc.pc(), 0x5553);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 005F
        gbc.setState(0x81c8, 0x479e, 0x3690, 0x2d83, 0x129, 0xfeaf, 0x0, 0x1);
        gbc.writeMem(0x81c8, { 0xc6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x479e);
        EXPECT(gbc.pc(), 0x81ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c8), 0xc6);
        EXPECT(gbc.readMem(0x81c9), 0x5f);
        // C6 0060
        gbc.setState(0x5037, 0x36db, 0x97f0, 0xc130, 0xcca2, 0x7d4f, 0x0, 0x0);
        gbc.writeMem(0x5037, { 0xc6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x36db);
        EXPECT(gbc.pc(), 0x5039);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0061
        gbc.setState(0x1b9f, 0x66be, 0x8400, 0xebdd, 0x6c9, 0xc386, 0x0, 0x0);
        gbc.writeMem(0x1b9f, { 0xc6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x66be);
        EXPECT(gbc.pc(), 0x1ba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0062
        gbc.setState(0x3d6e, 0x68a1, 0x5f60, 0xf89b, 0xfcd, 0x78fc, 0x0, 0x0);
        gbc.writeMem(0x3d6e, { 0xc6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x68a1);
        EXPECT(gbc.pc(), 0x3d70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0063
        gbc.setState(0xc487, 0x9819, 0xb8a0, 0xa541, 0x3f5f, 0x9a26, 0x0, 0x1);
        gbc.writeMem(0xc487, { 0xc6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x9819);
        EXPECT(gbc.pc(), 0xc489);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc487), 0xc6);
        EXPECT(gbc.readMem(0xc488), 0xae);
        // C6 0064
        gbc.setState(0x672c, 0x5400, 0x3a30, 0xee20, 0xe7fc, 0xafc6, 0x1, 0x0);
        gbc.writeMem(0x672c, { 0xc6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5400);
        EXPECT(gbc.pc(), 0x672e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0065
        gbc.setState(0xb037, 0x7374, 0x9a20, 0x3227, 0x1028, 0x30fd, 0x1, 0x0);
        gbc.writeMem(0xb037, { 0xc6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7374);
        EXPECT(gbc.pc(), 0xb039);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb037), 0xc6);
        EXPECT(gbc.readMem(0xb038), 0xe9);
        // C6 0066
        gbc.setState(0x5a50, 0x9ec8, 0xa7a0, 0x9706, 0x62fb, 0x3629, 0x1, 0x0);
        gbc.writeMem(0x5a50, { 0xc6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x9ec8);
        EXPECT(gbc.pc(), 0x5a52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0067
        gbc.setState(0x2043, 0x254b, 0x84a0, 0x4236, 0xe152, 0x5c6c, 0x1, 0x0);
        gbc.writeMem(0x2043, { 0xc6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x254b);
        EXPECT(gbc.pc(), 0x2045);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0068
        gbc.setState(0x64a, 0xf039, 0xe0c0, 0x12fd, 0x5bc, 0x3763, 0x1, 0x1);
        gbc.writeMem(0x64a, { 0xc6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf039);
        EXPECT(gbc.pc(), 0x64c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0069
        gbc.setState(0x4a7e, 0x7bbe, 0x5130, 0x5ae5, 0xb499, 0x9e0b, 0x0, 0x1);
        gbc.writeMem(0x4a7e, { 0xc6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x7bbe);
        EXPECT(gbc.pc(), 0x4a80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 006A
        gbc.setState(0x59f, 0x86dd, 0xed0, 0x75cb, 0x43e1, 0xd464, 0x1, 0x0);
        gbc.writeMem(0x59f, { 0xc6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x86dd);
        EXPECT(gbc.pc(), 0x5a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 006B
        gbc.setState(0x526e, 0xfb7c, 0x2f00, 0x61af, 0xc614, 0xb4d8, 0x0, 0x1);
        gbc.writeMem(0x526e, { 0xc6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xfb7c);
        EXPECT(gbc.pc(), 0x5270);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 006C
        gbc.setState(0x91aa, 0x1a20, 0x5f40, 0x3179, 0xc559, 0x6654, 0x1, 0x1);
        gbc.writeMem(0x91aa, { 0xc6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x1a20);
        EXPECT(gbc.pc(), 0x91ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91aa), 0xc6);
        EXPECT(gbc.readMem(0x91ab), 0x7f);
        // C6 006D
        gbc.setState(0xedde, 0xb81d, 0xcc0, 0xc6c, 0xb010, 0xe0fc, 0x0, 0x0);
        gbc.writeMem(0xedde, { 0xc6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb81d);
        EXPECT(gbc.pc(), 0xede0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedde), 0xc6);
        EXPECT(gbc.readMem(0xeddf), 0x4f);
        // C6 006E
        gbc.setState(0x13c, 0xfdc2, 0xbe30, 0x2eb, 0xc64a, 0x5033, 0x0, 0x1);
        gbc.writeMem(0x13c, { 0xc6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xfdc2);
        EXPECT(gbc.pc(), 0x13e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 006F
        gbc.setState(0x1b91, 0x5552, 0x14c0, 0x6c9e, 0xa7e3, 0x74a5, 0x1, 0x1);
        gbc.writeMem(0x1b91, { 0xc6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5552);
        EXPECT(gbc.pc(), 0x1b93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0070
        gbc.setState(0x1206, 0x3fe3, 0x6b50, 0x35e8, 0xd4e6, 0x8634, 0x0, 0x0);
        gbc.writeMem(0x1206, { 0xc6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3fe3);
        EXPECT(gbc.pc(), 0x1208);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0071
        gbc.setState(0xe930, 0xd8b4, 0xd220, 0x504c, 0x2c05, 0x4718, 0x1, 0x0);
        gbc.writeMem(0xe930, { 0xc6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xd8b4);
        EXPECT(gbc.pc(), 0xe932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe930), 0xc6);
        EXPECT(gbc.readMem(0xe931), 0xc5);
        // C6 0072
        gbc.setState(0x2db9, 0xc2f9, 0x4310, 0x8bcf, 0x847, 0xc4ee, 0x0, 0x0);
        gbc.writeMem(0x2db9, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xc2f9);
        EXPECT(gbc.pc(), 0x2dbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0073
        gbc.setState(0x269a, 0xd42b, 0x8e0, 0x80d6, 0x8067, 0x6890, 0x1, 0x1);
        gbc.writeMem(0x269a, { 0xc6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xd42b);
        EXPECT(gbc.pc(), 0x269c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0074
        gbc.setState(0x2f9, 0xc5d9, 0x1cc0, 0x7df4, 0xbcb9, 0xe874, 0x0, 0x0);
        gbc.writeMem(0x2f9, { 0xc6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc5d9);
        EXPECT(gbc.pc(), 0x2fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0075
        gbc.setState(0x171b, 0xbe1d, 0x41b0, 0x6a2c, 0x4333, 0xad98, 0x0, 0x0);
        gbc.writeMem(0x171b, { 0xc6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xbe1d);
        EXPECT(gbc.pc(), 0x171d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0076
        gbc.setState(0xb107, 0x127f, 0xe6a0, 0x6a86, 0x11a3, 0x90ff, 0x1, 0x0);
        gbc.writeMem(0xb107, { 0xc6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x127f);
        EXPECT(gbc.pc(), 0xb109);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb107), 0xc6);
        EXPECT(gbc.readMem(0xb108), 0xbe);
        // C6 0077
        gbc.setState(0xaf95, 0xc956, 0xb980, 0x8d3b, 0x94eb, 0xeb40, 0x0, 0x0);
        gbc.writeMem(0xaf95, { 0xc6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xc956);
        EXPECT(gbc.pc(), 0xaf97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf95), 0xc6);
        EXPECT(gbc.readMem(0xaf96), 0x26);
        // C6 0078
        gbc.setState(0x27e8, 0xe1c9, 0xf8e0, 0xa6f2, 0x5a31, 0x3600, 0x1, 0x1);
        gbc.writeMem(0x27e8, { 0xc6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe1c9);
        EXPECT(gbc.pc(), 0x27ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0079
        gbc.setState(0x937d, 0x57bd, 0xd5d0, 0x604a, 0x1c9f, 0xf244, 0x0, 0x0);
        gbc.writeMem(0x937d, { 0xc6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x57bd);
        EXPECT(gbc.pc(), 0x937f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x937d), 0xc6);
        EXPECT(gbc.readMem(0x937e), 0x6b);
        // C6 007A
        gbc.setState(0x8628, 0x3b7e, 0xedf0, 0x30e9, 0x508d, 0x5ba4, 0x1, 0x1);
        gbc.writeMem(0x8628, { 0xc6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x3b7e);
        EXPECT(gbc.pc(), 0x862a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8628), 0xc6);
        EXPECT(gbc.readMem(0x8629), 0xb9);
        // C6 007B
        gbc.setState(0xc1b8, 0xd420, 0xa0e0, 0x93d4, 0xcebe, 0xca86, 0x0, 0x1);
        gbc.writeMem(0xc1b8, { 0xc6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd420);
        EXPECT(gbc.pc(), 0xc1ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1b8), 0xc6);
        EXPECT(gbc.readMem(0xc1b9), 0x90);
        // C6 007C
        gbc.setState(0x7cb0, 0xdab, 0x1eb0, 0xe8b1, 0xe8d5, 0x8ba6, 0x1, 0x1);
        gbc.writeMem(0x7cb0, { 0xc6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xdab);
        EXPECT(gbc.pc(), 0x7cb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 007D
        gbc.setState(0xc27f, 0x153d, 0x7340, 0x967f, 0x6090, 0xf4e9, 0x1, 0x0);
        gbc.writeMem(0xc27f, { 0xc6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x153d);
        EXPECT(gbc.pc(), 0xc281);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc27f), 0xc6);
        EXPECT(gbc.readMem(0xc280), 0xb0);
        // C6 007E
        gbc.setState(0x20a2, 0x39a1, 0xc420, 0x7107, 0x5269, 0x6717, 0x1, 0x0);
        gbc.writeMem(0x20a2, { 0xc6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x39a1);
        EXPECT(gbc.pc(), 0x20a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 007F
        gbc.setState(0x935a, 0x4e4a, 0x4e90, 0xc614, 0x18b0, 0xafb5, 0x0, 0x0);
        gbc.writeMem(0x935a, { 0xc6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4e4a);
        EXPECT(gbc.pc(), 0x935c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x935a), 0xc6);
        EXPECT(gbc.readMem(0x935b), 0xbb);
        // C6 0080
        gbc.setState(0x7a2f, 0xf5b9, 0xbbe0, 0xb0b2, 0xe24e, 0x60e6, 0x0, 0x1);
        gbc.writeMem(0x7a2f, { 0xc6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xf5b9);
        EXPECT(gbc.pc(), 0x7a31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0082
        gbc.setState(0xea1e, 0x37ac, 0x3a50, 0xa5e1, 0x1bfb, 0xc61a, 0x0, 0x0);
        gbc.writeMem(0xea1e, { 0xc6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x37ac);
        EXPECT(gbc.pc(), 0xea20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea1e), 0xc6);
        EXPECT(gbc.readMem(0xea1f), 0xd6);
        // C6 0083
        gbc.setState(0x2159, 0x187, 0xf730, 0xfe30, 0xceac, 0x402f, 0x1, 0x0);
        gbc.writeMem(0x2159, { 0xc6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x187);
        EXPECT(gbc.pc(), 0x215b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0084
        gbc.setState(0x44d, 0x9bb8, 0xf060, 0x8e96, 0x5551, 0xdfe0, 0x1, 0x0);
        gbc.writeMem(0x44d, { 0xc6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9bb8);
        EXPECT(gbc.pc(), 0x44f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0085
        gbc.setState(0x7ef6, 0xfd05, 0x7ed0, 0x6a8b, 0x765f, 0x5d2c, 0x1, 0x0);
        gbc.writeMem(0x7ef6, { 0xc6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xfd05);
        EXPECT(gbc.pc(), 0x7ef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0086
        gbc.setState(0x7060, 0x245d, 0xaee0, 0x6b44, 0xe5e1, 0x5873, 0x1, 0x1);
        gbc.writeMem(0x7060, { 0xc6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x245d);
        EXPECT(gbc.pc(), 0x7062);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0087
        gbc.setState(0x8415, 0x99de, 0x22a0, 0x29bf, 0x170e, 0xa4c1, 0x0, 0x1);
        gbc.writeMem(0x8415, { 0xc6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x99de);
        EXPECT(gbc.pc(), 0x8417);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8415), 0xc6);
        EXPECT(gbc.readMem(0x8416), 0x63);
        // C6 0088
        gbc.setState(0x52e7, 0xd5ae, 0x5e60, 0xbf6b, 0xacb3, 0xa684, 0x0, 0x1);
        gbc.writeMem(0x52e7, { 0xc6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xd5ae);
        EXPECT(gbc.pc(), 0x52e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0089
        gbc.setState(0x9403, 0x1e23, 0x8e0, 0x774a, 0xfeec, 0x6265, 0x0, 0x0);
        gbc.writeMem(0x9403, { 0xc6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x1e23);
        EXPECT(gbc.pc(), 0x9405);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9403), 0xc6);
        EXPECT(gbc.readMem(0x9404), 0xe2);
        // C6 008A
        gbc.setState(0x7bb6, 0xfeb2, 0xd490, 0xe1bf, 0x586, 0xc3d5, 0x0, 0x1);
        gbc.writeMem(0x7bb6, { 0xc6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfeb2);
        EXPECT(gbc.pc(), 0x7bb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 008B
        gbc.setState(0xbcf6, 0xd9f9, 0x52e0, 0xaaea, 0xa58d, 0xed84, 0x0, 0x0);
        gbc.writeMem(0xbcf6, { 0xc6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xd9f9);
        EXPECT(gbc.pc(), 0xbcf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcf6), 0xc6);
        EXPECT(gbc.readMem(0xbcf7), 0xa1);
        // C6 008C
        gbc.setState(0x68f7, 0x695, 0xeb00, 0xdec, 0xe8ba, 0x8647, 0x0, 0x1);
        gbc.writeMem(0x68f7, { 0xc6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x695);
        EXPECT(gbc.pc(), 0x68f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 008D
        gbc.setState(0xda41, 0xe6b, 0x2cb0, 0x765c, 0xef0e, 0x194, 0x0, 0x1);
        gbc.writeMem(0xda41, { 0xc6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xe6b);
        EXPECT(gbc.pc(), 0xda43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda41), 0xc6);
        EXPECT(gbc.readMem(0xda42), 0x77);
        // C6 008E
        gbc.setState(0x2751, 0xeb85, 0x3d70, 0x57bf, 0x35b0, 0x5b34, 0x1, 0x1);
        gbc.writeMem(0x2751, { 0xc6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xeb85);
        EXPECT(gbc.pc(), 0x2753);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 008F
        gbc.setState(0x1a35, 0x1c40, 0x29d0, 0x6e37, 0xf110, 0xff1c, 0x0, 0x0);
        gbc.writeMem(0x1a35, { 0xc6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1c40);
        EXPECT(gbc.pc(), 0x1a37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0090
        gbc.setState(0x742f, 0x1ae6, 0xe870, 0xb65, 0x2a81, 0x4010, 0x0, 0x1);
        gbc.writeMem(0x742f, { 0xc6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1ae6);
        EXPECT(gbc.pc(), 0x7431);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0091
        gbc.setState(0x2094, 0xcfc9, 0xa120, 0x4dd7, 0x67cd, 0xcef9, 0x1, 0x0);
        gbc.writeMem(0x2094, { 0xc6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xcfc9);
        EXPECT(gbc.pc(), 0x2096);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0092
        gbc.setState(0xe251, 0x7db6, 0x8c60, 0x38fb, 0xcfe2, 0x81cb, 0x1, 0x0);
        gbc.writeMem(0xe251, { 0xc6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7db6);
        EXPECT(gbc.pc(), 0xe253);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe251), 0xc6);
        EXPECT(gbc.readMem(0xe252), 0xa2);
        // C6 0093
        gbc.setState(0xed07, 0xd469, 0x7a40, 0x3d01, 0xebfc, 0x8596, 0x1, 0x1);
        gbc.writeMem(0xed07, { 0xc6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xd469);
        EXPECT(gbc.pc(), 0xed09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed07), 0xc6);
        EXPECT(gbc.readMem(0xed08), 0x54);
        // C6 0094
        gbc.setState(0xecfc, 0x128b, 0x4f00, 0xd75c, 0xe3ef, 0x9a67, 0x0, 0x1);
        gbc.writeMem(0xecfc, { 0xc6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x128b);
        EXPECT(gbc.pc(), 0xecfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecfc), 0xc6);
        EXPECT(gbc.readMem(0xecfd), 0xd4);
        // C6 0095
        gbc.setState(0xb347, 0xdd55, 0xee40, 0x4dd1, 0x8eec, 0x8cd5, 0x0, 0x1);
        gbc.writeMem(0xb347, { 0xc6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xdd55);
        EXPECT(gbc.pc(), 0xb349);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb347), 0xc6);
        EXPECT(gbc.readMem(0xb348), 0x47);
        // C6 0096
        gbc.setState(0x7c5, 0xae3e, 0x1760, 0x7a5f, 0xe3b1, 0xaa91, 0x0, 0x0);
        gbc.writeMem(0x7c5, { 0xc6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xae3e);
        EXPECT(gbc.pc(), 0x7c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0097
        gbc.setState(0x5d1b, 0x1eea, 0x2d00, 0x8037, 0x13ee, 0xa9da, 0x0, 0x1);
        gbc.writeMem(0x5d1b, { 0xc6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1eea);
        EXPECT(gbc.pc(), 0x5d1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0098
        gbc.setState(0x51a0, 0x9acf, 0xcb80, 0xdb2f, 0x83f4, 0xffb1, 0x1, 0x1);
        gbc.writeMem(0x51a0, { 0xc6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x9acf);
        EXPECT(gbc.pc(), 0x51a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0099
        gbc.setState(0xdfa7, 0xf239, 0xf4b0, 0x58c2, 0xc0af, 0xd2f6, 0x0, 0x0);
        gbc.writeMem(0xdfa7, { 0xc6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf239);
        EXPECT(gbc.pc(), 0xdfa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfa7), 0xc6);
        EXPECT(gbc.readMem(0xdfa8), 0xaa);
        // C6 009B
        gbc.setState(0x3b94, 0xe75a, 0x6e50, 0x37fc, 0xad3e, 0xdcf3, 0x1, 0x0);
        gbc.writeMem(0x3b94, { 0xc6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe75a);
        EXPECT(gbc.pc(), 0x3b96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 009C
        gbc.setState(0xe22f, 0xa4e8, 0xddc0, 0xe8c0, 0x22cf, 0x5e2f, 0x0, 0x0);
        gbc.writeMem(0xe22f, { 0xc6, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xa4e8);
        EXPECT(gbc.pc(), 0xe231);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe22f), 0xc6);
        EXPECT(gbc.readMem(0xe230), 0x29);
        // C6 009D
        gbc.setState(0xd311, 0x68a3, 0x3060, 0x8d23, 0x426a, 0xd0f6, 0x0, 0x1);
        gbc.writeMem(0xd311, { 0xc6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x68a3);
        EXPECT(gbc.pc(), 0xd313);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd311), 0xc6);
        EXPECT(gbc.readMem(0xd312), 0x54);
        // C6 009F
        gbc.setState(0x18e8, 0x9f90, 0xa640, 0x9798, 0x44f5, 0x11fa, 0x1, 0x0);
        gbc.writeMem(0x18e8, { 0xc6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x9f90);
        EXPECT(gbc.pc(), 0x18ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00A0
        gbc.setState(0x7526, 0x5ece, 0x6da0, 0x9409, 0x8808, 0xef26, 0x1, 0x0);
        gbc.writeMem(0x7526, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x5ece);
        EXPECT(gbc.pc(), 0x7528);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00A1
        gbc.setState(0x5f57, 0xf402, 0x2c30, 0x7b85, 0x3920, 0x445d, 0x0, 0x1);
        gbc.writeMem(0x5f57, { 0xc6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf402);
        EXPECT(gbc.pc(), 0x5f59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00A2
        gbc.setState(0x5cfb, 0x8ced, 0xb5f0, 0x1ff4, 0x38ad, 0x920e, 0x1, 0x1);
        gbc.writeMem(0x5cfb, { 0xc6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8ced);
        EXPECT(gbc.pc(), 0x5cfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00A3
        gbc.setState(0xb6ad, 0x3e26, 0x86f0, 0x9977, 0x408a, 0x2666, 0x1, 0x1);
        gbc.writeMem(0xb6ad, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x3e26);
        EXPECT(gbc.pc(), 0xb6af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6ad), 0xc6);
        EXPECT(gbc.readMem(0xb6ae), 0x64);
        // C6 00A4
        gbc.setState(0xad55, 0x28eb, 0x4da0, 0x19a1, 0x6f09, 0x1dee, 0x1, 0x0);
        gbc.writeMem(0xad55, { 0xc6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x28eb);
        EXPECT(gbc.pc(), 0xad57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad55), 0xc6);
        EXPECT(gbc.readMem(0xad56), 0x76);
        // C6 00A5
        gbc.setState(0xb79c, 0x8434, 0xc940, 0xf455, 0x7c95, 0x66bb, 0x1, 0x1);
        gbc.writeMem(0xb79c, { 0xc6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8434);
        EXPECT(gbc.pc(), 0xb79e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb79c), 0xc6);
        EXPECT(gbc.readMem(0xb79d), 0xcf);
        // C6 00A6
        gbc.setState(0xc382, 0xbc8e, 0x10b0, 0x589f, 0x9b28, 0x3228, 0x0, 0x0);
        gbc.writeMem(0xc382, { 0xc6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xbc8e);
        EXPECT(gbc.pc(), 0xc384);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc382), 0xc6);
        EXPECT(gbc.readMem(0xc383), 0x4);
        // C6 00A7
        gbc.setState(0x129c, 0xe7c8, 0x67f0, 0x4e86, 0xe1a8, 0xd192, 0x0, 0x1);
        gbc.writeMem(0x129c, { 0xc6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe7c8);
        EXPECT(gbc.pc(), 0x129e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00A8
        gbc.setState(0x4fb7, 0x7836, 0x5680, 0x48a9, 0xa315, 0xfbeb, 0x0, 0x0);
        gbc.writeMem(0x4fb7, { 0xc6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x7836);
        EXPECT(gbc.pc(), 0x4fb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00A9
        gbc.setState(0x799a, 0xc93b, 0x4d60, 0x4456, 0x9ffb, 0x9e81, 0x1, 0x1);
        gbc.writeMem(0x799a, { 0xc6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc93b);
        EXPECT(gbc.pc(), 0x799c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00AB
        gbc.setState(0x58e3, 0x8ebe, 0x5680, 0xc487, 0x6468, 0xdce5, 0x0, 0x0);
        gbc.writeMem(0x58e3, { 0xc6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x8ebe);
        EXPECT(gbc.pc(), 0x58e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00AC
        gbc.setState(0x1705, 0xdfb0, 0x2be0, 0xfa8a, 0x95b1, 0x6899, 0x0, 0x1);
        gbc.writeMem(0x1705, { 0xc6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xdfb0);
        EXPECT(gbc.pc(), 0x1707);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00AD
        gbc.setState(0xe76, 0xf059, 0x1fd0, 0x2217, 0x6d29, 0xec47, 0x0, 0x1);
        gbc.writeMem(0xe76, { 0xc6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xf059);
        EXPECT(gbc.pc(), 0xe78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00AE
        gbc.setState(0x130a, 0x1204, 0x3590, 0x7b40, 0x8ae9, 0x1779, 0x0, 0x0);
        gbc.writeMem(0x130a, { 0xc6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x1204);
        EXPECT(gbc.pc(), 0x130c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00AF
        gbc.setState(0x9140, 0xbf99, 0xf50, 0xf470, 0xe361, 0xa353, 0x1, 0x0);
        gbc.writeMem(0x9140, { 0xc6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xbf99);
        EXPECT(gbc.pc(), 0x9142);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9140), 0xc6);
        EXPECT(gbc.readMem(0x9141), 0xf6);
        // C6 00B0
        gbc.setState(0x62b7, 0xf5f8, 0x9980, 0xb628, 0x9770, 0xd0c2, 0x1, 0x1);
        gbc.writeMem(0x62b7, { 0xc6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf5f8);
        EXPECT(gbc.pc(), 0x62b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00B1
        gbc.setState(0xdc6c, 0x2f48, 0x3c50, 0x18c, 0xc3b0, 0x6f9, 0x1, 0x1);
        gbc.writeMem(0xdc6c, { 0xc6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2f48);
        EXPECT(gbc.pc(), 0xdc6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc6c), 0xc6);
        EXPECT(gbc.readMem(0xdc6d), 0x57);
        // C6 00B2
        gbc.setState(0xebae, 0x6f7d, 0x9cf0, 0xdf90, 0x67c9, 0x8309, 0x1, 0x1);
        gbc.writeMem(0xebae, { 0xc6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6f7d);
        EXPECT(gbc.pc(), 0xebb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebae), 0xc6);
        EXPECT(gbc.readMem(0xebaf), 0xca);
        // C6 00B3
        gbc.setState(0x568b, 0x3baf, 0x3a0, 0x10b3, 0x9153, 0xb0d0, 0x0, 0x0);
        gbc.writeMem(0x568b, { 0xc6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3baf);
        EXPECT(gbc.pc(), 0x568d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00B4
        gbc.setState(0x4591, 0x983d, 0xa410, 0xb64c, 0xc50b, 0x9f00, 0x0, 0x0);
        gbc.writeMem(0x4591, { 0xc6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x983d);
        EXPECT(gbc.pc(), 0x4593);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00B5
        gbc.setState(0x688b, 0x8d06, 0xdef0, 0xaf32, 0x338e, 0x85a1, 0x0, 0x1);
        gbc.writeMem(0x688b, { 0xc6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8d06);
        EXPECT(gbc.pc(), 0x688d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00B6
        gbc.setState(0xc7b0, 0x44f4, 0xe290, 0xa581, 0xf7bd, 0xbddd, 0x0, 0x0);
        gbc.writeMem(0xc7b0, { 0xc6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x44f4);
        EXPECT(gbc.pc(), 0xc7b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7b0), 0xc6);
        EXPECT(gbc.readMem(0xc7b1), 0x2e);
        // C6 00B7
        gbc.setState(0xd3a9, 0xd68, 0xec60, 0x640e, 0x4153, 0xbc30, 0x0, 0x0);
        gbc.writeMem(0xd3a9, { 0xc6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd68);
        EXPECT(gbc.pc(), 0xd3ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3a9), 0xc6);
        EXPECT(gbc.readMem(0xd3aa), 0x7f);
        // C6 00B8
        gbc.setState(0x6184, 0x8461, 0x2550, 0x77aa, 0xf984, 0x686b, 0x0, 0x1);
        gbc.writeMem(0x6184, { 0xc6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8461);
        EXPECT(gbc.pc(), 0x6186);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00B9
        gbc.setState(0xe5a2, 0x9e53, 0x46a0, 0xf280, 0x6661, 0x8de4, 0x1, 0x0);
        gbc.writeMem(0xe5a2, { 0xc6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9e53);
        EXPECT(gbc.pc(), 0xe5a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5a2), 0xc6);
        EXPECT(gbc.readMem(0xe5a3), 0xf1);
        // C6 00BA
        gbc.setState(0x5b7a, 0x98f8, 0x600, 0xdc4e, 0x710b, 0xd363, 0x1, 0x1);
        gbc.writeMem(0x5b7a, { 0xc6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x98f8);
        EXPECT(gbc.pc(), 0x5b7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00BB
        gbc.setState(0x489a, 0xe048, 0x5e50, 0x4ae3, 0x5387, 0x454c, 0x0, 0x0);
        gbc.writeMem(0x489a, { 0xc6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe048);
        EXPECT(gbc.pc(), 0x489c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00BC
        gbc.setState(0x2a76, 0x74bc, 0x1850, 0x84e9, 0x8ab0, 0xc965, 0x1, 0x1);
        gbc.writeMem(0x2a76, { 0xc6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x74bc);
        EXPECT(gbc.pc(), 0x2a78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00BD
        gbc.setState(0xa572, 0x9100, 0xe030, 0x69d8, 0x11db, 0xde81, 0x0, 0x1);
        gbc.writeMem(0xa572, { 0xc6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9100);
        EXPECT(gbc.pc(), 0xa574);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa572), 0xc6);
        EXPECT(gbc.readMem(0xa573), 0xf5);
        // C6 00BE
        gbc.setState(0xa407, 0x25c7, 0x3190, 0xa584, 0xb852, 0xb4ef, 0x0, 0x1);
        gbc.writeMem(0xa407, { 0xc6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x25c7);
        EXPECT(gbc.pc(), 0xa409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa407), 0xc6);
        EXPECT(gbc.readMem(0xa408), 0xad);
        // C6 00BF
        gbc.setState(0x92f1, 0x9ae5, 0x5c30, 0x6c01, 0x187e, 0x9671, 0x0, 0x0);
        gbc.writeMem(0x92f1, { 0xc6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x9ae5);
        EXPECT(gbc.pc(), 0x92f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92f1), 0xc6);
        EXPECT(gbc.readMem(0x92f2), 0xee);
        // C6 00C0
        gbc.setState(0xc31c, 0xaeb4, 0x72b0, 0x4e4f, 0x2873, 0xe030, 0x1, 0x1);
        gbc.writeMem(0xc31c, { 0xc6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xaeb4);
        EXPECT(gbc.pc(), 0xc31e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc31c), 0xc6);
        EXPECT(gbc.readMem(0xc31d), 0x37);
        // C6 00C1
        gbc.setState(0xcdc9, 0x81cd, 0xad80, 0x2418, 0x24f0, 0x8b9f, 0x1, 0x1);
        gbc.writeMem(0xcdc9, { 0xc6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x81cd);
        EXPECT(gbc.pc(), 0xcdcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdc9), 0xc6);
        EXPECT(gbc.readMem(0xcdca), 0x9b);
        // C6 00C2
        gbc.setState(0x38bb, 0x7d69, 0xa3e0, 0x62a8, 0xc5e4, 0x6d92, 0x0, 0x0);
        gbc.writeMem(0x38bb, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x7d69);
        EXPECT(gbc.pc(), 0x38bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00C3
        gbc.setState(0xcd7c, 0x4d34, 0x1320, 0xf7e8, 0x9f2f, 0xc7ed, 0x0, 0x0);
        gbc.writeMem(0xcd7c, { 0xc6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4d34);
        EXPECT(gbc.pc(), 0xcd7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd7c), 0xc6);
        EXPECT(gbc.readMem(0xcd7d), 0xae);
        // C6 00C4
        gbc.setState(0x670e, 0x38ea, 0x2440, 0xe6da, 0x35ed, 0x966b, 0x0, 0x1);
        gbc.writeMem(0x670e, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x38ea);
        EXPECT(gbc.pc(), 0x6710);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00C6
        gbc.setState(0x4651, 0xd602, 0xca80, 0x8944, 0xe869, 0xa3eb, 0x0, 0x0);
        gbc.writeMem(0x4651, { 0xc6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xd602);
        EXPECT(gbc.pc(), 0x4653);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00C7
        gbc.setState(0x3a5f, 0x81b6, 0x7350, 0xe42a, 0xa4f2, 0x44b6, 0x0, 0x0);
        gbc.writeMem(0x3a5f, { 0xc6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x81b6);
        EXPECT(gbc.pc(), 0x3a61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00C8
        gbc.setState(0xa240, 0x190d, 0xf240, 0x2dc4, 0x3605, 0x7b5b, 0x1, 0x0);
        gbc.writeMem(0xa240, { 0xc6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x190d);
        EXPECT(gbc.pc(), 0xa242);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa240), 0xc6);
        EXPECT(gbc.readMem(0xa241), 0x65);
        // C6 00C9
        gbc.setState(0xd8e6, 0xc7e2, 0x8b10, 0xb76f, 0x361f, 0x40a4, 0x1, 0x0);
        gbc.writeMem(0xd8e6, { 0xc6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc7e2);
        EXPECT(gbc.pc(), 0xd8e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8e6), 0xc6);
        EXPECT(gbc.readMem(0xd8e7), 0x86);
        // C6 00CA
        gbc.setState(0xa9b4, 0xb4c1, 0x74c0, 0x9544, 0xb63a, 0x70b8, 0x1, 0x1);
        gbc.writeMem(0xa9b4, { 0xc6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xb4c1);
        EXPECT(gbc.pc(), 0xa9b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9b4), 0xc6);
        EXPECT(gbc.readMem(0xa9b5), 0xe8);
        // C6 00CB
        gbc.setState(0x8a08, 0x85f2, 0xe100, 0x14dc, 0x860a, 0xd0b8, 0x0, 0x0);
        gbc.writeMem(0x8a08, { 0xc6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x85f2);
        EXPECT(gbc.pc(), 0x8a0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a08), 0xc6);
        EXPECT(gbc.readMem(0x8a09), 0xdb);
        // C6 00CD
        gbc.setState(0x356c, 0xaa69, 0x3a20, 0x662, 0xe7df, 0x6b38, 0x0, 0x1);
        gbc.writeMem(0x356c, { 0xc6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xaa69);
        EXPECT(gbc.pc(), 0x356e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00CE
        gbc.setState(0x4a9f, 0x3634, 0x830, 0x3bdf, 0xcfb6, 0x3220, 0x1, 0x1);
        gbc.writeMem(0x4a9f, { 0xc6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x3634);
        EXPECT(gbc.pc(), 0x4aa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00CF
        gbc.setState(0x9b89, 0x7870, 0x6bb0, 0x35f2, 0x99ec, 0x323c, 0x1, 0x0);
        gbc.writeMem(0x9b89, { 0xc6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x7870);
        EXPECT(gbc.pc(), 0x9b8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b89), 0xc6);
        EXPECT(gbc.readMem(0x9b8a), 0xe8);
        // C6 00D0
        gbc.setState(0x491b, 0x7779, 0xe710, 0x24ef, 0xef7, 0x7b1, 0x1, 0x1);
        gbc.writeMem(0x491b, { 0xc6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7779);
        EXPECT(gbc.pc(), 0x491d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00D1
        gbc.setState(0x56d8, 0x60f4, 0xbd60, 0x5299, 0xc59e, 0x4c73, 0x0, 0x0);
        gbc.writeMem(0x56d8, { 0xc6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x60f4);
        EXPECT(gbc.pc(), 0x56da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00D2
        gbc.setState(0x89cc, 0x6d4d, 0xd760, 0xf02e, 0x9f76, 0x1b32, 0x1, 0x1);
        gbc.writeMem(0x89cc, { 0xc6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x6d4d);
        EXPECT(gbc.pc(), 0x89ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89cc), 0xc6);
        EXPECT(gbc.readMem(0x89cd), 0xdf);
        // C6 00D3
        gbc.setState(0x5847, 0x5e9d, 0x9a20, 0xb12c, 0x8a8c, 0x1b1f, 0x0, 0x0);
        gbc.writeMem(0x5847, { 0xc6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5e9d);
        EXPECT(gbc.pc(), 0x5849);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00D4
        gbc.setState(0x1069, 0x4bf6, 0x7cb0, 0x5a0c, 0x300b, 0x769, 0x0, 0x1);
        gbc.writeMem(0x1069, { 0xc6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x4bf6);
        EXPECT(gbc.pc(), 0x106b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00D5
        gbc.setState(0x55a6, 0x3fbe, 0xea60, 0xec63, 0xe73e, 0x782d, 0x1, 0x0);
        gbc.writeMem(0x55a6, { 0xc6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x3fbe);
        EXPECT(gbc.pc(), 0x55a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00D6
        gbc.setState(0x250f, 0x5319, 0xf4e0, 0x4481, 0x453e, 0xd4, 0x1, 0x0);
        gbc.writeMem(0x250f, { 0xc6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5319);
        EXPECT(gbc.pc(), 0x2511);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00D7
        gbc.setState(0x291e, 0x3a98, 0xe140, 0xfb7f, 0x70ec, 0xab7, 0x0, 0x0);
        gbc.writeMem(0x291e, { 0xc6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x3a98);
        EXPECT(gbc.pc(), 0x2920);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00D8
        gbc.setState(0xc2ad, 0xced2, 0x4670, 0xbcb2, 0xcdc3, 0xa4b4, 0x0, 0x0);
        gbc.writeMem(0xc2ad, { 0xc6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xced2);
        EXPECT(gbc.pc(), 0xc2af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2ad), 0xc6);
        EXPECT(gbc.readMem(0xc2ae), 0x80);
        // C6 00D9
        gbc.setState(0x7a26, 0xa55f, 0x2b40, 0xd30, 0x1ce4, 0x10e7, 0x0, 0x0);
        gbc.writeMem(0x7a26, { 0xc6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa55f);
        EXPECT(gbc.pc(), 0x7a28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00DA
        gbc.setState(0x2deb, 0x747e, 0xa6e0, 0x4566, 0x290f, 0xf436, 0x0, 0x0);
        gbc.writeMem(0x2deb, { 0xc6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x747e);
        EXPECT(gbc.pc(), 0x2ded);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00DB
        gbc.setState(0x146, 0x1bde, 0xe810, 0x2b6e, 0xd8c3, 0x5cc2, 0x0, 0x0);
        gbc.writeMem(0x146, { 0xc6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1bde);
        EXPECT(gbc.pc(), 0x148);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00DC
        gbc.setState(0xc24d, 0x1825, 0x33c0, 0x2ac0, 0x5e22, 0xba98, 0x1, 0x1);
        gbc.writeMem(0xc24d, { 0xc6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1825);
        EXPECT(gbc.pc(), 0xc24f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc24d), 0xc6);
        EXPECT(gbc.readMem(0xc24e), 0x12);
        // C6 00DD
        gbc.setState(0x727e, 0x800f, 0xd0b0, 0x9a2, 0xf8d9, 0x9ea1, 0x0, 0x1);
        gbc.writeMem(0x727e, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x800f);
        EXPECT(gbc.pc(), 0x7280);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00DE
        gbc.setState(0x10c5, 0xac4, 0xfd0, 0x8dc7, 0xe134, 0xa558, 0x1, 0x1);
        gbc.writeMem(0x10c5, { 0xc6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xac4);
        EXPECT(gbc.pc(), 0x10c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00E0
        gbc.setState(0x5357, 0xbf55, 0xaca0, 0x68b4, 0xddbc, 0xb1c4, 0x1, 0x1);
        gbc.writeMem(0x5357, { 0xc6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xbf55);
        EXPECT(gbc.pc(), 0x5359);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00E1
        gbc.setState(0x2478, 0x2cbd, 0xe2b0, 0xf858, 0x99a5, 0x6ea0, 0x1, 0x1);
        gbc.writeMem(0x2478, { 0xc6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x2cbd);
        EXPECT(gbc.pc(), 0x247a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00E2
        gbc.setState(0xdd1f, 0x56b2, 0xbfe0, 0x5d52, 0x364f, 0x8a05, 0x0, 0x1);
        gbc.writeMem(0xdd1f, { 0xc6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x56b2);
        EXPECT(gbc.pc(), 0xdd21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd1f), 0xc6);
        EXPECT(gbc.readMem(0xdd20), 0x87);
        // C6 00E3
        gbc.setState(0x1b2b, 0x8ba1, 0x8a0, 0x1812, 0xe32a, 0xc6bc, 0x0, 0x1);
        gbc.writeMem(0x1b2b, { 0xc6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8ba1);
        EXPECT(gbc.pc(), 0x1b2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00E4
        gbc.setState(0xe222, 0x6ef6, 0x7c50, 0xe6d7, 0xa94a, 0x4598, 0x0, 0x1);
        gbc.writeMem(0xe222, { 0xc6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6ef6);
        EXPECT(gbc.pc(), 0xe224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe222), 0xc6);
        EXPECT(gbc.readMem(0xe223), 0xa2);
        // C6 00E5
        gbc.setState(0x66f5, 0x2bf1, 0x6790, 0x863a, 0x7518, 0xeb3d, 0x0, 0x1);
        gbc.writeMem(0x66f5, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2bf1);
        EXPECT(gbc.pc(), 0x66f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00E6
        gbc.setState(0x1e54, 0xf7d3, 0x4d90, 0x3421, 0xdc39, 0x165d, 0x0, 0x0);
        gbc.writeMem(0x1e54, { 0xc6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf7d3);
        EXPECT(gbc.pc(), 0x1e56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00E7
        gbc.setState(0x262a, 0x5776, 0xf490, 0xb0f9, 0x2833, 0x289f, 0x1, 0x1);
        gbc.writeMem(0x262a, { 0xc6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x5776);
        EXPECT(gbc.pc(), 0x262c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00E8
        gbc.setState(0x19c6, 0x7c31, 0x4330, 0x2891, 0x55ba, 0x3a74, 0x0, 0x1);
        gbc.writeMem(0x19c6, { 0xc6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x7c31);
        EXPECT(gbc.pc(), 0x19c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00E9
        gbc.setState(0x1f9e, 0xda73, 0xbab0, 0x6588, 0xad38, 0x5660, 0x0, 0x1);
        gbc.writeMem(0x1f9e, { 0xc6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xda73);
        EXPECT(gbc.pc(), 0x1fa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00EA
        gbc.setState(0x8486, 0xbd36, 0xa8a0, 0x6182, 0x384f, 0x76e4, 0x0, 0x1);
        gbc.writeMem(0x8486, { 0xc6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xbd36);
        EXPECT(gbc.pc(), 0x8488);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8486), 0xc6);
        EXPECT(gbc.readMem(0x8487), 0x0);
        // C6 00EB
        gbc.setState(0x495d, 0x4e0a, 0x7540, 0x4487, 0x78cc, 0xc99f, 0x1, 0x0);
        gbc.writeMem(0x495d, { 0xc6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4e0a);
        EXPECT(gbc.pc(), 0x495f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00EC
        gbc.setState(0xd8bc, 0x6c45, 0x52d0, 0x5b3c, 0xdf61, 0x9084, 0x1, 0x0);
        gbc.writeMem(0xd8bc, { 0xc6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6c45);
        EXPECT(gbc.pc(), 0xd8be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8bc), 0xc6);
        EXPECT(gbc.readMem(0xd8bd), 0x45);
        // C6 00ED
        gbc.setState(0x3a58, 0xeb70, 0xf30, 0x81dd, 0xdbc3, 0x589e, 0x0, 0x1);
        gbc.writeMem(0x3a58, { 0xc6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xeb70);
        EXPECT(gbc.pc(), 0x3a5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00EE
        gbc.setState(0x7ebd, 0xcdf2, 0x1e10, 0x77a7, 0xfc5d, 0x7629, 0x1, 0x1);
        gbc.writeMem(0x7ebd, { 0xc6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xcdf2);
        EXPECT(gbc.pc(), 0x7ebf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00EF
        gbc.setState(0x34a2, 0x4739, 0x340, 0xe8ee, 0x61a2, 0x6a9d, 0x1, 0x0);
        gbc.writeMem(0x34a2, { 0xc6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x4739);
        EXPECT(gbc.pc(), 0x34a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00F0
        gbc.setState(0x16b5, 0xb74d, 0x68e0, 0xed98, 0xbf8f, 0x4ce2, 0x1, 0x0);
        gbc.writeMem(0x16b5, { 0xc6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xb74d);
        EXPECT(gbc.pc(), 0x16b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00F1
        gbc.setState(0xa965, 0xdc51, 0x450, 0x81eb, 0xdf30, 0xc227, 0x0, 0x0);
        gbc.writeMem(0xa965, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xdc51);
        EXPECT(gbc.pc(), 0xa967);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa965), 0xc6);
        EXPECT(gbc.readMem(0xa966), 0x33);
        // C6 00F2
        gbc.setState(0x1783, 0x1695, 0xf440, 0xacb8, 0x2da2, 0x336f, 0x0, 0x1);
        gbc.writeMem(0x1783, { 0xc6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1695);
        EXPECT(gbc.pc(), 0x1785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 00F3
        gbc.setState(0x2cc8, 0x6cbc, 0xceb0, 0x9df9, 0xf10b, 0x5090, 0x0, 0x0);
        gbc.writeMem(0x2cc8, { 0xc6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x6cbc);
        EXPECT(gbc.pc(), 0x2cca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00F4
        gbc.setState(0x6b0a, 0xe04, 0x1ef0, 0x685e, 0x397f, 0xc2b2, 0x0, 0x0);
        gbc.writeMem(0x6b0a, { 0xc6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe04);
        EXPECT(gbc.pc(), 0x6b0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00F5
        gbc.setState(0x72ec, 0xb931, 0xe9d0, 0x508e, 0x518a, 0x5f17, 0x1, 0x1);
        gbc.writeMem(0x72ec, { 0xc6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb931);
        EXPECT(gbc.pc(), 0x72ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00F6
        gbc.setState(0x6b16, 0xc748, 0x1c40, 0xabde, 0x3559, 0x6c8c, 0x1, 0x1);
        gbc.writeMem(0x6b16, { 0xc6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xc748);
        EXPECT(gbc.pc(), 0x6b18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 00F7
        gbc.setState(0xd358, 0xc063, 0x1780, 0x458f, 0x7d3d, 0x95ea, 0x0, 0x0);
        gbc.writeMem(0xd358, { 0xc6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc063);
        EXPECT(gbc.pc(), 0xd35a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd358), 0xc6);
        EXPECT(gbc.readMem(0xd359), 0xbe);
        // C6 00F8
        gbc.setState(0xb7af, 0xb270, 0xe50, 0xf806, 0xdeb2, 0xbeea, 0x1, 0x1);
        gbc.writeMem(0xb7af, { 0xc6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb270);
        EXPECT(gbc.pc(), 0xb7b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7af), 0xc6);
        EXPECT(gbc.readMem(0xb7b0), 0x91);
        // C6 00F9
        gbc.setState(0x6f62, 0x5ef4, 0x4050, 0x3b8d, 0x70bd, 0xf9e5, 0x1, 0x1);
        gbc.writeMem(0x6f62, { 0xc6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x5ef4);
        EXPECT(gbc.pc(), 0x6f64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00FA
        gbc.setState(0x6e09, 0x3fe6, 0x5410, 0xd059, 0x3cec, 0x9e2, 0x0, 0x1);
        gbc.writeMem(0x6e09, { 0xc6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x3fe6);
        EXPECT(gbc.pc(), 0x6e0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00FB
        gbc.setState(0x91a9, 0xe235, 0x2e0, 0xe52a, 0xb204, 0x7820, 0x1, 0x0);
        gbc.writeMem(0x91a9, { 0xc6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe235);
        EXPECT(gbc.pc(), 0x91ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91a9), 0xc6);
        EXPECT(gbc.readMem(0x91aa), 0x46);
        // C6 00FC
        gbc.setState(0x7903, 0x287a, 0x4670, 0xb5e9, 0xdb82, 0xb926, 0x0, 0x0);
        gbc.writeMem(0x7903, { 0xc6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x287a);
        EXPECT(gbc.pc(), 0x7905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 00FD
        gbc.setState(0x72f5, 0x6ef6, 0xb900, 0x7b3d, 0xbf79, 0x3336, 0x0, 0x1);
        gbc.writeMem(0x72f5, { 0xc6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6ef6);
        EXPECT(gbc.pc(), 0x72f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00FE
        gbc.setState(0x59d8, 0x72e4, 0x43f0, 0x6778, 0x2c35, 0x58a6, 0x1, 0x0);
        gbc.writeMem(0x59d8, { 0xc6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x72e4);
        EXPECT(gbc.pc(), 0x59da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 00FF
        gbc.setState(0x4ecb, 0xc369, 0xe590, 0x60bb, 0x17b8, 0xd77, 0x1, 0x0);
        gbc.writeMem(0x4ecb, { 0xc6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc369);
        EXPECT(gbc.pc(), 0x4ecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0101
        gbc.setState(0xc8c, 0x4481, 0xfc30, 0x13ff, 0x1904, 0xb5c2, 0x1, 0x0);
        gbc.writeMem(0xc8c, { 0xc6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4481);
        EXPECT(gbc.pc(), 0xc8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0102
        gbc.setState(0xb89, 0xd55d, 0x3ba0, 0xf7bb, 0xe7ee, 0x545e, 0x0, 0x0);
        gbc.writeMem(0xb89, { 0xc6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd55d);
        EXPECT(gbc.pc(), 0xb8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0103
        gbc.setState(0xd2be, 0xa63a, 0xf220, 0x68eb, 0xb72a, 0x4d59, 0x0, 0x1);
        gbc.writeMem(0xd2be, { 0xc6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa63a);
        EXPECT(gbc.pc(), 0xd2c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2be), 0xc6);
        EXPECT(gbc.readMem(0xd2bf), 0x63);
        // C6 0104
        gbc.setState(0x278, 0x7870, 0x8e80, 0x2e7b, 0x8f9d, 0x1de0, 0x1, 0x0);
        gbc.writeMem(0x278, { 0xc6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x7870);
        EXPECT(gbc.pc(), 0x27a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0105
        gbc.setState(0xe95, 0x1c4b, 0x87f0, 0xbc79, 0xd888, 0x9560, 0x1, 0x1);
        gbc.writeMem(0xe95, { 0xc6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x1c4b);
        EXPECT(gbc.pc(), 0xe97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0106
        gbc.setState(0x5b52, 0x587, 0xc6c0, 0xfab5, 0x9cc3, 0x109c, 0x0, 0x1);
        gbc.writeMem(0x5b52, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x587);
        EXPECT(gbc.pc(), 0x5b54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0107
        gbc.setState(0x7b0f, 0x390f, 0x5ec0, 0x7403, 0xb373, 0x78f2, 0x0, 0x0);
        gbc.writeMem(0x7b0f, { 0xc6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x390f);
        EXPECT(gbc.pc(), 0x7b11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0108
        gbc.setState(0x61fb, 0x5dec, 0x7cc0, 0xad64, 0xff3b, 0x225, 0x0, 0x0);
        gbc.writeMem(0x61fb, { 0xc6, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5dec);
        EXPECT(gbc.pc(), 0x61fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0109
        gbc.setState(0xc4bf, 0xec7e, 0xcd60, 0xdec0, 0x7338, 0xf2fa, 0x0, 0x1);
        gbc.writeMem(0xc4bf, { 0xc6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xec7e);
        EXPECT(gbc.pc(), 0xc4c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4bf), 0xc6);
        EXPECT(gbc.readMem(0xc4c0), 0x89);
        // C6 010A
        gbc.setState(0x5a11, 0xe1da, 0x8850, 0x112b, 0x5593, 0xaab6, 0x1, 0x0);
        gbc.writeMem(0x5a11, { 0xc6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xe1da);
        EXPECT(gbc.pc(), 0x5a13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 010C
        gbc.setState(0x3d86, 0xc992, 0xd420, 0x85fd, 0x9cab, 0xe439, 0x1, 0x0);
        gbc.writeMem(0x3d86, { 0xc6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xc992);
        EXPECT(gbc.pc(), 0x3d88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 010D
        gbc.setState(0x8ea0, 0xe669, 0xe630, 0x93ab, 0x4014, 0x9ef2, 0x1, 0x0);
        gbc.writeMem(0x8ea0, { 0xc6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xe669);
        EXPECT(gbc.pc(), 0x8ea2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ea0), 0xc6);
        EXPECT(gbc.readMem(0x8ea1), 0xad);
        // C6 010E
        gbc.setState(0x7ec1, 0xaba, 0x2070, 0xe7ca, 0xcb0c, 0x80ed, 0x1, 0x0);
        gbc.writeMem(0x7ec1, { 0xc6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xaba);
        EXPECT(gbc.pc(), 0x7ec3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 010F
        gbc.setState(0x6140, 0xaedb, 0xfc30, 0xeee5, 0x4f99, 0x5f7, 0x0, 0x0);
        gbc.writeMem(0x6140, { 0xc6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xaedb);
        EXPECT(gbc.pc(), 0x6142);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0110
        gbc.setState(0x8b06, 0x4a66, 0x1d70, 0x96d4, 0x96f1, 0xeea8, 0x1, 0x0);
        gbc.writeMem(0x8b06, { 0xc6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x4a66);
        EXPECT(gbc.pc(), 0x8b08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b06), 0xc6);
        EXPECT(gbc.readMem(0x8b07), 0x9b);
        // C6 0111
        gbc.setState(0x62ef, 0xa04d, 0xb00, 0x333, 0x25b4, 0x97e, 0x1, 0x1);
        gbc.writeMem(0x62ef, { 0xc6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xa04d);
        EXPECT(gbc.pc(), 0x62f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0112
        gbc.setState(0xdc0b, 0x64ba, 0xdff0, 0xd13a, 0x484d, 0x4a2c, 0x1, 0x1);
        gbc.writeMem(0xdc0b, { 0xc6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x64ba);
        EXPECT(gbc.pc(), 0xdc0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc0b), 0xc6);
        EXPECT(gbc.readMem(0xdc0c), 0x2c);
        // C6 0113
        gbc.setState(0xc4a6, 0x891f, 0x2ea0, 0x6149, 0x3e57, 0xf142, 0x1, 0x1);
        gbc.writeMem(0xc4a6, { 0xc6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x891f);
        EXPECT(gbc.pc(), 0xc4a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4a6), 0xc6);
        EXPECT(gbc.readMem(0xc4a7), 0x95);
        // C6 0114
        gbc.setState(0x479, 0x74d1, 0xbc40, 0xcd34, 0x7ee6, 0x2c7, 0x0, 0x1);
        gbc.writeMem(0x479, { 0xc6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x74d1);
        EXPECT(gbc.pc(), 0x47b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0115
        gbc.setState(0xe314, 0x9eba, 0x8b80, 0x582c, 0x3506, 0x8fa6, 0x0, 0x0);
        gbc.writeMem(0xe314, { 0xc6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9eba);
        EXPECT(gbc.pc(), 0xe316);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe314), 0xc6);
        EXPECT(gbc.readMem(0xe315), 0x90);
        // C6 0116
        gbc.setState(0x1ed5, 0xcf3, 0x30e0, 0x6e66, 0xe592, 0xce0, 0x0, 0x1);
        gbc.writeMem(0x1ed5, { 0xc6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xcf3);
        EXPECT(gbc.pc(), 0x1ed7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0117
        gbc.setState(0xb522, 0xd124, 0x6530, 0xc71c, 0x3895, 0xf04, 0x1, 0x0);
        gbc.writeMem(0xb522, { 0xc6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xd124);
        EXPECT(gbc.pc(), 0xb524);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb522), 0xc6);
        EXPECT(gbc.readMem(0xb523), 0x7d);
        // C6 0118
        gbc.setState(0x4a45, 0x43bf, 0xe370, 0x606, 0x3f4, 0xfc9c, 0x0, 0x1);
        gbc.writeMem(0x4a45, { 0xc6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x43bf);
        EXPECT(gbc.pc(), 0x4a47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0119
        gbc.setState(0x161d, 0x79c7, 0xbbf0, 0x3224, 0xffd5, 0xd1cb, 0x0, 0x0);
        gbc.writeMem(0x161d, { 0xc6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x79c7);
        EXPECT(gbc.pc(), 0x161f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 011A
        gbc.setState(0x7ecf, 0xddc4, 0x5eb0, 0xd533, 0x3475, 0xd87f, 0x0, 0x1);
        gbc.writeMem(0x7ecf, { 0xc6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xddc4);
        EXPECT(gbc.pc(), 0x7ed1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 011B
        gbc.setState(0xe6d8, 0x2b4b, 0x16d0, 0xefc, 0x2cf3, 0x88d, 0x0, 0x0);
        gbc.writeMem(0xe6d8, { 0xc6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x2b4b);
        EXPECT(gbc.pc(), 0xe6da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6d8), 0xc6);
        EXPECT(gbc.readMem(0xe6d9), 0xca);
        // C6 011C
        gbc.setState(0x2be6, 0x245b, 0x66a0, 0x77ca, 0xa0af, 0x4782, 0x0, 0x0);
        gbc.writeMem(0x2be6, { 0xc6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x245b);
        EXPECT(gbc.pc(), 0x2be8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 011D
        gbc.setState(0x7ae7, 0xab33, 0xfd80, 0x20db, 0xaaaf, 0x9c21, 0x0, 0x0);
        gbc.writeMem(0x7ae7, { 0xc6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xab33);
        EXPECT(gbc.pc(), 0x7ae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 011E
        gbc.setState(0x53dc, 0xc515, 0xe310, 0x63bd, 0xc42c, 0x4a11, 0x0, 0x0);
        gbc.writeMem(0x53dc, { 0xc6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc515);
        EXPECT(gbc.pc(), 0x53de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 011F
        gbc.setState(0x2ae, 0x9454, 0xb620, 0xc410, 0x7546, 0x530d, 0x1, 0x1);
        gbc.writeMem(0x2ae, { 0xc6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9454);
        EXPECT(gbc.pc(), 0x2b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0120
        gbc.setState(0xbe0, 0xbd7c, 0x9b90, 0x53f7, 0x8109, 0x6430, 0x1, 0x0);
        gbc.writeMem(0xbe0, { 0xc6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xbd7c);
        EXPECT(gbc.pc(), 0xbe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0121
        gbc.setState(0x37f1, 0x9771, 0xe280, 0xc583, 0xf796, 0xf8aa, 0x1, 0x0);
        gbc.writeMem(0x37f1, { 0xc6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x9771);
        EXPECT(gbc.pc(), 0x37f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0122
        gbc.setState(0x61d2, 0x70e4, 0x1bd0, 0xab7d, 0x6cf3, 0xdb84, 0x0, 0x1);
        gbc.writeMem(0x61d2, { 0xc6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x70e4);
        EXPECT(gbc.pc(), 0x61d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0123
        gbc.setState(0xec9f, 0x901b, 0x9950, 0xb5e1, 0xfbaf, 0xd481, 0x1, 0x0);
        gbc.writeMem(0xec9f, { 0xc6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x901b);
        EXPECT(gbc.pc(), 0xeca1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec9f), 0xc6);
        EXPECT(gbc.readMem(0xeca0), 0x36);
        // C6 0124
        gbc.setState(0x7729, 0x2a0d, 0x7560, 0x849e, 0xbc37, 0x3cc7, 0x1, 0x0);
        gbc.writeMem(0x7729, { 0xc6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x2a0d);
        EXPECT(gbc.pc(), 0x772b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0125
        gbc.setState(0x39d5, 0xa773, 0xfd70, 0xc963, 0x7dce, 0xdd2e, 0x1, 0x0);
        gbc.writeMem(0x39d5, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa773);
        EXPECT(gbc.pc(), 0x39d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0126
        gbc.setState(0xc534, 0x59f3, 0x5d70, 0x5879, 0xe0c5, 0x5d3, 0x0, 0x1);
        gbc.writeMem(0xc534, { 0xc6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x59f3);
        EXPECT(gbc.pc(), 0xc536);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc534), 0xc6);
        EXPECT(gbc.readMem(0xc535), 0xa3);
        // C6 0127
        gbc.setState(0x9a17, 0x3387, 0x69b0, 0xe8f8, 0x273e, 0x9f0c, 0x0, 0x0);
        gbc.writeMem(0x9a17, { 0xc6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3387);
        EXPECT(gbc.pc(), 0x9a19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a17), 0xc6);
        EXPECT(gbc.readMem(0x9a18), 0x4d);
        // C6 0128
        gbc.setState(0x4865, 0x490e, 0xc7a0, 0x5cd3, 0x895f, 0xa4e0, 0x1, 0x0);
        gbc.writeMem(0x4865, { 0xc6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x490e);
        EXPECT(gbc.pc(), 0x4867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0129
        gbc.setState(0x95fc, 0xc75a, 0x6c40, 0x270b, 0x20f9, 0x3b13, 0x0, 0x1);
        gbc.writeMem(0x95fc, { 0xc6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xc75a);
        EXPECT(gbc.pc(), 0x95fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95fc), 0xc6);
        EXPECT(gbc.readMem(0x95fd), 0x30);
        // C6 012A
        gbc.setState(0x70ba, 0xdb67, 0xdc50, 0xcb7c, 0xf7eb, 0x5cec, 0x1, 0x1);
        gbc.writeMem(0x70ba, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xdb67);
        EXPECT(gbc.pc(), 0x70bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 012B
        gbc.setState(0x229a, 0xfd7, 0x8220, 0x597a, 0x4db6, 0x337a, 0x0, 0x1);
        gbc.writeMem(0x229a, { 0xc6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xfd7);
        EXPECT(gbc.pc(), 0x229c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 012C
        gbc.setState(0xb903, 0x2c86, 0x8120, 0xb45e, 0x76d9, 0xae30, 0x0, 0x0);
        gbc.writeMem(0xb903, { 0xc6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x2c86);
        EXPECT(gbc.pc(), 0xb905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb903), 0xc6);
        EXPECT(gbc.readMem(0xb904), 0xf);
        // C6 012D
        gbc.setState(0x4e6c, 0x92, 0xdf40, 0xa898, 0x992a, 0xb88e, 0x1, 0x1);
        gbc.writeMem(0x4e6c, { 0xc6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x92);
        EXPECT(gbc.pc(), 0x4e6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 012E
        gbc.setState(0x5444, 0x9eb9, 0x4820, 0xcce6, 0x661b, 0xc62d, 0x0, 0x0);
        gbc.writeMem(0x5444, { 0xc6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x9eb9);
        EXPECT(gbc.pc(), 0x5446);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 012F
        gbc.setState(0x78b, 0x99cd, 0x230, 0x3f36, 0x65cd, 0x55f9, 0x1, 0x0);
        gbc.writeMem(0x78b, { 0xc6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x99cd);
        EXPECT(gbc.pc(), 0x78d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0130
        gbc.setState(0x6f27, 0x379b, 0xc770, 0xc79a, 0xe2fa, 0xb461, 0x0, 0x0);
        gbc.writeMem(0x6f27, { 0xc6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x379b);
        EXPECT(gbc.pc(), 0x6f29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0131
        gbc.setState(0x5926, 0xe091, 0x580, 0x68cc, 0xe9bd, 0x85eb, 0x1, 0x0);
        gbc.writeMem(0x5926, { 0xc6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe091);
        EXPECT(gbc.pc(), 0x5928);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0132
        gbc.setState(0x7d5c, 0x7051, 0x8170, 0x50a4, 0x7a1, 0x445b, 0x1, 0x0);
        gbc.writeMem(0x7d5c, { 0xc6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x7051);
        EXPECT(gbc.pc(), 0x7d5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0133
        gbc.setState(0x9ec6, 0x76cb, 0xea20, 0xda7c, 0x6d49, 0xe483, 0x1, 0x1);
        gbc.writeMem(0x9ec6, { 0xc6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x76cb);
        EXPECT(gbc.pc(), 0x9ec8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec6), 0xc6);
        EXPECT(gbc.readMem(0x9ec7), 0x6a);
        // C6 0134
        gbc.setState(0xe6cd, 0xf26f, 0x6cc0, 0xf5e4, 0x9582, 0xa942, 0x0, 0x1);
        gbc.writeMem(0xe6cd, { 0xc6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf26f);
        EXPECT(gbc.pc(), 0xe6cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6cd), 0xc6);
        EXPECT(gbc.readMem(0xe6ce), 0xf0);
        // C6 0136
        gbc.setState(0xed03, 0xcbe2, 0xdf50, 0xa220, 0x70aa, 0xc217, 0x1, 0x1);
        gbc.writeMem(0xed03, { 0xc6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xcbe2);
        EXPECT(gbc.pc(), 0xed05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed03), 0xc6);
        EXPECT(gbc.readMem(0xed04), 0xcf);
        // C6 0137
        gbc.setState(0x30fd, 0x3a1b, 0xb360, 0x40e1, 0xe52e, 0x665, 0x1, 0x0);
        gbc.writeMem(0x30fd, { 0xc6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3a1b);
        EXPECT(gbc.pc(), 0x30ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0138
        gbc.setState(0x3f6c, 0x1461, 0x5220, 0x66e8, 0xc835, 0xca95, 0x0, 0x0);
        gbc.writeMem(0x3f6c, { 0xc6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x1461);
        EXPECT(gbc.pc(), 0x3f6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0139
        gbc.setState(0xaed1, 0x6e3a, 0x8600, 0xde1, 0x3990, 0x97b9, 0x0, 0x0);
        gbc.writeMem(0xaed1, { 0xc6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6e3a);
        EXPECT(gbc.pc(), 0xaed3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaed1), 0xc6);
        EXPECT(gbc.readMem(0xaed2), 0x82);
        // C6 013B
        gbc.setState(0x2884, 0x3b58, 0x5c50, 0x9e69, 0x3676, 0x58a0, 0x0, 0x0);
        gbc.writeMem(0x2884, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3b58);
        EXPECT(gbc.pc(), 0x2886);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 013C
        gbc.setState(0xe399, 0xe3b5, 0xff20, 0x1d74, 0xd053, 0xef91, 0x0, 0x1);
        gbc.writeMem(0xe399, { 0xc6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xe3b5);
        EXPECT(gbc.pc(), 0xe39b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe399), 0xc6);
        EXPECT(gbc.readMem(0xe39a), 0xb8);
        // C6 013D
        gbc.setState(0x8d3c, 0x2090, 0x6170, 0x6b9f, 0x5d6a, 0x7349, 0x0, 0x0);
        gbc.writeMem(0x8d3c, { 0xc6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2090);
        EXPECT(gbc.pc(), 0x8d3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d3c), 0xc6);
        EXPECT(gbc.readMem(0x8d3d), 0xeb);
        // C6 013E
        gbc.setState(0x1d14, 0xf2dd, 0x3560, 0xfa48, 0xb37c, 0xd6ce, 0x0, 0x1);
        gbc.writeMem(0x1d14, { 0xc6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf2dd);
        EXPECT(gbc.pc(), 0x1d16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 013F
        gbc.setState(0x599e, 0xdb7f, 0xa4f0, 0x557d, 0x23ad, 0x7bd4, 0x0, 0x1);
        gbc.writeMem(0x599e, { 0xc6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xdb7f);
        EXPECT(gbc.pc(), 0x59a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0140
        gbc.setState(0xda71, 0x523a, 0x9ef0, 0x84b1, 0xca10, 0x9a5c, 0x0, 0x0);
        gbc.writeMem(0xda71, { 0xc6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x523a);
        EXPECT(gbc.pc(), 0xda73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda71), 0xc6);
        EXPECT(gbc.readMem(0xda72), 0x6);
        // C6 0141
        gbc.setState(0xe02c, 0x5cc0, 0xd190, 0xf08e, 0x4343, 0x22e3, 0x0, 0x1);
        gbc.writeMem(0xe02c, { 0xc6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5cc0);
        EXPECT(gbc.pc(), 0xe02e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe02c), 0xc6);
        EXPECT(gbc.readMem(0xe02d), 0xc4);
        // C6 0142
        gbc.setState(0xa687, 0xd5c1, 0xc4a0, 0x5b34, 0x3174, 0x7593, 0x0, 0x1);
        gbc.writeMem(0xa687, { 0xc6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xd5c1);
        EXPECT(gbc.pc(), 0xa689);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa687), 0xc6);
        EXPECT(gbc.readMem(0xa688), 0x4b);
        // C6 0143
        gbc.setState(0xe503, 0xd8a5, 0xb950, 0x7332, 0xb828, 0xe0fe, 0x0, 0x1);
        gbc.writeMem(0xe503, { 0xc6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd8a5);
        EXPECT(gbc.pc(), 0xe505);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe503), 0xc6);
        EXPECT(gbc.readMem(0xe504), 0x7b);
        // C6 0144
        gbc.setState(0x3947, 0x7159, 0xde90, 0x8baa, 0x9800, 0x4b4, 0x1, 0x1);
        gbc.writeMem(0x3947, { 0xc6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x7159);
        EXPECT(gbc.pc(), 0x3949);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0145
        gbc.setState(0x6a32, 0xfb19, 0xff50, 0xb4b7, 0x1f75, 0xda75, 0x1, 0x0);
        gbc.writeMem(0x6a32, { 0xc6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xfb19);
        EXPECT(gbc.pc(), 0x6a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0146
        gbc.setState(0x9afd, 0x1e34, 0x3110, 0x362c, 0x54b2, 0x96a, 0x0, 0x0);
        gbc.writeMem(0x9afd, { 0xc6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x1e34);
        EXPECT(gbc.pc(), 0x9aff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9afd), 0xc6);
        EXPECT(gbc.readMem(0x9afe), 0x24);
        // C6 0147
        gbc.setState(0x7ff3, 0x1621, 0x17a0, 0xa6d, 0xa07a, 0x7770, 0x0, 0x0);
        gbc.writeMem(0x7ff3, { 0xc6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x1621);
        EXPECT(gbc.pc(), 0x7ff5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0148
        gbc.setState(0xe17a, 0xbf89, 0xd220, 0x7e63, 0xf1da, 0xb97b, 0x1, 0x1);
        gbc.writeMem(0xe17a, { 0xc6, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xbf89);
        EXPECT(gbc.pc(), 0xe17c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe17a), 0xc6);
        EXPECT(gbc.readMem(0xe17b), 0x40);
        // C6 0149
        gbc.setState(0x93eb, 0xff9f, 0x8b10, 0xd24, 0x4517, 0x78ab, 0x1, 0x1);
        gbc.writeMem(0x93eb, { 0xc6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xff9f);
        EXPECT(gbc.pc(), 0x93ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93eb), 0xc6);
        EXPECT(gbc.readMem(0x93ec), 0x7d);
        // C6 014B
        gbc.setState(0x3d4b, 0xffe3, 0x6c90, 0x8c6d, 0x603a, 0xa80b, 0x1, 0x1);
        gbc.writeMem(0x3d4b, { 0xc6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xffe3);
        EXPECT(gbc.pc(), 0x3d4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 014C
        gbc.setState(0xa179, 0x4e4e, 0x46c0, 0xf3d4, 0x7926, 0xe1f, 0x1, 0x0);
        gbc.writeMem(0xa179, { 0xc6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4e4e);
        EXPECT(gbc.pc(), 0xa17b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa179), 0xc6);
        EXPECT(gbc.readMem(0xa17a), 0x86);
        // C6 014D
        gbc.setState(0xa496, 0xf1c, 0x3910, 0xac60, 0xbd35, 0xa67f, 0x1, 0x0);
        gbc.writeMem(0xa496, { 0xc6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf1c);
        EXPECT(gbc.pc(), 0xa498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa496), 0xc6);
        EXPECT(gbc.readMem(0xa497), 0xa3);
        // C6 014E
        gbc.setState(0x6dd1, 0xc99d, 0x7e40, 0xab27, 0x6c00, 0xb670, 0x1, 0x0);
        gbc.writeMem(0x6dd1, { 0xc6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xc99d);
        EXPECT(gbc.pc(), 0x6dd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 014F
        gbc.setState(0xa345, 0x42ac, 0x410, 0xd611, 0xe091, 0xc85f, 0x1, 0x0);
        gbc.writeMem(0xa345, { 0xc6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x42ac);
        EXPECT(gbc.pc(), 0xa347);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa345), 0xc6);
        EXPECT(gbc.readMem(0xa346), 0xbf);
        // C6 0150
        gbc.setState(0xb7a4, 0x2d65, 0x73d0, 0x6b9a, 0x74f4, 0xedb4, 0x0, 0x0);
        gbc.writeMem(0xb7a4, { 0xc6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x2d65);
        EXPECT(gbc.pc(), 0xb7a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7a4), 0xc6);
        EXPECT(gbc.readMem(0xb7a5), 0xdf);
        // C6 0151
        gbc.setState(0xeaad, 0x951e, 0xdaf0, 0x20e3, 0x726d, 0x7244, 0x0, 0x1);
        gbc.writeMem(0xeaad, { 0xc6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x951e);
        EXPECT(gbc.pc(), 0xeaaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaad), 0xc6);
        EXPECT(gbc.readMem(0xeaae), 0xd);
        // C6 0152
        gbc.setState(0x393d, 0x3b6f, 0xd490, 0x4c21, 0x5db0, 0xbfd5, 0x0, 0x0);
        gbc.writeMem(0x393d, { 0xc6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3b6f);
        EXPECT(gbc.pc(), 0x393f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0153
        gbc.setState(0x2b35, 0x216a, 0x1c40, 0x2de0, 0x55a6, 0xa379, 0x0, 0x0);
        gbc.writeMem(0x2b35, { 0xc6, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x216a);
        EXPECT(gbc.pc(), 0x2b37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0154
        gbc.setState(0x8565, 0x1b98, 0x28d0, 0x2b69, 0x8812, 0x699f, 0x0, 0x1);
        gbc.writeMem(0x8565, { 0xc6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x1b98);
        EXPECT(gbc.pc(), 0x8567);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8565), 0xc6);
        EXPECT(gbc.readMem(0x8566), 0x4f);
        // C6 0155
        gbc.setState(0xc6be, 0xb34d, 0xb830, 0xc5b5, 0x32f1, 0xb26a, 0x0, 0x0);
        gbc.writeMem(0xc6be, { 0xc6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xb34d);
        EXPECT(gbc.pc(), 0xc6c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6be), 0xc6);
        EXPECT(gbc.readMem(0xc6bf), 0x1f);
        // C6 0156
        gbc.setState(0x72db, 0xf4cd, 0x1070, 0x8d2e, 0x9c6d, 0x70c0, 0x1, 0x1);
        gbc.writeMem(0x72db, { 0xc6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xf4cd);
        EXPECT(gbc.pc(), 0x72dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0157
        gbc.setState(0x3b2, 0x5c4b, 0x3f20, 0x7828, 0x4d1f, 0x6227, 0x0, 0x1);
        gbc.writeMem(0x3b2, { 0xc6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5c4b);
        EXPECT(gbc.pc(), 0x3b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0158
        gbc.setState(0x5dae, 0x9a91, 0xa010, 0x39a8, 0x956a, 0x6c36, 0x1, 0x1);
        gbc.writeMem(0x5dae, { 0xc6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9a91);
        EXPECT(gbc.pc(), 0x5db0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0159
        gbc.setState(0x972e, 0x6aba, 0x67e0, 0x47b5, 0x52ac, 0x2d11, 0x0, 0x1);
        gbc.writeMem(0x972e, { 0xc6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x6aba);
        EXPECT(gbc.pc(), 0x9730);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x972e), 0xc6);
        EXPECT(gbc.readMem(0x972f), 0x55);
        // C6 015A
        gbc.setState(0xc577, 0x9067, 0xcdc0, 0xa1a1, 0x32c0, 0x70a3, 0x1, 0x0);
        gbc.writeMem(0xc577, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9067);
        EXPECT(gbc.pc(), 0xc579);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc577), 0xc6);
        EXPECT(gbc.readMem(0xc578), 0x62);
        // C6 015B
        gbc.setState(0x1c9a, 0x5d93, 0x12f0, 0x8562, 0x328f, 0xe0ff, 0x0, 0x0);
        gbc.writeMem(0x1c9a, { 0xc6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x5d93);
        EXPECT(gbc.pc(), 0x1c9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 015C
        gbc.setState(0x7ba5, 0xdc45, 0xf8b0, 0x26c6, 0x176a, 0x416d, 0x0, 0x1);
        gbc.writeMem(0x7ba5, { 0xc6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xdc45);
        EXPECT(gbc.pc(), 0x7ba7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 015D
        gbc.setState(0xc505, 0x23e2, 0x7dd0, 0x57bd, 0x81b9, 0xa4ab, 0x0, 0x0);
        gbc.writeMem(0xc505, { 0xc6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x23e2);
        EXPECT(gbc.pc(), 0xc507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc505), 0xc6);
        EXPECT(gbc.readMem(0xc506), 0x7c);
        // C6 015E
        gbc.setState(0xdc13, 0xe071, 0xebf0, 0x35ad, 0xe65c, 0xdb77, 0x0, 0x1);
        gbc.writeMem(0xdc13, { 0xc6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe071);
        EXPECT(gbc.pc(), 0xdc15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc13), 0xc6);
        EXPECT(gbc.readMem(0xdc14), 0x65);
        // C6 015F
        gbc.setState(0xb7ab, 0x546b, 0x20a0, 0x1b79, 0xc13e, 0xc588, 0x0, 0x1);
        gbc.writeMem(0xb7ab, { 0xc6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x546b);
        EXPECT(gbc.pc(), 0xb7ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7ab), 0xc6);
        EXPECT(gbc.readMem(0xb7ac), 0x7);
        // C6 0160
        gbc.setState(0x704f, 0xfde2, 0x4750, 0x8cf4, 0x2d30, 0xebd2, 0x1, 0x1);
        gbc.writeMem(0x704f, { 0xc6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xfde2);
        EXPECT(gbc.pc(), 0x7051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0161
        gbc.setState(0x9f2a, 0xc99a, 0x9b80, 0x78b8, 0x2b22, 0x3450, 0x1, 0x1);
        gbc.writeMem(0x9f2a, { 0xc6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xc99a);
        EXPECT(gbc.pc(), 0x9f2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f2a), 0xc6);
        EXPECT(gbc.readMem(0x9f2b), 0xc2);
        // C6 0162
        gbc.setState(0x1214, 0xe32b, 0xa9e0, 0xf2d2, 0xc08c, 0xf4d0, 0x0, 0x1);
        gbc.writeMem(0x1214, { 0xc6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xe32b);
        EXPECT(gbc.pc(), 0x1216);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0163
        gbc.setState(0x6663, 0xadf9, 0x9a20, 0x1699, 0xf619, 0x56f3, 0x1, 0x1);
        gbc.writeMem(0x6663, { 0xc6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xadf9);
        EXPECT(gbc.pc(), 0x6665);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0164
        gbc.setState(0x1b21, 0x234d, 0x8df0, 0xf1ca, 0x957e, 0xcc71, 0x1, 0x1);
        gbc.writeMem(0x1b21, { 0xc6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x234d);
        EXPECT(gbc.pc(), 0x1b23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0165
        gbc.setState(0xbf88, 0xe400, 0x4180, 0x48b0, 0x57, 0x3c7b, 0x0, 0x0);
        gbc.writeMem(0xbf88, { 0xc6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe400);
        EXPECT(gbc.pc(), 0xbf8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf88), 0xc6);
        EXPECT(gbc.readMem(0xbf89), 0x77);
        // C6 0166
        gbc.setState(0x9b3c, 0x8b36, 0x2400, 0xe15d, 0x6d6f, 0x5020, 0x0, 0x1);
        gbc.writeMem(0x9b3c, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8b36);
        EXPECT(gbc.pc(), 0x9b3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b3c), 0xc6);
        EXPECT(gbc.readMem(0x9b3d), 0x62);
        // C6 0167
        gbc.setState(0x1bca, 0xec4e, 0xb2c0, 0x7a5c, 0x8129, 0xf289, 0x0, 0x0);
        gbc.writeMem(0x1bca, { 0xc6, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xec4e);
        EXPECT(gbc.pc(), 0x1bcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0168
        gbc.setState(0x5143, 0x9ae7, 0x6090, 0xfb19, 0x1a88, 0xcfd5, 0x0, 0x1);
        gbc.writeMem(0x5143, { 0xc6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9ae7);
        EXPECT(gbc.pc(), 0x5145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0169
        gbc.setState(0x6a6e, 0xb9a9, 0x8140, 0xe153, 0x39a2, 0x26cc, 0x1, 0x1);
        gbc.writeMem(0x6a6e, { 0xc6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb9a9);
        EXPECT(gbc.pc(), 0x6a70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 016A
        gbc.setState(0x2825, 0xd330, 0x5a20, 0x787b, 0xa232, 0xa1d6, 0x0, 0x1);
        gbc.writeMem(0x2825, { 0xc6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd330);
        EXPECT(gbc.pc(), 0x2827);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 016B
        gbc.setState(0xa901, 0xfca3, 0xda90, 0x9c6b, 0xb602, 0x4692, 0x0, 0x0);
        gbc.writeMem(0xa901, { 0xc6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xfca3);
        EXPECT(gbc.pc(), 0xa903);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa901), 0xc6);
        EXPECT(gbc.readMem(0xa902), 0xe5);
        // C6 016C
        gbc.setState(0x505a, 0xbb27, 0x7ec0, 0x403a, 0xbea1, 0x28c4, 0x1, 0x0);
        gbc.writeMem(0x505a, { 0xc6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xbb27);
        EXPECT(gbc.pc(), 0x505c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 016D
        gbc.setState(0x6238, 0xc858, 0x1460, 0xa76a, 0x556f, 0xde58, 0x1, 0x0);
        gbc.writeMem(0x6238, { 0xc6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xc858);
        EXPECT(gbc.pc(), 0x623a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 016E
        gbc.setState(0x47a, 0xd9da, 0xab00, 0x57ef, 0xa096, 0x44c8, 0x1, 0x0);
        gbc.writeMem(0x47a, { 0xc6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd9da);
        EXPECT(gbc.pc(), 0x47c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 016F
        gbc.setState(0x1cf6, 0x6932, 0xc120, 0xb863, 0xd88e, 0x6f83, 0x0, 0x1);
        gbc.writeMem(0x1cf6, { 0xc6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x6932);
        EXPECT(gbc.pc(), 0x1cf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0170
        gbc.setState(0x105, 0x3125, 0x2830, 0xd7e0, 0xc008, 0x45fd, 0x0, 0x1);
        gbc.writeMem(0x105, { 0xc6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x3125);
        EXPECT(gbc.pc(), 0x107);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0171
        gbc.setState(0x930f, 0xb5fc, 0x74d0, 0x748e, 0x41b2, 0xcc67, 0x1, 0x0);
        gbc.writeMem(0x930f, { 0xc6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb5fc);
        EXPECT(gbc.pc(), 0x9311);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x930f), 0xc6);
        EXPECT(gbc.readMem(0x9310), 0x75);
        // C6 0172
        gbc.setState(0xec9b, 0x33c, 0x2120, 0x6ce6, 0x2690, 0x87f0, 0x1, 0x1);
        gbc.writeMem(0xec9b, { 0xc6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x33c);
        EXPECT(gbc.pc(), 0xec9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec9b), 0xc6);
        EXPECT(gbc.readMem(0xec9c), 0x74);
        // C6 0173
        gbc.setState(0x58ad, 0x7827, 0xf9b0, 0xc352, 0xf439, 0xccfa, 0x1, 0x1);
        gbc.writeMem(0x58ad, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7827);
        EXPECT(gbc.pc(), 0x58af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0174
        gbc.setState(0x640f, 0xbfb9, 0xf480, 0x8874, 0xa9d3, 0x663d, 0x1, 0x1);
        gbc.writeMem(0x640f, { 0xc6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xbfb9);
        EXPECT(gbc.pc(), 0x6411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0176
        gbc.setState(0xb503, 0xad2a, 0x4360, 0x279, 0xee2d, 0xd20e, 0x1, 0x0);
        gbc.writeMem(0xb503, { 0xc6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xad2a);
        EXPECT(gbc.pc(), 0xb505);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb503), 0xc6);
        EXPECT(gbc.readMem(0xb504), 0x47);
        // C6 0177
        gbc.setState(0x1063, 0xd8a2, 0xbd50, 0xd72, 0xda02, 0x897e, 0x0, 0x1);
        gbc.writeMem(0x1063, { 0xc6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd8a2);
        EXPECT(gbc.pc(), 0x1065);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0178
        gbc.setState(0x9ab5, 0x90e0, 0xac70, 0xfe5a, 0x17ef, 0x7857, 0x1, 0x0);
        gbc.writeMem(0x9ab5, { 0xc6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x90e0);
        EXPECT(gbc.pc(), 0x9ab7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ab5), 0xc6);
        EXPECT(gbc.readMem(0x9ab6), 0xc1);
        // C6 0179
        gbc.setState(0x223a, 0xf8f6, 0xd640, 0x6fd5, 0x3816, 0xef26, 0x1, 0x1);
        gbc.writeMem(0x223a, { 0xc6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf8f6);
        EXPECT(gbc.pc(), 0x223c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 017B
        gbc.setState(0x35d2, 0x19d1, 0xd7a0, 0x390e, 0xa727, 0xdb2e, 0x0, 0x0);
        gbc.writeMem(0x35d2, { 0xc6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x19d1);
        EXPECT(gbc.pc(), 0x35d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 017C
        gbc.setState(0x7b30, 0x225b, 0x760, 0x2861, 0x6fdc, 0x9604, 0x1, 0x0);
        gbc.writeMem(0x7b30, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x225b);
        EXPECT(gbc.pc(), 0x7b32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 017D
        gbc.setState(0x7a7f, 0x2f33, 0xac60, 0x8ae5, 0xe8fc, 0xe0b2, 0x1, 0x1);
        gbc.writeMem(0x7a7f, { 0xc6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x2f33);
        EXPECT(gbc.pc(), 0x7a81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 017E
        gbc.setState(0x6824, 0xe73e, 0xc9a0, 0x7467, 0xdcd2, 0xbd12, 0x1, 0x0);
        gbc.writeMem(0x6824, { 0xc6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe73e);
        EXPECT(gbc.pc(), 0x6826);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 017F
        gbc.setState(0x95b, 0x734, 0x31b0, 0x943a, 0x487e, 0xb538, 0x1, 0x1);
        gbc.writeMem(0x95b, { 0xc6, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x734);
        EXPECT(gbc.pc(), 0x95d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0180
        gbc.setState(0x3359, 0x681b, 0x79c0, 0x8ecf, 0xd1ba, 0xd2aa, 0x0, 0x0);
        gbc.writeMem(0x3359, { 0xc6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x681b);
        EXPECT(gbc.pc(), 0x335b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0181
        gbc.setState(0x4971, 0x520d, 0x6e50, 0x364e, 0x5e01, 0xd8f4, 0x0, 0x0);
        gbc.writeMem(0x4971, { 0xc6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x520d);
        EXPECT(gbc.pc(), 0x4973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0182
        gbc.setState(0xa514, 0xe6c7, 0x660, 0xfae5, 0xd80a, 0xb977, 0x0, 0x0);
        gbc.writeMem(0xa514, { 0xc6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe6c7);
        EXPECT(gbc.pc(), 0xa516);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa514), 0xc6);
        EXPECT(gbc.readMem(0xa515), 0xe5);
        // C6 0183
        gbc.setState(0xb361, 0xcbb8, 0x8480, 0x4813, 0x75cd, 0x38cf, 0x0, 0x1);
        gbc.writeMem(0xb361, { 0xc6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xcbb8);
        EXPECT(gbc.pc(), 0xb363);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb361), 0xc6);
        EXPECT(gbc.readMem(0xb362), 0x32);
        // C6 0184
        gbc.setState(0x5499, 0x897a, 0x1f20, 0xa010, 0xf24c, 0x4e8, 0x0, 0x1);
        gbc.writeMem(0x5499, { 0xc6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x897a);
        EXPECT(gbc.pc(), 0x549b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0185
        gbc.setState(0x14ad, 0xf904, 0x8a40, 0x7a72, 0x6886, 0x2c17, 0x1, 0x0);
        gbc.writeMem(0x14ad, { 0xc6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf904);
        EXPECT(gbc.pc(), 0x14af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0186
        gbc.setState(0xc72c, 0x39f3, 0x7670, 0x239f, 0x4bcc, 0x2498, 0x0, 0x0);
        gbc.writeMem(0xc72c, { 0xc6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x39f3);
        EXPECT(gbc.pc(), 0xc72e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc72c), 0xc6);
        EXPECT(gbc.readMem(0xc72d), 0x22);
        // C6 0187
        gbc.setState(0x1590, 0x1203, 0x7ef0, 0x826f, 0xfdeb, 0xeb9e, 0x1, 0x0);
        gbc.writeMem(0x1590, { 0xc6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x1203);
        EXPECT(gbc.pc(), 0x1592);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0188
        gbc.setState(0x7b85, 0xc5d1, 0xacc0, 0x9081, 0xbde6, 0x557d, 0x1, 0x1);
        gbc.writeMem(0x7b85, { 0xc6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc5d1);
        EXPECT(gbc.pc(), 0x7b87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0189
        gbc.setState(0x790a, 0x97d4, 0xa520, 0xd2a0, 0xcbed, 0x4058, 0x0, 0x1);
        gbc.writeMem(0x790a, { 0xc6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x97d4);
        EXPECT(gbc.pc(), 0x790c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 018A
        gbc.setState(0x2489, 0xbfd5, 0x57b0, 0xa4a9, 0xf360, 0x7d08, 0x1, 0x0);
        gbc.writeMem(0x2489, { 0xc6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xbfd5);
        EXPECT(gbc.pc(), 0x248b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 018B
        gbc.setState(0xc059, 0x515a, 0x4f50, 0x87bd, 0xb085, 0x8da7, 0x1, 0x0);
        gbc.writeMem(0xc059, { 0xc6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x515a);
        EXPECT(gbc.pc(), 0xc05b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc059), 0xc6);
        EXPECT(gbc.readMem(0xc05a), 0x26);
        // C6 018C
        gbc.setState(0xbf7e, 0x95c5, 0x5c40, 0x28e3, 0xc91d, 0x1d84, 0x0, 0x1);
        gbc.writeMem(0xbf7e, { 0xc6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x95c5);
        EXPECT(gbc.pc(), 0xbf80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf7e), 0xc6);
        EXPECT(gbc.readMem(0xbf7f), 0x41);
        // C6 018D
        gbc.setState(0x5581, 0x917, 0xd0c0, 0x19b, 0x853, 0x4fd5, 0x0, 0x1);
        gbc.writeMem(0x5581, { 0xc6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x917);
        EXPECT(gbc.pc(), 0x5583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 018E
        gbc.setState(0x350d, 0x5d9d, 0xd210, 0x441f, 0xeb1, 0xd478, 0x0, 0x0);
        gbc.writeMem(0x350d, { 0xc6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5d9d);
        EXPECT(gbc.pc(), 0x350f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 018F
        gbc.setState(0xba6e, 0x6d60, 0x2ab0, 0x170a, 0x9b50, 0x2bb0, 0x0, 0x1);
        gbc.writeMem(0xba6e, { 0xc6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x6d60);
        EXPECT(gbc.pc(), 0xba70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba6e), 0xc6);
        EXPECT(gbc.readMem(0xba6f), 0x80);
        // C6 0190
        gbc.setState(0xaecd, 0xd83d, 0xab0, 0x5ef0, 0xe75b, 0x1d9b, 0x0, 0x1);
        gbc.writeMem(0xaecd, { 0xc6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xd83d);
        EXPECT(gbc.pc(), 0xaecf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaecd), 0xc6);
        EXPECT(gbc.readMem(0xaece), 0x12);
        // C6 0191
        gbc.setState(0x5ea2, 0xdf0d, 0xb0a0, 0x36bd, 0xbc6a, 0xc819, 0x1, 0x0);
        gbc.writeMem(0x5ea2, { 0xc6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xdf0d);
        EXPECT(gbc.pc(), 0x5ea4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0192
        gbc.setState(0xafca, 0x381f, 0x3750, 0xca2b, 0x6cff, 0xf0c8, 0x1, 0x0);
        gbc.writeMem(0xafca, { 0xc6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x381f);
        EXPECT(gbc.pc(), 0xafcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafca), 0xc6);
        EXPECT(gbc.readMem(0xafcb), 0x1b);
        // C6 0193
        gbc.setState(0x9753, 0xfa7, 0x6cb0, 0xec42, 0x73d4, 0xbcb0, 0x1, 0x0);
        gbc.writeMem(0x9753, { 0xc6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xfa7);
        EXPECT(gbc.pc(), 0x9755);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9753), 0xc6);
        EXPECT(gbc.readMem(0x9754), 0x1c);
        // C6 0194
        gbc.setState(0xa835, 0x96e0, 0x4a20, 0xe4b9, 0xaccc, 0xb389, 0x0, 0x0);
        gbc.writeMem(0xa835, { 0xc6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x96e0);
        EXPECT(gbc.pc(), 0xa837);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa835), 0xc6);
        EXPECT(gbc.readMem(0xa836), 0xc3);
        // C6 0195
        gbc.setState(0xb37c, 0x839f, 0xc360, 0x2c9b, 0x3a85, 0x84d7, 0x1, 0x0);
        gbc.writeMem(0xb37c, { 0xc6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x839f);
        EXPECT(gbc.pc(), 0xb37e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb37c), 0xc6);
        EXPECT(gbc.readMem(0xb37d), 0x95);
        // C6 0196
        gbc.setState(0xb18, 0x132c, 0xe60, 0xfca5, 0x2eb3, 0x559c, 0x1, 0x0);
        gbc.writeMem(0xb18, { 0xc6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x132c);
        EXPECT(gbc.pc(), 0xb1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0197
        gbc.setState(0x751a, 0x4f2f, 0xa6d0, 0xa4f0, 0x20da, 0x2a8a, 0x1, 0x1);
        gbc.writeMem(0x751a, { 0xc6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x4f2f);
        EXPECT(gbc.pc(), 0x751c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0198
        gbc.setState(0x19f5, 0x3f86, 0x3ab0, 0x7aea, 0x9506, 0x6057, 0x0, 0x1);
        gbc.writeMem(0x19f5, { 0xc6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x3f86);
        EXPECT(gbc.pc(), 0x19f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 019A
        gbc.setState(0x57df, 0x128d, 0xa2b0, 0x43bb, 0x612f, 0x8b6, 0x1, 0x1);
        gbc.writeMem(0x57df, { 0xc6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x128d);
        EXPECT(gbc.pc(), 0x57e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 019B
        gbc.setState(0x8219, 0x8b4c, 0x9ef0, 0xb736, 0x8926, 0x5096, 0x1, 0x0);
        gbc.writeMem(0x8219, { 0xc6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8b4c);
        EXPECT(gbc.pc(), 0x821b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8219), 0xc6);
        EXPECT(gbc.readMem(0x821a), 0x7a);
        // C6 019C
        gbc.setState(0x8816, 0x43b1, 0x1de0, 0xefe1, 0xf80c, 0xb020, 0x1, 0x0);
        gbc.writeMem(0x8816, { 0xc6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x43b1);
        EXPECT(gbc.pc(), 0x8818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8816), 0xc6);
        EXPECT(gbc.readMem(0x8817), 0xae);
        // C6 019D
        gbc.setState(0xaaac, 0x1870, 0xd890, 0x8e0f, 0x29b4, 0x4726, 0x1, 0x1);
        gbc.writeMem(0xaaac, { 0xc6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x1870);
        EXPECT(gbc.pc(), 0xaaae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaac), 0xc6);
        EXPECT(gbc.readMem(0xaaad), 0xa4);
        // C6 019E
        gbc.setState(0xc4e0, 0xe7da, 0x8140, 0xddd9, 0xd707, 0x4959, 0x1, 0x0);
        gbc.writeMem(0xc4e0, { 0xc6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe7da);
        EXPECT(gbc.pc(), 0xc4e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4e0), 0xc6);
        EXPECT(gbc.readMem(0xc4e1), 0x38);
        // C6 019F
        gbc.setState(0x1364, 0x8ebd, 0xc870, 0xd91c, 0x689, 0x7589, 0x0, 0x1);
        gbc.writeMem(0x1364, { 0xc6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8ebd);
        EXPECT(gbc.pc(), 0x1366);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01A0
        gbc.setState(0x924c, 0x7508, 0x1b10, 0xb775, 0x246d, 0x12df, 0x0, 0x1);
        gbc.writeMem(0x924c, { 0xc6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7508);
        EXPECT(gbc.pc(), 0x924e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x924c), 0xc6);
        EXPECT(gbc.readMem(0x924d), 0xfa);
        // C6 01A1
        gbc.setState(0xc00e, 0x478d, 0x7ad0, 0x68fa, 0x8c07, 0x2e3e, 0x1, 0x1);
        gbc.writeMem(0xc00e, { 0xc6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x478d);
        EXPECT(gbc.pc(), 0xc010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc00e), 0xc6);
        EXPECT(gbc.readMem(0xc00f), 0xa6);
        // C6 01A2
        gbc.setState(0x84d2, 0xf01b, 0x47b0, 0x807b, 0xc678, 0xb394, 0x1, 0x0);
        gbc.writeMem(0x84d2, { 0xc6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf01b);
        EXPECT(gbc.pc(), 0x84d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84d2), 0xc6);
        EXPECT(gbc.readMem(0x84d3), 0x3f);
        // C6 01A3
        gbc.setState(0xfb7, 0xcfb8, 0xc70, 0x3d4d, 0xfb4b, 0x75ef, 0x0, 0x1);
        gbc.writeMem(0xfb7, { 0xc6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xcfb8);
        EXPECT(gbc.pc(), 0xfb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01A4
        gbc.setState(0x359b, 0x3a6d, 0x470, 0xef45, 0xdc66, 0x7331, 0x1, 0x0);
        gbc.writeMem(0x359b, { 0xc6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3a6d);
        EXPECT(gbc.pc(), 0x359d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01A5
        gbc.setState(0x384d, 0x32fa, 0xb520, 0x98ba, 0xdabc, 0x4882, 0x0, 0x0);
        gbc.writeMem(0x384d, { 0xc6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x32fa);
        EXPECT(gbc.pc(), 0x384f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01A7
        gbc.setState(0xe5fa, 0x26f, 0x6110, 0x16fb, 0x546e, 0x5c1a, 0x0, 0x0);
        gbc.writeMem(0xe5fa, { 0xc6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x26f);
        EXPECT(gbc.pc(), 0xe5fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5fa), 0xc6);
        EXPECT(gbc.readMem(0xe5fb), 0x5f);
        // C6 01A8
        gbc.setState(0x984a, 0xbad1, 0xf4e0, 0x8602, 0x5e89, 0x471, 0x0, 0x1);
        gbc.writeMem(0x984a, { 0xc6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xbad1);
        EXPECT(gbc.pc(), 0x984c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x984a), 0xc6);
        EXPECT(gbc.readMem(0x984b), 0x26);
        // C6 01A9
        gbc.setState(0x5e05, 0x7674, 0x6cc0, 0xdef1, 0xe096, 0x345f, 0x0, 0x1);
        gbc.writeMem(0x5e05, { 0xc6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7674);
        EXPECT(gbc.pc(), 0x5e07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01AA
        gbc.setState(0xd55b, 0xebe2, 0x520, 0xf3c3, 0x8cbb, 0xe64e, 0x0, 0x0);
        gbc.writeMem(0xd55b, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xebe2);
        EXPECT(gbc.pc(), 0xd55d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd55b), 0xc6);
        EXPECT(gbc.readMem(0xd55c), 0x84);
        // C6 01AB
        gbc.setState(0x3ea8, 0x9fdd, 0x7f30, 0xd125, 0xadf3, 0xb36e, 0x1, 0x0);
        gbc.writeMem(0x3ea8, { 0xc6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9fdd);
        EXPECT(gbc.pc(), 0x3eaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01AC
        gbc.setState(0x63d8, 0x3097, 0x56d0, 0x45d2, 0x60ca, 0x8fae, 0x1, 0x1);
        gbc.writeMem(0x63d8, { 0xc6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x3097);
        EXPECT(gbc.pc(), 0x63da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01AD
        gbc.setState(0x75aa, 0x37a8, 0x2a90, 0x2850, 0x5e32, 0xcc4b, 0x1, 0x0);
        gbc.writeMem(0x75aa, { 0xc6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x37a8);
        EXPECT(gbc.pc(), 0x75ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01AF
        gbc.setState(0x5d02, 0x7253, 0xb170, 0x5ae6, 0xe7e8, 0xaad4, 0x0, 0x0);
        gbc.writeMem(0x5d02, { 0xc6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x7253);
        EXPECT(gbc.pc(), 0x5d04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01B0
        gbc.setState(0xc5ef, 0x81e9, 0x5250, 0x121e, 0x9f7, 0x2303, 0x1, 0x1);
        gbc.writeMem(0xc5ef, { 0xc6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x81e9);
        EXPECT(gbc.pc(), 0xc5f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ef), 0xc6);
        EXPECT(gbc.readMem(0xc5f0), 0xa6);
        // C6 01B1
        gbc.setState(0x21ad, 0x5d5b, 0x1620, 0xb17c, 0x94e0, 0xcbbb, 0x0, 0x0);
        gbc.writeMem(0x21ad, { 0xc6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5d5b);
        EXPECT(gbc.pc(), 0x21af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01B2
        gbc.setState(0x30eb, 0xb6cd, 0xbe60, 0xdcd5, 0x62f8, 0x341, 0x0, 0x0);
        gbc.writeMem(0x30eb, { 0xc6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xb6cd);
        EXPECT(gbc.pc(), 0x30ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01B3
        gbc.setState(0xc515, 0xcddf, 0xed00, 0xec4a, 0xdf8, 0x6bd3, 0x0, 0x1);
        gbc.writeMem(0xc515, { 0xc6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xcddf);
        EXPECT(gbc.pc(), 0xc517);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc515), 0xc6);
        EXPECT(gbc.readMem(0xc516), 0x94);
        // C6 01B4
        gbc.setState(0xa8d7, 0x1f07, 0xa360, 0x1700, 0x11b6, 0x7df9, 0x0, 0x0);
        gbc.writeMem(0xa8d7, { 0xc6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x1f07);
        EXPECT(gbc.pc(), 0xa8d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8d7), 0xc6);
        EXPECT(gbc.readMem(0xa8d8), 0xd8);
        // C6 01B5
        gbc.setState(0xa0fb, 0x1c4d, 0x6110, 0xd186, 0xb8c9, 0x5aad, 0x1, 0x1);
        gbc.writeMem(0xa0fb, { 0xc6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1c4d);
        EXPECT(gbc.pc(), 0xa0fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0fb), 0xc6);
        EXPECT(gbc.readMem(0xa0fc), 0x45);
        // C6 01B7
        gbc.setState(0x2822, 0x1fca, 0xd450, 0xd49b, 0x65e7, 0x2282, 0x0, 0x1);
        gbc.writeMem(0x2822, { 0xc6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x1fca);
        EXPECT(gbc.pc(), 0x2824);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01B8
        gbc.setState(0x2e51, 0x9b46, 0xfa10, 0x26c1, 0xe437, 0xd184, 0x0, 0x1);
        gbc.writeMem(0x2e51, { 0xc6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9b46);
        EXPECT(gbc.pc(), 0x2e53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01B9
        gbc.setState(0x606f, 0x7042, 0xaee0, 0x4df7, 0x95ef, 0xb533, 0x1, 0x1);
        gbc.writeMem(0x606f, { 0xc6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7042);
        EXPECT(gbc.pc(), 0x6071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01BA
        gbc.setState(0x7b09, 0x74bc, 0x9b70, 0x268c, 0xa49a, 0xcaab, 0x1, 0x0);
        gbc.writeMem(0x7b09, { 0xc6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x74bc);
        EXPECT(gbc.pc(), 0x7b0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01BB
        gbc.setState(0xdcae, 0x9bcc, 0x4640, 0xb059, 0x4857, 0xeff6, 0x0, 0x1);
        gbc.writeMem(0xdcae, { 0xc6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9bcc);
        EXPECT(gbc.pc(), 0xdcb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcae), 0xc6);
        EXPECT(gbc.readMem(0xdcaf), 0x97);
        // C6 01BC
        gbc.setState(0x5775, 0x2ea2, 0xdc70, 0x55e8, 0x4626, 0x6733, 0x0, 0x0);
        gbc.writeMem(0x5775, { 0xc6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x2ea2);
        EXPECT(gbc.pc(), 0x5777);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01BD
        gbc.setState(0xab46, 0xa51c, 0xd940, 0x2029, 0x6759, 0xaafb, 0x0, 0x0);
        gbc.writeMem(0xab46, { 0xc6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa51c);
        EXPECT(gbc.pc(), 0xab48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab46), 0xc6);
        EXPECT(gbc.readMem(0xab47), 0x5a);
        // C6 01BE
        gbc.setState(0x6e85, 0xe36b, 0x8e30, 0x29ad, 0xd6cb, 0x2383, 0x0, 0x1);
        gbc.writeMem(0x6e85, { 0xc6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe36b);
        EXPECT(gbc.pc(), 0x6e87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01BF
        gbc.setState(0x7d75, 0x33ca, 0x6df0, 0x48d0, 0xb076, 0xc473, 0x0, 0x0);
        gbc.writeMem(0x7d75, { 0xc6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x33ca);
        EXPECT(gbc.pc(), 0x7d77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01C0
        gbc.setState(0x844e, 0xa9e9, 0x84b0, 0xfaaa, 0xe233, 0xd93d, 0x0, 0x1);
        gbc.writeMem(0x844e, { 0xc6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa9e9);
        EXPECT(gbc.pc(), 0x8450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x844e), 0xc6);
        EXPECT(gbc.readMem(0x844f), 0x90);
        // C6 01C2
        gbc.setState(0x8f71, 0xeda5, 0xa5b0, 0x4185, 0xa5e9, 0xf794, 0x1, 0x0);
        gbc.writeMem(0x8f71, { 0xc6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xeda5);
        EXPECT(gbc.pc(), 0x8f73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f71), 0xc6);
        EXPECT(gbc.readMem(0x8f72), 0x47);
        // C6 01C3
        gbc.setState(0x42d2, 0x84d6, 0xba60, 0x5626, 0x6722, 0x5c9c, 0x0, 0x0);
        gbc.writeMem(0x42d2, { 0xc6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x84d6);
        EXPECT(gbc.pc(), 0x42d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01C4
        gbc.setState(0xa302, 0xe1d0, 0x9e00, 0x5498, 0xce22, 0xf6c2, 0x0, 0x0);
        gbc.writeMem(0xa302, { 0xc6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe1d0);
        EXPECT(gbc.pc(), 0xa304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa302), 0xc6);
        EXPECT(gbc.readMem(0xa303), 0x2b);
        // C6 01C5
        gbc.setState(0x97d2, 0x474d, 0x2450, 0xab1e, 0x1f00, 0x562d, 0x0, 0x0);
        gbc.writeMem(0x97d2, { 0xc6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x474d);
        EXPECT(gbc.pc(), 0x97d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97d2), 0xc6);
        EXPECT(gbc.readMem(0x97d3), 0x27);
        // C6 01C6
        gbc.setState(0x7168, 0x12ef, 0xb2d0, 0xfcee, 0x3180, 0x7dbc, 0x1, 0x0);
        gbc.writeMem(0x7168, { 0xc6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x12ef);
        EXPECT(gbc.pc(), 0x716a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01C7
        gbc.setState(0x90a5, 0xf011, 0x8290, 0x9ee6, 0x5fed, 0x8b8b, 0x1, 0x1);
        gbc.writeMem(0x90a5, { 0xc6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf011);
        EXPECT(gbc.pc(), 0x90a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90a5), 0xc6);
        EXPECT(gbc.readMem(0x90a6), 0x7e);
        // C6 01C8
        gbc.setState(0x6e08, 0xf5c7, 0xc780, 0xa2d6, 0x5b4e, 0x9399, 0x1, 0x1);
        gbc.writeMem(0x6e08, { 0xc6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf5c7);
        EXPECT(gbc.pc(), 0x6e0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01C9
        gbc.setState(0xb460, 0xba83, 0xe4f0, 0x35d2, 0x1225, 0x4cef, 0x0, 0x0);
        gbc.writeMem(0xb460, { 0xc6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xba83);
        EXPECT(gbc.pc(), 0xb462);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb460), 0xc6);
        EXPECT(gbc.readMem(0xb461), 0xd9);
        // C6 01CA
        gbc.setState(0xadae, 0x9937, 0xac60, 0x322f, 0x1d6e, 0xcb48, 0x1, 0x0);
        gbc.writeMem(0xadae, { 0xc6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x9937);
        EXPECT(gbc.pc(), 0xadb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadae), 0xc6);
        EXPECT(gbc.readMem(0xadaf), 0x51);
        // C6 01CB
        gbc.setState(0x9390, 0xe826, 0x5100, 0xa2e3, 0x1cd3, 0xa4dd, 0x1, 0x0);
        gbc.writeMem(0x9390, { 0xc6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe826);
        EXPECT(gbc.pc(), 0x9392);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9390), 0xc6);
        EXPECT(gbc.readMem(0x9391), 0x65);
        // C6 01CC
        gbc.setState(0x4aee, 0xe0c7, 0xcce0, 0x162a, 0x5eb9, 0xade7, 0x1, 0x1);
        gbc.writeMem(0x4aee, { 0xc6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe0c7);
        EXPECT(gbc.pc(), 0x4af0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01CD
        gbc.setState(0x9179, 0x949a, 0x8ba0, 0xa52f, 0xe530, 0x566f, 0x0, 0x1);
        gbc.writeMem(0x9179, { 0xc6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x949a);
        EXPECT(gbc.pc(), 0x917b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9179), 0xc6);
        EXPECT(gbc.readMem(0x917a), 0x6);
        // C6 01CE
        gbc.setState(0xc683, 0x9c1b, 0xb510, 0x25da, 0xb0c0, 0xd29c, 0x1, 0x0);
        gbc.writeMem(0xc683, { 0xc6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9c1b);
        EXPECT(gbc.pc(), 0xc685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc683), 0xc6);
        EXPECT(gbc.readMem(0xc684), 0xc1);
        // C6 01CF
        gbc.setState(0x97a3, 0x4299, 0x2ef0, 0xe433, 0x2492, 0xf5b, 0x1, 0x0);
        gbc.writeMem(0x97a3, { 0xc6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x4299);
        EXPECT(gbc.pc(), 0x97a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97a3), 0xc6);
        EXPECT(gbc.readMem(0x97a4), 0x20);
        // C6 01D0
        gbc.setState(0xeeae, 0xf2b1, 0x46f0, 0xda47, 0xe938, 0xc099, 0x1, 0x1);
        gbc.writeMem(0xeeae, { 0xc6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf2b1);
        EXPECT(gbc.pc(), 0xeeb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeeae), 0xc6);
        EXPECT(gbc.readMem(0xeeaf), 0x46);
        // C6 01D2
        gbc.setState(0x7db8, 0xacc9, 0xd130, 0xfadf, 0x733b, 0x3b0a, 0x0, 0x0);
        gbc.writeMem(0x7db8, { 0xc6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xacc9);
        EXPECT(gbc.pc(), 0x7dba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01D3
        gbc.setState(0x4d5c, 0x9b8e, 0x2140, 0xb75f, 0xdd9c, 0xbae0, 0x1, 0x0);
        gbc.writeMem(0x4d5c, { 0xc6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9b8e);
        EXPECT(gbc.pc(), 0x4d5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01D4
        gbc.setState(0x56ae, 0x7ce9, 0x2650, 0x856d, 0x8f46, 0xb7d9, 0x0, 0x0);
        gbc.writeMem(0x56ae, { 0xc6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7ce9);
        EXPECT(gbc.pc(), 0x56b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01D5
        gbc.setState(0x1151, 0x47a, 0x86a0, 0xc225, 0xd516, 0xd303, 0x1, 0x1);
        gbc.writeMem(0x1151, { 0xc6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x47a);
        EXPECT(gbc.pc(), 0x1153);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01D6
        gbc.setState(0xd9ec, 0x8485, 0x2060, 0x5395, 0xed41, 0x6e48, 0x0, 0x0);
        gbc.writeMem(0xd9ec, { 0xc6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8485);
        EXPECT(gbc.pc(), 0xd9ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9ec), 0xc6);
        EXPECT(gbc.readMem(0xd9ed), 0x98);
        // C6 01D7
        gbc.setState(0x802, 0x2a95, 0xd210, 0x499a, 0x6724, 0x7eac, 0x0, 0x1);
        gbc.writeMem(0x802, { 0xc6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x2a95);
        EXPECT(gbc.pc(), 0x804);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01D8
        gbc.setState(0xadcb, 0x543a, 0x28d0, 0xb0b0, 0x9711, 0xc10, 0x1, 0x1);
        gbc.writeMem(0xadcb, { 0xc6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x543a);
        EXPECT(gbc.pc(), 0xadcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadcb), 0xc6);
        EXPECT(gbc.readMem(0xadcc), 0x99);
        // C6 01D9
        gbc.setState(0xa1eb, 0x23ad, 0x3910, 0xccb3, 0x9e8, 0xc9e1, 0x1, 0x1);
        gbc.writeMem(0xa1eb, { 0xc6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x23ad);
        EXPECT(gbc.pc(), 0xa1ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1eb), 0xc6);
        EXPECT(gbc.readMem(0xa1ec), 0x94);
        // C6 01DA
        gbc.setState(0x958d, 0x5b5e, 0xa030, 0xdefe, 0xd358, 0x997b, 0x1, 0x1);
        gbc.writeMem(0x958d, { 0xc6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x5b5e);
        EXPECT(gbc.pc(), 0x958f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x958d), 0xc6);
        EXPECT(gbc.readMem(0x958e), 0xed);
        // C6 01DB
        gbc.setState(0x4ef4, 0x89ee, 0x1c00, 0x9e05, 0xc93d, 0xd4be, 0x1, 0x0);
        gbc.writeMem(0x4ef4, { 0xc6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x89ee);
        EXPECT(gbc.pc(), 0x4ef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01DC
        gbc.setState(0x4c8e, 0xa387, 0x9260, 0xb949, 0xc7cc, 0xab44, 0x0, 0x0);
        gbc.writeMem(0x4c8e, { 0xc6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa387);
        EXPECT(gbc.pc(), 0x4c90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01DD
        gbc.setState(0xdd71, 0x77d7, 0x88f0, 0xeee1, 0xe6f, 0xa5a1, 0x1, 0x1);
        gbc.writeMem(0xdd71, { 0xc6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x77d7);
        EXPECT(gbc.pc(), 0xdd73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd71), 0xc6);
        EXPECT(gbc.readMem(0xdd72), 0x57);
        // C6 01DE
        gbc.setState(0x3937, 0x3e01, 0xa970, 0x6cc0, 0x98dc, 0x17d2, 0x1, 0x0);
        gbc.writeMem(0x3937, { 0xc6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x3e01);
        EXPECT(gbc.pc(), 0x3939);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01DF
        gbc.setState(0xefd1, 0x56e0, 0x30e0, 0x8ad3, 0x1732, 0x7de4, 0x1, 0x0);
        gbc.writeMem(0xefd1, { 0xc6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x56e0);
        EXPECT(gbc.pc(), 0xefd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefd1), 0xc6);
        EXPECT(gbc.readMem(0xefd2), 0x8);
        // C6 01E0
        gbc.setState(0x9c49, 0x4b0e, 0xffa0, 0xe39, 0x4535, 0xd699, 0x1, 0x0);
        gbc.writeMem(0x9c49, { 0xc6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x4b0e);
        EXPECT(gbc.pc(), 0x9c4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c49), 0xc6);
        EXPECT(gbc.readMem(0x9c4a), 0xaa);
        // C6 01E1
        gbc.setState(0x7a0a, 0xfd4b, 0x6ba0, 0x1bbd, 0x64e0, 0xf0b0, 0x1, 0x0);
        gbc.writeMem(0x7a0a, { 0xc6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xfd4b);
        EXPECT(gbc.pc(), 0x7a0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01E2
        gbc.setState(0x9b97, 0x26f9, 0x3d60, 0x951f, 0x8925, 0x79cd, 0x1, 0x0);
        gbc.writeMem(0x9b97, { 0xc6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x26f9);
        EXPECT(gbc.pc(), 0x9b99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b97), 0xc6);
        EXPECT(gbc.readMem(0x9b98), 0x15);
        // C6 01E3
        gbc.setState(0xa3ac, 0x83a0, 0x9010, 0xbd0f, 0x5fdc, 0x9a9b, 0x0, 0x0);
        gbc.writeMem(0xa3ac, { 0xc6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x83a0);
        EXPECT(gbc.pc(), 0xa3ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3ac), 0xc6);
        EXPECT(gbc.readMem(0xa3ad), 0x19);
        // C6 01E4
        gbc.setState(0x72f4, 0x5fc9, 0x8400, 0x691b, 0x2b26, 0x7001, 0x0, 0x1);
        gbc.writeMem(0x72f4, { 0xc6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x5fc9);
        EXPECT(gbc.pc(), 0x72f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01E5
        gbc.setState(0x70b4, 0x1d5f, 0x77d0, 0xc3d0, 0xb96a, 0xb849, 0x0, 0x0);
        gbc.writeMem(0x70b4, { 0xc6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1d5f);
        EXPECT(gbc.pc(), 0x70b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01E6
        gbc.setState(0x7f74, 0xdebb, 0xa710, 0xf998, 0xaa31, 0x2500, 0x1, 0x0);
        gbc.writeMem(0x7f74, { 0xc6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdebb);
        EXPECT(gbc.pc(), 0x7f76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01E7
        gbc.setState(0xe071, 0x155f, 0x450, 0x2568, 0xe346, 0x1312, 0x0, 0x1);
        gbc.writeMem(0xe071, { 0xc6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x155f);
        EXPECT(gbc.pc(), 0xe073);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe071), 0xc6);
        EXPECT(gbc.readMem(0xe072), 0x99);
        // C6 01E8
        gbc.setState(0x435c, 0xb983, 0x9ff0, 0xb18a, 0x6054, 0xd548, 0x0, 0x1);
        gbc.writeMem(0x435c, { 0xc6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xb983);
        EXPECT(gbc.pc(), 0x435e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01E9
        gbc.setState(0x4583, 0x81f6, 0x8c0, 0x870b, 0x382e, 0x777b, 0x1, 0x0);
        gbc.writeMem(0x4583, { 0xc6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x81f6);
        EXPECT(gbc.pc(), 0x4585);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01EA
        gbc.setState(0xacd0, 0x9ad5, 0x8680, 0x632f, 0x381b, 0x1d9a, 0x1, 0x1);
        gbc.writeMem(0xacd0, { 0xc6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9ad5);
        EXPECT(gbc.pc(), 0xacd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacd0), 0xc6);
        EXPECT(gbc.readMem(0xacd1), 0x51);
        // C6 01EB
        gbc.setState(0x2683, 0xce7a, 0xbc30, 0x3db9, 0xa760, 0xe7c8, 0x1, 0x1);
        gbc.writeMem(0x2683, { 0xc6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xce7a);
        EXPECT(gbc.pc(), 0x2685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01EC
        gbc.setState(0x91d8, 0xe44, 0x9ee0, 0xaac2, 0xb0d0, 0xa47c, 0x0, 0x1);
        gbc.writeMem(0x91d8, { 0xc6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe44);
        EXPECT(gbc.pc(), 0x91da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91d8), 0xc6);
        EXPECT(gbc.readMem(0x91d9), 0x17);
        // C6 01ED
        gbc.setState(0x5a54, 0x360b, 0x6270, 0xdbc4, 0x1326, 0x6eba, 0x0, 0x0);
        gbc.writeMem(0x5a54, { 0xc6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x360b);
        EXPECT(gbc.pc(), 0x5a56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01EE
        gbc.setState(0x8630, 0xa673, 0xa60, 0x63d1, 0xed67, 0xba28, 0x0, 0x1);
        gbc.writeMem(0x8630, { 0xc6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xa673);
        EXPECT(gbc.pc(), 0x8632);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8630), 0xc6);
        EXPECT(gbc.readMem(0x8631), 0x58);
        // C6 01EF
        gbc.setState(0xb47, 0x4e69, 0xd810, 0x5dda, 0x558c, 0x250e, 0x1, 0x0);
        gbc.writeMem(0xb47, { 0xc6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x4e69);
        EXPECT(gbc.pc(), 0xb49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01F0
        gbc.setState(0x2fb0, 0xa69a, 0xcc10, 0x93ca, 0x54dc, 0x4586, 0x1, 0x1);
        gbc.writeMem(0x2fb0, { 0xc6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa69a);
        EXPECT(gbc.pc(), 0x2fb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01F1
        gbc.setState(0x37d7, 0xc57, 0x7c30, 0xcd04, 0x5b32, 0x5a5c, 0x1, 0x1);
        gbc.writeMem(0x37d7, { 0xc6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xc57);
        EXPECT(gbc.pc(), 0x37d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 01F2
        gbc.setState(0x9034, 0x1496, 0xaf40, 0x2d45, 0xc76d, 0x585b, 0x1, 0x0);
        gbc.writeMem(0x9034, { 0xc6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x1496);
        EXPECT(gbc.pc(), 0x9036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9034), 0xc6);
        EXPECT(gbc.readMem(0x9035), 0xa0);
        // C6 01F3
        gbc.setState(0x635d, 0xee57, 0x20a0, 0x7e90, 0xb982, 0xe979, 0x0, 0x0);
        gbc.writeMem(0x635d, { 0xc6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xee57);
        EXPECT(gbc.pc(), 0x635f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01F4
        gbc.setState(0x4bc, 0x211a, 0x5a60, 0xa18, 0x1729, 0x9afa, 0x0, 0x1);
        gbc.writeMem(0x4bc, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x211a);
        EXPECT(gbc.pc(), 0x4be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 01F6
        gbc.setState(0xe27b, 0x40f0, 0x9b20, 0x718e, 0xd8b9, 0xcd6d, 0x0, 0x1);
        gbc.writeMem(0xe27b, { 0xc6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x40f0);
        EXPECT(gbc.pc(), 0xe27d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe27b), 0xc6);
        EXPECT(gbc.readMem(0xe27c), 0x76);
        // C6 01F7
        gbc.setState(0x8630, 0x71ba, 0x5230, 0xe977, 0xc7ae, 0x7c89, 0x0, 0x0);
        gbc.writeMem(0x8630, { 0xc6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x71ba);
        EXPECT(gbc.pc(), 0x8632);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8630), 0xc6);
        EXPECT(gbc.readMem(0x8631), 0x58);
        // C6 01F8
        gbc.setState(0x1f85, 0x642c, 0x6f00, 0xd174, 0xb7ad, 0x2be4, 0x1, 0x1);
        gbc.writeMem(0x1f85, { 0xc6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x642c);
        EXPECT(gbc.pc(), 0x1f87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01F9
        gbc.setState(0xcd52, 0x1735, 0xd030, 0x7665, 0x9338, 0x4ad0, 0x1, 0x0);
        gbc.writeMem(0xcd52, { 0xc6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x1735);
        EXPECT(gbc.pc(), 0xcd54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd52), 0xc6);
        EXPECT(gbc.readMem(0xcd53), 0x8b);
        // C6 01FA
        gbc.setState(0x9ba0, 0x453d, 0xbc20, 0x1ece, 0xc5bd, 0xb393, 0x1, 0x0);
        gbc.writeMem(0x9ba0, { 0xc6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x453d);
        EXPECT(gbc.pc(), 0x9ba2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ba0), 0xc6);
        EXPECT(gbc.readMem(0x9ba1), 0x3);
        // C6 01FB
        gbc.setState(0x8312, 0x2253, 0xfb30, 0xc608, 0x9531, 0x313e, 0x1, 0x0);
        gbc.writeMem(0x8312, { 0xc6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2253);
        EXPECT(gbc.pc(), 0x8314);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8312), 0xc6);
        EXPECT(gbc.readMem(0x8313), 0xf3);
        // C6 01FC
        gbc.setState(0x965e, 0x141f, 0xdac0, 0x1427, 0x6a3, 0xac50, 0x0, 0x0);
        gbc.writeMem(0x965e, { 0xc6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x141f);
        EXPECT(gbc.pc(), 0x9660);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x965e), 0xc6);
        EXPECT(gbc.readMem(0x965f), 0x2d);
        // C6 01FD
        gbc.setState(0x79be, 0xdfae, 0x640, 0x7bb8, 0xf12e, 0x2848, 0x0, 0x0);
        gbc.writeMem(0x79be, { 0xc6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xdfae);
        EXPECT(gbc.pc(), 0x79c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 01FE
        gbc.setState(0x4437, 0x2953, 0xa5b0, 0xcef8, 0xc29f, 0xa003, 0x1, 0x0);
        gbc.writeMem(0x4437, { 0xc6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2953);
        EXPECT(gbc.pc(), 0x4439);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 01FF
        gbc.setState(0xcb28, 0x79a7, 0xdd00, 0x690c, 0xe205, 0xb92e, 0x0, 0x1);
        gbc.writeMem(0xcb28, { 0xc6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x79a7);
        EXPECT(gbc.pc(), 0xcb2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb28), 0xc6);
        EXPECT(gbc.readMem(0xcb29), 0x4f);
        // C6 0201
        gbc.setState(0xbe1a, 0xd5af, 0x5810, 0xfd80, 0x1991, 0x5a90, 0x1, 0x0);
        gbc.writeMem(0xbe1a, { 0xc6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xd5af);
        EXPECT(gbc.pc(), 0xbe1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe1a), 0xc6);
        EXPECT(gbc.readMem(0xbe1b), 0xed);
        // C6 0202
        gbc.setState(0x52fe, 0x38ae, 0xbc80, 0x43e, 0x92c2, 0x354, 0x1, 0x0);
        gbc.writeMem(0x52fe, { 0xc6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x38ae);
        EXPECT(gbc.pc(), 0x5300);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0203
        gbc.setState(0x691d, 0xc7a, 0xe9d0, 0xe71a, 0x5c7d, 0x741c, 0x0, 0x0);
        gbc.writeMem(0x691d, { 0xc6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc7a);
        EXPECT(gbc.pc(), 0x691f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0204
        gbc.setState(0x9065, 0x6d6e, 0xc00, 0x4a64, 0xfa25, 0x386a, 0x0, 0x1);
        gbc.writeMem(0x9065, { 0xc6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6d6e);
        EXPECT(gbc.pc(), 0x9067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9065), 0xc6);
        EXPECT(gbc.readMem(0x9066), 0x66);
        // C6 0205
        gbc.setState(0x1154, 0x374f, 0x64d0, 0x84b7, 0x9d70, 0x27c9, 0x0, 0x0);
        gbc.writeMem(0x1154, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x374f);
        EXPECT(gbc.pc(), 0x1156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0206
        gbc.setState(0x874a, 0x899c, 0x8b60, 0xdc15, 0xc4c9, 0xebab, 0x0, 0x1);
        gbc.writeMem(0x874a, { 0xc6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x899c);
        EXPECT(gbc.pc(), 0x874c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x874a), 0xc6);
        EXPECT(gbc.readMem(0x874b), 0x7a);
        // C6 0207
        gbc.setState(0x8fda, 0xdc76, 0x78a0, 0x69e9, 0xe38d, 0xd3b3, 0x1, 0x0);
        gbc.writeMem(0x8fda, { 0xc6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xdc76);
        EXPECT(gbc.pc(), 0x8fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fda), 0xc6);
        EXPECT(gbc.readMem(0x8fdb), 0xb7);
        // C6 0208
        gbc.setState(0xa458, 0xc8f3, 0x39a0, 0xe17f, 0xb9d7, 0xf55e, 0x1, 0x0);
        gbc.writeMem(0xa458, { 0xc6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc8f3);
        EXPECT(gbc.pc(), 0xa45a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa458), 0xc6);
        EXPECT(gbc.readMem(0xa459), 0x9c);
        // C6 0209
        gbc.setState(0xda67, 0x9e15, 0x5ea0, 0xa505, 0xd644, 0xcd9c, 0x0, 0x0);
        gbc.writeMem(0xda67, { 0xc6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9e15);
        EXPECT(gbc.pc(), 0xda69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda67), 0xc6);
        EXPECT(gbc.readMem(0xda68), 0x15);
        // C6 020A
        gbc.setState(0x8518, 0xab9d, 0x2cb0, 0x3b86, 0xe6fc, 0xad34, 0x0, 0x0);
        gbc.writeMem(0x8518, { 0xc6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xab9d);
        EXPECT(gbc.pc(), 0x851a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8518), 0xc6);
        EXPECT(gbc.readMem(0x8519), 0xed);
        // C6 020B
        gbc.setState(0xae2c, 0xd55d, 0xcb10, 0xcf1b, 0x2c2c, 0x1067, 0x0, 0x1);
        gbc.writeMem(0xae2c, { 0xc6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd55d);
        EXPECT(gbc.pc(), 0xae2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae2c), 0xc6);
        EXPECT(gbc.readMem(0xae2d), 0x16);
        // C6 020D
        gbc.setState(0x3b36, 0xe3fa, 0x18b0, 0x521b, 0x1029, 0xbef1, 0x1, 0x1);
        gbc.writeMem(0x3b36, { 0xc6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xe3fa);
        EXPECT(gbc.pc(), 0x3b38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 020E
        gbc.setState(0x2b9f, 0x5e50, 0xa10, 0x7fbe, 0x6ed, 0x6ff8, 0x0, 0x0);
        gbc.writeMem(0x2b9f, { 0xc6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x5e50);
        EXPECT(gbc.pc(), 0x2ba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 020F
        gbc.setState(0x7bf3, 0x2e39, 0x9e30, 0xce0f, 0xe11f, 0xc87a, 0x1, 0x1);
        gbc.writeMem(0x7bf3, { 0xc6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x2e39);
        EXPECT(gbc.pc(), 0x7bf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0210
        gbc.setState(0x39eb, 0xe769, 0x31e0, 0x96a, 0x94f8, 0x17cb, 0x1, 0x1);
        gbc.writeMem(0x39eb, { 0xc6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe769);
        EXPECT(gbc.pc(), 0x39ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0211
        gbc.setState(0x35ea, 0x46f4, 0xd8f0, 0xb1b0, 0x71ba, 0xdb76, 0x0, 0x0);
        gbc.writeMem(0x35ea, { 0xc6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x46f4);
        EXPECT(gbc.pc(), 0x35ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0212
        gbc.setState(0x130a, 0x15d5, 0x24d0, 0x3763, 0x2546, 0x8c09, 0x0, 0x1);
        gbc.writeMem(0x130a, { 0xc6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x15d5);
        EXPECT(gbc.pc(), 0x130c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0213
        gbc.setState(0xcf38, 0x4f2d, 0x9fe0, 0x7552, 0x7b2a, 0x24a0, 0x1, 0x0);
        gbc.writeMem(0xcf38, { 0xc6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4f2d);
        EXPECT(gbc.pc(), 0xcf3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf38), 0xc6);
        EXPECT(gbc.readMem(0xcf39), 0xbb);
        // C6 0214
        gbc.setState(0x3cb5, 0x6797, 0x8590, 0x8b84, 0xc2ec, 0x3ea4, 0x1, 0x0);
        gbc.writeMem(0x3cb5, { 0xc6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6797);
        EXPECT(gbc.pc(), 0x3cb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0215
        gbc.setState(0x1e2c, 0x540f, 0x8d40, 0xde81, 0xb2a9, 0x3ae2, 0x1, 0x0);
        gbc.writeMem(0x1e2c, { 0xc6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x540f);
        EXPECT(gbc.pc(), 0x1e2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0216
        gbc.setState(0x5cac, 0x2cbe, 0x52c0, 0xbd64, 0x100c, 0xf490, 0x1, 0x1);
        gbc.writeMem(0x5cac, { 0xc6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2cbe);
        EXPECT(gbc.pc(), 0x5cae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0217
        gbc.setState(0x5387, 0x3724, 0x4ca0, 0xfd9c, 0x7707, 0x71, 0x0, 0x0);
        gbc.writeMem(0x5387, { 0xc6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x3724);
        EXPECT(gbc.pc(), 0x5389);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0218
        gbc.setState(0xdba3, 0xdedb, 0x2150, 0xb8ff, 0xc2ef, 0x95f3, 0x0, 0x0);
        gbc.writeMem(0xdba3, { 0xc6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xdedb);
        EXPECT(gbc.pc(), 0xdba5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdba3), 0xc6);
        EXPECT(gbc.readMem(0xdba4), 0xe9);
        // C6 0219
        gbc.setState(0xcc19, 0xabed, 0xf00, 0xb90d, 0x379, 0xf2bd, 0x0, 0x1);
        gbc.writeMem(0xcc19, { 0xc6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xabed);
        EXPECT(gbc.pc(), 0xcc1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc19), 0xc6);
        EXPECT(gbc.readMem(0xcc1a), 0xa0);
        // C6 021A
        gbc.setState(0xef95, 0xc58e, 0xd2c0, 0xbbda, 0xf416, 0x9f39, 0x0, 0x1);
        gbc.writeMem(0xef95, { 0xc6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xc58e);
        EXPECT(gbc.pc(), 0xef97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef95), 0xc6);
        EXPECT(gbc.readMem(0xef96), 0x9b);
        // C6 021B
        gbc.setState(0x20e, 0x1a8c, 0xf6b0, 0xb5cf, 0xab96, 0xbd87, 0x0, 0x1);
        gbc.writeMem(0x20e, { 0xc6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x1a8c);
        EXPECT(gbc.pc(), 0x210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 021C
        gbc.setState(0x7b6f, 0xa726, 0x69c0, 0x8495, 0x169c, 0x5d55, 0x0, 0x1);
        gbc.writeMem(0x7b6f, { 0xc6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa726);
        EXPECT(gbc.pc(), 0x7b71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 021D
        gbc.setState(0x10ac, 0xc7e0, 0xc950, 0xcac4, 0x2353, 0xa6e4, 0x0, 0x0);
        gbc.writeMem(0x10ac, { 0xc6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc7e0);
        EXPECT(gbc.pc(), 0x10ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 021E
        gbc.setState(0xe9c9, 0x8330, 0x9eb0, 0x3620, 0x120e, 0xd307, 0x0, 0x1);
        gbc.writeMem(0xe9c9, { 0xc6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8330);
        EXPECT(gbc.pc(), 0xe9cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9c9), 0xc6);
        EXPECT(gbc.readMem(0xe9ca), 0xa6);
        // C6 021F
        gbc.setState(0xb3f5, 0xc981, 0xca70, 0xb8c3, 0x71f8, 0x6db1, 0x0, 0x1);
        gbc.writeMem(0xb3f5, { 0xc6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc981);
        EXPECT(gbc.pc(), 0xb3f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3f5), 0xc6);
        EXPECT(gbc.readMem(0xb3f6), 0x63);
        // C6 0221
        gbc.setState(0x7593, 0xd4c9, 0xf860, 0x8d07, 0xd8c9, 0xd5ce, 0x0, 0x0);
        gbc.writeMem(0x7593, { 0xc6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xd4c9);
        EXPECT(gbc.pc(), 0x7595);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0222
        gbc.setState(0xed8, 0x6595, 0x6670, 0xfaa3, 0x92a1, 0x2d68, 0x1, 0x0);
        gbc.writeMem(0xed8, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x6595);
        EXPECT(gbc.pc(), 0xeda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0223
        gbc.setState(0xef18, 0x9dc1, 0x9720, 0xe282, 0x6c62, 0x2d6, 0x0, 0x0);
        gbc.writeMem(0xef18, { 0xc6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x9dc1);
        EXPECT(gbc.pc(), 0xef1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef18), 0xc6);
        EXPECT(gbc.readMem(0xef19), 0x9a);
        // C6 0224
        gbc.setState(0xc427, 0xe718, 0x5c0, 0x965d, 0x1a5b, 0xb161, 0x1, 0x0);
        gbc.writeMem(0xc427, { 0xc6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe718);
        EXPECT(gbc.pc(), 0xc429);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc427), 0xc6);
        EXPECT(gbc.readMem(0xc428), 0xec);
        // C6 0225
        gbc.setState(0x39a0, 0x248a, 0x2d90, 0xa14d, 0xd1b4, 0x8ef1, 0x1, 0x1);
        gbc.writeMem(0x39a0, { 0xc6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x248a);
        EXPECT(gbc.pc(), 0x39a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0226
        gbc.setState(0x1b38, 0xb19c, 0x4f70, 0xc549, 0xb134, 0x9706, 0x1, 0x0);
        gbc.writeMem(0x1b38, { 0xc6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xb19c);
        EXPECT(gbc.pc(), 0x1b3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0227
        gbc.setState(0x8678, 0x22e8, 0x4800, 0xa804, 0xb279, 0x5d49, 0x0, 0x0);
        gbc.writeMem(0x8678, { 0xc6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x22e8);
        EXPECT(gbc.pc(), 0x867a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8678), 0xc6);
        EXPECT(gbc.readMem(0x8679), 0x21);
        // C6 0228
        gbc.setState(0x6fe2, 0x1c5c, 0xe930, 0x915e, 0xf4ed, 0xb823, 0x1, 0x0);
        gbc.writeMem(0x6fe2, { 0xc6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1c5c);
        EXPECT(gbc.pc(), 0x6fe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0229
        gbc.setState(0x338c, 0xdf0b, 0xc170, 0x6466, 0x69f5, 0x7288, 0x0, 0x0);
        gbc.writeMem(0x338c, { 0xc6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xdf0b);
        EXPECT(gbc.pc(), 0x338e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 022A
        gbc.setState(0x615c, 0x18a7, 0x3e20, 0xa2c6, 0x753a, 0x3ffb, 0x1, 0x0);
        gbc.writeMem(0x615c, { 0xc6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x18a7);
        EXPECT(gbc.pc(), 0x615e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 022B
        gbc.setState(0xdbde, 0x7d48, 0x1320, 0xf48e, 0xbfb9, 0x1823, 0x0, 0x0);
        gbc.writeMem(0xdbde, { 0xc6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7d48);
        EXPECT(gbc.pc(), 0xdbe0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbde), 0xc6);
        EXPECT(gbc.readMem(0xdbdf), 0xd6);
        // C6 022C
        gbc.setState(0x2070, 0x79b3, 0x9360, 0x170f, 0xaa3b, 0x1510, 0x0, 0x1);
        gbc.writeMem(0x2070, { 0xc6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x79b3);
        EXPECT(gbc.pc(), 0x2072);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 022D
        gbc.setState(0xd579, 0x349d, 0xb4d0, 0x8f19, 0xe72c, 0xa93d, 0x0, 0x0);
        gbc.writeMem(0xd579, { 0xc6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x349d);
        EXPECT(gbc.pc(), 0xd57b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd579), 0xc6);
        EXPECT(gbc.readMem(0xd57a), 0x39);
        // C6 022E
        gbc.setState(0x1e5b, 0x3703, 0xc10, 0x25ee, 0x986e, 0xc6fb, 0x1, 0x0);
        gbc.writeMem(0x1e5b, { 0xc6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x3703);
        EXPECT(gbc.pc(), 0x1e5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 022F
        gbc.setState(0xacb0, 0x27e, 0xff80, 0xfcad, 0x2e91, 0xb61b, 0x0, 0x0);
        gbc.writeMem(0xacb0, { 0xc6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x27e);
        EXPECT(gbc.pc(), 0xacb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacb0), 0xc6);
        EXPECT(gbc.readMem(0xacb1), 0xe);
        // C6 0230
        gbc.setState(0x2dc5, 0x610, 0xd030, 0xd786, 0xd1f3, 0x49ce, 0x1, 0x1);
        gbc.writeMem(0x2dc5, { 0xc6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x610);
        EXPECT(gbc.pc(), 0x2dc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0231
        gbc.setState(0x5c73, 0x4f3a, 0xaf10, 0x2f0d, 0xf772, 0xc346, 0x1, 0x0);
        gbc.writeMem(0x5c73, { 0xc6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4f3a);
        EXPECT(gbc.pc(), 0x5c75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0232
        gbc.setState(0x3ac1, 0x27dc, 0x8240, 0x698, 0x999a, 0xa253, 0x0, 0x0);
        gbc.writeMem(0x3ac1, { 0xc6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x27dc);
        EXPECT(gbc.pc(), 0x3ac3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0233
        gbc.setState(0x9d95, 0x792, 0x9f20, 0x732a, 0x666c, 0x86e5, 0x1, 0x1);
        gbc.writeMem(0x9d95, { 0xc6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x792);
        EXPECT(gbc.pc(), 0x9d97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d95), 0xc6);
        EXPECT(gbc.readMem(0x9d96), 0xa3);
        // C6 0234
        gbc.setState(0x7d, 0x165a, 0xb240, 0x4123, 0xdd29, 0x15b6, 0x0, 0x0);
        gbc.writeMem(0x7d, { 0xc6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x165a);
        EXPECT(gbc.pc(), 0x7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0235
        gbc.setState(0x7d3b, 0xfe19, 0x4b40, 0xd05c, 0x9377, 0x5f30, 0x1, 0x1);
        gbc.writeMem(0x7d3b, { 0xc6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xfe19);
        EXPECT(gbc.pc(), 0x7d3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0236
        gbc.setState(0x58e3, 0x632e, 0x8e20, 0x7dbb, 0x6def, 0xd365, 0x1, 0x1);
        gbc.writeMem(0x58e3, { 0xc6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x632e);
        EXPECT(gbc.pc(), 0x58e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0237
        gbc.setState(0x701f, 0xa577, 0x2600, 0x429, 0x9075, 0xfc1c, 0x1, 0x1);
        gbc.writeMem(0x701f, { 0xc6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa577);
        EXPECT(gbc.pc(), 0x7021);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0238
        gbc.setState(0x7dbc, 0x4f10, 0xfc0, 0x7caf, 0x317b, 0x262e, 0x0, 0x0);
        gbc.writeMem(0x7dbc, { 0xc6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4f10);
        EXPECT(gbc.pc(), 0x7dbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0239
        gbc.setState(0x29b3, 0x5205, 0x5930, 0xeab4, 0xe4bc, 0x47a5, 0x0, 0x0);
        gbc.writeMem(0x29b3, { 0xc6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5205);
        EXPECT(gbc.pc(), 0x29b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 023A
        gbc.setState(0x946d, 0x3ee7, 0xad40, 0x264e, 0x9f4a, 0xe915, 0x1, 0x1);
        gbc.writeMem(0x946d, { 0xc6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x3ee7);
        EXPECT(gbc.pc(), 0x946f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x946d), 0xc6);
        EXPECT(gbc.readMem(0x946e), 0x93);
        // C6 023B
        gbc.setState(0x689d, 0xf484, 0x6640, 0xe41f, 0x4c72, 0x1f51, 0x1, 0x0);
        gbc.writeMem(0x689d, { 0xc6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xf484);
        EXPECT(gbc.pc(), 0x689f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 023C
        gbc.setState(0x582, 0x3b61, 0xce40, 0x309c, 0x9851, 0x3f88, 0x1, 0x0);
        gbc.writeMem(0x582, { 0xc6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x3b61);
        EXPECT(gbc.pc(), 0x584);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 023D
        gbc.setState(0x1954, 0xc32, 0xafa0, 0x2d85, 0xb981, 0x9bb1, 0x0, 0x0);
        gbc.writeMem(0x1954, { 0xc6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc32);
        EXPECT(gbc.pc(), 0x1956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 023E
        gbc.setState(0x7ee0, 0x1c79, 0x9900, 0x8b1e, 0x734, 0x5688, 0x0, 0x0);
        gbc.writeMem(0x7ee0, { 0xc6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x1c79);
        EXPECT(gbc.pc(), 0x7ee2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0240
        gbc.setState(0x8736, 0x7df2, 0xa7d0, 0x1c36, 0x12e4, 0xd952, 0x0, 0x0);
        gbc.writeMem(0x8736, { 0xc6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x7df2);
        EXPECT(gbc.pc(), 0x8738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8736), 0xc6);
        EXPECT(gbc.readMem(0x8737), 0xb);
        // C6 0241
        gbc.setState(0x9bbe, 0x86fc, 0x22f0, 0x8d8e, 0x63d9, 0x5b31, 0x1, 0x1);
        gbc.writeMem(0x9bbe, { 0xc6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x86fc);
        EXPECT(gbc.pc(), 0x9bc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bbe), 0xc6);
        EXPECT(gbc.readMem(0x9bbf), 0x34);
        // C6 0242
        gbc.setState(0x6f26, 0x3687, 0x1680, 0xabc, 0x7681, 0x5d16, 0x1, 0x0);
        gbc.writeMem(0x6f26, { 0xc6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x3687);
        EXPECT(gbc.pc(), 0x6f28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0243
        gbc.setState(0x7431, 0xe724, 0xccc0, 0xdf44, 0xd45b, 0xa957, 0x0, 0x1);
        gbc.writeMem(0x7431, { 0xc6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe724);
        EXPECT(gbc.pc(), 0x7433);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0244
        gbc.setState(0x631d, 0x6dab, 0xbea0, 0xe62b, 0x968a, 0x6357, 0x0, 0x1);
        gbc.writeMem(0x631d, { 0xc6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6dab);
        EXPECT(gbc.pc(), 0x631f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0245
        gbc.setState(0xce6b, 0x529b, 0xb00, 0xeef4, 0xaaf9, 0xa464, 0x0, 0x1);
        gbc.writeMem(0xce6b, { 0xc6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x529b);
        EXPECT(gbc.pc(), 0xce6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce6b), 0xc6);
        EXPECT(gbc.readMem(0xce6c), 0x74);
        // C6 0246
        gbc.setState(0x8a18, 0xabc, 0x69e0, 0x3113, 0x8418, 0xbe4f, 0x1, 0x1);
        gbc.writeMem(0x8a18, { 0xc6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xabc);
        EXPECT(gbc.pc(), 0x8a1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a18), 0xc6);
        EXPECT(gbc.readMem(0x8a19), 0x68);
        // C6 0247
        gbc.setState(0x716d, 0xee, 0xd580, 0x5703, 0x1f10, 0x936c, 0x1, 0x0);
        gbc.writeMem(0x716d, { 0xc6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xee);
        EXPECT(gbc.pc(), 0x716f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0248
        gbc.setState(0xd397, 0x8175, 0x9c20, 0xd548, 0xb52b, 0xe19b, 0x1, 0x1);
        gbc.writeMem(0xd397, { 0xc6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x8175);
        EXPECT(gbc.pc(), 0xd399);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd397), 0xc6);
        EXPECT(gbc.readMem(0xd398), 0xf9);
        // C6 0249
        gbc.setState(0xc79b, 0xd2b3, 0xe6f0, 0x2c0c, 0x1186, 0xb, 0x0, 0x0);
        gbc.writeMem(0xc79b, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xd2b3);
        EXPECT(gbc.pc(), 0xc79d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc79b), 0xc6);
        EXPECT(gbc.readMem(0xc79c), 0x62);
        // C6 024A
        gbc.setState(0xdf64, 0xd9f, 0xbe00, 0x6e4a, 0x19a3, 0x755a, 0x0, 0x1);
        gbc.writeMem(0xdf64, { 0xc6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xd9f);
        EXPECT(gbc.pc(), 0xdf66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf64), 0xc6);
        EXPECT(gbc.readMem(0xdf65), 0xc5);
        // C6 024B
        gbc.setState(0x9762, 0xaf5, 0xe3e0, 0x3d1c, 0xd181, 0x7d0, 0x1, 0x1);
        gbc.writeMem(0x9762, { 0xc6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xaf5);
        EXPECT(gbc.pc(), 0x9764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9762), 0xc6);
        EXPECT(gbc.readMem(0x9763), 0x81);
        // C6 024C
        gbc.setState(0xe569, 0xb6b4, 0x3680, 0x271c, 0xd5d, 0xe7d7, 0x0, 0x1);
        gbc.writeMem(0xe569, { 0xc6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb6b4);
        EXPECT(gbc.pc(), 0xe56b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe569), 0xc6);
        EXPECT(gbc.readMem(0xe56a), 0x72);
        // C6 024E
        gbc.setState(0x438f, 0xcec0, 0xc50, 0x727, 0x9f12, 0xada8, 0x1, 0x0);
        gbc.writeMem(0x438f, { 0xc6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcec0);
        EXPECT(gbc.pc(), 0x4391);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 024F
        gbc.setState(0x8c3d, 0x872d, 0xd9d0, 0x24ac, 0x6bb5, 0x953d, 0x1, 0x0);
        gbc.writeMem(0x8c3d, { 0xc6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x872d);
        EXPECT(gbc.pc(), 0x8c3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c3d), 0xc6);
        EXPECT(gbc.readMem(0x8c3e), 0xc2);
        // C6 0251
        gbc.setState(0x4996, 0xaf8b, 0x8b70, 0x1be1, 0x6c9c, 0xf50b, 0x0, 0x1);
        gbc.writeMem(0x4996, { 0xc6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xaf8b);
        EXPECT(gbc.pc(), 0x4998);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0252
        gbc.setState(0xb175, 0x3802, 0x2540, 0x23f4, 0x297d, 0x6989, 0x1, 0x0);
        gbc.writeMem(0xb175, { 0xc6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3802);
        EXPECT(gbc.pc(), 0xb177);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb175), 0xc6);
        EXPECT(gbc.readMem(0xb176), 0xb7);
        // C6 0253
        gbc.setState(0x2345, 0x369d, 0x4080, 0x6639, 0xcd54, 0x2ff, 0x0, 0x1);
        gbc.writeMem(0x2345, { 0xc6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x369d);
        EXPECT(gbc.pc(), 0x2347);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0254
        gbc.setState(0x7ddc, 0x37d6, 0xb480, 0x6178, 0xc7c3, 0xa6c3, 0x1, 0x1);
        gbc.writeMem(0x7ddc, { 0xc6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x37d6);
        EXPECT(gbc.pc(), 0x7dde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0255
        gbc.setState(0xbf24, 0x9288, 0xb310, 0xf304, 0x574a, 0x2478, 0x1, 0x1);
        gbc.writeMem(0xbf24, { 0xc6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9288);
        EXPECT(gbc.pc(), 0xbf26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf24), 0xc6);
        EXPECT(gbc.readMem(0xbf25), 0x3f);
        // C6 0256
        gbc.setState(0xb5c2, 0x5aa0, 0xaac0, 0xd32d, 0xc602, 0xa925, 0x0, 0x1);
        gbc.writeMem(0xb5c2, { 0xc6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5aa0);
        EXPECT(gbc.pc(), 0xb5c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5c2), 0xc6);
        EXPECT(gbc.readMem(0xb5c3), 0x80);
        // C6 0257
        gbc.setState(0x2b6f, 0x10b3, 0x1d80, 0x9b7e, 0x3df6, 0xc9e3, 0x0, 0x1);
        gbc.writeMem(0x2b6f, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x10b3);
        EXPECT(gbc.pc(), 0x2b71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0258
        gbc.setState(0xda7c, 0xd1f1, 0xe20, 0xd6fd, 0x7d59, 0x7fde, 0x1, 0x1);
        gbc.writeMem(0xda7c, { 0xc6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd1f1);
        EXPECT(gbc.pc(), 0xda7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda7c), 0xc6);
        EXPECT(gbc.readMem(0xda7d), 0xf2);
        // C6 0259
        gbc.setState(0xbfdb, 0x857a, 0xcf10, 0xd416, 0x427d, 0xf09a, 0x1, 0x0);
        gbc.writeMem(0xbfdb, { 0xc6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x857a);
        EXPECT(gbc.pc(), 0xbfdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfdb), 0xc6);
        EXPECT(gbc.readMem(0xbfdc), 0xb9);
        // C6 025A
        gbc.setState(0xed7b, 0x1600, 0x45e0, 0xa591, 0x3495, 0xd186, 0x1, 0x0);
        gbc.writeMem(0xed7b, { 0xc6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1600);
        EXPECT(gbc.pc(), 0xed7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed7b), 0xc6);
        EXPECT(gbc.readMem(0xed7c), 0x44);
        // C6 025B
        gbc.setState(0x7e5e, 0xf0, 0xe3e0, 0xcf26, 0xa3b8, 0xb5a1, 0x1, 0x1);
        gbc.writeMem(0x7e5e, { 0xc6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf0);
        EXPECT(gbc.pc(), 0x7e60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 025C
        gbc.setState(0x2556, 0x55e5, 0xd2d0, 0x3bc7, 0xc776, 0x6bd9, 0x0, 0x0);
        gbc.writeMem(0x2556, { 0xc6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x55e5);
        EXPECT(gbc.pc(), 0x2558);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 025D
        gbc.setState(0x524c, 0xf285, 0x7360, 0x5361, 0x2190, 0xf87c, 0x1, 0x0);
        gbc.writeMem(0x524c, { 0xc6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf285);
        EXPECT(gbc.pc(), 0x524e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 025E
        gbc.setState(0x8b3b, 0xc603, 0x8bf0, 0x240c, 0xc66d, 0xf499, 0x0, 0x0);
        gbc.writeMem(0x8b3b, { 0xc6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xc603);
        EXPECT(gbc.pc(), 0x8b3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b3b), 0xc6);
        EXPECT(gbc.readMem(0x8b3c), 0x0);
        // C6 025F
        gbc.setState(0x6c57, 0xa06e, 0x270, 0xfe1c, 0xa3a6, 0x4dc0, 0x0, 0x0);
        gbc.writeMem(0x6c57, { 0xc6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xa06e);
        EXPECT(gbc.pc(), 0x6c59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0260
        gbc.setState(0x27d8, 0x57f2, 0x2770, 0x35fc, 0x6251, 0x4496, 0x0, 0x1);
        gbc.writeMem(0x27d8, { 0xc6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x57f2);
        EXPECT(gbc.pc(), 0x27da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0261
        gbc.setState(0x2cb8, 0x1c2d, 0xddf0, 0xfc00, 0xb4c, 0xc892, 0x0, 0x0);
        gbc.writeMem(0x2cb8, { 0xc6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x1c2d);
        EXPECT(gbc.pc(), 0x2cba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0262
        gbc.setState(0xe8f7, 0x1cf0, 0xcbd0, 0x21d3, 0x783b, 0xb26c, 0x1, 0x1);
        gbc.writeMem(0xe8f7, { 0xc6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x1cf0);
        EXPECT(gbc.pc(), 0xe8f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8f7), 0xc6);
        EXPECT(gbc.readMem(0xe8f8), 0x0);
        // C6 0263
        gbc.setState(0xb044, 0xd9a3, 0xd7f0, 0x3294, 0x3794, 0x7136, 0x0, 0x1);
        gbc.writeMem(0xb044, { 0xc6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xd9a3);
        EXPECT(gbc.pc(), 0xb046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb044), 0xc6);
        EXPECT(gbc.readMem(0xb045), 0x5f);
        // C6 0265
        gbc.setState(0x6406, 0xfefb, 0x4b30, 0xb6c3, 0x68cc, 0x3820, 0x1, 0x1);
        gbc.writeMem(0x6406, { 0xc6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xfefb);
        EXPECT(gbc.pc(), 0x6408);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0266
        gbc.setState(0x3e4e, 0xadc2, 0xeed0, 0x3ca9, 0x3f3b, 0x51c9, 0x1, 0x0);
        gbc.writeMem(0x3e4e, { 0xc6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xadc2);
        EXPECT(gbc.pc(), 0x3e50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0267
        gbc.setState(0x8b0c, 0xd6fb, 0xba40, 0xa86d, 0xb8d6, 0x6b86, 0x1, 0x1);
        gbc.writeMem(0x8b0c, { 0xc6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd6fb);
        EXPECT(gbc.pc(), 0x8b0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b0c), 0xc6);
        EXPECT(gbc.readMem(0x8b0d), 0x14);
        // C6 0268
        gbc.setState(0x6f80, 0x28d4, 0x3640, 0xc28, 0xbcbd, 0xe1a1, 0x1, 0x0);
        gbc.writeMem(0x6f80, { 0xc6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x28d4);
        EXPECT(gbc.pc(), 0x6f82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0269
        gbc.setState(0x5726, 0x7670, 0x2ff0, 0x4373, 0xd5dc, 0x83bb, 0x0, 0x0);
        gbc.writeMem(0x5726, { 0xc6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7670);
        EXPECT(gbc.pc(), 0x5728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 026B
        gbc.setState(0x342d, 0xbce8, 0xb6d0, 0x9928, 0x71dd, 0x1ef7, 0x0, 0x1);
        gbc.writeMem(0x342d, { 0xc6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbce8);
        EXPECT(gbc.pc(), 0x342f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 026C
        gbc.setState(0x3277, 0x1f01, 0x85d0, 0x644b, 0x5743, 0x6ca3, 0x1, 0x0);
        gbc.writeMem(0x3277, { 0xc6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1f01);
        EXPECT(gbc.pc(), 0x3279);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 026D
        gbc.setState(0xe3b8, 0xbc92, 0x20e0, 0x56a4, 0x36c7, 0x86be, 0x1, 0x1);
        gbc.writeMem(0xe3b8, { 0xc6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xbc92);
        EXPECT(gbc.pc(), 0xe3ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b8), 0xc6);
        EXPECT(gbc.readMem(0xe3b9), 0x7e);
        // C6 026E
        gbc.setState(0x39f, 0x272a, 0x3170, 0x7bb5, 0x5a75, 0x16c2, 0x0, 0x0);
        gbc.writeMem(0x39f, { 0xc6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x272a);
        EXPECT(gbc.pc(), 0x3a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 026F
        gbc.setState(0x82f1, 0x3ba7, 0x4f20, 0xcbaf, 0xcddd, 0x6be, 0x0, 0x1);
        gbc.writeMem(0x82f1, { 0xc6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3ba7);
        EXPECT(gbc.pc(), 0x82f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82f1), 0xc6);
        EXPECT(gbc.readMem(0x82f2), 0x22);
        // C6 0270
        gbc.setState(0x3cb0, 0xa7bf, 0x2ba0, 0x119c, 0x8617, 0x41fb, 0x0, 0x0);
        gbc.writeMem(0x3cb0, { 0xc6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa7bf);
        EXPECT(gbc.pc(), 0x3cb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0271
        gbc.setState(0x5c39, 0xda90, 0x2b20, 0x5430, 0xf45e, 0xfea0, 0x0, 0x0);
        gbc.writeMem(0x5c39, { 0xc6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xda90);
        EXPECT(gbc.pc(), 0x5c3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0272
        gbc.setState(0x4d12, 0xc0d7, 0xcc10, 0xc0d7, 0x1121, 0xb072, 0x0, 0x1);
        gbc.writeMem(0x4d12, { 0xc6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc0d7);
        EXPECT(gbc.pc(), 0x4d14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0273
        gbc.setState(0x3397, 0x588e, 0xc910, 0x3c55, 0xf814, 0x2bc1, 0x0, 0x0);
        gbc.writeMem(0x3397, { 0xc6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x588e);
        EXPECT(gbc.pc(), 0x3399);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0274
        gbc.setState(0xebfb, 0x9b0e, 0x5550, 0xd38e, 0x10de, 0x2bb, 0x1, 0x0);
        gbc.writeMem(0xebfb, { 0xc6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x9b0e);
        EXPECT(gbc.pc(), 0xebfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebfb), 0xc6);
        EXPECT(gbc.readMem(0xebfc), 0xb7);
        // C6 0275
        gbc.setState(0x53aa, 0x4f30, 0xb100, 0xdaad, 0x577e, 0x601a, 0x1, 0x1);
        gbc.writeMem(0x53aa, { 0xc6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4f30);
        EXPECT(gbc.pc(), 0x53ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0276
        gbc.setState(0x57b9, 0x8a2f, 0xf730, 0xfacb, 0x6d11, 0x4fea, 0x1, 0x0);
        gbc.writeMem(0x57b9, { 0xc6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8a2f);
        EXPECT(gbc.pc(), 0x57bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0277
        gbc.setState(0xebb9, 0xb8fa, 0x9570, 0x72, 0xae4e, 0x3ff2, 0x1, 0x0);
        gbc.writeMem(0xebb9, { 0xc6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb8fa);
        EXPECT(gbc.pc(), 0xebbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebb9), 0xc6);
        EXPECT(gbc.readMem(0xebba), 0x1d);
        // C6 0278
        gbc.setState(0x2f74, 0xb5d5, 0x9cd0, 0xecc7, 0x72f8, 0x1856, 0x0, 0x0);
        gbc.writeMem(0x2f74, { 0xc6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xb5d5);
        EXPECT(gbc.pc(), 0x2f76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0279
        gbc.setState(0x1187, 0x8169, 0x31d0, 0x54f5, 0x4721, 0x44cd, 0x1, 0x0);
        gbc.writeMem(0x1187, { 0xc6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x8169);
        EXPECT(gbc.pc(), 0x1189);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 027A
        gbc.setState(0x8574, 0x8296, 0xce0, 0x9cdd, 0xfa68, 0x3c7c, 0x1, 0x0);
        gbc.writeMem(0x8574, { 0xc6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x8296);
        EXPECT(gbc.pc(), 0x8576);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8574), 0xc6);
        EXPECT(gbc.readMem(0x8575), 0x4d);
        // C6 027B
        gbc.setState(0xefe0, 0x44a5, 0xd50, 0xcfe5, 0x517d, 0x47b7, 0x0, 0x1);
        gbc.writeMem(0xefe0, { 0xc6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x44a5);
        EXPECT(gbc.pc(), 0xefe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefe0), 0xc6);
        EXPECT(gbc.readMem(0xefe1), 0x52);
        // C6 027C
        gbc.setState(0xcfb8, 0x2a1a, 0x2f0, 0x7c53, 0x3afe, 0xb8b3, 0x1, 0x1);
        gbc.writeMem(0xcfb8, { 0xc6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2a1a);
        EXPECT(gbc.pc(), 0xcfba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfb8), 0xc6);
        EXPECT(gbc.readMem(0xcfb9), 0x1d);
        // C6 027D
        gbc.setState(0x254e, 0xf0ff, 0x770, 0xfb7f, 0x8eb0, 0x427f, 0x1, 0x1);
        gbc.writeMem(0x254e, { 0xc6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf0ff);
        EXPECT(gbc.pc(), 0x2550);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 027F
        gbc.setState(0x4aa9, 0xcbd8, 0x9ab0, 0x4644, 0xe054, 0xbee4, 0x1, 0x0);
        gbc.writeMem(0x4aa9, { 0xc6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xcbd8);
        EXPECT(gbc.pc(), 0x4aab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0280
        gbc.setState(0x7b47, 0x56f3, 0x4910, 0x2a08, 0xedb, 0x6f07, 0x1, 0x1);
        gbc.writeMem(0x7b47, { 0xc6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x56f3);
        EXPECT(gbc.pc(), 0x7b49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0281
        gbc.setState(0x6e0e, 0x8fdc, 0x1090, 0x23e8, 0x8ce0, 0xd937, 0x1, 0x1);
        gbc.writeMem(0x6e0e, { 0xc6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x8fdc);
        EXPECT(gbc.pc(), 0x6e10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0282
        gbc.setState(0x5683, 0x5789, 0x7ec0, 0x1c5a, 0x38a5, 0xeaff, 0x1, 0x0);
        gbc.writeMem(0x5683, { 0xc6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x5789);
        EXPECT(gbc.pc(), 0x5685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0283
        gbc.setState(0x4e7a, 0xb8ae, 0x620, 0x884, 0x39cf, 0x5d55, 0x1, 0x0);
        gbc.writeMem(0x4e7a, { 0xc6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xb8ae);
        EXPECT(gbc.pc(), 0x4e7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0284
        gbc.setState(0x55ad, 0x57a9, 0xd0f0, 0x501, 0xb45c, 0x2b, 0x0, 0x1);
        gbc.writeMem(0x55ad, { 0xc6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x57a9);
        EXPECT(gbc.pc(), 0x55af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0285
        gbc.setState(0xeacf, 0x9baa, 0x740, 0x1838, 0x2fb, 0x3f00, 0x0, 0x1);
        gbc.writeMem(0xeacf, { 0xc6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x9baa);
        EXPECT(gbc.pc(), 0xead1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeacf), 0xc6);
        EXPECT(gbc.readMem(0xead0), 0xe5);
        // C6 0286
        gbc.setState(0x7d4, 0x93cb, 0xbe90, 0xb4b2, 0xf9b8, 0x2a91, 0x1, 0x0);
        gbc.writeMem(0x7d4, { 0xc6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x93cb);
        EXPECT(gbc.pc(), 0x7d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0287
        gbc.setState(0xc87b, 0x6c4f, 0x4b80, 0xcf4f, 0x75bc, 0x6ff3, 0x0, 0x1);
        gbc.writeMem(0xc87b, { 0xc6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x6c4f);
        EXPECT(gbc.pc(), 0xc87d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc87b), 0xc6);
        EXPECT(gbc.readMem(0xc87c), 0xc9);
        // C6 0288
        gbc.setState(0x6db8, 0xc7fd, 0x2cb0, 0x8173, 0x9785, 0xbf6d, 0x0, 0x1);
        gbc.writeMem(0x6db8, { 0xc6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xc7fd);
        EXPECT(gbc.pc(), 0x6dba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0289
        gbc.setState(0x1ea9, 0x1ad6, 0x8290, 0xa259, 0x32f4, 0x6b5c, 0x0, 0x1);
        gbc.writeMem(0x1ea9, { 0xc6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1ad6);
        EXPECT(gbc.pc(), 0x1eab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 028A
        gbc.setState(0xfdb, 0xf044, 0x9070, 0xd470, 0xf2ed, 0xd1e, 0x1, 0x1);
        gbc.writeMem(0xfdb, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf044);
        EXPECT(gbc.pc(), 0xfdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 028B
        gbc.setState(0x7fd4, 0x5f49, 0x7390, 0x7250, 0x8fac, 0x1da7, 0x0, 0x1);
        gbc.writeMem(0x7fd4, { 0xc6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x5f49);
        EXPECT(gbc.pc(), 0x7fd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 028C
        gbc.setState(0xcb29, 0xa588, 0x2ae0, 0x979b, 0xb5f4, 0x23c5, 0x1, 0x0);
        gbc.writeMem(0xcb29, { 0xc6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa588);
        EXPECT(gbc.pc(), 0xcb2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb29), 0xc6);
        EXPECT(gbc.readMem(0xcb2a), 0xa7);
        // C6 028D
        gbc.setState(0x8069, 0x168c, 0xbd10, 0x4f14, 0x8bc8, 0xceec, 0x0, 0x0);
        gbc.writeMem(0x8069, { 0xc6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x168c);
        EXPECT(gbc.pc(), 0x806b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8069), 0xc6);
        EXPECT(gbc.readMem(0x806a), 0xb);
        // C6 028E
        gbc.setState(0x940f, 0x9048, 0x5480, 0x7909, 0x676e, 0x9ab, 0x1, 0x0);
        gbc.writeMem(0x940f, { 0xc6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x9048);
        EXPECT(gbc.pc(), 0x9411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x940f), 0xc6);
        EXPECT(gbc.readMem(0x9410), 0xf3);
        // C6 028F
        gbc.setState(0x3547, 0x8da8, 0x79a0, 0xb165, 0x23, 0xacea, 0x1, 0x1);
        gbc.writeMem(0x3547, { 0xc6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8da8);
        EXPECT(gbc.pc(), 0x3549);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0290
        gbc.setState(0xd7a8, 0x603a, 0x5930, 0xe36d, 0x1fa2, 0xb000, 0x0, 0x0);
        gbc.writeMem(0xd7a8, { 0xc6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x603a);
        EXPECT(gbc.pc(), 0xd7aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7a8), 0xc6);
        EXPECT(gbc.readMem(0xd7a9), 0xc2);
        // C6 0291
        gbc.setState(0xa659, 0x3e1, 0x3e60, 0x9779, 0x4424, 0x33bb, 0x1, 0x1);
        gbc.writeMem(0xa659, { 0xc6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x3e1);
        EXPECT(gbc.pc(), 0xa65b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa659), 0xc6);
        EXPECT(gbc.readMem(0xa65a), 0xab);
        // C6 0292
        gbc.setState(0xe69a, 0xba8e, 0x34f0, 0xdc37, 0xa286, 0xa666, 0x0, 0x1);
        gbc.writeMem(0xe69a, { 0xc6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xba8e);
        EXPECT(gbc.pc(), 0xe69c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe69a), 0xc6);
        EXPECT(gbc.readMem(0xe69b), 0x42);
        // C6 0293
        gbc.setState(0x1816, 0x19e0, 0x3d30, 0x1625, 0xd1c7, 0x66a, 0x1, 0x1);
        gbc.writeMem(0x1816, { 0xc6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x19e0);
        EXPECT(gbc.pc(), 0x1818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0294
        gbc.setState(0x2ccd, 0xba7f, 0x2130, 0x48fa, 0x203f, 0x4309, 0x0, 0x1);
        gbc.writeMem(0x2ccd, { 0xc6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xba7f);
        EXPECT(gbc.pc(), 0x2ccf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0295
        gbc.setState(0x1ac1, 0xca99, 0x3f90, 0xf8ba, 0xa55b, 0x852c, 0x0, 0x0);
        gbc.writeMem(0x1ac1, { 0xc6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xca99);
        EXPECT(gbc.pc(), 0x1ac3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0296
        gbc.setState(0x1be9, 0x5d35, 0x8d80, 0x58eb, 0x5d98, 0xeb5c, 0x1, 0x0);
        gbc.writeMem(0x1be9, { 0xc6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5d35);
        EXPECT(gbc.pc(), 0x1beb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0297
        gbc.setState(0xd607, 0xddc1, 0x6d00, 0xfed2, 0xae09, 0x1bb6, 0x0, 0x0);
        gbc.writeMem(0xd607, { 0xc6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xddc1);
        EXPECT(gbc.pc(), 0xd609);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd607), 0xc6);
        EXPECT(gbc.readMem(0xd608), 0x8);
        // C6 0298
        gbc.setState(0xc7fc, 0xffd7, 0x6360, 0x8515, 0x14a1, 0x5914, 0x0, 0x0);
        gbc.writeMem(0xc7fc, { 0xc6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xffd7);
        EXPECT(gbc.pc(), 0xc7fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7fc), 0xc6);
        EXPECT(gbc.readMem(0xc7fd), 0x3e);
        // C6 0299
        gbc.setState(0xa031, 0x4e43, 0x44c0, 0x519d, 0x6611, 0x7668, 0x0, 0x0);
        gbc.writeMem(0xa031, { 0xc6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x4e43);
        EXPECT(gbc.pc(), 0xa033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa031), 0xc6);
        EXPECT(gbc.readMem(0xa032), 0x34);
        // C6 029A
        gbc.setState(0x2e8d, 0x1f7, 0xd90, 0x974c, 0x6e29, 0x2e69, 0x1, 0x0);
        gbc.writeMem(0x2e8d, { 0xc6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x1f7);
        EXPECT(gbc.pc(), 0x2e8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 029B
        gbc.setState(0x3fad, 0xc9d4, 0xcd90, 0x1916, 0x7f6, 0xae6, 0x1, 0x0);
        gbc.writeMem(0x3fad, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc9d4);
        EXPECT(gbc.pc(), 0x3faf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 029C
        gbc.setState(0xaa31, 0x1f55, 0x4cd0, 0x2650, 0x5450, 0xf35b, 0x0, 0x0);
        gbc.writeMem(0xaa31, { 0xc6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x1f55);
        EXPECT(gbc.pc(), 0xaa33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa31), 0xc6);
        EXPECT(gbc.readMem(0xaa32), 0xee);
        // C6 029D
        gbc.setState(0xa4bd, 0x4dfc, 0xdec0, 0x3da0, 0x603d, 0x44e1, 0x1, 0x0);
        gbc.writeMem(0xa4bd, { 0xc6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x4dfc);
        EXPECT(gbc.pc(), 0xa4bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4bd), 0xc6);
        EXPECT(gbc.readMem(0xa4be), 0x52);
        // C6 029E
        gbc.setState(0xb026, 0xe387, 0xdaa0, 0xe99e, 0x5bbc, 0x4e50, 0x0, 0x0);
        gbc.writeMem(0xb026, { 0xc6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe387);
        EXPECT(gbc.pc(), 0xb028);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb026), 0xc6);
        EXPECT(gbc.readMem(0xb027), 0x1d);
        // C6 029F
        gbc.setState(0x23d, 0x9422, 0x9af0, 0x102b, 0xbb8d, 0x829, 0x1, 0x0);
        gbc.writeMem(0x23d, { 0xc6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x9422);
        EXPECT(gbc.pc(), 0x23f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02A0
        gbc.setState(0x75e2, 0xcdc1, 0xef00, 0x2511, 0xce88, 0x7abf, 0x1, 0x1);
        gbc.writeMem(0x75e2, { 0xc6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xcdc1);
        EXPECT(gbc.pc(), 0x75e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02A1
        gbc.setState(0x2454, 0xd04b, 0xcd50, 0xa941, 0xc0d0, 0xee3b, 0x0, 0x1);
        gbc.writeMem(0x2454, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd04b);
        EXPECT(gbc.pc(), 0x2456);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02A2
        gbc.setState(0xe411, 0xe02d, 0xdb80, 0x6cab, 0xa236, 0xa36b, 0x0, 0x1);
        gbc.writeMem(0xe411, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xe02d);
        EXPECT(gbc.pc(), 0xe413);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe411), 0xc6);
        EXPECT(gbc.readMem(0xe412), 0x53);
        // C6 02A3
        gbc.setState(0x8d89, 0xde3d, 0x9890, 0x6cf9, 0xbd72, 0xc831, 0x0, 0x1);
        gbc.writeMem(0x8d89, { 0xc6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xde3d);
        EXPECT(gbc.pc(), 0x8d8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d89), 0xc6);
        EXPECT(gbc.readMem(0x8d8a), 0x79);
        // C6 02A4
        gbc.setState(0x7528, 0x3dc5, 0x7210, 0x635d, 0xbdd5, 0x2315, 0x1, 0x1);
        gbc.writeMem(0x7528, { 0xc6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x3dc5);
        EXPECT(gbc.pc(), 0x752a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02A5
        gbc.setState(0xbe6e, 0x6c57, 0x8090, 0xc8b4, 0xd97f, 0x305a, 0x1, 0x1);
        gbc.writeMem(0xbe6e, { 0xc6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x6c57);
        EXPECT(gbc.pc(), 0xbe70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe6e), 0xc6);
        EXPECT(gbc.readMem(0xbe6f), 0x2c);
        // C6 02A6
        gbc.setState(0xafff, 0x3928, 0x6fd0, 0xff1e, 0x51d4, 0xe549, 0x1, 0x1);
        gbc.writeMem(0xafff, { 0xc6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3928);
        EXPECT(gbc.pc(), 0xb001);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafff), 0xc6);
        EXPECT(gbc.readMem(0xb000), 0x74);
        // C6 02A7
        gbc.setState(0x2174, 0x3922, 0xb4c0, 0x98c5, 0x4a73, 0x19cc, 0x0, 0x1);
        gbc.writeMem(0x2174, { 0xc6, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x3922);
        EXPECT(gbc.pc(), 0x2176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02A8
        gbc.setState(0x2396, 0x9f1a, 0x31d0, 0xd0e9, 0xd4e8, 0xad3d, 0x0, 0x1);
        gbc.writeMem(0x2396, { 0xc6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9f1a);
        EXPECT(gbc.pc(), 0x2398);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02A9
        gbc.setState(0x5958, 0x7333, 0xa450, 0x9fbb, 0x25ee, 0x8174, 0x1, 0x1);
        gbc.writeMem(0x5958, { 0xc6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x7333);
        EXPECT(gbc.pc(), 0x595a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02AA
        gbc.setState(0x59d0, 0xa9df, 0xd270, 0x4f1b, 0xc733, 0xd71c, 0x1, 0x0);
        gbc.writeMem(0x59d0, { 0xc6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa9df);
        EXPECT(gbc.pc(), 0x59d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02AB
        gbc.setState(0xe652, 0x86b7, 0x2840, 0x35b3, 0xa4ce, 0x1f24, 0x1, 0x1);
        gbc.writeMem(0xe652, { 0xc6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x86b7);
        EXPECT(gbc.pc(), 0xe654);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe652), 0xc6);
        EXPECT(gbc.readMem(0xe653), 0x36);
        // C6 02AC
        gbc.setState(0xb288, 0x7b89, 0xd0a0, 0xf951, 0x914a, 0x76be, 0x0, 0x1);
        gbc.writeMem(0xb288, { 0xc6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7b89);
        EXPECT(gbc.pc(), 0xb28a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb288), 0xc6);
        EXPECT(gbc.readMem(0xb289), 0xd3);
        // C6 02AE
        gbc.setState(0x9796, 0xc405, 0xe520, 0xa29b, 0x9766, 0x7518, 0x1, 0x1);
        gbc.writeMem(0x9796, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc405);
        EXPECT(gbc.pc(), 0x9798);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9796), 0xc6);
        EXPECT(gbc.readMem(0x9797), 0x64);
        // C6 02AF
        gbc.setState(0x38eb, 0x7b4, 0xc9d0, 0xf611, 0x3ff0, 0x3b41, 0x0, 0x0);
        gbc.writeMem(0x38eb, { 0xc6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7b4);
        EXPECT(gbc.pc(), 0x38ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02B0
        gbc.setState(0x805e, 0x4bf4, 0xbb00, 0x3d1d, 0x548c, 0xdc7d, 0x1, 0x1);
        gbc.writeMem(0x805e, { 0xc6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x4bf4);
        EXPECT(gbc.pc(), 0x8060);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x805e), 0xc6);
        EXPECT(gbc.readMem(0x805f), 0x73);
        // C6 02B1
        gbc.setState(0x304, 0x6d04, 0xec50, 0x5c44, 0x7bbf, 0xaf11, 0x0, 0x0);
        gbc.writeMem(0x304, { 0xc6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x6d04);
        EXPECT(gbc.pc(), 0x306);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02B2
        gbc.setState(0x4d08, 0x5bb9, 0xbae0, 0x4ac3, 0x8fbf, 0x74dc, 0x1, 0x0);
        gbc.writeMem(0x4d08, { 0xc6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x5bb9);
        EXPECT(gbc.pc(), 0x4d0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02B3
        gbc.setState(0xd60d, 0xc600, 0xb2b0, 0x870b, 0x3a67, 0xcae6, 0x1, 0x0);
        gbc.writeMem(0xd60d, { 0xc6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc600);
        EXPECT(gbc.pc(), 0xd60f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd60d), 0xc6);
        EXPECT(gbc.readMem(0xd60e), 0xb2);
        // C6 02B4
        gbc.setState(0xb716, 0xf7c7, 0xee80, 0x3443, 0x5604, 0x6ccc, 0x1, 0x1);
        gbc.writeMem(0xb716, { 0xc6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf7c7);
        EXPECT(gbc.pc(), 0xb718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb716), 0xc6);
        EXPECT(gbc.readMem(0xb717), 0x98);
        // C6 02B5
        gbc.setState(0xa46a, 0x3fc5, 0xf580, 0x53e, 0xe80c, 0x8643, 0x0, 0x0);
        gbc.writeMem(0xa46a, { 0xc6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3fc5);
        EXPECT(gbc.pc(), 0xa46c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa46a), 0xc6);
        EXPECT(gbc.readMem(0xa46b), 0x59);
        // C6 02B6
        gbc.setState(0x4e93, 0xb064, 0x48e0, 0xe83, 0x7bbf, 0xea84, 0x1, 0x0);
        gbc.writeMem(0x4e93, { 0xc6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb064);
        EXPECT(gbc.pc(), 0x4e95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 02B7
        gbc.setState(0xba15, 0xe2d, 0x7630, 0xba86, 0x724a, 0x573c, 0x0, 0x1);
        gbc.writeMem(0xba15, { 0xc6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xe2d);
        EXPECT(gbc.pc(), 0xba17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba15), 0xc6);
        EXPECT(gbc.readMem(0xba16), 0x79);
        // C6 02B8
        gbc.setState(0x1301, 0x875f, 0x2c90, 0x3259, 0x4b23, 0x50cc, 0x1, 0x0);
        gbc.writeMem(0x1301, { 0xc6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x875f);
        EXPECT(gbc.pc(), 0x1303);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 02B9
        gbc.setState(0x43cc, 0xf28e, 0xea90, 0x1eb, 0x92c8, 0xe517, 0x0, 0x0);
        gbc.writeMem(0x43cc, { 0xc6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf28e);
        EXPECT(gbc.pc(), 0x43ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02BA
        gbc.setState(0x2609, 0xedef, 0x34a0, 0xd960, 0x39f1, 0xd8e3, 0x1, 0x1);
        gbc.writeMem(0x2609, { 0xc6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xedef);
        EXPECT(gbc.pc(), 0x260b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02BB
        gbc.setState(0x6a8c, 0x917d, 0x9f00, 0xd224, 0x47de, 0x8c0, 0x1, 0x0);
        gbc.writeMem(0x6a8c, { 0xc6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x917d);
        EXPECT(gbc.pc(), 0x6a8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02BC
        gbc.setState(0x31a3, 0x460c, 0x7890, 0xcc, 0x806b, 0x2289, 0x1, 0x1);
        gbc.writeMem(0x31a3, { 0xc6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x460c);
        EXPECT(gbc.pc(), 0x31a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02BD
        gbc.setState(0xc0bb, 0xca48, 0x8460, 0xa878, 0x2711, 0x1ae0, 0x0, 0x1);
        gbc.writeMem(0xc0bb, { 0xc6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xca48);
        EXPECT(gbc.pc(), 0xc0bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0bb), 0xc6);
        EXPECT(gbc.readMem(0xc0bc), 0xa9);
        // C6 02BE
        gbc.setState(0x5de6, 0xd6c2, 0x7780, 0xde5b, 0x2bef, 0x3316, 0x1, 0x1);
        gbc.writeMem(0x5de6, { 0xc6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd6c2);
        EXPECT(gbc.pc(), 0x5de8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 02BF
        gbc.setState(0x6f85, 0x6abf, 0xdd70, 0x8335, 0x73c7, 0xac53, 0x1, 0x1);
        gbc.writeMem(0x6f85, { 0xc6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x6abf);
        EXPECT(gbc.pc(), 0x6f87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02C0
        gbc.setState(0x632e, 0x59c8, 0xde40, 0xa21, 0xd02a, 0x2299, 0x0, 0x1);
        gbc.writeMem(0x632e, { 0xc6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x59c8);
        EXPECT(gbc.pc(), 0x6330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 02C1
        gbc.setState(0x8560, 0x6f98, 0xa3b0, 0x75a6, 0x87c0, 0x7677, 0x0, 0x0);
        gbc.writeMem(0x8560, { 0xc6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x6f98);
        EXPECT(gbc.pc(), 0x8562);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8560), 0xc6);
        EXPECT(gbc.readMem(0x8561), 0xe3);
        // C6 02C2
        gbc.setState(0x87e6, 0xe494, 0xeed0, 0x7426, 0x2ea0, 0xbe1c, 0x1, 0x0);
        gbc.writeMem(0x87e6, { 0xc6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe494);
        EXPECT(gbc.pc(), 0x87e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87e6), 0xc6);
        EXPECT(gbc.readMem(0x87e7), 0xf9);
        // C6 02C3
        gbc.setState(0x91cc, 0x5e68, 0x8b40, 0x89ce, 0x752f, 0xe8cd, 0x1, 0x0);
        gbc.writeMem(0x91cc, { 0xc6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5e68);
        EXPECT(gbc.pc(), 0x91ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91cc), 0xc6);
        EXPECT(gbc.readMem(0x91cd), 0xe2);
        // C6 02C4
        gbc.setState(0x4f94, 0x1bb5, 0xe130, 0x26fb, 0x7c72, 0x609d, 0x1, 0x1);
        gbc.writeMem(0x4f94, { 0xc6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x1bb5);
        EXPECT(gbc.pc(), 0x4f96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 02C5
        gbc.setState(0x1535, 0xb5d0, 0xd4d0, 0xbd4d, 0x3d14, 0x309d, 0x0, 0x1);
        gbc.writeMem(0x1535, { 0xc6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb5d0);
        EXPECT(gbc.pc(), 0x1537);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02C6
        gbc.setState(0x25c6, 0xf37d, 0xff30, 0x2610, 0x5b6d, 0x6593, 0x0, 0x1);
        gbc.writeMem(0x25c6, { 0xc6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf37d);
        EXPECT(gbc.pc(), 0x25c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02C7
        gbc.setState(0xae9, 0x130f, 0xefc0, 0xae27, 0xa9af, 0x8247, 0x1, 0x1);
        gbc.writeMem(0xae9, { 0xc6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x130f);
        EXPECT(gbc.pc(), 0xaeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02C8
        gbc.setState(0x4cc4, 0x9f03, 0xb880, 0xc951, 0x7041, 0xee79, 0x1, 0x1);
        gbc.writeMem(0x4cc4, { 0xc6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9f03);
        EXPECT(gbc.pc(), 0x4cc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02C9
        gbc.setState(0x485c, 0x6ec3, 0xc6b0, 0x5b69, 0xcfc0, 0xb46d, 0x0, 0x0);
        gbc.writeMem(0x485c, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x6ec3);
        EXPECT(gbc.pc(), 0x485e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02CC
        gbc.setState(0xb70f, 0xd3da, 0x2510, 0xd837, 0xcf9f, 0x3b44, 0x1, 0x0);
        gbc.writeMem(0xb70f, { 0xc6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xd3da);
        EXPECT(gbc.pc(), 0xb711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb70f), 0xc6);
        EXPECT(gbc.readMem(0xb710), 0xfc);
        // C6 02CD
        gbc.setState(0x4332, 0xc598, 0xba70, 0x7c65, 0x7cfd, 0x6472, 0x0, 0x0);
        gbc.writeMem(0x4332, { 0xc6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc598);
        EXPECT(gbc.pc(), 0x4334);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02CE
        gbc.setState(0xb134, 0x1a91, 0xb040, 0xb319, 0xcca2, 0x4301, 0x0, 0x1);
        gbc.writeMem(0xb134, { 0xc6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x1a91);
        EXPECT(gbc.pc(), 0xb136);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb134), 0xc6);
        EXPECT(gbc.readMem(0xb135), 0x57);
        // C6 02CF
        gbc.setState(0xc39f, 0x16f8, 0xab80, 0x53ed, 0x8175, 0x6db6, 0x0, 0x0);
        gbc.writeMem(0xc39f, { 0xc6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x16f8);
        EXPECT(gbc.pc(), 0xc3a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc39f), 0xc6);
        EXPECT(gbc.readMem(0xc3a0), 0x26);
        // C6 02D0
        gbc.setState(0x40f9, 0xd9af, 0xd640, 0xb2b, 0x8535, 0x74e, 0x1, 0x1);
        gbc.writeMem(0x40f9, { 0xc6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd9af);
        EXPECT(gbc.pc(), 0x40fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02D1
        gbc.setState(0x3763, 0x802f, 0x2870, 0x5a1d, 0xe6fa, 0x3b6, 0x0, 0x0);
        gbc.writeMem(0x3763, { 0xc6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x802f);
        EXPECT(gbc.pc(), 0x3765);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 02D2
        gbc.setState(0xd09e, 0x7cc9, 0x3d30, 0x493e, 0xbe96, 0xae06, 0x1, 0x1);
        gbc.writeMem(0xd09e, { 0xc6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x7cc9);
        EXPECT(gbc.pc(), 0xd0a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd09e), 0xc6);
        EXPECT(gbc.readMem(0xd09f), 0x2a);
        // C6 02D3
        gbc.setState(0x516a, 0xde54, 0x61f0, 0xb42e, 0xf858, 0xa47e, 0x0, 0x0);
        gbc.writeMem(0x516a, { 0xc6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xde54);
        EXPECT(gbc.pc(), 0x516c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02D4
        gbc.setState(0xa80f, 0xa408, 0xaa80, 0x70c9, 0xa0c3, 0xa85d, 0x1, 0x0);
        gbc.writeMem(0xa80f, { 0xc6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa408);
        EXPECT(gbc.pc(), 0xa811);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa80f), 0xc6);
        EXPECT(gbc.readMem(0xa810), 0xaa);
        // C6 02D5
        gbc.setState(0x31d3, 0x83d9, 0xb130, 0x51a7, 0xd30c, 0x9776, 0x1, 0x0);
        gbc.writeMem(0x31d3, { 0xc6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x83d9);
        EXPECT(gbc.pc(), 0x31d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02D6
        gbc.setState(0xeb92, 0x8304, 0xe140, 0xa763, 0x26b3, 0xb258, 0x1, 0x1);
        gbc.writeMem(0xeb92, { 0xc6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8304);
        EXPECT(gbc.pc(), 0xeb94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb92), 0xc6);
        EXPECT(gbc.readMem(0xeb93), 0x50);
        // C6 02D7
        gbc.setState(0x5f00, 0xec5d, 0x6660, 0x83d3, 0xfc7e, 0x27ff, 0x0, 0x0);
        gbc.writeMem(0x5f00, { 0xc6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xec5d);
        EXPECT(gbc.pc(), 0x5f02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02D8
        gbc.setState(0xa13c, 0x49c, 0x83b0, 0xd6fc, 0x5160, 0x8f0f, 0x1, 0x1);
        gbc.writeMem(0xa13c, { 0xc6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x49c);
        EXPECT(gbc.pc(), 0xa13e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa13c), 0xc6);
        EXPECT(gbc.readMem(0xa13d), 0x26);
        // C6 02D9
        gbc.setState(0xa9ea, 0x43c, 0x3670, 0x31ff, 0x4cac, 0x7da6, 0x0, 0x0);
        gbc.writeMem(0xa9ea, { 0xc6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x43c);
        EXPECT(gbc.pc(), 0xa9ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9ea), 0xc6);
        EXPECT(gbc.readMem(0xa9eb), 0xd1);
        // C6 02DA
        gbc.setState(0x78d9, 0x4feb, 0x8250, 0x1f0, 0x30d5, 0x4d85, 0x1, 0x0);
        gbc.writeMem(0x78d9, { 0xc6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x4feb);
        EXPECT(gbc.pc(), 0x78db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02DB
        gbc.setState(0x36fa, 0x76e2, 0xed30, 0x945d, 0x11b7, 0x4564, 0x1, 0x0);
        gbc.writeMem(0x36fa, { 0xc6, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x76e2);
        EXPECT(gbc.pc(), 0x36fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02DC
        gbc.setState(0xd38e, 0xc254, 0x51e0, 0x2341, 0x1702, 0xd6ef, 0x1, 0x0);
        gbc.writeMem(0xd38e, { 0xc6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xc254);
        EXPECT(gbc.pc(), 0xd390);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd38e), 0xc6);
        EXPECT(gbc.readMem(0xd38f), 0x91);
        // C6 02DD
        gbc.setState(0xf1, 0x753a, 0x85a0, 0x6ad6, 0x2343, 0xea70, 0x1, 0x1);
        gbc.writeMem(0xf1, { 0xc6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x753a);
        EXPECT(gbc.pc(), 0xf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02DE
        gbc.setState(0x3bdb, 0x12b8, 0xf9e0, 0xa9cf, 0x53df, 0x658e, 0x0, 0x1);
        gbc.writeMem(0x3bdb, { 0xc6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x12b8);
        EXPECT(gbc.pc(), 0x3bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02DF
        gbc.setState(0x9c5b, 0xe709, 0x6100, 0x3d32, 0xaf3a, 0xae18, 0x1, 0x0);
        gbc.writeMem(0x9c5b, { 0xc6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xe709);
        EXPECT(gbc.pc(), 0x9c5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c5b), 0xc6);
        EXPECT(gbc.readMem(0x9c5c), 0x6b);
        // C6 02E0
        gbc.setState(0xb47f, 0x2af7, 0x34c0, 0xbed7, 0x19d0, 0x773, 0x0, 0x1);
        gbc.writeMem(0xb47f, { 0xc6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x2af7);
        EXPECT(gbc.pc(), 0xb481);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb47f), 0xc6);
        EXPECT(gbc.readMem(0xb480), 0xc1);
        // C6 02E1
        gbc.setState(0x5c61, 0xbf20, 0x40b0, 0xabdc, 0xd2b2, 0x8981, 0x0, 0x1);
        gbc.writeMem(0x5c61, { 0xc6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xbf20);
        EXPECT(gbc.pc(), 0x5c63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02E2
        gbc.setState(0xb0de, 0x6989, 0x1030, 0xd68a, 0x521, 0xbc44, 0x1, 0x0);
        gbc.writeMem(0xb0de, { 0xc6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6989);
        EXPECT(gbc.pc(), 0xb0e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0de), 0xc6);
        EXPECT(gbc.readMem(0xb0df), 0x87);
        // C6 02E5
        gbc.setState(0x7058, 0xe6a, 0xe190, 0xd1ab, 0x4142, 0x9563, 0x1, 0x1);
        gbc.writeMem(0x7058, { 0xc6, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xe6a);
        EXPECT(gbc.pc(), 0x705a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02E6
        gbc.setState(0xb5c5, 0xa650, 0xc920, 0x3d75, 0xed27, 0x941c, 0x1, 0x1);
        gbc.writeMem(0xb5c5, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa650);
        EXPECT(gbc.pc(), 0xb5c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5c5), 0xc6);
        EXPECT(gbc.readMem(0xb5c6), 0x53);
        // C6 02E7
        gbc.setState(0x61c7, 0xcc9a, 0x6490, 0x4783, 0xbfe, 0xc63c, 0x0, 0x1);
        gbc.writeMem(0x61c7, { 0xc6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xcc9a);
        EXPECT(gbc.pc(), 0x61c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02E8
        gbc.setState(0x8f19, 0x729c, 0xcf30, 0x996d, 0xb110, 0x2c5b, 0x1, 0x0);
        gbc.writeMem(0x8f19, { 0xc6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x729c);
        EXPECT(gbc.pc(), 0x8f1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f19), 0xc6);
        EXPECT(gbc.readMem(0x8f1a), 0x1b);
        // C6 02E9
        gbc.setState(0xe76e, 0xbeb, 0x4350, 0x467e, 0xf865, 0x4721, 0x0, 0x1);
        gbc.writeMem(0xe76e, { 0xc6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xbeb);
        EXPECT(gbc.pc(), 0xe770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe76e), 0xc6);
        EXPECT(gbc.readMem(0xe76f), 0x7a);
        // C6 02EA
        gbc.setState(0x6200, 0x1086, 0xd900, 0xabb2, 0xbf99, 0x9687, 0x1, 0x1);
        gbc.writeMem(0x6200, { 0xc6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x1086);
        EXPECT(gbc.pc(), 0x6202);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02EC
        gbc.setState(0x2fed, 0xb247, 0x1540, 0x8e5e, 0x5c57, 0xc8c2, 0x1, 0x0);
        gbc.writeMem(0x2fed, { 0xc6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb247);
        EXPECT(gbc.pc(), 0x2fef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02ED
        gbc.setState(0xd2f6, 0x9f7, 0x9a30, 0xff89, 0x3f0a, 0x28df, 0x0, 0x1);
        gbc.writeMem(0xd2f6, { 0xc6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9f7);
        EXPECT(gbc.pc(), 0xd2f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2f6), 0xc6);
        EXPECT(gbc.readMem(0xd2f7), 0xdb);
        // C6 02EE
        gbc.setState(0x3a1, 0xa20, 0xf1b0, 0xf24d, 0x9894, 0xf50b, 0x1, 0x1);
        gbc.writeMem(0x3a1, { 0xc6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa20);
        EXPECT(gbc.pc(), 0x3a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02EF
        gbc.setState(0xa5f4, 0x2fe8, 0x6070, 0x4423, 0xe458, 0x4070, 0x1, 0x1);
        gbc.writeMem(0xa5f4, { 0xc6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2fe8);
        EXPECT(gbc.pc(), 0xa5f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5f4), 0xc6);
        EXPECT(gbc.readMem(0xa5f5), 0xbe);
        // C6 02F0
        gbc.setState(0x5527, 0xcbf7, 0x69a0, 0x79f7, 0xc35a, 0x763f, 0x1, 0x0);
        gbc.writeMem(0x5527, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xcbf7);
        EXPECT(gbc.pc(), 0x5529);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02F1
        gbc.setState(0x5943, 0xc1ed, 0xec90, 0xc96c, 0x5214, 0x9b85, 0x0, 0x1);
        gbc.writeMem(0x5943, { 0xc6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xc1ed);
        EXPECT(gbc.pc(), 0x5945);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02F2
        gbc.setState(0x24b4, 0x3adb, 0x11d0, 0xa42f, 0x2ba2, 0xea7d, 0x1, 0x0);
        gbc.writeMem(0x24b4, { 0xc6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x3adb);
        EXPECT(gbc.pc(), 0x24b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 02F3
        gbc.setState(0x9e93, 0x3e61, 0x47a0, 0xdf3c, 0x4ac6, 0x63e5, 0x1, 0x1);
        gbc.writeMem(0x9e93, { 0xc6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3e61);
        EXPECT(gbc.pc(), 0x9e95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e93), 0xc6);
        EXPECT(gbc.readMem(0x9e94), 0xdb);
        // C6 02F4
        gbc.setState(0x89a1, 0xe301, 0x2330, 0x6ea5, 0x8ecb, 0xcfc1, 0x0, 0x0);
        gbc.writeMem(0x89a1, { 0xc6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe301);
        EXPECT(gbc.pc(), 0x89a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89a1), 0xc6);
        EXPECT(gbc.readMem(0x89a2), 0x3f);
        // C6 02F5
        gbc.setState(0x94ca, 0x610d, 0x45e0, 0x4238, 0xf7ce, 0x1a3c, 0x0, 0x0);
        gbc.writeMem(0x94ca, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x610d);
        EXPECT(gbc.pc(), 0x94cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ca), 0xc6);
        EXPECT(gbc.readMem(0x94cb), 0x64);
        // C6 02F6
        gbc.setState(0xa024, 0x7824, 0xff40, 0x9b0c, 0x9bc3, 0xc068, 0x1, 0x0);
        gbc.writeMem(0xa024, { 0xc6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7824);
        EXPECT(gbc.pc(), 0xa026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa024), 0xc6);
        EXPECT(gbc.readMem(0xa025), 0x2d);
        // C6 02F7
        gbc.setState(0x5d6b, 0x86b0, 0xf520, 0x9110, 0x8fea, 0x16bf, 0x1, 0x1);
        gbc.writeMem(0x5d6b, { 0xc6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x86b0);
        EXPECT(gbc.pc(), 0x5d6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02F8
        gbc.setState(0x11e4, 0x9dac, 0xb370, 0xcd68, 0xfac4, 0x66aa, 0x0, 0x0);
        gbc.writeMem(0x11e4, { 0xc6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x9dac);
        EXPECT(gbc.pc(), 0x11e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 02F9
        gbc.setState(0x7dbd, 0xc1fb, 0xcac0, 0xabc, 0xaf47, 0xcd87, 0x1, 0x1);
        gbc.writeMem(0x7dbd, { 0xc6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xc1fb);
        EXPECT(gbc.pc(), 0x7dbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02FA
        gbc.setState(0x70b0, 0x8a9f, 0xa320, 0x77e9, 0x2058, 0x9656, 0x1, 0x1);
        gbc.writeMem(0x70b0, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8a9f);
        EXPECT(gbc.pc(), 0x70b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 02FB
        gbc.setState(0xa89a, 0xe612, 0x5930, 0x89bb, 0x2e0a, 0xf7fe, 0x1, 0x1);
        gbc.writeMem(0xa89a, { 0xc6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe612);
        EXPECT(gbc.pc(), 0xa89c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa89a), 0xc6);
        EXPECT(gbc.readMem(0xa89b), 0x9f);
        // C6 02FC
        gbc.setState(0xd878, 0xacee, 0xb730, 0x5cb3, 0x9783, 0xab4c, 0x0, 0x0);
        gbc.writeMem(0xd878, { 0xc6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xacee);
        EXPECT(gbc.pc(), 0xd87a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd878), 0xc6);
        EXPECT(gbc.readMem(0xd879), 0x2f);
        // C6 02FD
        gbc.setState(0x6289, 0xc830, 0x9dd0, 0x427c, 0x27ad, 0x4a77, 0x0, 0x1);
        gbc.writeMem(0x6289, { 0xc6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc830);
        EXPECT(gbc.pc(), 0x628b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 02FF
        gbc.setState(0x8bcc, 0x1456, 0x530, 0x3238, 0xd33b, 0x1090, 0x0, 0x1);
        gbc.writeMem(0x8bcc, { 0xc6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x1456);
        EXPECT(gbc.pc(), 0x8bce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bcc), 0xc6);
        EXPECT(gbc.readMem(0x8bcd), 0x26);
        // C6 0300
        gbc.setState(0x42ec, 0xcecb, 0xc910, 0xc051, 0x670b, 0x91fb, 0x1, 0x1);
        gbc.writeMem(0x42ec, { 0xc6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcecb);
        EXPECT(gbc.pc(), 0x42ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0301
        gbc.setState(0x9ed4, 0x22c0, 0x2140, 0xfb2a, 0x2a50, 0x69a5, 0x0, 0x1);
        gbc.writeMem(0x9ed4, { 0xc6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x22c0);
        EXPECT(gbc.pc(), 0x9ed6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ed4), 0xc6);
        EXPECT(gbc.readMem(0x9ed5), 0xb0);
        // C6 0302
        gbc.setState(0x869d, 0x5a7c, 0x3cf0, 0x7032, 0xe469, 0x6c3, 0x1, 0x1);
        gbc.writeMem(0x869d, { 0xc6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5a7c);
        EXPECT(gbc.pc(), 0x869f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x869d), 0xc6);
        EXPECT(gbc.readMem(0x869e), 0x0);
        // C6 0303
        gbc.setState(0x9e3a, 0x5eef, 0x23b0, 0x3122, 0x949a, 0xc713, 0x1, 0x1);
        gbc.writeMem(0x9e3a, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x5eef);
        EXPECT(gbc.pc(), 0x9e3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e3a), 0xc6);
        EXPECT(gbc.readMem(0x9e3b), 0x33);
        // C6 0304
        gbc.setState(0x9dbf, 0xe66c, 0xc7a0, 0x2435, 0x31ab, 0x863d, 0x0, 0x1);
        gbc.writeMem(0x9dbf, { 0xc6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe66c);
        EXPECT(gbc.pc(), 0x9dc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dbf), 0xc6);
        EXPECT(gbc.readMem(0x9dc0), 0xda);
        // C6 0305
        gbc.setState(0xe6d0, 0xa0be, 0xaa50, 0xcdb5, 0x3d78, 0x58e3, 0x1, 0x0);
        gbc.writeMem(0xe6d0, { 0xc6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xa0be);
        EXPECT(gbc.pc(), 0xe6d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6d0), 0xc6);
        EXPECT(gbc.readMem(0xe6d1), 0xd5);
        // C6 0306
        gbc.setState(0x52bc, 0x63fe, 0x13d0, 0xa6fd, 0x5569, 0x441c, 0x1, 0x1);
        gbc.writeMem(0x52bc, { 0xc6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x63fe);
        EXPECT(gbc.pc(), 0x52be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0307
        gbc.setState(0x5579, 0x8793, 0x1550, 0xeb18, 0xc8e8, 0x5ed5, 0x0, 0x1);
        gbc.writeMem(0x5579, { 0xc6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8793);
        EXPECT(gbc.pc(), 0x557b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0308
        gbc.setState(0x9b36, 0x1969, 0x9c10, 0x7e05, 0xa0, 0x56a8, 0x0, 0x1);
        gbc.writeMem(0x9b36, { 0xc6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1969);
        EXPECT(gbc.pc(), 0x9b38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b36), 0xc6);
        EXPECT(gbc.readMem(0x9b37), 0x2c);
        // C6 0309
        gbc.setState(0xcfc1, 0x735c, 0x71d0, 0x330c, 0x9abb, 0xe97b, 0x1, 0x0);
        gbc.writeMem(0xcfc1, { 0xc6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x735c);
        EXPECT(gbc.pc(), 0xcfc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfc1), 0xc6);
        EXPECT(gbc.readMem(0xcfc2), 0x4c);
        // C6 030A
        gbc.setState(0xb682, 0x17ae, 0xebd0, 0xd60, 0x331, 0xaa14, 0x1, 0x1);
        gbc.writeMem(0xb682, { 0xc6, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x17ae);
        EXPECT(gbc.pc(), 0xb684);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb682), 0xc6);
        EXPECT(gbc.readMem(0xb683), 0x31);
        // C6 030B
        gbc.setState(0xb699, 0x7f06, 0x4860, 0x93d6, 0xeb1b, 0xe4f9, 0x1, 0x0);
        gbc.writeMem(0xb699, { 0xc6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7f06);
        EXPECT(gbc.pc(), 0xb69b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb699), 0xc6);
        EXPECT(gbc.readMem(0xb69a), 0x89);
        // C6 030C
        gbc.setState(0x4a8b, 0xee85, 0x8a00, 0x10f0, 0xf4f4, 0xb25d, 0x1, 0x0);
        gbc.writeMem(0x4a8b, { 0xc6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xee85);
        EXPECT(gbc.pc(), 0x4a8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 030D
        gbc.setState(0xceeb, 0x44a7, 0x88e0, 0x1509, 0x3071, 0xfd2d, 0x1, 0x1);
        gbc.writeMem(0xceeb, { 0xc6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x44a7);
        EXPECT(gbc.pc(), 0xceed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xceeb), 0xc6);
        EXPECT(gbc.readMem(0xceec), 0xd5);
        // C6 030E
        gbc.setState(0x32f6, 0x529b, 0x9ad0, 0x24d4, 0xbdbb, 0xad2b, 0x0, 0x0);
        gbc.writeMem(0x32f6, { 0xc6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x529b);
        EXPECT(gbc.pc(), 0x32f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 030F
        gbc.setState(0xcfcd, 0xba4a, 0xe410, 0x8f8c, 0x1b0, 0xd53, 0x1, 0x1);
        gbc.writeMem(0xcfcd, { 0xc6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xba4a);
        EXPECT(gbc.pc(), 0xcfcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfcd), 0xc6);
        EXPECT(gbc.readMem(0xcfce), 0x68);
        // C6 0310
        gbc.setState(0x7454, 0xf1b2, 0xc20, 0x3f95, 0x8b87, 0xb769, 0x1, 0x1);
        gbc.writeMem(0x7454, { 0xc6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xf1b2);
        EXPECT(gbc.pc(), 0x7456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0311
        gbc.setState(0x6c9a, 0x9ace, 0xd780, 0xc725, 0x725d, 0x968e, 0x0, 0x1);
        gbc.writeMem(0x6c9a, { 0xc6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x9ace);
        EXPECT(gbc.pc(), 0x6c9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0312
        gbc.setState(0x8180, 0x30cc, 0x2e00, 0xf2c9, 0x7a65, 0x16f2, 0x1, 0x0);
        gbc.writeMem(0x8180, { 0xc6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x30cc);
        EXPECT(gbc.pc(), 0x8182);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8180), 0xc6);
        EXPECT(gbc.readMem(0x8181), 0x51);
        // C6 0313
        gbc.setState(0xeb26, 0x4189, 0x5360, 0xecba, 0x37e9, 0x60e3, 0x0, 0x0);
        gbc.writeMem(0xeb26, { 0xc6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4189);
        EXPECT(gbc.pc(), 0xeb28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb26), 0xc6);
        EXPECT(gbc.readMem(0xeb27), 0xa3);
        // C6 0314
        gbc.setState(0x7d8c, 0x821c, 0xbf20, 0x6331, 0xbdc1, 0x9066, 0x1, 0x1);
        gbc.writeMem(0x7d8c, { 0xc6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x821c);
        EXPECT(gbc.pc(), 0x7d8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0315
        gbc.setState(0xe71e, 0x1cbd, 0x4290, 0x13ea, 0xeff1, 0xaf75, 0x0, 0x1);
        gbc.writeMem(0xe71e, { 0xc6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x1cbd);
        EXPECT(gbc.pc(), 0xe720);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe71e), 0xc6);
        EXPECT(gbc.readMem(0xe71f), 0xb2);
        // C6 0316
        gbc.setState(0xd8ae, 0xe471, 0x7190, 0x6c3b, 0x1e00, 0xcf5b, 0x0, 0x0);
        gbc.writeMem(0xd8ae, { 0xc6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xe471);
        EXPECT(gbc.pc(), 0xd8b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8ae), 0xc6);
        EXPECT(gbc.readMem(0xd8af), 0x45);
        // C6 0317
        gbc.setState(0x4048, 0xe37f, 0x68e0, 0x5e4d, 0x92cb, 0x270a, 0x0, 0x1);
        gbc.writeMem(0x4048, { 0xc6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe37f);
        EXPECT(gbc.pc(), 0x404a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0318
        gbc.setState(0x8df2, 0xce94, 0xd9d0, 0xd75b, 0x5d2, 0xaa89, 0x0, 0x0);
        gbc.writeMem(0x8df2, { 0xc6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xce94);
        EXPECT(gbc.pc(), 0x8df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8df2), 0xc6);
        EXPECT(gbc.readMem(0x8df3), 0xca);
        // C6 0319
        gbc.setState(0xf6e, 0xecad, 0x64e0, 0xb36b, 0xca7a, 0x3ce0, 0x0, 0x1);
        gbc.writeMem(0xf6e, { 0xc6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xecad);
        EXPECT(gbc.pc(), 0xf70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 031A
        gbc.setState(0xd2, 0x89c0, 0xad0, 0xe9c0, 0xf2fc, 0x5a07, 0x0, 0x1);
        gbc.writeMem(0xd2, { 0xc6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x89c0);
        EXPECT(gbc.pc(), 0xd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 031B
        gbc.setState(0x69d8, 0xc2d0, 0xcce0, 0x82c5, 0x6be5, 0x64fe, 0x0, 0x0);
        gbc.writeMem(0x69d8, { 0xc6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc2d0);
        EXPECT(gbc.pc(), 0x69da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 031D
        gbc.setState(0x60a5, 0x3834, 0x5290, 0xbee0, 0xdeec, 0x14b7, 0x1, 0x0);
        gbc.writeMem(0x60a5, { 0xc6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x3834);
        EXPECT(gbc.pc(), 0x60a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 031E
        gbc.setState(0x516e, 0xc2fd, 0xf910, 0x5408, 0x90d, 0xe3e2, 0x0, 0x1);
        gbc.writeMem(0x516e, { 0xc6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc2fd);
        EXPECT(gbc.pc(), 0x5170);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 031F
        gbc.setState(0x5b30, 0x27a8, 0x4cf0, 0x9e91, 0x7a5e, 0x4417, 0x0, 0x1);
        gbc.writeMem(0x5b30, { 0xc6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x27a8);
        EXPECT(gbc.pc(), 0x5b32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0320
        gbc.setState(0xd0ad, 0xc21c, 0xd40, 0x923f, 0x8590, 0xcb43, 0x1, 0x0);
        gbc.writeMem(0xd0ad, { 0xc6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xc21c);
        EXPECT(gbc.pc(), 0xd0af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0ad), 0xc6);
        EXPECT(gbc.readMem(0xd0ae), 0xf9);
        // C6 0321
        gbc.setState(0x48f7, 0xa1a3, 0x5d0, 0x351f, 0x8865, 0xef4, 0x0, 0x1);
        gbc.writeMem(0x48f7, { 0xc6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa1a3);
        EXPECT(gbc.pc(), 0x48f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0322
        gbc.setState(0xa866, 0xee61, 0xb290, 0x801e, 0x6c4a, 0x93ae, 0x1, 0x0);
        gbc.writeMem(0xa866, { 0xc6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xee61);
        EXPECT(gbc.pc(), 0xa868);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa866), 0xc6);
        EXPECT(gbc.readMem(0xa867), 0x75);
        // C6 0323
        gbc.setState(0x2bb1, 0xc6b4, 0xddd0, 0xcf3c, 0x5110, 0x3874, 0x0, 0x0);
        gbc.writeMem(0x2bb1, { 0xc6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc6b4);
        EXPECT(gbc.pc(), 0x2bb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0324
        gbc.setState(0x1230, 0xd904, 0x5f00, 0x937a, 0xa14c, 0x16cd, 0x0, 0x1);
        gbc.writeMem(0x1230, { 0xc6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd904);
        EXPECT(gbc.pc(), 0x1232);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0325
        gbc.setState(0x47e4, 0x1cec, 0xfdc0, 0xb11e, 0x14d3, 0x6e1d, 0x0, 0x1);
        gbc.writeMem(0x47e4, { 0xc6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1cec);
        EXPECT(gbc.pc(), 0x47e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0326
        gbc.setState(0x7807, 0x745, 0x7680, 0xc81d, 0xe720, 0x120, 0x1, 0x0);
        gbc.writeMem(0x7807, { 0xc6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x745);
        EXPECT(gbc.pc(), 0x7809);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0327
        gbc.setState(0x7661, 0xd290, 0xa730, 0x48d6, 0x36eb, 0xd535, 0x1, 0x0);
        gbc.writeMem(0x7661, { 0xc6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xd290);
        EXPECT(gbc.pc(), 0x7663);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0328
        gbc.setState(0x7277, 0xcbf2, 0x5e50, 0xba85, 0xce01, 0xd9c9, 0x0, 0x1);
        gbc.writeMem(0x7277, { 0xc6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xcbf2);
        EXPECT(gbc.pc(), 0x7279);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0329
        gbc.setState(0x11dd, 0x7f72, 0x1920, 0x8803, 0x6aeb, 0x8a1, 0x1, 0x1);
        gbc.writeMem(0x11dd, { 0xc6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7f72);
        EXPECT(gbc.pc(), 0x11df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 032A
        gbc.setState(0x2d11, 0xb4df, 0xcb20, 0x9b26, 0x572d, 0x246f, 0x0, 0x1);
        gbc.writeMem(0x2d11, { 0xc6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb4df);
        EXPECT(gbc.pc(), 0x2d13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 032B
        gbc.setState(0x1112, 0x6244, 0xc6c0, 0x32a4, 0x508f, 0x3742, 0x0, 0x0);
        gbc.writeMem(0x1112, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x6244);
        EXPECT(gbc.pc(), 0x1114);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 032C
        gbc.setState(0x2cf7, 0x8760, 0xf9c0, 0x43fc, 0xada0, 0x45a, 0x1, 0x1);
        gbc.writeMem(0x2cf7, { 0xc6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8760);
        EXPECT(gbc.pc(), 0x2cf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 032E
        gbc.setState(0xe5d9, 0x6722, 0x7f90, 0xf42, 0x1c58, 0x3fac, 0x1, 0x0);
        gbc.writeMem(0xe5d9, { 0xc6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6722);
        EXPECT(gbc.pc(), 0xe5db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d9), 0xc6);
        EXPECT(gbc.readMem(0xe5da), 0xf);
        // C6 032F
        gbc.setState(0x1b7d, 0x59a9, 0x8a40, 0x529b, 0xc4ac, 0x2f00, 0x1, 0x1);
        gbc.writeMem(0x1b7d, { 0xc6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x59a9);
        EXPECT(gbc.pc(), 0x1b7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0330
        gbc.setState(0x5540, 0x554e, 0x48b0, 0xc57b, 0xf33b, 0xda1, 0x1, 0x1);
        gbc.writeMem(0x5540, { 0xc6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x554e);
        EXPECT(gbc.pc(), 0x5542);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0331
        gbc.setState(0xafb8, 0xd4bd, 0x6960, 0x8c5f, 0x22a, 0x59db, 0x1, 0x0);
        gbc.writeMem(0xafb8, { 0xc6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd4bd);
        EXPECT(gbc.pc(), 0xafba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafb8), 0xc6);
        EXPECT(gbc.readMem(0xafb9), 0x9b);
        // C6 0332
        gbc.setState(0xdcbe, 0xf8b6, 0x7be0, 0xcc93, 0xb233, 0x13d5, 0x0, 0x0);
        gbc.writeMem(0xdcbe, { 0xc6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xf8b6);
        EXPECT(gbc.pc(), 0xdcc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcbe), 0xc6);
        EXPECT(gbc.readMem(0xdcbf), 0x72);
        // C6 0333
        gbc.setState(0x1c0b, 0x151b, 0xe8b0, 0xf1ef, 0x1473, 0xc92f, 0x0, 0x1);
        gbc.writeMem(0x1c0b, { 0xc6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x151b);
        EXPECT(gbc.pc(), 0x1c0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0334
        gbc.setState(0xfaa, 0x86f8, 0x1510, 0x123f, 0xd94, 0xfc1a, 0x1, 0x1);
        gbc.writeMem(0xfaa, { 0xc6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x86f8);
        EXPECT(gbc.pc(), 0xfac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0335
        gbc.setState(0xabec, 0x3373, 0x150, 0x4887, 0x30ab, 0x8f65, 0x1, 0x0);
        gbc.writeMem(0xabec, { 0xc6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3373);
        EXPECT(gbc.pc(), 0xabee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabec), 0xc6);
        EXPECT(gbc.readMem(0xabed), 0x4a);
        // C6 0336
        gbc.setState(0x9127, 0x1bea, 0xf2f0, 0x1127, 0x9cc0, 0xdd6d, 0x1, 0x0);
        gbc.writeMem(0x9127, { 0xc6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1bea);
        EXPECT(gbc.pc(), 0x9129);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9127), 0xc6);
        EXPECT(gbc.readMem(0x9128), 0xb5);
        // C6 0337
        gbc.setState(0x2928, 0x5a9d, 0x3300, 0xf6f2, 0xd3, 0xaedf, 0x0, 0x0);
        gbc.writeMem(0x2928, { 0xc6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5a9d);
        EXPECT(gbc.pc(), 0x292a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0338
        gbc.setState(0x7b52, 0x1794, 0xfc10, 0x8913, 0x511e, 0x9588, 0x1, 0x1);
        gbc.writeMem(0x7b52, { 0xc6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x1794);
        EXPECT(gbc.pc(), 0x7b54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0339
        gbc.setState(0x8447, 0xed78, 0xa090, 0x7a28, 0xea61, 0x9ae6, 0x1, 0x0);
        gbc.writeMem(0x8447, { 0xc6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xed78);
        EXPECT(gbc.pc(), 0x8449);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8447), 0xc6);
        EXPECT(gbc.readMem(0x8448), 0x98);
        // C6 033A
        gbc.setState(0xa7f5, 0x3e40, 0x2b00, 0xc1e7, 0xf5ed, 0x2389, 0x0, 0x1);
        gbc.writeMem(0xa7f5, { 0xc6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3e40);
        EXPECT(gbc.pc(), 0xa7f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7f5), 0xc6);
        EXPECT(gbc.readMem(0xa7f6), 0xa0);
        // C6 033C
        gbc.setState(0xdb61, 0x5201, 0x4cf0, 0x6f, 0xbf14, 0x4f33, 0x0, 0x1);
        gbc.writeMem(0xdb61, { 0xc6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5201);
        EXPECT(gbc.pc(), 0xdb63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb61), 0xc6);
        EXPECT(gbc.readMem(0xdb62), 0x16);
        // C6 033D
        gbc.setState(0x2e09, 0x602c, 0x6300, 0xca76, 0xf1b6, 0xb058, 0x1, 0x0);
        gbc.writeMem(0x2e09, { 0xc6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x602c);
        EXPECT(gbc.pc(), 0x2e0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 033E
        gbc.setState(0x8ccc, 0x5b7e, 0xd360, 0x8571, 0xf120, 0xa7c4, 0x0, 0x0);
        gbc.writeMem(0x8ccc, { 0xc6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x5b7e);
        EXPECT(gbc.pc(), 0x8cce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ccc), 0xc6);
        EXPECT(gbc.readMem(0x8ccd), 0x27);
        // C6 033F
        gbc.setState(0x7b79, 0x681, 0xc870, 0x4ab7, 0xa285, 0xaa6f, 0x0, 0x0);
        gbc.writeMem(0x7b79, { 0xc6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x681);
        EXPECT(gbc.pc(), 0x7b7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0340
        gbc.setState(0x71bb, 0x5f29, 0x3000, 0xcef9, 0x3f5d, 0xc755, 0x1, 0x1);
        gbc.writeMem(0x71bb, { 0xc6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x5f29);
        EXPECT(gbc.pc(), 0x71bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0341
        gbc.setState(0x9cfb, 0x347b, 0xb480, 0x47e9, 0xc452, 0xa668, 0x1, 0x0);
        gbc.writeMem(0x9cfb, { 0xc6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x347b);
        EXPECT(gbc.pc(), 0x9cfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cfb), 0xc6);
        EXPECT(gbc.readMem(0x9cfc), 0x33);
        // C6 0342
        gbc.setState(0x488f, 0x25fe, 0xa260, 0xe45, 0xc6a7, 0x62ca, 0x1, 0x1);
        gbc.writeMem(0x488f, { 0xc6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x25fe);
        EXPECT(gbc.pc(), 0x4891);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0343
        gbc.setState(0x9306, 0xcf1c, 0xf000, 0xb938, 0x706a, 0x4739, 0x1, 0x1);
        gbc.writeMem(0x9306, { 0xc6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xcf1c);
        EXPECT(gbc.pc(), 0x9308);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9306), 0xc6);
        EXPECT(gbc.readMem(0x9307), 0x38);
        // C6 0344
        gbc.setState(0x8289, 0x9413, 0x6c20, 0xd6e1, 0x736d, 0x6a6e, 0x0, 0x1);
        gbc.writeMem(0x8289, { 0xc6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9413);
        EXPECT(gbc.pc(), 0x828b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8289), 0xc6);
        EXPECT(gbc.readMem(0x828a), 0xdc);
        // C6 0345
        gbc.setState(0x3cfe, 0xfa71, 0x3e30, 0x389b, 0xd9ae, 0xb80f, 0x0, 0x1);
        gbc.writeMem(0x3cfe, { 0xc6, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xfa71);
        EXPECT(gbc.pc(), 0x3d00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0346
        gbc.setState(0xac63, 0x715c, 0x1920, 0x5e85, 0xc2bf, 0x35a1, 0x0, 0x0);
        gbc.writeMem(0xac63, { 0xc6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x715c);
        EXPECT(gbc.pc(), 0xac65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac63), 0xc6);
        EXPECT(gbc.readMem(0xac64), 0x9);
        // C6 0347
        gbc.setState(0x8e1a, 0x2cf5, 0xbe00, 0x2772, 0x8be9, 0x8895, 0x0, 0x0);
        gbc.writeMem(0x8e1a, { 0xc6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2cf5);
        EXPECT(gbc.pc(), 0x8e1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e1a), 0xc6);
        EXPECT(gbc.readMem(0x8e1b), 0x23);
        // C6 0348
        gbc.setState(0xdb58, 0xee58, 0x8890, 0x6915, 0xd2b4, 0x1fcc, 0x0, 0x1);
        gbc.writeMem(0xdb58, { 0xc6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xee58);
        EXPECT(gbc.pc(), 0xdb5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb58), 0xc6);
        EXPECT(gbc.readMem(0xdb59), 0x17);
        // C6 0349
        gbc.setState(0xadf, 0x3609, 0x4750, 0x3df9, 0x60c3, 0x628f, 0x0, 0x1);
        gbc.writeMem(0xadf, { 0xc6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3609);
        EXPECT(gbc.pc(), 0xae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 034A
        gbc.setState(0xe066, 0x23bf, 0x8420, 0xa5eb, 0x7d0a, 0xd3f9, 0x1, 0x0);
        gbc.writeMem(0xe066, { 0xc6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x23bf);
        EXPECT(gbc.pc(), 0xe068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe066), 0xc6);
        EXPECT(gbc.readMem(0xe067), 0x7a);
        // C6 034B
        gbc.setState(0xd212, 0xa936, 0x3df0, 0x5136, 0x8fca, 0x7a3e, 0x0, 0x0);
        gbc.writeMem(0xd212, { 0xc6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa936);
        EXPECT(gbc.pc(), 0xd214);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd212), 0xc6);
        EXPECT(gbc.readMem(0xd213), 0x2f);
        // C6 034C
        gbc.setState(0xeccc, 0x7282, 0xb720, 0xdc90, 0x9d92, 0x92ce, 0x1, 0x0);
        gbc.writeMem(0xeccc, { 0xc6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x7282);
        EXPECT(gbc.pc(), 0xecce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeccc), 0xc6);
        EXPECT(gbc.readMem(0xeccd), 0x1b);
        // C6 034D
        gbc.setState(0xc4f7, 0xf13, 0x80c0, 0x9051, 0x3a32, 0xeac7, 0x1, 0x0);
        gbc.writeMem(0xc4f7, { 0xc6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf13);
        EXPECT(gbc.pc(), 0xc4f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4f7), 0xc6);
        EXPECT(gbc.readMem(0xc4f8), 0x50);
        // C6 034E
        gbc.setState(0xbab3, 0x4cc8, 0x2aa0, 0xae81, 0xe706, 0x9319, 0x1, 0x1);
        gbc.writeMem(0xbab3, { 0xc6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x4cc8);
        EXPECT(gbc.pc(), 0xbab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbab3), 0xc6);
        EXPECT(gbc.readMem(0xbab4), 0xfc);
        // C6 034F
        gbc.setState(0xff7, 0x9fbe, 0x9830, 0x5eda, 0xc85d, 0xe69b, 0x0, 0x0);
        gbc.writeMem(0xff7, { 0xc6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x9fbe);
        EXPECT(gbc.pc(), 0xff9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0350
        gbc.setState(0xaa6b, 0x94df, 0x2660, 0xb4d9, 0x583b, 0x1b2c, 0x0, 0x1);
        gbc.writeMem(0xaa6b, { 0xc6, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x94df);
        EXPECT(gbc.pc(), 0xaa6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa6b), 0xc6);
        EXPECT(gbc.readMem(0xaa6c), 0x48);
        // C6 0351
        gbc.setState(0x6a79, 0x8fba, 0xe570, 0x51fb, 0x99a5, 0xfcbe, 0x0, 0x1);
        gbc.writeMem(0x6a79, { 0xc6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8fba);
        EXPECT(gbc.pc(), 0x6a7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0354
        gbc.setState(0x94a4, 0x39c0, 0xfd30, 0xd8e7, 0x28e3, 0x786, 0x1, 0x1);
        gbc.writeMem(0x94a4, { 0xc6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x39c0);
        EXPECT(gbc.pc(), 0x94a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94a4), 0xc6);
        EXPECT(gbc.readMem(0x94a5), 0x20);
        // C6 0355
        gbc.setState(0xb523, 0x8f20, 0x3ee0, 0x6266, 0xa59c, 0xd33b, 0x1, 0x1);
        gbc.writeMem(0xb523, { 0xc6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8f20);
        EXPECT(gbc.pc(), 0xb525);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb523), 0xc6);
        EXPECT(gbc.readMem(0xb524), 0x10);
        // C6 0356
        gbc.setState(0xb143, 0xd7fa, 0xf280, 0xe0fd, 0x2174, 0xb1ca, 0x0, 0x0);
        gbc.writeMem(0xb143, { 0xc6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd7fa);
        EXPECT(gbc.pc(), 0xb145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb143), 0xc6);
        EXPECT(gbc.readMem(0xb144), 0x90);
        // C6 0359
        gbc.setState(0x1ea6, 0x70aa, 0xec20, 0xcb36, 0x1aa1, 0x364c, 0x0, 0x1);
        gbc.writeMem(0x1ea6, { 0xc6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x70aa);
        EXPECT(gbc.pc(), 0x1ea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 035A
        gbc.setState(0xd323, 0x4a, 0xaab0, 0x7305, 0xb872, 0x40b8, 0x1, 0x1);
        gbc.writeMem(0xd323, { 0xc6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x4a);
        EXPECT(gbc.pc(), 0xd325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd323), 0xc6);
        EXPECT(gbc.readMem(0xd324), 0xec);
        // C6 035B
        gbc.setState(0xb616, 0xbb8b, 0x9b30, 0x318b, 0x12df, 0xa357, 0x0, 0x0);
        gbc.writeMem(0xb616, { 0xc6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xbb8b);
        EXPECT(gbc.pc(), 0xb618);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb616), 0xc6);
        EXPECT(gbc.readMem(0xb617), 0x61);
        // C6 035C
        gbc.setState(0xb62, 0xccbb, 0x80a0, 0xc3e, 0xa253, 0xecd5, 0x1, 0x1);
        gbc.writeMem(0xb62, { 0xc6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xccbb);
        EXPECT(gbc.pc(), 0xb64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 035D
        gbc.setState(0x284d, 0xde74, 0x130, 0x1d6b, 0x943, 0x7278, 0x0, 0x1);
        gbc.writeMem(0x284d, { 0xc6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xde74);
        EXPECT(gbc.pc(), 0x284f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 035E
        gbc.setState(0xa17f, 0x1a9f, 0x8670, 0xde4, 0x4674, 0xe41a, 0x0, 0x0);
        gbc.writeMem(0xa17f, { 0xc6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1a9f);
        EXPECT(gbc.pc(), 0xa181);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa17f), 0xc6);
        EXPECT(gbc.readMem(0xa180), 0xf1);
        // C6 035F
        gbc.setState(0x3f44, 0xf578, 0xa790, 0x4240, 0xf890, 0x2d95, 0x1, 0x1);
        gbc.writeMem(0x3f44, { 0xc6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xf578);
        EXPECT(gbc.pc(), 0x3f46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0360
        gbc.setState(0xa376, 0x14a5, 0x9bb0, 0xaf2c, 0xe0ba, 0xf017, 0x1, 0x1);
        gbc.writeMem(0xa376, { 0xc6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x14a5);
        EXPECT(gbc.pc(), 0xa378);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa376), 0xc6);
        EXPECT(gbc.readMem(0xa377), 0xba);
        // C6 0361
        gbc.setState(0xcf47, 0xf820, 0xf3b0, 0xe5f8, 0x75ba, 0x7a8b, 0x1, 0x0);
        gbc.writeMem(0xcf47, { 0xc6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf820);
        EXPECT(gbc.pc(), 0xcf49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf47), 0xc6);
        EXPECT(gbc.readMem(0xcf48), 0xa4);
        // C6 0362
        gbc.setState(0x57f6, 0x3e75, 0x1c10, 0xa467, 0x2439, 0xc30, 0x0, 0x1);
        gbc.writeMem(0x57f6, { 0xc6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x3e75);
        EXPECT(gbc.pc(), 0x57f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0363
        gbc.setState(0x3412, 0xfc2d, 0xba40, 0x8599, 0xcacd, 0xdd42, 0x1, 0x1);
        gbc.writeMem(0x3412, { 0xc6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xfc2d);
        EXPECT(gbc.pc(), 0x3414);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0364
        gbc.setState(0xe302, 0xd6f3, 0x5e0, 0x35c2, 0xd1a6, 0x6165, 0x1, 0x1);
        gbc.writeMem(0xe302, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd6f3);
        EXPECT(gbc.pc(), 0xe304);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe302), 0xc6);
        EXPECT(gbc.readMem(0xe303), 0x62);
        // C6 0366
        gbc.setState(0xc2d, 0x67f5, 0x3470, 0xd649, 0xcc73, 0xedaa, 0x0, 0x1);
        gbc.writeMem(0xc2d, { 0xc6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x67f5);
        EXPECT(gbc.pc(), 0xc2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0367
        gbc.setState(0x5b9c, 0x3db, 0x3ed0, 0x7420, 0xd985, 0xab3f, 0x0, 0x1);
        gbc.writeMem(0x5b9c, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x3db);
        EXPECT(gbc.pc(), 0x5b9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0368
        gbc.setState(0x648d, 0xd52f, 0x4e00, 0x715c, 0x3efa, 0x7e93, 0x0, 0x0);
        gbc.writeMem(0x648d, { 0xc6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xd52f);
        EXPECT(gbc.pc(), 0x648f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 036A
        gbc.setState(0x6bc0, 0xe42e, 0x18b0, 0xeb70, 0xa678, 0x3296, 0x0, 0x0);
        gbc.writeMem(0x6bc0, { 0xc6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xe42e);
        EXPECT(gbc.pc(), 0x6bc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 036B
        gbc.setState(0x3e2b, 0x3d30, 0xb9c0, 0x591e, 0x50a7, 0x4753, 0x0, 0x1);
        gbc.writeMem(0x3e2b, { 0xc6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x3d30);
        EXPECT(gbc.pc(), 0x3e2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 036C
        gbc.setState(0x733e, 0x1d7f, 0xd680, 0xbae6, 0xd271, 0x7c2, 0x1, 0x1);
        gbc.writeMem(0x733e, { 0xc6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1d7f);
        EXPECT(gbc.pc(), 0x7340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 036D
        gbc.setState(0x8465, 0xcd6d, 0x5c40, 0xa113, 0xec14, 0x4085, 0x1, 0x1);
        gbc.writeMem(0x8465, { 0xc6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xcd6d);
        EXPECT(gbc.pc(), 0x8467);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8465), 0xc6);
        EXPECT(gbc.readMem(0x8466), 0xbd);
        // C6 036E
        gbc.setState(0x4f16, 0x4906, 0xe7c0, 0xcc78, 0x1e6a, 0x9fc7, 0x0, 0x1);
        gbc.writeMem(0x4f16, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x4906);
        EXPECT(gbc.pc(), 0x4f18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 036F
        gbc.setState(0xdeb1, 0x20e4, 0x57a0, 0xdbf7, 0x2318, 0x133b, 0x0, 0x0);
        gbc.writeMem(0xdeb1, { 0xc6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x20e4);
        EXPECT(gbc.pc(), 0xdeb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeb1), 0xc6);
        EXPECT(gbc.readMem(0xdeb2), 0xef);
        // C6 0370
        gbc.setState(0xe059, 0x6545, 0x66e0, 0x94cb, 0xa0d9, 0xd7b2, 0x1, 0x0);
        gbc.writeMem(0xe059, { 0xc6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6545);
        EXPECT(gbc.pc(), 0xe05b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe059), 0xc6);
        EXPECT(gbc.readMem(0xe05a), 0x3);
        // C6 0371
        gbc.setState(0x5783, 0x8d3e, 0x5ef0, 0x579, 0xd16f, 0xc23f, 0x0, 0x1);
        gbc.writeMem(0x5783, { 0xc6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x8d3e);
        EXPECT(gbc.pc(), 0x5785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0372
        gbc.setState(0x814, 0x19f5, 0xd140, 0xd6bc, 0x65e4, 0x3027, 0x1, 0x1);
        gbc.writeMem(0x814, { 0xc6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x19f5);
        EXPECT(gbc.pc(), 0x816);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0373
        gbc.setState(0x29d9, 0xb4d1, 0x8930, 0xc529, 0x9ea7, 0xe022, 0x1, 0x0);
        gbc.writeMem(0x29d9, { 0xc6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xb4d1);
        EXPECT(gbc.pc(), 0x29db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0374
        gbc.setState(0x6526, 0x5e3f, 0x8b40, 0xb43d, 0x2d78, 0xf9ed, 0x0, 0x1);
        gbc.writeMem(0x6526, { 0xc6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x5e3f);
        EXPECT(gbc.pc(), 0x6528);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0375
        gbc.setState(0xb15a, 0xf1eb, 0x4b00, 0x7306, 0x91f5, 0x7fa6, 0x0, 0x0);
        gbc.writeMem(0xb15a, { 0xc6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xf1eb);
        EXPECT(gbc.pc(), 0xb15c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb15a), 0xc6);
        EXPECT(gbc.readMem(0xb15b), 0x7b);
        // C6 0376
        gbc.setState(0x6b29, 0x4d9b, 0x25d0, 0xa90e, 0x386c, 0x204c, 0x0, 0x1);
        gbc.writeMem(0x6b29, { 0xc6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x4d9b);
        EXPECT(gbc.pc(), 0x6b2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0377
        gbc.setState(0x24de, 0xe4f, 0x410, 0xb3fd, 0xfdeb, 0x4414, 0x1, 0x1);
        gbc.writeMem(0x24de, { 0xc6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe4f);
        EXPECT(gbc.pc(), 0x24e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0378
        gbc.setState(0xa6fe, 0x6bff, 0x1a20, 0xe093, 0x2b1f, 0x3c35, 0x1, 0x0);
        gbc.writeMem(0xa6fe, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6bff);
        EXPECT(gbc.pc(), 0xa700);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6fe), 0xc6);
        EXPECT(gbc.readMem(0xa6ff), 0x84);
        // C6 0379
        gbc.setState(0x193f, 0x23d5, 0x2820, 0xf720, 0xb41, 0xfe53, 0x1, 0x1);
        gbc.writeMem(0x193f, { 0xc6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x23d5);
        EXPECT(gbc.pc(), 0x1941);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 037A
        gbc.setState(0x179c, 0x4c93, 0xa9a0, 0x9afe, 0xbc33, 0xded6, 0x1, 0x0);
        gbc.writeMem(0x179c, { 0xc6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x4c93);
        EXPECT(gbc.pc(), 0x179e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 037B
        gbc.setState(0x5136, 0x776, 0x2790, 0x3c5e, 0xb5a9, 0xd48a, 0x1, 0x0);
        gbc.writeMem(0x5136, { 0xc6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x776);
        EXPECT(gbc.pc(), 0x5138);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 037C
        gbc.setState(0x6a0c, 0xd340, 0x44b0, 0x16d3, 0x49d9, 0x6d09, 0x1, 0x0);
        gbc.writeMem(0x6a0c, { 0xc6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xd340);
        EXPECT(gbc.pc(), 0x6a0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 037D
        gbc.setState(0x863b, 0x9f2, 0x9840, 0xdb07, 0x48a5, 0x975a, 0x0, 0x1);
        gbc.writeMem(0x863b, { 0xc6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9f2);
        EXPECT(gbc.pc(), 0x863d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x863b), 0xc6);
        EXPECT(gbc.readMem(0x863c), 0x58);
        // C6 037E
        gbc.setState(0x89b3, 0x7c4e, 0x30f0, 0xb9, 0xbd25, 0x7e23, 0x1, 0x0);
        gbc.writeMem(0x89b3, { 0xc6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7c4e);
        EXPECT(gbc.pc(), 0x89b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89b3), 0xc6);
        EXPECT(gbc.readMem(0x89b4), 0x95);
        // C6 037F
        gbc.setState(0x69c9, 0xbcb7, 0x25a0, 0x26ef, 0xf37f, 0x460f, 0x0, 0x0);
        gbc.writeMem(0x69c9, { 0xc6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xbcb7);
        EXPECT(gbc.pc(), 0x69cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0380
        gbc.setState(0x6477, 0x7a7a, 0xa880, 0x260e, 0x4483, 0xee6d, 0x1, 0x0);
        gbc.writeMem(0x6477, { 0xc6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x7a7a);
        EXPECT(gbc.pc(), 0x6479);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0381
        gbc.setState(0x7778, 0x33f6, 0x78c0, 0xf49c, 0x41e, 0xe4b7, 0x0, 0x1);
        gbc.writeMem(0x7778, { 0xc6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x33f6);
        EXPECT(gbc.pc(), 0x777a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 0382
        gbc.setState(0x5fb, 0xa7ae, 0x1670, 0xc50c, 0xadb5, 0x75be, 0x0, 0x1);
        gbc.writeMem(0x5fb, { 0xc6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xa7ae);
        EXPECT(gbc.pc(), 0x5fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 0383
        gbc.setState(0x39cd, 0x2688, 0x43d0, 0x1fdc, 0x1ea4, 0x2228, 0x1, 0x0);
        gbc.writeMem(0x39cd, { 0xc6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x2688);
        EXPECT(gbc.pc(), 0x39cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0384
        gbc.setState(0x238d, 0xfea6, 0x1440, 0xd5c, 0x9316, 0x9857, 0x1, 0x0);
        gbc.writeMem(0x238d, { 0xc6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xfea6);
        EXPECT(gbc.pc(), 0x238f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 0385
        gbc.setState(0xaded, 0x765a, 0xfb50, 0xa257, 0x7247, 0xdec9, 0x1, 0x0);
        gbc.writeMem(0xaded, { 0xc6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x765a);
        EXPECT(gbc.pc(), 0xadef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaded), 0xc6);
        EXPECT(gbc.readMem(0xadee), 0x8a);
        // C6 0386
        gbc.setState(0xe571, 0xaf69, 0x14c0, 0x21c6, 0x84b6, 0xaf8, 0x0, 0x0);
        gbc.writeMem(0xe571, { 0xc6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xaf69);
        EXPECT(gbc.pc(), 0xe573);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe571), 0xc6);
        EXPECT(gbc.readMem(0xe572), 0xcf);
        // C6 0387
        gbc.setState(0xc71e, 0xaa75, 0x9c40, 0x23d5, 0x588e, 0xf662, 0x1, 0x1);
        gbc.writeMem(0xc71e, { 0xc6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xaa75);
        EXPECT(gbc.pc(), 0xc720);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc71e), 0xc6);
        EXPECT(gbc.readMem(0xc71f), 0x0);
        // C6 0388
        gbc.setState(0xc087, 0x1314, 0x7220, 0xd8ac, 0x67b7, 0xbe9b, 0x0, 0x1);
        gbc.writeMem(0xc087, { 0xc6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1314);
        EXPECT(gbc.pc(), 0xc089);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc087), 0xc6);
        EXPECT(gbc.readMem(0xc088), 0x97);
        // C6 038A
        gbc.setState(0xe9ef, 0x60e, 0xc440, 0x4d11, 0xb681, 0x2a16, 0x1, 0x0);
        gbc.writeMem(0xe9ef, { 0xc6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x60e);
        EXPECT(gbc.pc(), 0xe9f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9ef), 0xc6);
        EXPECT(gbc.readMem(0xe9f0), 0x89);
        // C6 038B
        gbc.setState(0x942b, 0xe7ea, 0xe410, 0xdcaf, 0x53a9, 0x1c77, 0x1, 0x1);
        gbc.writeMem(0x942b, { 0xc6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe7ea);
        EXPECT(gbc.pc(), 0x942d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x942b), 0xc6);
        EXPECT(gbc.readMem(0x942c), 0xb1);
        // C6 038C
        gbc.setState(0xdac1, 0xbf80, 0x8a70, 0xb895, 0x11e9, 0xd2be, 0x1, 0x1);
        gbc.writeMem(0xdac1, { 0xc6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xbf80);
        EXPECT(gbc.pc(), 0xdac3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdac1), 0xc6);
        EXPECT(gbc.readMem(0xdac2), 0x1d);
        // C6 038D
        gbc.setState(0x80d6, 0x1cbb, 0x94a0, 0xa650, 0x4615, 0x2d66, 0x0, 0x1);
        gbc.writeMem(0x80d6, { 0xc6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x1cbb);
        EXPECT(gbc.pc(), 0x80d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80d6), 0xc6);
        EXPECT(gbc.readMem(0x80d7), 0xab);
        // C6 038F
        gbc.setState(0x886b, 0xb2e0, 0x2530, 0x6da, 0x5a9c, 0x17cd, 0x0, 0x1);
        gbc.writeMem(0x886b, { 0xc6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xb2e0);
        EXPECT(gbc.pc(), 0x886d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x886b), 0xc6);
        EXPECT(gbc.readMem(0x886c), 0xb5);
        // C6 0390
        gbc.setState(0x8c0c, 0x4bb3, 0x98b0, 0x1dbf, 0xf42e, 0xe1e5, 0x0, 0x1);
        gbc.writeMem(0x8c0c, { 0xc6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x4bb3);
        EXPECT(gbc.pc(), 0x8c0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c0c), 0xc6);
        EXPECT(gbc.readMem(0x8c0d), 0x5e);
        // C6 0391
        gbc.setState(0xd18c, 0xae28, 0x9ab0, 0xef8f, 0xdbd2, 0xb6f6, 0x0, 0x0);
        gbc.writeMem(0xd18c, { 0xc6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xae28);
        EXPECT(gbc.pc(), 0xd18e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd18c), 0xc6);
        EXPECT(gbc.readMem(0xd18d), 0x22);
        // C6 0392
        gbc.setState(0xe12f, 0xd9cf, 0x8d60, 0xc486, 0xbb40, 0x2d60, 0x1, 0x0);
        gbc.writeMem(0xe12f, { 0xc6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd9cf);
        EXPECT(gbc.pc(), 0xe131);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe12f), 0xc6);
        EXPECT(gbc.readMem(0xe130), 0x3f);
        // C6 0393
        gbc.setState(0xc0ff, 0xbc69, 0x7c90, 0x25da, 0xabab, 0xb9cd, 0x1, 0x0);
        gbc.writeMem(0xc0ff, { 0xc6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xbc69);
        EXPECT(gbc.pc(), 0xc101);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0ff), 0xc6);
        EXPECT(gbc.readMem(0xc100), 0xa4);
        // C6 0394
        gbc.setState(0xc249, 0x7ce, 0x63d0, 0xebe4, 0x103a, 0x7922, 0x1, 0x0);
        gbc.writeMem(0xc249, { 0xc6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x7ce);
        EXPECT(gbc.pc(), 0xc24b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc249), 0xc6);
        EXPECT(gbc.readMem(0xc24a), 0x7b);
        // C6 0395
        gbc.setState(0x9f32, 0x6551, 0x9340, 0xde4d, 0x9877, 0x760d, 0x1, 0x0);
        gbc.writeMem(0x9f32, { 0xc6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6551);
        EXPECT(gbc.pc(), 0x9f34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f32), 0xc6);
        EXPECT(gbc.readMem(0x9f33), 0xcd);
        // C6 0396
        gbc.setState(0x430d, 0x6b60, 0x6e60, 0xeb55, 0x4372, 0xc6c2, 0x1, 0x0);
        gbc.writeMem(0x430d, { 0xc6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6b60);
        EXPECT(gbc.pc(), 0x430f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 0397
        gbc.setState(0xa366, 0x2ed4, 0x3e90, 0xcc89, 0xaaeb, 0xc0cd, 0x1, 0x1);
        gbc.writeMem(0xa366, { 0xc6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x2ed4);
        EXPECT(gbc.pc(), 0xa368);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa366), 0xc6);
        EXPECT(gbc.readMem(0xa367), 0xc1);
        // C6 0399
        gbc.setState(0x3891, 0xe169, 0xee20, 0xf197, 0xf96b, 0xae68, 0x1, 0x1);
        gbc.writeMem(0x3891, { 0xc6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe169);
        EXPECT(gbc.pc(), 0x3893);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 039A
        gbc.setState(0x1980, 0xd164, 0x1d0, 0xa14d, 0xfe06, 0xa878, 0x0, 0x1);
        gbc.writeMem(0x1980, { 0xc6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd164);
        EXPECT(gbc.pc(), 0x1982);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 039B
        gbc.setState(0xc7b1, 0x5bbd, 0x2b30, 0xcd0, 0x29f6, 0x7b61, 0x1, 0x1);
        gbc.writeMem(0xc7b1, { 0xc6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5bbd);
        EXPECT(gbc.pc(), 0xc7b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b1), 0xc6);
        EXPECT(gbc.readMem(0xc7b2), 0x89);
        // C6 039C
        gbc.setState(0x6e62, 0x5c8, 0xaa00, 0xb8da, 0x5bf7, 0x7356, 0x0, 0x1);
        gbc.writeMem(0x6e62, { 0xc6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5c8);
        EXPECT(gbc.pc(), 0x6e64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 039D
        gbc.setState(0x911c, 0xce6b, 0x8ad0, 0x40eb, 0xd544, 0x44ed, 0x0, 0x1);
        gbc.writeMem(0x911c, { 0xc6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xce6b);
        EXPECT(gbc.pc(), 0x911e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x911c), 0xc6);
        EXPECT(gbc.readMem(0x911d), 0xdd);
        // C6 039E
        gbc.setState(0x59ad, 0xcde0, 0x7560, 0xfe4c, 0x137c, 0x5e34, 0x0, 0x0);
        gbc.writeMem(0x59ad, { 0xc6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xcde0);
        EXPECT(gbc.pc(), 0x59af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 039F
        gbc.setState(0x16b2, 0xa8a1, 0x560, 0x79b4, 0x605e, 0x866f, 0x1, 0x0);
        gbc.writeMem(0x16b2, { 0xc6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa8a1);
        EXPECT(gbc.pc(), 0x16b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03A0
        gbc.setState(0x1d5b, 0xab5d, 0x3b20, 0x22bc, 0x86fc, 0x1992, 0x0, 0x1);
        gbc.writeMem(0x1d5b, { 0xc6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xab5d);
        EXPECT(gbc.pc(), 0x1d5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 03A1
        gbc.setState(0xa638, 0xc517, 0xa420, 0x6c47, 0xa57e, 0xcafb, 0x1, 0x1);
        gbc.writeMem(0xa638, { 0xc6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc517);
        EXPECT(gbc.pc(), 0xa63a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa638), 0xc6);
        EXPECT(gbc.readMem(0xa639), 0x80);
        // C6 03A2
        gbc.setState(0x253f, 0xac30, 0x4820, 0xea16, 0xdb4d, 0xfa9a, 0x1, 0x1);
        gbc.writeMem(0x253f, { 0xc6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xac30);
        EXPECT(gbc.pc(), 0x2541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03A3
        gbc.setState(0xd2c6, 0x1398, 0x2ac0, 0x79cf, 0x9053, 0x1481, 0x0, 0x0);
        gbc.writeMem(0xd2c6, { 0xc6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1398);
        EXPECT(gbc.pc(), 0xd2c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2c6), 0xc6);
        EXPECT(gbc.readMem(0xd2c7), 0x35);
        // C6 03A4
        gbc.setState(0x5223, 0x4941, 0xbc60, 0x24aa, 0x1e41, 0x240d, 0x0, 0x1);
        gbc.writeMem(0x5223, { 0xc6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4941);
        EXPECT(gbc.pc(), 0x5225);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 03A5
        gbc.setState(0xcd4e, 0xfc27, 0xcd0, 0x5fc7, 0xc303, 0xec66, 0x1, 0x0);
        gbc.writeMem(0xcd4e, { 0xc6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xfc27);
        EXPECT(gbc.pc(), 0xcd50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd4e), 0xc6);
        EXPECT(gbc.readMem(0xcd4f), 0xa9);
        // C6 03A6
        gbc.setState(0x2313, 0x87ad, 0xac10, 0xe4c2, 0x40e8, 0xee3f, 0x1, 0x0);
        gbc.writeMem(0x2313, { 0xc6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x87ad);
        EXPECT(gbc.pc(), 0x2315);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 03A7
        gbc.setState(0xd995, 0x1417, 0xbc40, 0xd656, 0xf8a7, 0x6ec, 0x0, 0x1);
        gbc.writeMem(0xd995, { 0xc6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x1417);
        EXPECT(gbc.pc(), 0xd997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd995), 0xc6);
        EXPECT(gbc.readMem(0xd996), 0x69);
        // C6 03A8
        gbc.setState(0x1794, 0x555b, 0xf50, 0x9b0a, 0xd1a6, 0x16a6, 0x1, 0x0);
        gbc.writeMem(0x1794, { 0xc6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x555b);
        EXPECT(gbc.pc(), 0x1796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 03A9
        gbc.setState(0x7991, 0x46ab, 0x6610, 0x398a, 0x9a65, 0x26b3, 0x0, 0x0);
        gbc.writeMem(0x7991, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x46ab);
        EXPECT(gbc.pc(), 0x7993);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03AA
        gbc.setState(0xa923, 0x94f8, 0xd8b0, 0x916d, 0x2f54, 0x3f1f, 0x0, 0x0);
        gbc.writeMem(0xa923, { 0xc6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x94f8);
        EXPECT(gbc.pc(), 0xa925);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa923), 0xc6);
        EXPECT(gbc.readMem(0xa924), 0x2a);
        // C6 03AB
        gbc.setState(0x7548, 0xb845, 0xdb60, 0x75b, 0xf5e1, 0x3b80, 0x0, 0x1);
        gbc.writeMem(0x7548, { 0xc6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb845);
        EXPECT(gbc.pc(), 0x754a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 03AC
        gbc.setState(0xef7f, 0x8ac, 0x4770, 0x4788, 0xb76f, 0x589e, 0x0, 0x1);
        gbc.writeMem(0xef7f, { 0xc6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x8ac);
        EXPECT(gbc.pc(), 0xef81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef7f), 0xc6);
        EXPECT(gbc.readMem(0xef80), 0x8c);
        // C6 03AD
        gbc.setState(0x3470, 0x67ed, 0x3bb0, 0xcc90, 0x518e, 0xb736, 0x0, 0x1);
        gbc.writeMem(0x3470, { 0xc6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x67ed);
        EXPECT(gbc.pc(), 0x3472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 03AE
        gbc.setState(0xbdf1, 0xdf3b, 0x6ef0, 0x95df, 0x301e, 0xa3bc, 0x0, 0x0);
        gbc.writeMem(0xbdf1, { 0xc6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xdf3b);
        EXPECT(gbc.pc(), 0xbdf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdf1), 0xc6);
        EXPECT(gbc.readMem(0xbdf2), 0xe3);
        // C6 03AF
        gbc.setState(0x66de, 0x873d, 0xe800, 0x5bba, 0x6c96, 0xf667, 0x0, 0x1);
        gbc.writeMem(0x66de, { 0xc6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x873d);
        EXPECT(gbc.pc(), 0x66e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 03B0
        gbc.setState(0x4a3c, 0x45a7, 0xd3c0, 0x1158, 0x240d, 0x2b98, 0x1, 0x1);
        gbc.writeMem(0x4a3c, { 0xc6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x45a7);
        EXPECT(gbc.pc(), 0x4a3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03B1
        gbc.setState(0xb25, 0x9e3c, 0x6310, 0x3f4a, 0x88c, 0x141d, 0x0, 0x1);
        gbc.writeMem(0xb25, { 0xc6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x9e3c);
        EXPECT(gbc.pc(), 0xb27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03B2
        gbc.setState(0x891a, 0xb726, 0x9ad0, 0xda7c, 0xcdb, 0x7cb8, 0x0, 0x0);
        gbc.writeMem(0x891a, { 0xc6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xb726);
        EXPECT(gbc.pc(), 0x891c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x891a), 0xc6);
        EXPECT(gbc.readMem(0x891b), 0xe3);
        // C6 03B3
        gbc.setState(0xa886, 0x2236, 0xc5a0, 0xe0d3, 0x19be, 0xaaa7, 0x1, 0x0);
        gbc.writeMem(0xa886, { 0xc6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2236);
        EXPECT(gbc.pc(), 0xa888);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa886), 0xc6);
        EXPECT(gbc.readMem(0xa887), 0xa);
        // C6 03B4
        gbc.setState(0x5c7, 0x10aa, 0x9950, 0xc6ae, 0xf248, 0x8f9c, 0x1, 0x0);
        gbc.writeMem(0x5c7, { 0xc6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x10aa);
        EXPECT(gbc.pc(), 0x5c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 03B5
        gbc.setState(0x13ff, 0x9c7d, 0x55b0, 0xa5d6, 0x95b4, 0x1266, 0x0, 0x0);
        gbc.writeMem(0x13ff, { 0xc6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x9c7d);
        EXPECT(gbc.pc(), 0x1401);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 03B6
        gbc.setState(0xbc35, 0xaa99, 0x14d0, 0x838, 0xcd7d, 0xb797, 0x1, 0x0);
        gbc.writeMem(0xbc35, { 0xc6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xaa99);
        EXPECT(gbc.pc(), 0xbc37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc35), 0xc6);
        EXPECT(gbc.readMem(0xbc36), 0x15);
        // C6 03B7
        gbc.setState(0x1fff, 0xd3dd, 0xb70, 0xce20, 0x666a, 0x812a, 0x1, 0x0);
        gbc.writeMem(0x1fff, { 0xc6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd3dd);
        EXPECT(gbc.pc(), 0x2001);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03B8
        gbc.setState(0x918f, 0xe3f6, 0xc4a0, 0x4265, 0x8ee7, 0xe052, 0x1, 0x0);
        gbc.writeMem(0x918f, { 0xc6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xe3f6);
        EXPECT(gbc.pc(), 0x9191);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x918f), 0xc6);
        EXPECT(gbc.readMem(0x9190), 0x2a);
        // C6 03B9
        gbc.setState(0xb0b0, 0xcaa3, 0xcc30, 0x1790, 0xdfec, 0xb15, 0x1, 0x1);
        gbc.writeMem(0xb0b0, { 0xc6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xcaa3);
        EXPECT(gbc.pc(), 0xb0b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0b0), 0xc6);
        EXPECT(gbc.readMem(0xb0b1), 0x53);
        // C6 03BA
        gbc.setState(0x78e0, 0x252e, 0xfb70, 0x6509, 0xdf91, 0x14cf, 0x1, 0x1);
        gbc.writeMem(0x78e0, { 0xc6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x252e);
        EXPECT(gbc.pc(), 0x78e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 03BB
        gbc.setState(0xea70, 0xcf0c, 0xdde0, 0x81a4, 0xbe9f, 0x6472, 0x1, 0x0);
        gbc.writeMem(0xea70, { 0xc6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xcf0c);
        EXPECT(gbc.pc(), 0xea72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea70), 0xc6);
        EXPECT(gbc.readMem(0xea71), 0xf7);
        // C6 03BC
        gbc.setState(0x9dd4, 0x3683, 0x2b30, 0xe16, 0xf002, 0x953a, 0x1, 0x0);
        gbc.writeMem(0x9dd4, { 0xc6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x3683);
        EXPECT(gbc.pc(), 0x9dd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dd4), 0xc6);
        EXPECT(gbc.readMem(0x9dd5), 0x9d);
        // C6 03BD
        gbc.setState(0xbec3, 0x6ede, 0xed10, 0x2132, 0x1263, 0x3cb8, 0x1, 0x0);
        gbc.writeMem(0xbec3, { 0xc6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x6ede);
        EXPECT(gbc.pc(), 0xbec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbec3), 0xc6);
        EXPECT(gbc.readMem(0xbec4), 0x34);
        // C6 03BE
        gbc.setState(0x249c, 0x77ca, 0xbd40, 0x25cb, 0x53de, 0xd78d, 0x0, 0x1);
        gbc.writeMem(0x249c, { 0xc6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x77ca);
        EXPECT(gbc.pc(), 0x249e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 03BF
        gbc.setState(0xc28f, 0x66aa, 0xfe50, 0xf673, 0x1c45, 0x57fc, 0x1, 0x1);
        gbc.writeMem(0xc28f, { 0xc6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x66aa);
        EXPECT(gbc.pc(), 0xc291);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc28f), 0xc6);
        EXPECT(gbc.readMem(0xc290), 0x47);
        // C6 03C0
        gbc.setState(0x5fc4, 0xd9b2, 0x4000, 0x897e, 0x9dfd, 0xefe2, 0x1, 0x0);
        gbc.writeMem(0x5fc4, { 0xc6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xd9b2);
        EXPECT(gbc.pc(), 0x5fc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03C1
        gbc.setState(0xa429, 0x6381, 0x7240, 0x9ebf, 0xdf83, 0x4be7, 0x0, 0x0);
        gbc.writeMem(0xa429, { 0xc6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6381);
        EXPECT(gbc.pc(), 0xa42b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa429), 0xc6);
        EXPECT(gbc.readMem(0xa42a), 0x9f);
        // C6 03C2
        gbc.setState(0x8efd, 0x7f36, 0x56a0, 0xe35d, 0x7da5, 0x2d85, 0x0, 0x1);
        gbc.writeMem(0x8efd, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x7f36);
        EXPECT(gbc.pc(), 0x8eff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8efd), 0xc6);
        EXPECT(gbc.readMem(0x8efe), 0x64);
        // C6 03C3
        gbc.setState(0x9141, 0x65c, 0xc880, 0x5cd, 0x3137, 0xef0f, 0x1, 0x0);
        gbc.writeMem(0x9141, { 0xc6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x65c);
        EXPECT(gbc.pc(), 0x9143);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9141), 0xc6);
        EXPECT(gbc.readMem(0x9142), 0xc3);
        // C6 03C4
        gbc.setState(0x4388, 0x334f, 0x2370, 0x804e, 0x5899, 0xaf07, 0x1, 0x0);
        gbc.writeMem(0x4388, { 0xc6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x334f);
        EXPECT(gbc.pc(), 0x438a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 03C5
        gbc.setState(0x92b5, 0x6022, 0x4f00, 0x83f4, 0x7221, 0xe892, 0x1, 0x0);
        gbc.writeMem(0x92b5, { 0xc6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x6022);
        EXPECT(gbc.pc(), 0x92b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92b5), 0xc6);
        EXPECT(gbc.readMem(0x92b6), 0x32);
        // C6 03C6
        gbc.setState(0xdd51, 0x1f71, 0x97c0, 0xc7e0, 0x1d1, 0x6e7f, 0x0, 0x0);
        gbc.writeMem(0xdd51, { 0xc6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x1f71);
        EXPECT(gbc.pc(), 0xdd53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd51), 0xc6);
        EXPECT(gbc.readMem(0xdd52), 0xd1);
        // C6 03C7
        gbc.setState(0x3525, 0x52f3, 0x8240, 0x6b93, 0x6537, 0x47d8, 0x1, 0x0);
        gbc.writeMem(0x3525, { 0xc6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x52f3);
        EXPECT(gbc.pc(), 0x3527);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03C8
        gbc.setState(0x4f1c, 0xfe17, 0x73b0, 0x6b6f, 0x12e7, 0x7449, 0x0, 0x1);
        gbc.writeMem(0x4f1c, { 0xc6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xfe17);
        EXPECT(gbc.pc(), 0x4f1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03C9
        gbc.setState(0x28b2, 0xb9d7, 0xcac0, 0x5d0a, 0xe2, 0x11c0, 0x1, 0x1);
        gbc.writeMem(0x28b2, { 0xc6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb9d7);
        EXPECT(gbc.pc(), 0x28b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 03CA
        gbc.setState(0x3bf2, 0x1912, 0x320, 0x5ba8, 0x7101, 0x5415, 0x0, 0x1);
        gbc.writeMem(0x3bf2, { 0xc6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x1912);
        EXPECT(gbc.pc(), 0x3bf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03CB
        gbc.setState(0xe1c0, 0xdb47, 0x5f20, 0xb8d6, 0xe93b, 0x3ca2, 0x0, 0x0);
        gbc.writeMem(0xe1c0, { 0xc6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xdb47);
        EXPECT(gbc.pc(), 0xe1c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1c0), 0xc6);
        EXPECT(gbc.readMem(0xe1c1), 0xc2);
        // C6 03CC
        gbc.setState(0xd6e0, 0x8835, 0x79c0, 0x28e4, 0x2978, 0x5581, 0x1, 0x0);
        gbc.writeMem(0xd6e0, { 0xc6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x8835);
        EXPECT(gbc.pc(), 0xd6e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6e0), 0xc6);
        EXPECT(gbc.readMem(0xd6e1), 0x7a);
        // C6 03CD
        gbc.setState(0xa0c1, 0xb752, 0x1400, 0x2969, 0xfc92, 0x963, 0x1, 0x0);
        gbc.writeMem(0xa0c1, { 0xc6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb752);
        EXPECT(gbc.pc(), 0xa0c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c1), 0xc6);
        EXPECT(gbc.readMem(0xa0c2), 0x30);
        // C6 03CE
        gbc.setState(0xda97, 0xfe00, 0x8930, 0x87dc, 0x5406, 0xf2c4, 0x1, 0x1);
        gbc.writeMem(0xda97, { 0xc6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xfe00);
        EXPECT(gbc.pc(), 0xda99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda97), 0xc6);
        EXPECT(gbc.readMem(0xda98), 0x16);
        // C6 03CF
        gbc.setState(0x36fd, 0xfe45, 0xb70, 0x630d, 0x3f78, 0xb2fd, 0x1, 0x0);
        gbc.writeMem(0x36fd, { 0xc6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xfe45);
        EXPECT(gbc.pc(), 0x36ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 03D0
        gbc.setState(0x4f91, 0x4a8b, 0xb160, 0x2956, 0x2153, 0xb7ba, 0x0, 0x1);
        gbc.writeMem(0x4f91, { 0xc6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4a8b);
        EXPECT(gbc.pc(), 0x4f93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 03D1
        gbc.setState(0x9fe5, 0xff5a, 0xa490, 0x388, 0xc562, 0x9fb2, 0x0, 0x0);
        gbc.writeMem(0x9fe5, { 0xc6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xff5a);
        EXPECT(gbc.pc(), 0x9fe7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fe5), 0xc6);
        EXPECT(gbc.readMem(0x9fe6), 0x74);
        // C6 03D2
        gbc.setState(0xbff3, 0xd56c, 0x6280, 0x15eb, 0x38e3, 0xc77b, 0x1, 0x0);
        gbc.writeMem(0xbff3, { 0xc6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xd56c);
        EXPECT(gbc.pc(), 0xbff5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbff3), 0xc6);
        EXPECT(gbc.readMem(0xbff4), 0x52);
        // C6 03D3
        gbc.setState(0x3fa, 0x9bc9, 0x2580, 0xb0d, 0xc683, 0x922f, 0x0, 0x1);
        gbc.writeMem(0x3fa, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9bc9);
        EXPECT(gbc.pc(), 0x3fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03D4
        gbc.setState(0xac55, 0xc4a9, 0xa80, 0xeca3, 0x9847, 0xe5aa, 0x0, 0x0);
        gbc.writeMem(0xac55, { 0xc6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xc4a9);
        EXPECT(gbc.pc(), 0xac57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac55), 0xc6);
        EXPECT(gbc.readMem(0xac56), 0x1a);
        // C6 03D5
        gbc.setState(0x4b5d, 0xf19c, 0xbdb0, 0x1d5a, 0x1f61, 0x65ea, 0x1, 0x1);
        gbc.writeMem(0x4b5d, { 0xc6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xf19c);
        EXPECT(gbc.pc(), 0x4b5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 03D6
        gbc.setState(0xd0dc, 0x2df0, 0xf810, 0x596, 0x7e33, 0xdfad, 0x0, 0x1);
        gbc.writeMem(0xd0dc, { 0xc6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x2df0);
        EXPECT(gbc.pc(), 0xd0de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0dc), 0xc6);
        EXPECT(gbc.readMem(0xd0dd), 0xcd);
        // C6 03D7
        gbc.setState(0xa756, 0x9753, 0x500, 0x6ba0, 0x8cac, 0x5e05, 0x1, 0x0);
        gbc.writeMem(0xa756, { 0xc6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9753);
        EXPECT(gbc.pc(), 0xa758);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa756), 0xc6);
        EXPECT(gbc.readMem(0xa757), 0xff);
        // C6 03D8
        gbc.setState(0x951d, 0xed5f, 0xf360, 0x22, 0xae74, 0xd71d, 0x1, 0x1);
        gbc.writeMem(0x951d, { 0xc6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xed5f);
        EXPECT(gbc.pc(), 0x951f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x951d), 0xc6);
        EXPECT(gbc.readMem(0x951e), 0x18);
        // C6 03D9
        gbc.setState(0xe3a2, 0xf77, 0x2f10, 0xda84, 0x4190, 0xa34a, 0x1, 0x0);
        gbc.writeMem(0xe3a2, { 0xc6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xf77);
        EXPECT(gbc.pc(), 0xe3a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3a2), 0xc6);
        EXPECT(gbc.readMem(0xe3a3), 0x84);
        // C6 03DA
        gbc.setState(0x228f, 0x4fb0, 0xf310, 0x45a7, 0x15b1, 0xadfd, 0x0, 0x1);
        gbc.writeMem(0x228f, { 0xc6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4fb0);
        EXPECT(gbc.pc(), 0x2291);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03DB
        gbc.setState(0xe4f8, 0x3045, 0x2210, 0xc032, 0xc467, 0x1482, 0x1, 0x0);
        gbc.writeMem(0xe4f8, { 0xc6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3045);
        EXPECT(gbc.pc(), 0xe4fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4f8), 0xc6);
        EXPECT(gbc.readMem(0xe4f9), 0x2);
        // C6 03DC
        gbc.setState(0x4728, 0xf67, 0x8720, 0xc36a, 0xc549, 0x589b, 0x1, 0x1);
        gbc.writeMem(0x4728, { 0xc6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf67);
        EXPECT(gbc.pc(), 0x472a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 03DD
        gbc.setState(0x2bd1, 0x4e31, 0xa680, 0x332e, 0x88eb, 0x9b36, 0x0, 0x1);
        gbc.writeMem(0x2bd1, { 0xc6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x4e31);
        EXPECT(gbc.pc(), 0x2bd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 03DE
        gbc.setState(0x4538, 0xafd, 0x4cc0, 0x9d27, 0xde8d, 0x84b6, 0x0, 0x1);
        gbc.writeMem(0x4538, { 0xc6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xafd);
        EXPECT(gbc.pc(), 0x453a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 03DF
        gbc.setState(0x730f, 0x2257, 0x5040, 0xa875, 0x9086, 0x9a1f, 0x1, 0x1);
        gbc.writeMem(0x730f, { 0xc6, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x2257);
        EXPECT(gbc.pc(), 0x7311);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C6 03E0
        gbc.setState(0xe0d6, 0x6cc4, 0x4de0, 0x7bef, 0xd3f9, 0x43fe, 0x1, 0x0);
        gbc.writeMem(0xe0d6, { 0xc6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x6cc4);
        EXPECT(gbc.pc(), 0xe0d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0d6), 0xc6);
        EXPECT(gbc.readMem(0xe0d7), 0x0);
        // C6 03E1
        gbc.setState(0x798c, 0xaee3, 0xfb40, 0x2307, 0x220, 0xe511, 0x1, 0x1);
        gbc.writeMem(0x798c, { 0xc6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xaee3);
        EXPECT(gbc.pc(), 0x798e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 03E2
        gbc.setState(0x3f4, 0x153a, 0x9330, 0x11a1, 0xf22c, 0x6146, 0x1, 0x0);
        gbc.writeMem(0x3f4, { 0xc6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x153a);
        EXPECT(gbc.pc(), 0x3f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C6 03E3
        gbc.setState(0xb806, 0xcbed, 0xe750, 0xf71d, 0x34f2, 0x315a, 0x1, 0x0);
        gbc.writeMem(0xb806, { 0xc6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xcbed);
        EXPECT(gbc.pc(), 0xb808);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb806), 0xc6);
        EXPECT(gbc.readMem(0xb807), 0x6d);
        // C6 03E4
        gbc.setState(0x39bc, 0x2ae5, 0x8220, 0xaef7, 0xa003, 0x1d3b, 0x1, 0x1);
        gbc.writeMem(0x39bc, { 0xc6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x2ae5);
        EXPECT(gbc.pc(), 0x39be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C6 03E5
        gbc.setState(0xe1b6, 0xcbc5, 0x7d50, 0x4212, 0xf89c, 0x44d3, 0x1, 0x0);
        gbc.writeMem(0xe1b6, { 0xc6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xcbc5);
        EXPECT(gbc.pc(), 0xe1b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1b6), 0xc6);
        EXPECT(gbc.readMem(0xe1b7), 0xba);
        // C6 03E6
        gbc.setState(0x6f89, 0xcce2, 0x6bd0, 0x69c4, 0x7fe3, 0x3707, 0x1, 0x0);
        gbc.writeMem(0x6f89, { 0xc6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xcce2);
        EXPECT(gbc.pc(), 0x6f8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C6 03E7
        gbc.setState(0x6364, 0x700, 0x37d0, 0xf46a, 0x48, 0x6095, 0x1, 0x1);
        gbc.writeMem(0x6364, { 0xc6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x700);
        EXPECT(gbc.pc(), 0x6366);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
