    TEST(gbcemu, opcode_b9) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // B9 0000
        gbc.setState(0x5174, 0xf69f, 0x26b0, 0xfac4, 0x74e8, 0x9df, 0x1, 0x1);
        gbc.writeMem(0x5174, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf69f);
        EXPECT(gbc.pc(), 0x5175);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0001
        gbc.setState(0x13a, 0x4e75, 0xc30, 0xfbab, 0xf001, 0xe13a, 0x0, 0x0);
        gbc.writeMem(0x13a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x4e75);
        EXPECT(gbc.pc(), 0x13b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0002
        gbc.setState(0xbe83, 0x4c8a, 0x8cc0, 0xff7f, 0xeef8, 0x27a6, 0x1, 0x1);
        gbc.writeMem(0xbe83, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4c8a);
        EXPECT(gbc.pc(), 0xbe84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe83), 0xb9);
        // B9 0003
        gbc.setState(0xb4d0, 0x635b, 0xf6d0, 0x821e, 0xea03, 0xdcb9, 0x0, 0x1);
        gbc.writeMem(0xb4d0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x635b);
        EXPECT(gbc.pc(), 0xb4d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d0), 0xb9);
        // B9 0004
        gbc.setState(0x5758, 0x7a75, 0xad50, 0xa343, 0x1e2d, 0x36a7, 0x1, 0x0);
        gbc.writeMem(0x5758, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7a75);
        EXPECT(gbc.pc(), 0x5759);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0005
        gbc.setState(0xb2da, 0x4d35, 0xd100, 0x7425, 0x16bc, 0x641b, 0x1, 0x0);
        gbc.writeMem(0xb2da, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x4d35);
        EXPECT(gbc.pc(), 0xb2db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2da), 0xb9);
        // B9 0006
        gbc.setState(0xe456, 0x8a4b, 0xf900, 0x2b49, 0x2846, 0x4e6e, 0x1, 0x1);
        gbc.writeMem(0xe456, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x8a4b);
        EXPECT(gbc.pc(), 0xe457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe456), 0xb9);
        // B9 0007
        gbc.setState(0x9546, 0x3b1d, 0x2c60, 0x6d8f, 0xdac0, 0x7603, 0x1, 0x0);
        gbc.writeMem(0x9546, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3b1d);
        EXPECT(gbc.pc(), 0x9547);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9546), 0xb9);
        // B9 0008
        gbc.setState(0x2b2, 0x1f00, 0x6ad0, 0x9348, 0x9ce9, 0x7f22, 0x1, 0x1);
        gbc.writeMem(0x2b2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1f00);
        EXPECT(gbc.pc(), 0x2b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0009
        gbc.setState(0xe838, 0xe56a, 0xa910, 0x431d, 0xdad, 0x4e3a, 0x1, 0x0);
        gbc.writeMem(0xe838, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xe56a);
        EXPECT(gbc.pc(), 0xe839);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe838), 0xb9);
        // B9 000A
        gbc.setState(0x5eda, 0x12a0, 0xd110, 0x2551, 0xe5fb, 0x3c24, 0x0, 0x0);
        gbc.writeMem(0x5eda, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x12a0);
        EXPECT(gbc.pc(), 0x5edb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 000B
        gbc.setState(0xfb8, 0x6714, 0x7010, 0xbf80, 0x97e0, 0x306, 0x0, 0x0);
        gbc.writeMem(0xfb8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6714);
        EXPECT(gbc.pc(), 0xfb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 000C
        gbc.setState(0xcf8f, 0xcb77, 0xf1f0, 0x49f3, 0xa9de, 0xec0f, 0x0, 0x0);
        gbc.writeMem(0xcf8f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xcb77);
        EXPECT(gbc.pc(), 0xcf90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf8f), 0xb9);
        // B9 000F
        gbc.setState(0x6120, 0x10c5, 0x7cf0, 0x31d5, 0xe71d, 0xabb4, 0x1, 0x1);
        gbc.writeMem(0x6120, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x10c5);
        EXPECT(gbc.pc(), 0x6121);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0010
        gbc.setState(0x3be6, 0x96fd, 0x56c0, 0x632a, 0x7070, 0xd0f, 0x1, 0x1);
        gbc.writeMem(0x3be6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x96fd);
        EXPECT(gbc.pc(), 0x3be7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0011
        gbc.setState(0x31af, 0x7bef, 0x9e20, 0xc875, 0x7c05, 0x22f8, 0x1, 0x1);
        gbc.writeMem(0x31af, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x7bef);
        EXPECT(gbc.pc(), 0x31b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0012
        gbc.setState(0x6162, 0x5ffc, 0xd700, 0x4030, 0xda59, 0x7937, 0x0, 0x0);
        gbc.writeMem(0x6162, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5ffc);
        EXPECT(gbc.pc(), 0x6163);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0013
        gbc.setState(0xdac9, 0xab2e, 0x55f0, 0xa019, 0x98b6, 0x29fa, 0x1, 0x1);
        gbc.writeMem(0xdac9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xab2e);
        EXPECT(gbc.pc(), 0xdaca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdac9), 0xb9);
        // B9 0014
        gbc.setState(0xcec0, 0x7a42, 0xe620, 0x6544, 0x9519, 0xa07c, 0x0, 0x0);
        gbc.writeMem(0xcec0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x7a42);
        EXPECT(gbc.pc(), 0xcec1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcec0), 0xb9);
        // B9 0015
        gbc.setState(0x9649, 0x2cf9, 0xf110, 0x81bb, 0x7009, 0x88e0, 0x1, 0x1);
        gbc.writeMem(0x9649, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x2cf9);
        EXPECT(gbc.pc(), 0x964a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9649), 0xb9);
        // B9 0016
        gbc.setState(0xd3ec, 0xf08e, 0x38e0, 0x6b08, 0xe7d8, 0x17cf, 0x1, 0x1);
        gbc.writeMem(0xd3ec, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf08e);
        EXPECT(gbc.pc(), 0xd3ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ec), 0xb9);
        // B9 0017
        gbc.setState(0xdf25, 0x6430, 0xbf20, 0xca83, 0xe5ec, 0x2c2d, 0x0, 0x1);
        gbc.writeMem(0xdf25, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6430);
        EXPECT(gbc.pc(), 0xdf26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf25), 0xb9);
        // B9 0018
        gbc.setState(0x18e0, 0x7791, 0x6b70, 0x2030, 0xbfa, 0xca5, 0x1, 0x0);
        gbc.writeMem(0x18e0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7791);
        EXPECT(gbc.pc(), 0x18e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0019
        gbc.setState(0x6844, 0x1f33, 0x1b70, 0xc8eb, 0x1f35, 0xed8f, 0x1, 0x0);
        gbc.writeMem(0x6844, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x1f33);
        EXPECT(gbc.pc(), 0x6845);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 001A
        gbc.setState(0xb572, 0x74b1, 0xd390, 0x43f9, 0x291, 0xf7ce, 0x0, 0x0);
        gbc.writeMem(0xb572, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x74b1);
        EXPECT(gbc.pc(), 0xb573);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb572), 0xb9);
        // B9 001C
        gbc.setState(0x7c96, 0x9f93, 0xbd10, 0x47bc, 0x65ee, 0xc782, 0x0, 0x1);
        gbc.writeMem(0x7c96, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9f93);
        EXPECT(gbc.pc(), 0x7c97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 001D
        gbc.setState(0x37a2, 0x2b7, 0xdba0, 0xcabe, 0x30a8, 0x8d19, 0x0, 0x0);
        gbc.writeMem(0x37a2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2b7);
        EXPECT(gbc.pc(), 0x37a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 001E
        gbc.setState(0x1a9d, 0x9f2d, 0xb950, 0xd439, 0x4384, 0x50d, 0x1, 0x1);
        gbc.writeMem(0x1a9d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9f2d);
        EXPECT(gbc.pc(), 0x1a9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 001F
        gbc.setState(0x9059, 0x4f20, 0xb990, 0x17ce, 0xf6d4, 0xa253, 0x1, 0x0);
        gbc.writeMem(0x9059, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4f20);
        EXPECT(gbc.pc(), 0x905a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9059), 0xb9);
        // B9 0021
        gbc.setState(0x479a, 0x5546, 0xbce0, 0x9df8, 0xfa14, 0xb8dd, 0x1, 0x0);
        gbc.writeMem(0x479a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x5546);
        EXPECT(gbc.pc(), 0x479b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0022
        gbc.setState(0x6187, 0xeaf1, 0xa70, 0xdfe9, 0xf970, 0x5f69, 0x0, 0x0);
        gbc.writeMem(0x6187, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xeaf1);
        EXPECT(gbc.pc(), 0x6188);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0023
        gbc.setState(0xa3f, 0xa71e, 0x3340, 0x28e6, 0xeca6, 0x23b7, 0x0, 0x1);
        gbc.writeMem(0xa3f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa71e);
        EXPECT(gbc.pc(), 0xa40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0024
        gbc.setState(0xc4c0, 0x913c, 0x7fd0, 0xdb9a, 0x262e, 0xaa2a, 0x0, 0x1);
        gbc.writeMem(0xc4c0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x913c);
        EXPECT(gbc.pc(), 0xc4c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c0), 0xb9);
        // B9 0025
        gbc.setState(0xca14, 0xf782, 0x3b00, 0xf9e2, 0xe015, 0x7d8c, 0x0, 0x0);
        gbc.writeMem(0xca14, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xf782);
        EXPECT(gbc.pc(), 0xca15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca14), 0xb9);
        // B9 0026
        gbc.setState(0x86c1, 0x7958, 0xd920, 0x300, 0x2fc0, 0xa9cb, 0x1, 0x1);
        gbc.writeMem(0x86c1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7958);
        EXPECT(gbc.pc(), 0x86c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c1), 0xb9);
        // B9 0028
        gbc.setState(0x4c0, 0xadbe, 0xabd0, 0xd126, 0xca70, 0x44ef, 0x0, 0x0);
        gbc.writeMem(0x4c0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xadbe);
        EXPECT(gbc.pc(), 0x4c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0029
        gbc.setState(0xc7fe, 0xd1f8, 0xf900, 0x285a, 0xbd31, 0xc7b3, 0x1, 0x1);
        gbc.writeMem(0xc7fe, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd1f8);
        EXPECT(gbc.pc(), 0xc7ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7fe), 0xb9);
        // B9 002A
        gbc.setState(0x8b39, 0xab80, 0x81a0, 0x165, 0xbcab, 0xfdb3, 0x0, 0x0);
        gbc.writeMem(0x8b39, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xab80);
        EXPECT(gbc.pc(), 0x8b3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b39), 0xb9);
        // B9 002C
        gbc.setState(0x829a, 0x8f83, 0x3d00, 0x55c4, 0x1fa0, 0xd305, 0x0, 0x1);
        gbc.writeMem(0x829a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8f83);
        EXPECT(gbc.pc(), 0x829b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x829a), 0xb9);
        // B9 002D
        gbc.setState(0xdeb6, 0x769c, 0x40f0, 0x3907, 0x97c1, 0x54ec, 0x0, 0x1);
        gbc.writeMem(0xdeb6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x769c);
        EXPECT(gbc.pc(), 0xdeb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeb6), 0xb9);
        // B9 002E
        gbc.setState(0x5e79, 0x4fba, 0x1590, 0xcd9e, 0x741a, 0xfe4e, 0x1, 0x0);
        gbc.writeMem(0x5e79, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4fba);
        EXPECT(gbc.pc(), 0x5e7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 002F
        gbc.setState(0xcaa7, 0x7870, 0x4020, 0xbd99, 0xb1b, 0xaac3, 0x1, 0x1);
        gbc.writeMem(0xcaa7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7870);
        EXPECT(gbc.pc(), 0xcaa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaa7), 0xb9);
        // B9 0030
        gbc.setState(0x9f32, 0xfd1f, 0xb140, 0x4bff, 0x29bc, 0x4f38, 0x0, 0x0);
        gbc.writeMem(0x9f32, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xfd1f);
        EXPECT(gbc.pc(), 0x9f33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f32), 0xb9);
        // B9 0031
        gbc.setState(0x7a31, 0x13a1, 0x5e60, 0xb96f, 0x15bb, 0x17d1, 0x1, 0x1);
        gbc.writeMem(0x7a31, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x13a1);
        EXPECT(gbc.pc(), 0x7a32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0033
        gbc.setState(0x3d00, 0xbcec, 0x5420, 0xf0db, 0x7fe6, 0x3f12, 0x1, 0x1);
        gbc.writeMem(0x3d00, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xbcec);
        EXPECT(gbc.pc(), 0x3d01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0034
        gbc.setState(0xe2e4, 0x9bb, 0x61a0, 0x267e, 0xd86c, 0x6937, 0x1, 0x1);
        gbc.writeMem(0xe2e4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x9bb);
        EXPECT(gbc.pc(), 0xe2e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2e4), 0xb9);
        // B9 0035
        gbc.setState(0x3b76, 0x2238, 0x6370, 0x39b6, 0x3025, 0x46f5, 0x1, 0x1);
        gbc.writeMem(0x3b76, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x2238);
        EXPECT(gbc.pc(), 0x3b77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0036
        gbc.setState(0xb176, 0xa878, 0xa950, 0x8983, 0x7317, 0xafed, 0x0, 0x1);
        gbc.writeMem(0xb176, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xa878);
        EXPECT(gbc.pc(), 0xb177);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb176), 0xb9);
        // B9 0037
        gbc.setState(0x7e93, 0xe280, 0x58b0, 0x3dc0, 0xdb3e, 0xaf3f, 0x1, 0x1);
        gbc.writeMem(0x7e93, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe280);
        EXPECT(gbc.pc(), 0x7e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0039
        gbc.setState(0x8581, 0xd7da, 0xbdc0, 0xab45, 0xcfb1, 0xa48e, 0x1, 0x0);
        gbc.writeMem(0x8581, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd7da);
        EXPECT(gbc.pc(), 0x8582);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8581), 0xb9);
        // B9 003A
        gbc.setState(0xca39, 0x7d7d, 0xc760, 0x9208, 0x59b0, 0xa3f1, 0x1, 0x0);
        gbc.writeMem(0xca39, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x7d7d);
        EXPECT(gbc.pc(), 0xca3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca39), 0xb9);
        // B9 003B
        gbc.setState(0x1ca0, 0xce13, 0x2440, 0x5af0, 0x1013, 0xdbe9, 0x0, 0x1);
        gbc.writeMem(0x1ca0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xce13);
        EXPECT(gbc.pc(), 0x1ca1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 003C
        gbc.setState(0xdc77, 0x1160, 0x15a0, 0x6264, 0xf7f2, 0xfcb3, 0x0, 0x0);
        gbc.writeMem(0xdc77, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x1160);
        EXPECT(gbc.pc(), 0xdc78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc77), 0xb9);
        // B9 003D
        gbc.setState(0x7bfa, 0x2156, 0x7df0, 0xa222, 0x6f65, 0xf325, 0x1, 0x1);
        gbc.writeMem(0x7bfa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x2156);
        EXPECT(gbc.pc(), 0x7bfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 003E
        gbc.setState(0x2889, 0xa7db, 0x80, 0x271f, 0x3386, 0x2175, 0x0, 0x0);
        gbc.writeMem(0x2889, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa7db);
        EXPECT(gbc.pc(), 0x288a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 003F
        gbc.setState(0xd003, 0x1790, 0xd9e0, 0xae79, 0x3333, 0x5284, 0x0, 0x0);
        gbc.writeMem(0xd003, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x1790);
        EXPECT(gbc.pc(), 0xd004);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd003), 0xb9);
        // B9 0040
        gbc.setState(0xc02d, 0x64ef, 0xfb80, 0x59e5, 0x8d63, 0x6f80, 0x0, 0x1);
        gbc.writeMem(0xc02d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x64ef);
        EXPECT(gbc.pc(), 0xc02e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc02d), 0xb9);
        // B9 0041
        gbc.setState(0xe592, 0xc98b, 0x7700, 0xea9, 0x8283, 0xe81e, 0x1, 0x0);
        gbc.writeMem(0xe592, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xc98b);
        EXPECT(gbc.pc(), 0xe593);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe592), 0xb9);
        // B9 0042
        gbc.setState(0xee57, 0x40dc, 0xcbc0, 0xd856, 0x909a, 0x6749, 0x0, 0x1);
        gbc.writeMem(0xee57, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x40dc);
        EXPECT(gbc.pc(), 0xee58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee57), 0xb9);
        // B9 0043
        gbc.setState(0xc3e4, 0xa7c8, 0x3970, 0xee2d, 0x8c1a, 0x6bea, 0x1, 0x0);
        gbc.writeMem(0xc3e4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xa7c8);
        EXPECT(gbc.pc(), 0xc3e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3e4), 0xb9);
        // B9 0044
        gbc.setState(0xaf5c, 0xe11d, 0x7a0, 0x3290, 0x6dd6, 0x2a3b, 0x1, 0x1);
        gbc.writeMem(0xaf5c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xe11d);
        EXPECT(gbc.pc(), 0xaf5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf5c), 0xb9);
        // B9 0045
        gbc.setState(0x5e8b, 0x4924, 0x59c0, 0xfa33, 0x9f69, 0x248f, 0x0, 0x0);
        gbc.writeMem(0x5e8b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4924);
        EXPECT(gbc.pc(), 0x5e8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0046
        gbc.setState(0xbe88, 0x64c1, 0x1350, 0x2be9, 0xdb00, 0x8626, 0x0, 0x1);
        gbc.writeMem(0xbe88, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x64c1);
        EXPECT(gbc.pc(), 0xbe89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe88), 0xb9);
        // B9 0047
        gbc.setState(0x3b6d, 0x3a8d, 0x2df0, 0xf6e4, 0x6cb8, 0x2bb8, 0x1, 0x0);
        gbc.writeMem(0x3b6d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x3a8d);
        EXPECT(gbc.pc(), 0x3b6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0048
        gbc.setState(0x3057, 0xc6cc, 0xaf0, 0x2ffa, 0xac4, 0xbf8f, 0x0, 0x0);
        gbc.writeMem(0x3057, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xc6cc);
        EXPECT(gbc.pc(), 0x3058);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0049
        gbc.setState(0xc345, 0x55f, 0x63f0, 0x53a4, 0x2903, 0x2dbd, 0x0, 0x1);
        gbc.writeMem(0xc345, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x55f);
        EXPECT(gbc.pc(), 0xc346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc345), 0xb9);
        // B9 004A
        gbc.setState(0x7a8e, 0xcfdc, 0x44c0, 0x5c38, 0x9c88, 0x9d89, 0x1, 0x1);
        gbc.writeMem(0x7a8e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xcfdc);
        EXPECT(gbc.pc(), 0x7a8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 004B
        gbc.setState(0x990a, 0x7735, 0x5430, 0x8d1e, 0x67db, 0xb3bc, 0x0, 0x0);
        gbc.writeMem(0x990a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7735);
        EXPECT(gbc.pc(), 0x990b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x990a), 0xb9);
        // B9 004C
        gbc.setState(0x4c9c, 0x424c, 0x2400, 0x4a66, 0x9381, 0xa16a, 0x1, 0x1);
        gbc.writeMem(0x4c9c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x424c);
        EXPECT(gbc.pc(), 0x4c9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 004D
        gbc.setState(0xcb83, 0xf3ab, 0xaa90, 0x699, 0xff1d, 0xb5e7, 0x1, 0x1);
        gbc.writeMem(0xcb83, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf3ab);
        EXPECT(gbc.pc(), 0xcb84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb83), 0xb9);
        // B9 004E
        gbc.setState(0xbac7, 0x55e4, 0x9ae0, 0xa38d, 0x876d, 0x2d72, 0x1, 0x0);
        gbc.writeMem(0xbac7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x55e4);
        EXPECT(gbc.pc(), 0xbac8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbac7), 0xb9);
        // B9 004F
        gbc.setState(0x6f5a, 0x9f14, 0x3a30, 0x8587, 0x244f, 0xd3a7, 0x0, 0x1);
        gbc.writeMem(0x6f5a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x9f14);
        EXPECT(gbc.pc(), 0x6f5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0050
        gbc.setState(0x6a7a, 0xa8a3, 0x74e0, 0xa687, 0x9d4a, 0xb978, 0x0, 0x0);
        gbc.writeMem(0x6a7a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xa8a3);
        EXPECT(gbc.pc(), 0x6a7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0051
        gbc.setState(0x3382, 0xabc2, 0x7e0, 0xc8dc, 0xb591, 0x9ef5, 0x0, 0x0);
        gbc.writeMem(0x3382, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xabc2);
        EXPECT(gbc.pc(), 0x3383);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0052
        gbc.setState(0x3e7, 0x2e8a, 0x11d0, 0x5046, 0x8790, 0xb45b, 0x0, 0x1);
        gbc.writeMem(0x3e7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2e8a);
        EXPECT(gbc.pc(), 0x3e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0053
        gbc.setState(0x8fcc, 0xfce1, 0xb220, 0x5ba9, 0x67f9, 0xb016, 0x1, 0x1);
        gbc.writeMem(0x8fcc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xfce1);
        EXPECT(gbc.pc(), 0x8fcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fcc), 0xb9);
        // B9 0054
        gbc.setState(0x93b, 0xdb4a, 0xe980, 0x71db, 0x9d27, 0xfe42, 0x0, 0x1);
        gbc.writeMem(0x93b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xdb4a);
        EXPECT(gbc.pc(), 0x93c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0055
        gbc.setState(0x2eda, 0x29af, 0x4b30, 0x1a97, 0x24d2, 0x5f6f, 0x0, 0x0);
        gbc.writeMem(0x2eda, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x29af);
        EXPECT(gbc.pc(), 0x2edb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0056
        gbc.setState(0x4fe2, 0xd73e, 0x8bb0, 0x1165, 0xc522, 0xe046, 0x1, 0x0);
        gbc.writeMem(0x4fe2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xd73e);
        EXPECT(gbc.pc(), 0x4fe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0057
        gbc.setState(0xecd1, 0x286a, 0x8580, 0x5f11, 0x3b1b, 0x6f04, 0x1, 0x1);
        gbc.writeMem(0xecd1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x286a);
        EXPECT(gbc.pc(), 0xecd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecd1), 0xb9);
        // B9 0058
        gbc.setState(0x225b, 0x91fd, 0x2080, 0x9a38, 0x8cc8, 0x5774, 0x1, 0x0);
        gbc.writeMem(0x225b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x91fd);
        EXPECT(gbc.pc(), 0x225c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0059
        gbc.setState(0xb5ed, 0xa6c, 0xc60, 0xaf3a, 0xd547, 0xdfa6, 0x1, 0x0);
        gbc.writeMem(0xb5ed, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa6c);
        EXPECT(gbc.pc(), 0xb5ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5ed), 0xb9);
        // B9 005A
        gbc.setState(0xc1fd, 0x1974, 0x90f0, 0x8abd, 0x3c6a, 0x6307, 0x1, 0x0);
        gbc.writeMem(0xc1fd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x1974);
        EXPECT(gbc.pc(), 0xc1fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1fd), 0xb9);
        // B9 005B
        gbc.setState(0x23fe, 0xd260, 0x7070, 0x6c58, 0x312f, 0x4412, 0x1, 0x0);
        gbc.writeMem(0x23fe, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xd260);
        EXPECT(gbc.pc(), 0x23ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 005C
        gbc.setState(0xaec3, 0x746e, 0xc970, 0x98c9, 0xa7e6, 0xe4f7, 0x1, 0x1);
        gbc.writeMem(0xaec3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x746e);
        EXPECT(gbc.pc(), 0xaec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaec3), 0xb9);
        // B9 005D
        gbc.setState(0x3ed7, 0xb3f, 0xcb70, 0xe107, 0x5d43, 0x9d2c, 0x1, 0x0);
        gbc.writeMem(0x3ed7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xb3f);
        EXPECT(gbc.pc(), 0x3ed8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 005E
        gbc.setState(0x77c, 0x2260, 0xbe0, 0x8682, 0xce84, 0x90ed, 0x0, 0x1);
        gbc.writeMem(0x77c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x2260);
        EXPECT(gbc.pc(), 0x77d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 005F
        gbc.setState(0xa6d0, 0x4fa, 0x68e0, 0x57aa, 0xafe6, 0x8130, 0x1, 0x0);
        gbc.writeMem(0xa6d0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4fa);
        EXPECT(gbc.pc(), 0xa6d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6d0), 0xb9);
        // B9 0060
        gbc.setState(0x97a4, 0xadaa, 0xcdb0, 0xd11a, 0x7270, 0xb341, 0x1, 0x0);
        gbc.writeMem(0x97a4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xadaa);
        EXPECT(gbc.pc(), 0x97a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97a4), 0xb9);
        // B9 0061
        gbc.setState(0xef92, 0xde95, 0x5940, 0xb997, 0xe019, 0x1cfa, 0x0, 0x1);
        gbc.writeMem(0xef92, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xde95);
        EXPECT(gbc.pc(), 0xef93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef92), 0xb9);
        // B9 0062
        gbc.setState(0x8059, 0x55ce, 0x8210, 0x5b, 0xcbd5, 0x7dd6, 0x1, 0x0);
        gbc.writeMem(0x8059, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x55ce);
        EXPECT(gbc.pc(), 0x805a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8059), 0xb9);
        // B9 0063
        gbc.setState(0xb0ed, 0xab27, 0xc1b0, 0xfe5b, 0x4737, 0x4280, 0x0, 0x0);
        gbc.writeMem(0xb0ed, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xab27);
        EXPECT(gbc.pc(), 0xb0ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0ed), 0xb9);
        // B9 0064
        gbc.setState(0x59cc, 0xd6d9, 0x8590, 0xee5, 0x13a9, 0xab16, 0x0, 0x1);
        gbc.writeMem(0x59cc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd6d9);
        EXPECT(gbc.pc(), 0x59cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0065
        gbc.setState(0x46ad, 0x7741, 0x9640, 0x8991, 0x3c67, 0x8d75, 0x1, 0x1);
        gbc.writeMem(0x46ad, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x7741);
        EXPECT(gbc.pc(), 0x46ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0066
        gbc.setState(0x490c, 0xe18b, 0xfc10, 0x7a33, 0x64c0, 0x86f9, 0x1, 0x1);
        gbc.writeMem(0x490c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe18b);
        EXPECT(gbc.pc(), 0x490d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0067
        gbc.setState(0xd3b, 0x8280, 0xeca0, 0x3cf5, 0x9e63, 0x7c0, 0x0, 0x1);
        gbc.writeMem(0xd3b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8280);
        EXPECT(gbc.pc(), 0xd3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0068
        gbc.setState(0x9abd, 0x4fa5, 0xb250, 0x57d5, 0xa660, 0xd0ee, 0x0, 0x1);
        gbc.writeMem(0x9abd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4fa5);
        EXPECT(gbc.pc(), 0x9abe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9abd), 0xb9);
        // B9 0069
        gbc.setState(0x6069, 0x6152, 0x5930, 0xe6d5, 0x3b2a, 0x8d82, 0x1, 0x1);
        gbc.writeMem(0x6069, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6152);
        EXPECT(gbc.pc(), 0x606a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 006A
        gbc.setState(0x1aa9, 0xac1e, 0x63e0, 0x5a40, 0xcebd, 0x5a, 0x1, 0x1);
        gbc.writeMem(0x1aa9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xac1e);
        EXPECT(gbc.pc(), 0x1aaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 006B
        gbc.setState(0x4f5f, 0xc26f, 0x9fe0, 0x4e14, 0x7a0f, 0x356f, 0x0, 0x0);
        gbc.writeMem(0x4f5f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc26f);
        EXPECT(gbc.pc(), 0x4f60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 006C
        gbc.setState(0xe849, 0x2874, 0xdda0, 0x5a58, 0x8332, 0xf91, 0x1, 0x0);
        gbc.writeMem(0xe849, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x2874);
        EXPECT(gbc.pc(), 0xe84a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe849), 0xb9);
        // B9 006E
        gbc.setState(0x9fe3, 0xa69d, 0xee60, 0x9644, 0xde71, 0x3fa4, 0x0, 0x0);
        gbc.writeMem(0x9fe3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xa69d);
        EXPECT(gbc.pc(), 0x9fe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fe3), 0xb9);
        // B9 0070
        gbc.setState(0x5e74, 0x181d, 0x8450, 0x1834, 0x383c, 0x9a9d, 0x1, 0x1);
        gbc.writeMem(0x5e74, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x181d);
        EXPECT(gbc.pc(), 0x5e75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0071
        gbc.setState(0x3e58, 0x5ee3, 0x4690, 0xfe0a, 0xe35f, 0x7502, 0x0, 0x1);
        gbc.writeMem(0x3e58, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5ee3);
        EXPECT(gbc.pc(), 0x3e59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0072
        gbc.setState(0x2535, 0x581f, 0xde20, 0x54be, 0x57e4, 0x3aa7, 0x1, 0x0);
        gbc.writeMem(0x2535, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x581f);
        EXPECT(gbc.pc(), 0x2536);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0073
        gbc.setState(0x109c, 0x1aad, 0xb590, 0x1a2d, 0xceb0, 0x300f, 0x0, 0x1);
        gbc.writeMem(0x109c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x1aad);
        EXPECT(gbc.pc(), 0x109d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0075
        gbc.setState(0xd108, 0x304d, 0xf00, 0x5a7f, 0xda59, 0xb1b, 0x0, 0x0);
        gbc.writeMem(0xd108, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x304d);
        EXPECT(gbc.pc(), 0xd109);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd108), 0xb9);
        // B9 0076
        gbc.setState(0xa82b, 0x3e44, 0x20d0, 0x71b1, 0x6611, 0x5c74, 0x0, 0x0);
        gbc.writeMem(0xa82b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3e44);
        EXPECT(gbc.pc(), 0xa82c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa82b), 0xb9);
        // B9 0077
        gbc.setState(0xb88, 0x4ac0, 0x2270, 0xef47, 0x6355, 0x4b88, 0x1, 0x1);
        gbc.writeMem(0xb88, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x4ac0);
        EXPECT(gbc.pc(), 0xb89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0078
        gbc.setState(0xef54, 0x9db4, 0x9680, 0x51e6, 0x5dcb, 0xb0d, 0x1, 0x0);
        gbc.writeMem(0xef54, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9db4);
        EXPECT(gbc.pc(), 0xef55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef54), 0xb9);
        // B9 0079
        gbc.setState(0x399d, 0xdd0d, 0xb140, 0x3add, 0x9e24, 0x8fb4, 0x1, 0x0);
        gbc.writeMem(0x399d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xdd0d);
        EXPECT(gbc.pc(), 0x399e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 007A
        gbc.setState(0x4937, 0xea29, 0xb880, 0x57ea, 0xab41, 0xc6c0, 0x1, 0x0);
        gbc.writeMem(0x4937, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xea29);
        EXPECT(gbc.pc(), 0x4938);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 007B
        gbc.setState(0xb197, 0x9957, 0xecf0, 0x801, 0x7cc, 0x4682, 0x0, 0x1);
        gbc.writeMem(0xb197, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9957);
        EXPECT(gbc.pc(), 0xb198);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb197), 0xb9);
        // B9 007C
        gbc.setState(0x5321, 0x1680, 0xcbd0, 0xefa, 0xc090, 0x550, 0x1, 0x0);
        gbc.writeMem(0x5321, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x1680);
        EXPECT(gbc.pc(), 0x5322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 007D
        gbc.setState(0x88b1, 0xfbd3, 0x3b60, 0x955c, 0xa3ad, 0x230d, 0x0, 0x1);
        gbc.writeMem(0x88b1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xfbd3);
        EXPECT(gbc.pc(), 0x88b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88b1), 0xb9);
        // B9 007F
        gbc.setState(0x682e, 0xd338, 0xbbb0, 0x18d1, 0x2773, 0xd661, 0x1, 0x0);
        gbc.writeMem(0x682e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xd338);
        EXPECT(gbc.pc(), 0x682f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0080
        gbc.setState(0x57d9, 0x70c8, 0x4af0, 0x8076, 0xcaeb, 0xdec5, 0x0, 0x0);
        gbc.writeMem(0x57d9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x70c8);
        EXPECT(gbc.pc(), 0x57da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0081
        gbc.setState(0x75f3, 0x2017, 0x6cb0, 0xf908, 0x8486, 0xe36e, 0x1, 0x1);
        gbc.writeMem(0x75f3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x2017);
        EXPECT(gbc.pc(), 0x75f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0082
        gbc.setState(0x2522, 0x4618, 0x72f0, 0x279, 0xe15d, 0xf066, 0x1, 0x0);
        gbc.writeMem(0x2522, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4618);
        EXPECT(gbc.pc(), 0x2523);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0083
        gbc.setState(0x7aa, 0x765d, 0xc940, 0x83e0, 0x237e, 0x558, 0x0, 0x1);
        gbc.writeMem(0x7aa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x765d);
        EXPECT(gbc.pc(), 0x7ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0085
        gbc.setState(0xa1fe, 0x96ad, 0xe090, 0x8acd, 0xe804, 0x3c72, 0x0, 0x0);
        gbc.writeMem(0xa1fe, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x96ad);
        EXPECT(gbc.pc(), 0xa1ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1fe), 0xb9);
        // B9 0086
        gbc.setState(0x36ce, 0xa5c5, 0x3590, 0xa76, 0x23ae, 0xd77e, 0x1, 0x0);
        gbc.writeMem(0x36ce, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xa5c5);
        EXPECT(gbc.pc(), 0x36cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0087
        gbc.setState(0x20d3, 0xf72e, 0xfcd0, 0x3926, 0x2db3, 0x8579, 0x0, 0x0);
        gbc.writeMem(0x20d3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xf72e);
        EXPECT(gbc.pc(), 0x20d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0088
        gbc.setState(0xe8fb, 0x6a09, 0xa9e0, 0x4032, 0xb614, 0x4da5, 0x0, 0x0);
        gbc.writeMem(0xe8fb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x6a09);
        EXPECT(gbc.pc(), 0xe8fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8fb), 0xb9);
        // B9 0089
        gbc.setState(0xc19, 0x8809, 0x2aa0, 0x1365, 0x175e, 0xee5d, 0x0, 0x1);
        gbc.writeMem(0xc19, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8809);
        EXPECT(gbc.pc(), 0xc1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 008A
        gbc.setState(0x3386, 0x76d5, 0xd8c0, 0x9f9c, 0x41cd, 0xf67d, 0x0, 0x0);
        gbc.writeMem(0x3386, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x76d5);
        EXPECT(gbc.pc(), 0x3387);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 008C
        gbc.setState(0xcd20, 0x259, 0xf3b0, 0xc078, 0xc672, 0xf820, 0x1, 0x0);
        gbc.writeMem(0xcd20, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x259);
        EXPECT(gbc.pc(), 0xcd21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd20), 0xb9);
        // B9 008D
        gbc.setState(0x3a4f, 0xb73c, 0xb050, 0x7563, 0x61db, 0xa784, 0x1, 0x1);
        gbc.writeMem(0x3a4f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb73c);
        EXPECT(gbc.pc(), 0x3a50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0090
        gbc.setState(0xc469, 0x26c0, 0xa0f0, 0x917e, 0x92ea, 0x95e7, 0x1, 0x0);
        gbc.writeMem(0xc469, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x26c0);
        EXPECT(gbc.pc(), 0xc46a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc469), 0xb9);
        // B9 0091
        gbc.setState(0x266, 0xac83, 0xcc0, 0x4c40, 0xef1b, 0x3709, 0x1, 0x1);
        gbc.writeMem(0x266, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xac83);
        EXPECT(gbc.pc(), 0x267);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0092
        gbc.setState(0xbfdb, 0x97e9, 0x7a0, 0x160a, 0xedcd, 0x5bc6, 0x1, 0x1);
        gbc.writeMem(0xbfdb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x97e9);
        EXPECT(gbc.pc(), 0xbfdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfdb), 0xb9);
        // B9 0093
        gbc.setState(0x5f51, 0xceef, 0xe5d0, 0xa5ae, 0x6ee4, 0x8c6, 0x0, 0x1);
        gbc.writeMem(0x5f51, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xceef);
        EXPECT(gbc.pc(), 0x5f52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0095
        gbc.setState(0xb8a8, 0x50e3, 0x78e0, 0x5627, 0x7c55, 0x695b, 0x1, 0x0);
        gbc.writeMem(0xb8a8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x50e3);
        EXPECT(gbc.pc(), 0xb8a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8a8), 0xb9);
        // B9 0096
        gbc.setState(0x9a26, 0x5c9c, 0x9850, 0x2807, 0x4374, 0xdf21, 0x0, 0x1);
        gbc.writeMem(0x9a26, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5c9c);
        EXPECT(gbc.pc(), 0x9a27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a26), 0xb9);
        // B9 0097
        gbc.setState(0xe3ef, 0xb80d, 0x4750, 0xee39, 0xf454, 0x1d1c, 0x1, 0x0);
        gbc.writeMem(0xe3ef, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xb80d);
        EXPECT(gbc.pc(), 0xe3f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3ef), 0xb9);
        // B9 0098
        gbc.setState(0xef36, 0xf756, 0xa4b0, 0xbdcd, 0xa363, 0xca27, 0x0, 0x1);
        gbc.writeMem(0xef36, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xf756);
        EXPECT(gbc.pc(), 0xef37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef36), 0xb9);
        // B9 0099
        gbc.setState(0x1297, 0x9a0d, 0xf700, 0x3639, 0xc68f, 0x2c9c, 0x0, 0x0);
        gbc.writeMem(0x1297, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9a0d);
        EXPECT(gbc.pc(), 0x1298);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 009A
        gbc.setState(0xc8fa, 0xf101, 0x64d0, 0x44fa, 0x4d56, 0x6b4d, 0x1, 0x0);
        gbc.writeMem(0xc8fa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xf101);
        EXPECT(gbc.pc(), 0xc8fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8fa), 0xb9);
        // B9 009B
        gbc.setState(0xa7a6, 0x334, 0x3110, 0x3ed7, 0x4b07, 0x962b, 0x0, 0x0);
        gbc.writeMem(0xa7a6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x334);
        EXPECT(gbc.pc(), 0xa7a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7a6), 0xb9);
        // B9 009C
        gbc.setState(0x133c, 0x885e, 0x9cc0, 0x8a20, 0x5c11, 0x951e, 0x1, 0x1);
        gbc.writeMem(0x133c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x885e);
        EXPECT(gbc.pc(), 0x133d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 009D
        gbc.setState(0x7c59, 0xc31f, 0xd80, 0x3ba5, 0x4c59, 0x4f20, 0x0, 0x1);
        gbc.writeMem(0x7c59, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xc31f);
        EXPECT(gbc.pc(), 0x7c5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 009E
        gbc.setState(0x5121, 0x74f5, 0xd470, 0xbb16, 0x1975, 0x5cf4, 0x1, 0x0);
        gbc.writeMem(0x5121, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x74f5);
        EXPECT(gbc.pc(), 0x5122);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 009F
        gbc.setState(0xe79d, 0xd8d0, 0xae10, 0xd563, 0x25cb, 0xd25b, 0x0, 0x1);
        gbc.writeMem(0xe79d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xd8d0);
        EXPECT(gbc.pc(), 0xe79e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe79d), 0xb9);
        // B9 00A0
        gbc.setState(0xec34, 0xd3fc, 0xa680, 0xeeaa, 0x4ad9, 0xb1e5, 0x1, 0x0);
        gbc.writeMem(0xec34, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xd3fc);
        EXPECT(gbc.pc(), 0xec35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec34), 0xb9);
        // B9 00A1
        gbc.setState(0x3289, 0x44f4, 0x79d0, 0xe183, 0xcb30, 0x51f3, 0x0, 0x1);
        gbc.writeMem(0x3289, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x44f4);
        EXPECT(gbc.pc(), 0x328a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00A2
        gbc.setState(0x20a6, 0x46f9, 0x7c80, 0x274, 0x85d1, 0xf51d, 0x1, 0x0);
        gbc.writeMem(0x20a6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x46f9);
        EXPECT(gbc.pc(), 0x20a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00A3
        gbc.setState(0x1630, 0x91e8, 0xf490, 0x4e40, 0x81d8, 0xf0bb, 0x0, 0x1);
        gbc.writeMem(0x1630, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x91e8);
        EXPECT(gbc.pc(), 0x1631);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00A4
        gbc.setState(0x8414, 0x7e1c, 0xdd60, 0x37f6, 0xb043, 0xdbc7, 0x0, 0x1);
        gbc.writeMem(0x8414, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x7e1c);
        EXPECT(gbc.pc(), 0x8415);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8414), 0xb9);
        // B9 00A5
        gbc.setState(0x31f0, 0x90a8, 0xe8b0, 0xa6bb, 0x591, 0x4d4, 0x0, 0x0);
        gbc.writeMem(0x31f0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x90a8);
        EXPECT(gbc.pc(), 0x31f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 00A6
        gbc.setState(0x511f, 0xd19b, 0xb940, 0x47ae, 0x5a0d, 0xb228, 0x0, 0x1);
        gbc.writeMem(0x511f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd19b);
        EXPECT(gbc.pc(), 0x5120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 00A7
        gbc.setState(0x64cd, 0x8cfb, 0xfc70, 0x92fd, 0x6400, 0x1580, 0x0, 0x0);
        gbc.writeMem(0x64cd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x8cfb);
        EXPECT(gbc.pc(), 0x64ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00A8
        gbc.setState(0x6f14, 0xf78c, 0x2d00, 0xa08d, 0x30e3, 0x5839, 0x0, 0x1);
        gbc.writeMem(0x6f14, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf78c);
        EXPECT(gbc.pc(), 0x6f15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00A9
        gbc.setState(0x3097, 0x192c, 0xef10, 0xdbe3, 0x7341, 0xc2ec, 0x0, 0x1);
        gbc.writeMem(0x3097, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x192c);
        EXPECT(gbc.pc(), 0x3098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00AA
        gbc.setState(0x4c1a, 0x7e44, 0xf5f0, 0xa7c3, 0x93c4, 0x9c1a, 0x1, 0x1);
        gbc.writeMem(0x4c1a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7e44);
        EXPECT(gbc.pc(), 0x4c1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00AB
        gbc.setState(0xe0aa, 0x682e, 0xdca0, 0xaac7, 0xb592, 0x9e0, 0x1, 0x0);
        gbc.writeMem(0xe0aa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x682e);
        EXPECT(gbc.pc(), 0xe0ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0aa), 0xb9);
        // B9 00AC
        gbc.setState(0xb5be, 0xf338, 0xa700, 0x7353, 0xd19, 0xd254, 0x0, 0x1);
        gbc.writeMem(0xb5be, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xf338);
        EXPECT(gbc.pc(), 0xb5bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5be), 0xb9);
        // B9 00AD
        gbc.setState(0x857a, 0x45b5, 0x7220, 0xe391, 0x1315, 0xc2fe, 0x0, 0x1);
        gbc.writeMem(0x857a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x45b5);
        EXPECT(gbc.pc(), 0x857b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x857a), 0xb9);
        // B9 00AE
        gbc.setState(0x7e90, 0x50b1, 0x95f0, 0x2901, 0x90ab, 0x82e2, 0x0, 0x0);
        gbc.writeMem(0x7e90, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x50b1);
        EXPECT(gbc.pc(), 0x7e91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00AF
        gbc.setState(0x73fb, 0x873d, 0x6e0, 0x13a1, 0xb252, 0x5d21, 0x1, 0x1);
        gbc.writeMem(0x73fb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x873d);
        EXPECT(gbc.pc(), 0x73fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00B0
        gbc.setState(0x3f26, 0x5d13, 0x5380, 0xc9f3, 0x47a8, 0x7c03, 0x1, 0x0);
        gbc.writeMem(0x3f26, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5d13);
        EXPECT(gbc.pc(), 0x3f27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00B1
        gbc.setState(0xbee, 0x92f1, 0x5140, 0x836b, 0x1976, 0x4226, 0x1, 0x1);
        gbc.writeMem(0xbee, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x92f1);
        EXPECT(gbc.pc(), 0xbef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00B2
        gbc.setState(0xaea7, 0x6473, 0xf8c0, 0x38eb, 0x9cbb, 0xabe7, 0x0, 0x1);
        gbc.writeMem(0xaea7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6473);
        EXPECT(gbc.pc(), 0xaea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaea7), 0xb9);
        // B9 00B3
        gbc.setState(0xc912, 0x8263, 0x920, 0xce98, 0xffd6, 0xf507, 0x1, 0x0);
        gbc.writeMem(0xc912, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8263);
        EXPECT(gbc.pc(), 0xc913);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc912), 0xb9);
        // B9 00B5
        gbc.setState(0x72b8, 0x9a39, 0x2500, 0x7d89, 0xb33d, 0x5b92, 0x0, 0x0);
        gbc.writeMem(0x72b8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9a39);
        EXPECT(gbc.pc(), 0x72b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00B6
        gbc.setState(0x20a0, 0x7207, 0x8d80, 0xbb59, 0x5a30, 0xa538, 0x0, 0x1);
        gbc.writeMem(0x20a0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7207);
        EXPECT(gbc.pc(), 0x20a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00B7
        gbc.setState(0x3da, 0xe35d, 0x1240, 0x9724, 0x40ae, 0xe396, 0x0, 0x0);
        gbc.writeMem(0x3da, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xe35d);
        EXPECT(gbc.pc(), 0x3db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00B8
        gbc.setState(0xdd39, 0x3a91, 0xf160, 0x17f9, 0xf504, 0x3b2b, 0x0, 0x1);
        gbc.writeMem(0xdd39, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3a91);
        EXPECT(gbc.pc(), 0xdd3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd39), 0xb9);
        // B9 00B9
        gbc.setState(0xa1ac, 0xedd8, 0x70b0, 0x16e0, 0xe4c, 0xe0a7, 0x1, 0x0);
        gbc.writeMem(0xa1ac, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xedd8);
        EXPECT(gbc.pc(), 0xa1ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1ac), 0xb9);
        // B9 00BA
        gbc.setState(0xcae1, 0xd0cf, 0x3eb0, 0xf157, 0xfa17, 0xd062, 0x1, 0x1);
        gbc.writeMem(0xcae1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xd0cf);
        EXPECT(gbc.pc(), 0xcae2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcae1), 0xb9);
        // B9 00BB
        gbc.setState(0xa2c4, 0x10f5, 0x55e0, 0x640d, 0x36c9, 0xe6db, 0x1, 0x0);
        gbc.writeMem(0xa2c4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x10f5);
        EXPECT(gbc.pc(), 0xa2c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2c4), 0xb9);
        // B9 00BC
        gbc.setState(0xdbc1, 0xb698, 0xf1d0, 0x2844, 0xcb7d, 0x79b2, 0x1, 0x0);
        gbc.writeMem(0xdbc1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb698);
        EXPECT(gbc.pc(), 0xdbc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbc1), 0xb9);
        // B9 00BD
        gbc.setState(0x2521, 0xdad5, 0x9b90, 0xb7ad, 0x90e2, 0x3ce7, 0x0, 0x0);
        gbc.writeMem(0x2521, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xdad5);
        EXPECT(gbc.pc(), 0x2522);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00BE
        gbc.setState(0x2c7a, 0x4c9d, 0x8210, 0x78a2, 0x6683, 0x134e, 0x0, 0x0);
        gbc.writeMem(0x2c7a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4c9d);
        EXPECT(gbc.pc(), 0x2c7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00BF
        gbc.setState(0xdf60, 0x3349, 0xec0, 0x8c19, 0xc8d9, 0x3537, 0x1, 0x1);
        gbc.writeMem(0xdf60, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x3349);
        EXPECT(gbc.pc(), 0xdf61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf60), 0xb9);
        // B9 00C0
        gbc.setState(0xa1d4, 0xb2ea, 0x33f0, 0x4421, 0x803a, 0x72e3, 0x0, 0x0);
        gbc.writeMem(0xa1d4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb2ea);
        EXPECT(gbc.pc(), 0xa1d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1d4), 0xb9);
        // B9 00C1
        gbc.setState(0xab98, 0x5d7e, 0x5370, 0xf5ce, 0xf983, 0xd21d, 0x1, 0x1);
        gbc.writeMem(0xab98, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x5d7e);
        EXPECT(gbc.pc(), 0xab99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab98), 0xb9);
        // B9 00C2
        gbc.setState(0x53c4, 0x8563, 0x7f70, 0x99e3, 0x7632, 0xd481, 0x1, 0x1);
        gbc.writeMem(0x53c4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x8563);
        EXPECT(gbc.pc(), 0x53c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00C3
        gbc.setState(0xe68, 0xaa15, 0xc7b0, 0xc297, 0xfb2a, 0x2eb3, 0x1, 0x0);
        gbc.writeMem(0xe68, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xaa15);
        EXPECT(gbc.pc(), 0xe69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00C4
        gbc.setState(0x5480, 0xfd4c, 0xd2b0, 0x753c, 0x7f5a, 0x51e8, 0x1, 0x1);
        gbc.writeMem(0x5480, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfd4c);
        EXPECT(gbc.pc(), 0x5481);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 00C5
        gbc.setState(0xa5b4, 0x2c86, 0x3a50, 0x18ac, 0x6eec, 0xf376, 0x0, 0x1);
        gbc.writeMem(0xa5b4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2c86);
        EXPECT(gbc.pc(), 0xa5b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5b4), 0xb9);
        // B9 00C6
        gbc.setState(0x1680, 0x721, 0x2cb0, 0x54f6, 0xa31, 0x35ac, 0x0, 0x1);
        gbc.writeMem(0x1680, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x721);
        EXPECT(gbc.pc(), 0x1681);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00C7
        gbc.setState(0x1a88, 0x992d, 0xdb30, 0xd2d8, 0x89e0, 0x451a, 0x0, 0x1);
        gbc.writeMem(0x1a88, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x992d);
        EXPECT(gbc.pc(), 0x1a89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00C9
        gbc.setState(0x758b, 0x3a75, 0xf070, 0x2f64, 0x4048, 0x2736, 0x0, 0x0);
        gbc.writeMem(0x758b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3a75);
        EXPECT(gbc.pc(), 0x758c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 00CA
        gbc.setState(0x1301, 0xa0c0, 0x31a0, 0xaef0, 0x7b7d, 0xa960, 0x0, 0x1);
        gbc.writeMem(0x1301, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa0c0);
        EXPECT(gbc.pc(), 0x1302);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00CC
        gbc.setState(0x3725, 0x51db, 0xda60, 0xd069, 0x82b3, 0x7dbc, 0x1, 0x1);
        gbc.writeMem(0x3725, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x51db);
        EXPECT(gbc.pc(), 0x3726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00CD
        gbc.setState(0x5872, 0xd169, 0x21a0, 0x484a, 0x69e, 0x7deb, 0x0, 0x1);
        gbc.writeMem(0x5872, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xd169);
        EXPECT(gbc.pc(), 0x5873);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00CE
        gbc.setState(0xeb87, 0xbd25, 0xf9b0, 0xde4, 0x62f9, 0x1307, 0x0, 0x0);
        gbc.writeMem(0xeb87, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xbd25);
        EXPECT(gbc.pc(), 0xeb88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb87), 0xb9);
        // B9 00CF
        gbc.setState(0xda63, 0x37de, 0xcef0, 0xf8bb, 0x5843, 0x4041, 0x1, 0x1);
        gbc.writeMem(0xda63, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x37de);
        EXPECT(gbc.pc(), 0xda64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda63), 0xb9);
        // B9 00D0
        gbc.setState(0xcd26, 0x2414, 0x9ad0, 0x48a2, 0x78d, 0x3ca4, 0x0, 0x1);
        gbc.writeMem(0xcd26, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x2414);
        EXPECT(gbc.pc(), 0xcd27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd26), 0xb9);
        // B9 00D1
        gbc.setState(0x9e44, 0x508c, 0x9470, 0xe4fa, 0x77a5, 0x3d92, 0x1, 0x1);
        gbc.writeMem(0x9e44, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x508c);
        EXPECT(gbc.pc(), 0x9e45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e44), 0xb9);
        // B9 00D2
        gbc.setState(0x67a3, 0xbdff, 0x7370, 0xad58, 0x900d, 0x2a2b, 0x0, 0x1);
        gbc.writeMem(0x67a3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xbdff);
        EXPECT(gbc.pc(), 0x67a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 00D3
        gbc.setState(0xe2c2, 0xb293, 0x69f0, 0x68bc, 0x16fb, 0xde5c, 0x1, 0x1);
        gbc.writeMem(0xe2c2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb293);
        EXPECT(gbc.pc(), 0xe2c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2c2), 0xb9);
        // B9 00D5
        gbc.setState(0x2b81, 0xa463, 0x3920, 0x140b, 0x5ba8, 0xfda5, 0x1, 0x1);
        gbc.writeMem(0x2b81, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xa463);
        EXPECT(gbc.pc(), 0x2b82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 00D6
        gbc.setState(0x88f4, 0xb734, 0x17e0, 0xc42b, 0xff0c, 0xd887, 0x1, 0x0);
        gbc.writeMem(0x88f4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xb734);
        EXPECT(gbc.pc(), 0x88f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88f4), 0xb9);
        // B9 00D7
        gbc.setState(0xc961, 0xa747, 0x5df0, 0x4ca7, 0x8844, 0x617, 0x1, 0x0);
        gbc.writeMem(0xc961, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa747);
        EXPECT(gbc.pc(), 0xc962);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc961), 0xb9);
        // B9 00D8
        gbc.setState(0x8044, 0x188f, 0xd0f0, 0x67a, 0x74e1, 0x380d, 0x1, 0x1);
        gbc.writeMem(0x8044, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x188f);
        EXPECT(gbc.pc(), 0x8045);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8044), 0xb9);
        // B9 00D9
        gbc.setState(0x9f7a, 0xd4b5, 0x4350, 0x3094, 0x604d, 0xb193, 0x1, 0x1);
        gbc.writeMem(0x9f7a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xd4b5);
        EXPECT(gbc.pc(), 0x9f7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f7a), 0xb9);
        // B9 00DA
        gbc.setState(0x38f9, 0x4b33, 0x650, 0x4902, 0xfe08, 0x3e29, 0x0, 0x0);
        gbc.writeMem(0x38f9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4b33);
        EXPECT(gbc.pc(), 0x38fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00DB
        gbc.setState(0x9146, 0xc5c4, 0xdef0, 0x273b, 0xb80a, 0x9897, 0x0, 0x1);
        gbc.writeMem(0x9146, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc5c4);
        EXPECT(gbc.pc(), 0x9147);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9146), 0xb9);
        // B9 00DC
        gbc.setState(0xe63a, 0xae22, 0x2740, 0xbbff, 0x7e06, 0xb513, 0x0, 0x0);
        gbc.writeMem(0xe63a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xae22);
        EXPECT(gbc.pc(), 0xe63b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe63a), 0xb9);
        // B9 00DD
        gbc.setState(0x4ed8, 0xd09e, 0xb790, 0x52da, 0x9dac, 0x6307, 0x1, 0x0);
        gbc.writeMem(0x4ed8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xd09e);
        EXPECT(gbc.pc(), 0x4ed9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00DE
        gbc.setState(0xa44, 0xea26, 0x3420, 0x13bb, 0xdff3, 0x6130, 0x1, 0x1);
        gbc.writeMem(0xa44, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xea26);
        EXPECT(gbc.pc(), 0xa45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00DF
        gbc.setState(0xda0b, 0xa1b6, 0x4230, 0x29cb, 0x262b, 0x68da, 0x0, 0x0);
        gbc.writeMem(0xda0b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa1b6);
        EXPECT(gbc.pc(), 0xda0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda0b), 0xb9);
        // B9 00E0
        gbc.setState(0x5f77, 0x9f46, 0xa920, 0x2f73, 0x5687, 0x84d0, 0x1, 0x0);
        gbc.writeMem(0x5f77, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9f46);
        EXPECT(gbc.pc(), 0x5f78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00E1
        gbc.setState(0xdad0, 0x4d34, 0x6910, 0x902b, 0x722f, 0xc5c0, 0x1, 0x1);
        gbc.writeMem(0xdad0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4d34);
        EXPECT(gbc.pc(), 0xdad1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdad0), 0xb9);
        // B9 00E2
        gbc.setState(0xa2ec, 0xf167, 0xe260, 0xaf6d, 0x4ae1, 0x517, 0x1, 0x0);
        gbc.writeMem(0xa2ec, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf167);
        EXPECT(gbc.pc(), 0xa2ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2ec), 0xb9);
        // B9 00E3
        gbc.setState(0x74c8, 0xfdc, 0xc620, 0xe3f2, 0xff11, 0x8041, 0x0, 0x0);
        gbc.writeMem(0x74c8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xfdc);
        EXPECT(gbc.pc(), 0x74c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00E4
        gbc.setState(0xcb20, 0xef70, 0x4370, 0x6e09, 0x1468, 0x1f01, 0x0, 0x0);
        gbc.writeMem(0xcb20, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xef70);
        EXPECT(gbc.pc(), 0xcb21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb20), 0xb9);
        // B9 00E5
        gbc.setState(0x5479, 0x4081, 0x5b10, 0xe354, 0xa9ba, 0x3398, 0x1, 0x1);
        gbc.writeMem(0x5479, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4081);
        EXPECT(gbc.pc(), 0x547a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00E6
        gbc.setState(0xcf37, 0xec35, 0xa950, 0x5e85, 0x474f, 0x3064, 0x0, 0x0);
        gbc.writeMem(0xcf37, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xec35);
        EXPECT(gbc.pc(), 0xcf38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf37), 0xb9);
        // B9 00E7
        gbc.setState(0xece6, 0x5fd0, 0x2530, 0x67b7, 0xfcba, 0x94c3, 0x1, 0x0);
        gbc.writeMem(0xece6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5fd0);
        EXPECT(gbc.pc(), 0xece7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xece6), 0xb9);
        // B9 00E8
        gbc.setState(0x48ab, 0xf67e, 0xc1a0, 0x4ef0, 0x2094, 0x6739, 0x1, 0x0);
        gbc.writeMem(0x48ab, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf67e);
        EXPECT(gbc.pc(), 0x48ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00E9
        gbc.setState(0xc53b, 0x132c, 0xafa0, 0x3b8, 0xec35, 0x95b6, 0x0, 0x0);
        gbc.writeMem(0xc53b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x132c);
        EXPECT(gbc.pc(), 0xc53c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc53b), 0xb9);
        // B9 00EA
        gbc.setState(0xeb5c, 0xe2e6, 0xef0, 0x7a51, 0xb84a, 0x7574, 0x1, 0x0);
        gbc.writeMem(0xeb5c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe2e6);
        EXPECT(gbc.pc(), 0xeb5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb5c), 0xb9);
        // B9 00EB
        gbc.setState(0x5066, 0xffc, 0x62b0, 0x33c2, 0x75bf, 0x74af, 0x0, 0x1);
        gbc.writeMem(0x5066, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xffc);
        EXPECT(gbc.pc(), 0x5067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00EC
        gbc.setState(0x7419, 0x88f, 0xcff0, 0xbe9c, 0x9e68, 0x45a1, 0x0, 0x1);
        gbc.writeMem(0x7419, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x88f);
        EXPECT(gbc.pc(), 0x741a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00ED
        gbc.setState(0x68b5, 0x8009, 0xd0c0, 0xcb4d, 0x38d7, 0x793e, 0x0, 0x1);
        gbc.writeMem(0x68b5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x8009);
        EXPECT(gbc.pc(), 0x68b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 00EE
        gbc.setState(0xe0a5, 0x8244, 0xa260, 0x8203, 0x142d, 0x2ae4, 0x0, 0x0);
        gbc.writeMem(0xe0a5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x8244);
        EXPECT(gbc.pc(), 0xe0a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a5), 0xb9);
        // B9 00EF
        gbc.setState(0x6b0d, 0xb0c3, 0x5100, 0x7a7b, 0xfc62, 0x65f5, 0x0, 0x1);
        gbc.writeMem(0x6b0d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xb0c3);
        EXPECT(gbc.pc(), 0x6b0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00F0
        gbc.setState(0xfe7, 0xae55, 0x4cd0, 0x163b, 0x1395, 0x271e, 0x0, 0x0);
        gbc.writeMem(0xfe7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xae55);
        EXPECT(gbc.pc(), 0xfe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00F1
        gbc.setState(0x335c, 0x3bbe, 0x5890, 0x45a7, 0x8812, 0x5912, 0x1, 0x0);
        gbc.writeMem(0x335c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x3bbe);
        EXPECT(gbc.pc(), 0x335d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00F2
        gbc.setState(0xa410, 0xc8a2, 0x8d50, 0x6389, 0xa06a, 0x1301, 0x0, 0x1);
        gbc.writeMem(0xa410, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xc8a2);
        EXPECT(gbc.pc(), 0xa411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa410), 0xb9);
        // B9 00F3
        gbc.setState(0xbcba, 0xbf2f, 0x6f30, 0xaf13, 0x68d7, 0x14f8, 0x1, 0x0);
        gbc.writeMem(0xbcba, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xbf2f);
        EXPECT(gbc.pc(), 0xbcbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcba), 0xb9);
        // B9 00F4
        gbc.setState(0xd7a9, 0x2e36, 0x5500, 0x5f18, 0xd19b, 0xe6c0, 0x0, 0x0);
        gbc.writeMem(0xd7a9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2e36);
        EXPECT(gbc.pc(), 0xd7aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7a9), 0xb9);
        // B9 00F5
        gbc.setState(0x93d1, 0x5c9c, 0x75b0, 0xda3c, 0x28cb, 0x46fa, 0x0, 0x0);
        gbc.writeMem(0x93d1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x5c9c);
        EXPECT(gbc.pc(), 0x93d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93d1), 0xb9);
        // B9 00F6
        gbc.setState(0x702c, 0xbd9e, 0x1080, 0x28bc, 0x318b, 0x83e9, 0x0, 0x0);
        gbc.writeMem(0x702c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xbd9e);
        EXPECT(gbc.pc(), 0x702d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00F7
        gbc.setState(0x69ab, 0x8314, 0xe810, 0x4417, 0xe0e9, 0xcc1d, 0x1, 0x1);
        gbc.writeMem(0x69ab, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8314);
        EXPECT(gbc.pc(), 0x69ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00F8
        gbc.setState(0xd6d5, 0xe17b, 0xd5b0, 0x7400, 0x2117, 0x9493, 0x1, 0x1);
        gbc.writeMem(0xd6d5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xe17b);
        EXPECT(gbc.pc(), 0xd6d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6d5), 0xb9);
        // B9 00F9
        gbc.setState(0x4c2e, 0x61e3, 0x1bd0, 0x146e, 0xa356, 0x79a2, 0x1, 0x0);
        gbc.writeMem(0x4c2e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x61e3);
        EXPECT(gbc.pc(), 0x4c2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 00FB
        gbc.setState(0xc70d, 0xbb1, 0x8cb0, 0x6b1f, 0xf8c5, 0xd613, 0x1, 0x1);
        gbc.writeMem(0xc70d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbb1);
        EXPECT(gbc.pc(), 0xc70e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc70d), 0xb9);
        // B9 00FC
        gbc.setState(0x7e83, 0x5d23, 0xd000, 0x5ec6, 0xfaca, 0x425b, 0x1, 0x1);
        gbc.writeMem(0x7e83, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x5d23);
        EXPECT(gbc.pc(), 0x7e84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 00FD
        gbc.setState(0x1817, 0xb635, 0x98d0, 0x7480, 0x3fe4, 0xd5fe, 0x1, 0x1);
        gbc.writeMem(0x1817, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb635);
        EXPECT(gbc.pc(), 0x1818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 00FE
        gbc.setState(0x2d37, 0x795c, 0xe40, 0xb5eb, 0x28dc, 0xb3f1, 0x0, 0x1);
        gbc.writeMem(0x2d37, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x795c);
        EXPECT(gbc.pc(), 0x2d38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 00FF
        gbc.setState(0xdc61, 0x303f, 0x9570, 0xc776, 0x18e1, 0x1e29, 0x1, 0x1);
        gbc.writeMem(0xdc61, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x303f);
        EXPECT(gbc.pc(), 0xdc62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc61), 0xb9);
        // B9 0100
        gbc.setState(0x4fa8, 0x34b2, 0x85f0, 0xa927, 0xa1e7, 0x58a8, 0x1, 0x1);
        gbc.writeMem(0x4fa8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x34b2);
        EXPECT(gbc.pc(), 0x4fa9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0101
        gbc.setState(0xbc67, 0xa5bf, 0xa0f0, 0x7c1, 0xf7d0, 0x7df5, 0x1, 0x0);
        gbc.writeMem(0xbc67, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xa5bf);
        EXPECT(gbc.pc(), 0xbc68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc67), 0xb9);
        // B9 0102
        gbc.setState(0xd9f3, 0xf15c, 0x20d0, 0x4ed3, 0x6768, 0x2ed3, 0x1, 0x1);
        gbc.writeMem(0xd9f3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xf15c);
        EXPECT(gbc.pc(), 0xd9f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9f3), 0xb9);
        // B9 0103
        gbc.setState(0x5ca2, 0xb0c4, 0x20b0, 0xcc59, 0x70d9, 0xb5a8, 0x0, 0x1);
        gbc.writeMem(0x5ca2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb0c4);
        EXPECT(gbc.pc(), 0x5ca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0104
        gbc.setState(0xa849, 0xe050, 0x5830, 0x29c9, 0xb534, 0xcc7b, 0x1, 0x0);
        gbc.writeMem(0xa849, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe050);
        EXPECT(gbc.pc(), 0xa84a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa849), 0xb9);
        // B9 0105
        gbc.setState(0xade2, 0xe389, 0x7520, 0x8d57, 0x63d7, 0x60d1, 0x1, 0x0);
        gbc.writeMem(0xade2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe389);
        EXPECT(gbc.pc(), 0xade3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xade2), 0xb9);
        // B9 0106
        gbc.setState(0x9c18, 0xf2e6, 0x9230, 0xd6bf, 0xb13, 0x9ca8, 0x1, 0x1);
        gbc.writeMem(0x9c18, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf2e6);
        EXPECT(gbc.pc(), 0x9c19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c18), 0xb9);
        // B9 0107
        gbc.setState(0xdca0, 0x259f, 0x3140, 0xeb34, 0xb5dd, 0xcee5, 0x0, 0x1);
        gbc.writeMem(0xdca0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x259f);
        EXPECT(gbc.pc(), 0xdca1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdca0), 0xb9);
        // B9 0108
        gbc.setState(0x8a64, 0x5bdb, 0x99f0, 0x7667, 0x6cbe, 0xde15, 0x1, 0x1);
        gbc.writeMem(0x8a64, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x5bdb);
        EXPECT(gbc.pc(), 0x8a65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a64), 0xb9);
        // B9 0109
        gbc.setState(0x4b3c, 0x6048, 0x7ce0, 0x62d3, 0x2a90, 0x7dab, 0x0, 0x0);
        gbc.writeMem(0x4b3c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x6048);
        EXPECT(gbc.pc(), 0x4b3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 010A
        gbc.setState(0x16e6, 0xebbc, 0xfc50, 0x5a55, 0x1cd5, 0x5b29, 0x1, 0x1);
        gbc.writeMem(0x16e6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xebbc);
        EXPECT(gbc.pc(), 0x16e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 010B
        gbc.setState(0xd467, 0x3cfb, 0xbfc0, 0x9a9, 0x879d, 0x38ed, 0x1, 0x1);
        gbc.writeMem(0xd467, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x3cfb);
        EXPECT(gbc.pc(), 0xd468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd467), 0xb9);
        // B9 010C
        gbc.setState(0xee71, 0x6e31, 0x3c50, 0xc758, 0x82fe, 0x4be4, 0x0, 0x0);
        gbc.writeMem(0xee71, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x6e31);
        EXPECT(gbc.pc(), 0xee72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee71), 0xb9);
        // B9 010D
        gbc.setState(0xa129, 0x1521, 0x5b30, 0xa304, 0x3bb3, 0x17c6, 0x0, 0x1);
        gbc.writeMem(0xa129, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x1521);
        EXPECT(gbc.pc(), 0xa12a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa129), 0xb9);
        // B9 010E
        gbc.setState(0x3819, 0x4a1c, 0x47f0, 0x7313, 0x8c75, 0x8c8e, 0x0, 0x0);
        gbc.writeMem(0x3819, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4a1c);
        EXPECT(gbc.pc(), 0x381a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 010F
        gbc.setState(0x29ea, 0xf755, 0xc740, 0x372, 0x2180, 0xe49b, 0x1, 0x1);
        gbc.writeMem(0x29ea, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf755);
        EXPECT(gbc.pc(), 0x29eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0110
        gbc.setState(0x4355, 0x9483, 0x9980, 0x26fc, 0x702a, 0xe4b3, 0x0, 0x1);
        gbc.writeMem(0x4355, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9483);
        EXPECT(gbc.pc(), 0x4356);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0111
        gbc.setState(0xbae6, 0xb25b, 0x5800, 0x636, 0x9401, 0x22f4, 0x1, 0x1);
        gbc.writeMem(0xbae6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb25b);
        EXPECT(gbc.pc(), 0xbae7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbae6), 0xb9);
        // B9 0112
        gbc.setState(0xc9f2, 0xc45c, 0xe170, 0xe969, 0xd705, 0x8824, 0x0, 0x0);
        gbc.writeMem(0xc9f2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc45c);
        EXPECT(gbc.pc(), 0xc9f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9f2), 0xb9);
        // B9 0113
        gbc.setState(0x9274, 0x33fd, 0xee0, 0xb5f6, 0xef37, 0x2c67, 0x0, 0x1);
        gbc.writeMem(0x9274, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x33fd);
        EXPECT(gbc.pc(), 0x9275);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9274), 0xb9);
        // B9 0114
        gbc.setState(0x9ecc, 0x396f, 0x78b0, 0xdb8c, 0xc594, 0xe96a, 0x1, 0x0);
        gbc.writeMem(0x9ecc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x396f);
        EXPECT(gbc.pc(), 0x9ecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ecc), 0xb9);
        // B9 0115
        gbc.setState(0x3ed6, 0x1405, 0xb360, 0xdef0, 0xb383, 0xfa34, 0x1, 0x1);
        gbc.writeMem(0x3ed6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1405);
        EXPECT(gbc.pc(), 0x3ed7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0116
        gbc.setState(0xc25c, 0x923, 0x6a60, 0x1a52, 0x308f, 0x111a, 0x0, 0x0);
        gbc.writeMem(0xc25c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x923);
        EXPECT(gbc.pc(), 0xc25d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc25c), 0xb9);
        // B9 0117
        gbc.setState(0x5c33, 0x1450, 0xc760, 0x8bb6, 0xee4f, 0xe202, 0x1, 0x0);
        gbc.writeMem(0x5c33, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1450);
        EXPECT(gbc.pc(), 0x5c34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0118
        gbc.setState(0xee85, 0xfa4b, 0xbe80, 0x173f, 0xfc27, 0x3a4e, 0x1, 0x1);
        gbc.writeMem(0xee85, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xfa4b);
        EXPECT(gbc.pc(), 0xee86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee85), 0xb9);
        // B9 0119
        gbc.setState(0x1e59, 0x9eea, 0x11a0, 0x2df4, 0x7ab6, 0xef34, 0x0, 0x1);
        gbc.writeMem(0x1e59, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9eea);
        EXPECT(gbc.pc(), 0x1e5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 011A
        gbc.setState(0x416a, 0x30ec, 0xd860, 0xfbc2, 0xd8d, 0x640d, 0x1, 0x0);
        gbc.writeMem(0x416a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x30ec);
        EXPECT(gbc.pc(), 0x416b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 011B
        gbc.setState(0x95ed, 0xecb9, 0xa960, 0xad58, 0x9ea6, 0x75f, 0x0, 0x1);
        gbc.writeMem(0x95ed, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xecb9);
        EXPECT(gbc.pc(), 0x95ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95ed), 0xb9);
        // B9 011C
        gbc.setState(0x69b9, 0x741c, 0x72e0, 0x581a, 0xcf6, 0x2650, 0x0, 0x1);
        gbc.writeMem(0x69b9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x741c);
        EXPECT(gbc.pc(), 0x69ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 011D
        gbc.setState(0x560e, 0xbae5, 0xdec0, 0x4f3e, 0x49a1, 0x4a42, 0x0, 0x0);
        gbc.writeMem(0x560e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xbae5);
        EXPECT(gbc.pc(), 0x560f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 011E
        gbc.setState(0xc058, 0xf06f, 0x9e50, 0xbbe6, 0x7653, 0x6a84, 0x0, 0x1);
        gbc.writeMem(0xc058, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf06f);
        EXPECT(gbc.pc(), 0xc059);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc058), 0xb9);
        // B9 011F
        gbc.setState(0x3792, 0x4de8, 0xaa0, 0x414b, 0x8028, 0x866f, 0x1, 0x0);
        gbc.writeMem(0x3792, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4de8);
        EXPECT(gbc.pc(), 0x3793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0120
        gbc.setState(0xb7f6, 0xcdbe, 0x8520, 0x839b, 0xb9d2, 0x4ffb, 0x0, 0x1);
        gbc.writeMem(0xb7f6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcdbe);
        EXPECT(gbc.pc(), 0xb7f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7f6), 0xb9);
        // B9 0121
        gbc.setState(0xe31d, 0xc163, 0x44b0, 0xa6f1, 0x70d0, 0xf73a, 0x1, 0x1);
        gbc.writeMem(0xe31d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc163);
        EXPECT(gbc.pc(), 0xe31e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe31d), 0xb9);
        // B9 0122
        gbc.setState(0x7c2e, 0xf985, 0x6360, 0x8b1, 0xaf59, 0x99df, 0x1, 0x1);
        gbc.writeMem(0x7c2e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf985);
        EXPECT(gbc.pc(), 0x7c2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0123
        gbc.setState(0x4ee5, 0x2cce, 0x5e10, 0x70e1, 0x87b4, 0x88e6, 0x0, 0x0);
        gbc.writeMem(0x4ee5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2cce);
        EXPECT(gbc.pc(), 0x4ee6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0124
        gbc.setState(0x8d4, 0xa893, 0x1790, 0xd5d6, 0x8f29, 0xabe8, 0x0, 0x1);
        gbc.writeMem(0x8d4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa893);
        EXPECT(gbc.pc(), 0x8d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0125
        gbc.setState(0x7d29, 0xcfa4, 0x98c0, 0xbcb2, 0x844d, 0x9ab5, 0x0, 0x1);
        gbc.writeMem(0x7d29, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xcfa4);
        EXPECT(gbc.pc(), 0x7d2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0126
        gbc.setState(0x769f, 0x4ac, 0xb20, 0x3e90, 0x4ba7, 0x6f8e, 0x0, 0x0);
        gbc.writeMem(0x769f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4ac);
        EXPECT(gbc.pc(), 0x76a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0127
        gbc.setState(0xcb4f, 0x713c, 0x7330, 0xc1c, 0xdf5, 0x8a76, 0x0, 0x0);
        gbc.writeMem(0xcb4f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x713c);
        EXPECT(gbc.pc(), 0xcb50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb4f), 0xb9);
        // B9 0128
        gbc.setState(0x4c0d, 0xf022, 0x3230, 0xb5ff, 0xd4c3, 0xf4d6, 0x1, 0x0);
        gbc.writeMem(0x4c0d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf022);
        EXPECT(gbc.pc(), 0x4c0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0129
        gbc.setState(0x81b2, 0x7528, 0x51d0, 0xa6ac, 0xa332, 0x2b2d, 0x0, 0x0);
        gbc.writeMem(0x81b2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x7528);
        EXPECT(gbc.pc(), 0x81b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81b2), 0xb9);
        // B9 012A
        gbc.setState(0x5c0d, 0x9e6, 0x4f80, 0x187f, 0xd37b, 0xc367, 0x0, 0x0);
        gbc.writeMem(0x5c0d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x9e6);
        EXPECT(gbc.pc(), 0x5c0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 012B
        gbc.setState(0x902a, 0x4628, 0x930, 0x7253, 0x7ee4, 0x17b9, 0x0, 0x0);
        gbc.writeMem(0x902a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4628);
        EXPECT(gbc.pc(), 0x902b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x902a), 0xb9);
        // B9 012C
        gbc.setState(0x31f7, 0x342b, 0x5d50, 0xb046, 0x1530, 0x9693, 0x0, 0x0);
        gbc.writeMem(0x31f7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x342b);
        EXPECT(gbc.pc(), 0x31f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 012D
        gbc.setState(0x9ab0, 0xe54f, 0x2a50, 0x972e, 0x1177, 0x16c7, 0x1, 0x0);
        gbc.writeMem(0x9ab0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xe54f);
        EXPECT(gbc.pc(), 0x9ab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ab0), 0xb9);
        // B9 012E
        gbc.setState(0x8135, 0x7fe1, 0x16d0, 0xd906, 0x4357, 0xfa6, 0x0, 0x1);
        gbc.writeMem(0x8135, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7fe1);
        EXPECT(gbc.pc(), 0x8136);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8135), 0xb9);
        // B9 012F
        gbc.setState(0xa325, 0xcd16, 0x6570, 0x91a7, 0xcedd, 0x98fc, 0x0, 0x1);
        gbc.writeMem(0xa325, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xcd16);
        EXPECT(gbc.pc(), 0xa326);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa325), 0xb9);
        // B9 0130
        gbc.setState(0xebe4, 0xa687, 0x4bb0, 0x43ca, 0xaafd, 0x41e0, 0x0, 0x1);
        gbc.writeMem(0xebe4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa687);
        EXPECT(gbc.pc(), 0xebe5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebe4), 0xb9);
        // B9 0131
        gbc.setState(0x17ae, 0x7ceb, 0xbc90, 0x3012, 0x890a, 0x7c51, 0x1, 0x1);
        gbc.writeMem(0x17ae, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x7ceb);
        EXPECT(gbc.pc(), 0x17af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0132
        gbc.setState(0x659c, 0x808, 0xec0, 0x50ab, 0xed26, 0x9d14, 0x1, 0x0);
        gbc.writeMem(0x659c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x808);
        EXPECT(gbc.pc(), 0x659d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0133
        gbc.setState(0xc0bf, 0xba9f, 0x6640, 0x4cff, 0xff22, 0xb213, 0x0, 0x1);
        gbc.writeMem(0xc0bf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xba9f);
        EXPECT(gbc.pc(), 0xc0c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0bf), 0xb9);
        // B9 0134
        gbc.setState(0x493d, 0x6cf3, 0xee60, 0x13b7, 0xa3e6, 0x4989, 0x1, 0x0);
        gbc.writeMem(0x493d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x6cf3);
        EXPECT(gbc.pc(), 0x493e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0135
        gbc.setState(0x1a73, 0xde5f, 0x9e0, 0x32eb, 0xe3ed, 0x6142, 0x1, 0x0);
        gbc.writeMem(0x1a73, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xde5f);
        EXPECT(gbc.pc(), 0x1a74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0136
        gbc.setState(0xb755, 0xffb9, 0x5c90, 0x34ac, 0x6e68, 0xdb38, 0x0, 0x0);
        gbc.writeMem(0xb755, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xffb9);
        EXPECT(gbc.pc(), 0xb756);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb755), 0xb9);
        // B9 0137
        gbc.setState(0xcaee, 0x631f, 0x3d20, 0x7c7d, 0x2f96, 0xd6a6, 0x1, 0x1);
        gbc.writeMem(0xcaee, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x631f);
        EXPECT(gbc.pc(), 0xcaef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaee), 0xb9);
        // B9 0138
        gbc.setState(0xab03, 0xe534, 0xc170, 0x4b6f, 0xd77b, 0x648f, 0x0, 0x1);
        gbc.writeMem(0xab03, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe534);
        EXPECT(gbc.pc(), 0xab04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab03), 0xb9);
        // B9 0139
        gbc.setState(0x9c3d, 0x9255, 0xfb10, 0x4bd7, 0xb2ae, 0xfd47, 0x0, 0x0);
        gbc.writeMem(0x9c3d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9255);
        EXPECT(gbc.pc(), 0x9c3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c3d), 0xb9);
        // B9 013A
        gbc.setState(0x626c, 0x5115, 0x7df0, 0xf399, 0xe843, 0xd669, 0x1, 0x1);
        gbc.writeMem(0x626c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5115);
        EXPECT(gbc.pc(), 0x626d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 013B
        gbc.setState(0x37f1, 0xa9be, 0xe110, 0xffa0, 0x7084, 0x609b, 0x1, 0x1);
        gbc.writeMem(0x37f1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa9be);
        EXPECT(gbc.pc(), 0x37f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 013C
        gbc.setState(0xaa82, 0x87f8, 0xde40, 0x1f9d, 0xbf53, 0x543f, 0x0, 0x0);
        gbc.writeMem(0xaa82, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x87f8);
        EXPECT(gbc.pc(), 0xaa83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa82), 0xb9);
        // B9 013D
        gbc.setState(0x96f5, 0x4bba, 0xd8f0, 0x385b, 0x439d, 0xa7ac, 0x1, 0x0);
        gbc.writeMem(0x96f5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x4bba);
        EXPECT(gbc.pc(), 0x96f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96f5), 0xb9);
        // B9 013E
        gbc.setState(0xb589, 0xaeb4, 0x5c60, 0x95c5, 0x2575, 0xbac9, 0x1, 0x1);
        gbc.writeMem(0xb589, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xaeb4);
        EXPECT(gbc.pc(), 0xb58a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb589), 0xb9);
        // B9 013F
        gbc.setState(0xbc90, 0x5fb4, 0x6c50, 0xe595, 0xfada, 0xa0d2, 0x1, 0x0);
        gbc.writeMem(0xbc90, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x5fb4);
        EXPECT(gbc.pc(), 0xbc91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc90), 0xb9);
        // B9 0140
        gbc.setState(0x12d0, 0xacb9, 0x3d00, 0xf5a8, 0xd1f2, 0x3fef, 0x1, 0x1);
        gbc.writeMem(0x12d0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xacb9);
        EXPECT(gbc.pc(), 0x12d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0141
        gbc.setState(0x45a3, 0x2b2, 0x1b10, 0xc5ae, 0xaa40, 0x23e3, 0x0, 0x0);
        gbc.writeMem(0x45a3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2b2);
        EXPECT(gbc.pc(), 0x45a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0142
        gbc.setState(0x9da8, 0x1a17, 0x4700, 0x9a03, 0x293c, 0x5a30, 0x1, 0x0);
        gbc.writeMem(0x9da8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1a17);
        EXPECT(gbc.pc(), 0x9da9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9da8), 0xb9);
        // B9 0143
        gbc.setState(0x5e14, 0x6b97, 0xa3d0, 0xc956, 0xca0a, 0x3fce, 0x1, 0x0);
        gbc.writeMem(0x5e14, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x6b97);
        EXPECT(gbc.pc(), 0x5e15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0144
        gbc.setState(0x8828, 0x7f5a, 0x2d70, 0x646f, 0x6033, 0x1f99, 0x1, 0x0);
        gbc.writeMem(0x8828, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x7f5a);
        EXPECT(gbc.pc(), 0x8829);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8828), 0xb9);
        // B9 0145
        gbc.setState(0xcb42, 0xfabd, 0x8e50, 0xf24, 0x1f8, 0x1d18, 0x0, 0x1);
        gbc.writeMem(0xcb42, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xfabd);
        EXPECT(gbc.pc(), 0xcb43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb42), 0xb9);
        // B9 0148
        gbc.setState(0x293e, 0x84f, 0x7c20, 0xa835, 0x426f, 0x6049, 0x0, 0x1);
        gbc.writeMem(0x293e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x84f);
        EXPECT(gbc.pc(), 0x293f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0149
        gbc.setState(0x5a9e, 0x26e5, 0x5340, 0xd10d, 0xf615, 0xdeea, 0x1, 0x1);
        gbc.writeMem(0x5a9e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x26e5);
        EXPECT(gbc.pc(), 0x5a9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 014A
        gbc.setState(0xb97a, 0x9f69, 0x9790, 0xa81c, 0xd669, 0x7e46, 0x1, 0x1);
        gbc.writeMem(0xb97a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x9f69);
        EXPECT(gbc.pc(), 0xb97b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb97a), 0xb9);
        // B9 014B
        gbc.setState(0xc365, 0xd034, 0xb8b0, 0x31d7, 0x2746, 0x6663, 0x1, 0x1);
        gbc.writeMem(0xc365, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd034);
        EXPECT(gbc.pc(), 0xc366);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc365), 0xb9);
        // B9 014C
        gbc.setState(0xa91b, 0x6c09, 0x5670, 0x306c, 0xd18e, 0xf01c, 0x1, 0x1);
        gbc.writeMem(0xa91b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6c09);
        EXPECT(gbc.pc(), 0xa91c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa91b), 0xb9);
        // B9 014D
        gbc.setState(0x9e6b, 0x8c42, 0x4d0, 0xb1e1, 0xa4fc, 0xd492, 0x0, 0x1);
        gbc.writeMem(0x9e6b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8c42);
        EXPECT(gbc.pc(), 0x9e6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e6b), 0xb9);
        // B9 014E
        gbc.setState(0x5d77, 0xe75e, 0xfbd0, 0x6c48, 0x754a, 0x8049, 0x1, 0x1);
        gbc.writeMem(0x5d77, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xe75e);
        EXPECT(gbc.pc(), 0x5d78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 014F
        gbc.setState(0x63b7, 0xc9c, 0x90f0, 0x89b5, 0xc679, 0x821, 0x0, 0x0);
        gbc.writeMem(0x63b7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xc9c);
        EXPECT(gbc.pc(), 0x63b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0150
        gbc.setState(0x8a90, 0xae5c, 0x8ea0, 0xb7fe, 0xbbd4, 0xe6a0, 0x1, 0x0);
        gbc.writeMem(0x8a90, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xae5c);
        EXPECT(gbc.pc(), 0x8a91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a90), 0xb9);
        // B9 0152
        gbc.setState(0x8ae4, 0xf78f, 0x6160, 0x3cd6, 0x3661, 0xebe1, 0x0, 0x0);
        gbc.writeMem(0x8ae4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf78f);
        EXPECT(gbc.pc(), 0x8ae5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ae4), 0xb9);
        // B9 0153
        gbc.setState(0x836f, 0x2938, 0x3710, 0x3af7, 0xb8d6, 0x6d06, 0x1, 0x1);
        gbc.writeMem(0x836f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x2938);
        EXPECT(gbc.pc(), 0x8370);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x836f), 0xb9);
        // B9 0154
        gbc.setState(0x1ec, 0x5a87, 0x89a0, 0x1a2b, 0x710, 0x9a0e, 0x0, 0x0);
        gbc.writeMem(0x1ec, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x5a87);
        EXPECT(gbc.pc(), 0x1ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0155
        gbc.setState(0xde91, 0x981f, 0x48d0, 0x69b8, 0x4faa, 0x3e60, 0x0, 0x1);
        gbc.writeMem(0xde91, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x981f);
        EXPECT(gbc.pc(), 0xde92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde91), 0xb9);
        // B9 0157
        gbc.setState(0x630d, 0xe1eb, 0x8790, 0xdbe3, 0x123d, 0x15c0, 0x0, 0x0);
        gbc.writeMem(0x630d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xe1eb);
        EXPECT(gbc.pc(), 0x630e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0158
        gbc.setState(0xbbe9, 0x84f4, 0x6000, 0x2302, 0xde3c, 0x3bba, 0x0, 0x1);
        gbc.writeMem(0xbbe9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x84f4);
        EXPECT(gbc.pc(), 0xbbea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbe9), 0xb9);
        // B9 0159
        gbc.setState(0xcf9d, 0xe7bc, 0xbd50, 0x34ab, 0x8df8, 0x5c6d, 0x0, 0x1);
        gbc.writeMem(0xcf9d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe7bc);
        EXPECT(gbc.pc(), 0xcf9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf9d), 0xb9);
        // B9 015A
        gbc.setState(0x1a1a, 0x2260, 0x8e20, 0x6791, 0x91b8, 0xd451, 0x1, 0x1);
        gbc.writeMem(0x1a1a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2260);
        EXPECT(gbc.pc(), 0x1a1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 015B
        gbc.setState(0x68a, 0xee73, 0x7ac0, 0x8784, 0xb578, 0xd1e1, 0x0, 0x0);
        gbc.writeMem(0x68a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xee73);
        EXPECT(gbc.pc(), 0x68b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 015C
        gbc.setState(0x6eff, 0x8a6e, 0x7920, 0x8029, 0x3393, 0xfa05, 0x1, 0x0);
        gbc.writeMem(0x6eff, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8a6e);
        EXPECT(gbc.pc(), 0x6f00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 015D
        gbc.setState(0xbb8c, 0x1adc, 0x4e50, 0x422c, 0x892, 0x9c05, 0x1, 0x1);
        gbc.writeMem(0xbb8c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x1adc);
        EXPECT(gbc.pc(), 0xbb8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb8c), 0xb9);
        // B9 015E
        gbc.setState(0x8df6, 0xc777, 0x5550, 0xa573, 0x5188, 0xdc32, 0x0, 0x1);
        gbc.writeMem(0x8df6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc777);
        EXPECT(gbc.pc(), 0x8df7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8df6), 0xb9);
        // B9 015F
        gbc.setState(0x450b, 0x5d56, 0x6fd0, 0x762d, 0xb4f7, 0x92f9, 0x1, 0x0);
        gbc.writeMem(0x450b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5d56);
        EXPECT(gbc.pc(), 0x450c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0160
        gbc.setState(0x3678, 0x1b6f, 0x9ec0, 0x87ef, 0x1850, 0x11c6, 0x0, 0x1);
        gbc.writeMem(0x3678, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x1b6f);
        EXPECT(gbc.pc(), 0x3679);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0161
        gbc.setState(0x7fa6, 0xa3b2, 0xaf40, 0xaae5, 0x9445, 0x36c5, 0x0, 0x0);
        gbc.writeMem(0x7fa6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa3b2);
        EXPECT(gbc.pc(), 0x7fa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0162
        gbc.setState(0x9aa, 0xde67, 0x5580, 0x4ba2, 0xccde, 0xbe8b, 0x1, 0x1);
        gbc.writeMem(0x9aa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xde67);
        EXPECT(gbc.pc(), 0x9ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0163
        gbc.setState(0xe4a2, 0x7672, 0x7460, 0xa298, 0x926, 0x6af, 0x0, 0x1);
        gbc.writeMem(0xe4a2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x7672);
        EXPECT(gbc.pc(), 0xe4a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4a2), 0xb9);
        // B9 0165
        gbc.setState(0xdca9, 0x8309, 0xaec0, 0xd674, 0x69c4, 0x79ac, 0x0, 0x1);
        gbc.writeMem(0xdca9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x8309);
        EXPECT(gbc.pc(), 0xdcaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdca9), 0xb9);
        // B9 0166
        gbc.setState(0xb3d0, 0xa7f9, 0xc990, 0xe78, 0xc07d, 0x5b60, 0x0, 0x0);
        gbc.writeMem(0xb3d0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa7f9);
        EXPECT(gbc.pc(), 0xb3d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3d0), 0xb9);
        // B9 0167
        gbc.setState(0x5676, 0x5bce, 0xe000, 0x70c6, 0x5861, 0x2348, 0x1, 0x0);
        gbc.writeMem(0x5676, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5bce);
        EXPECT(gbc.pc(), 0x5677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0168
        gbc.setState(0x7601, 0xe3dd, 0xee20, 0x6394, 0x75c6, 0x657c, 0x0, 0x1);
        gbc.writeMem(0x7601, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe3dd);
        EXPECT(gbc.pc(), 0x7602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0169
        gbc.setState(0x7c0f, 0x2e, 0x5f60, 0xc62a, 0xf43b, 0x2f2f, 0x1, 0x1);
        gbc.writeMem(0x7c0f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2e);
        EXPECT(gbc.pc(), 0x7c10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 016A
        gbc.setState(0x1a42, 0x1a9e, 0xec60, 0xb20b, 0x7e7d, 0x19a1, 0x0, 0x1);
        gbc.writeMem(0x1a42, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x1a9e);
        EXPECT(gbc.pc(), 0x1a43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 016B
        gbc.setState(0x3a74, 0xcfad, 0xf180, 0x3128, 0x69ca, 0x9d5f, 0x0, 0x1);
        gbc.writeMem(0x3a74, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xcfad);
        EXPECT(gbc.pc(), 0x3a75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 016C
        gbc.setState(0x123d, 0x69d9, 0xd220, 0xfac6, 0xd6f9, 0xd0a1, 0x0, 0x1);
        gbc.writeMem(0x123d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x69d9);
        EXPECT(gbc.pc(), 0x123e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 016D
        gbc.setState(0x7358, 0xc4b3, 0xe950, 0x30ce, 0x6d18, 0xb57a, 0x0, 0x0);
        gbc.writeMem(0x7358, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xc4b3);
        EXPECT(gbc.pc(), 0x7359);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 016E
        gbc.setState(0x3330, 0x2b7c, 0xc100, 0xc923, 0x385b, 0xa45e, 0x0, 0x1);
        gbc.writeMem(0x3330, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2b7c);
        EXPECT(gbc.pc(), 0x3331);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 016F
        gbc.setState(0x4dc6, 0x2c1a, 0xf510, 0x31fb, 0x53b2, 0xd927, 0x0, 0x1);
        gbc.writeMem(0x4dc6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2c1a);
        EXPECT(gbc.pc(), 0x4dc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0170
        gbc.setState(0x7a49, 0xb68e, 0xcd60, 0xda7, 0xf7fe, 0x1f99, 0x1, 0x0);
        gbc.writeMem(0x7a49, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xb68e);
        EXPECT(gbc.pc(), 0x7a4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0171
        gbc.setState(0xc89d, 0xa1c4, 0xba80, 0x838d, 0xdc2b, 0xf587, 0x1, 0x0);
        gbc.writeMem(0xc89d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa1c4);
        EXPECT(gbc.pc(), 0xc89e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc89d), 0xb9);
        // B9 0172
        gbc.setState(0x7bb, 0x9a1c, 0x2b80, 0xe83e, 0xd5ce, 0x9602, 0x0, 0x1);
        gbc.writeMem(0x7bb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x9a1c);
        EXPECT(gbc.pc(), 0x7bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0173
        gbc.setState(0x3f27, 0x3786, 0x6d20, 0xb0d2, 0x8a79, 0x6666, 0x1, 0x0);
        gbc.writeMem(0x3f27, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x3786);
        EXPECT(gbc.pc(), 0x3f28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0174
        gbc.setState(0xc95e, 0x4df0, 0xf260, 0xfe83, 0x6f13, 0x8a5a, 0x0, 0x0);
        gbc.writeMem(0xc95e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4df0);
        EXPECT(gbc.pc(), 0xc95f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc95e), 0xb9);
        // B9 0176
        gbc.setState(0xe43b, 0x9c7d, 0x8350, 0xe853, 0x8866, 0x17d8, 0x1, 0x1);
        gbc.writeMem(0xe43b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x9c7d);
        EXPECT(gbc.pc(), 0xe43c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe43b), 0xb9);
        // B9 0177
        gbc.setState(0xd503, 0x1a6d, 0x94f0, 0xccc2, 0xc252, 0xda5, 0x0, 0x0);
        gbc.writeMem(0xd503, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x1a6d);
        EXPECT(gbc.pc(), 0xd504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd503), 0xb9);
        // B9 0179
        gbc.setState(0xa414, 0xfea0, 0x1050, 0x4b96, 0xf3f9, 0x5c27, 0x1, 0x0);
        gbc.writeMem(0xa414, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xfea0);
        EXPECT(gbc.pc(), 0xa415);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa414), 0xb9);
        // B9 017A
        gbc.setState(0x716b, 0x6baf, 0x4310, 0xa044, 0x4697, 0x581c, 0x0, 0x1);
        gbc.writeMem(0x716b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6baf);
        EXPECT(gbc.pc(), 0x716c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 017B
        gbc.setState(0xb86, 0xba4b, 0x820, 0x49ce, 0x5166, 0x291f, 0x0, 0x0);
        gbc.writeMem(0xb86, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xba4b);
        EXPECT(gbc.pc(), 0xb87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 017C
        gbc.setState(0xd970, 0xf864, 0x8c60, 0xceab, 0x5f00, 0xb311, 0x0, 0x1);
        gbc.writeMem(0xd970, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xf864);
        EXPECT(gbc.pc(), 0xd971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd970), 0xb9);
        // B9 017D
        gbc.setState(0x9058, 0x8141, 0x48f0, 0x4077, 0x79f7, 0x8c6a, 0x1, 0x1);
        gbc.writeMem(0x9058, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x8141);
        EXPECT(gbc.pc(), 0x9059);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9058), 0xb9);
        // B9 017E
        gbc.setState(0x894b, 0x25c1, 0x6e90, 0x4e85, 0x1bb, 0xfc50, 0x1, 0x1);
        gbc.writeMem(0x894b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x25c1);
        EXPECT(gbc.pc(), 0x894c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x894b), 0xb9);
        // B9 017F
        gbc.setState(0x2ef8, 0xba7c, 0xf9c0, 0x506a, 0x6694, 0xe727, 0x1, 0x1);
        gbc.writeMem(0x2ef8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xba7c);
        EXPECT(gbc.pc(), 0x2ef9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0180
        gbc.setState(0xb78b, 0xd0c5, 0x66f0, 0x96d1, 0x45fb, 0x7272, 0x1, 0x0);
        gbc.writeMem(0xb78b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd0c5);
        EXPECT(gbc.pc(), 0xb78c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb78b), 0xb9);
        // B9 0181
        gbc.setState(0x8de8, 0xf259, 0xddc0, 0xbe4b, 0xb4e2, 0xc102, 0x1, 0x0);
        gbc.writeMem(0x8de8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xf259);
        EXPECT(gbc.pc(), 0x8de9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8de8), 0xb9);
        // B9 0183
        gbc.setState(0x56e1, 0xf2b0, 0x9420, 0xb642, 0x609f, 0x49df, 0x1, 0x1);
        gbc.writeMem(0x56e1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf2b0);
        EXPECT(gbc.pc(), 0x56e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0184
        gbc.setState(0xaec, 0x6527, 0x290, 0x6c66, 0x1fc, 0x899b, 0x1, 0x0);
        gbc.writeMem(0xaec, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6527);
        EXPECT(gbc.pc(), 0xaed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0185
        gbc.setState(0xae5d, 0x28ac, 0x5f00, 0xcfce, 0xdab4, 0xeb88, 0x0, 0x0);
        gbc.writeMem(0xae5d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x28ac);
        EXPECT(gbc.pc(), 0xae5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae5d), 0xb9);
        // B9 0186
        gbc.setState(0x73c0, 0x34fc, 0x4130, 0xae7b, 0x293e, 0xb740, 0x0, 0x1);
        gbc.writeMem(0x73c0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x34fc);
        EXPECT(gbc.pc(), 0x73c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0187
        gbc.setState(0x1ccf, 0x5aa6, 0xe1f0, 0x630, 0x3715, 0x41cd, 0x1, 0x1);
        gbc.writeMem(0x1ccf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5aa6);
        EXPECT(gbc.pc(), 0x1cd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0188
        gbc.setState(0x977, 0x57fd, 0x6e80, 0x96e9, 0x3910, 0x93de, 0x1, 0x0);
        gbc.writeMem(0x977, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x57fd);
        EXPECT(gbc.pc(), 0x978);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0189
        gbc.setState(0x402b, 0x22cf, 0x4370, 0x50ba, 0x9fcb, 0x9d80, 0x0, 0x1);
        gbc.writeMem(0x402b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x22cf);
        EXPECT(gbc.pc(), 0x402c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 018A
        gbc.setState(0x2de8, 0x9c3f, 0x5d0, 0x525, 0x5b48, 0xc992, 0x0, 0x1);
        gbc.writeMem(0x2de8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9c3f);
        EXPECT(gbc.pc(), 0x2de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 018B
        gbc.setState(0x4eab, 0xbd9c, 0x68f0, 0x7466, 0xdfa1, 0x886, 0x0, 0x0);
        gbc.writeMem(0x4eab, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xbd9c);
        EXPECT(gbc.pc(), 0x4eac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 018C
        gbc.setState(0xa0fb, 0x35c6, 0xcee0, 0x3196, 0x2a0d, 0x5cb6, 0x1, 0x1);
        gbc.writeMem(0xa0fb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x35c6);
        EXPECT(gbc.pc(), 0xa0fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0fb), 0xb9);
        // B9 018D
        gbc.setState(0xce5a, 0x30ab, 0x8590, 0xc042, 0x5616, 0xc97c, 0x0, 0x1);
        gbc.writeMem(0xce5a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x30ab);
        EXPECT(gbc.pc(), 0xce5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce5a), 0xb9);
        // B9 018E
        gbc.setState(0xa874, 0x6802, 0x5170, 0x28dd, 0xb3e6, 0xf87b, 0x0, 0x1);
        gbc.writeMem(0xa874, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x6802);
        EXPECT(gbc.pc(), 0xa875);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa874), 0xb9);
        // B9 018F
        gbc.setState(0xdf7e, 0x806f, 0xcb70, 0x2d8c, 0x2b91, 0xa902, 0x0, 0x1);
        gbc.writeMem(0xdf7e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x806f);
        EXPECT(gbc.pc(), 0xdf7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf7e), 0xb9);
        // B9 0190
        gbc.setState(0x5ee7, 0xf153, 0x2c00, 0x8013, 0xb883, 0x3407, 0x1, 0x1);
        gbc.writeMem(0x5ee7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf153);
        EXPECT(gbc.pc(), 0x5ee8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0191
        gbc.setState(0xc528, 0xcc2e, 0xd7b0, 0xc184, 0x9da9, 0xd187, 0x0, 0x1);
        gbc.writeMem(0xc528, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xcc2e);
        EXPECT(gbc.pc(), 0xc529);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc528), 0xb9);
        // B9 0192
        gbc.setState(0x60fe, 0x30fb, 0x7380, 0xd436, 0x173b, 0x4a9c, 0x0, 0x0);
        gbc.writeMem(0x60fe, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x30fb);
        EXPECT(gbc.pc(), 0x60ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0193
        gbc.setState(0xe614, 0x4e97, 0x7100, 0xd7b8, 0x5fda, 0xc884, 0x0, 0x0);
        gbc.writeMem(0xe614, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4e97);
        EXPECT(gbc.pc(), 0xe615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe614), 0xb9);
        // B9 0194
        gbc.setState(0xac1, 0xd59, 0x98f0, 0x4e4b, 0xc09c, 0x4ab5, 0x1, 0x0);
        gbc.writeMem(0xac1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xd59);
        EXPECT(gbc.pc(), 0xac2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0195
        gbc.setState(0x5c5c, 0x4d36, 0x3e30, 0x2ca, 0x4849, 0x1646, 0x0, 0x1);
        gbc.writeMem(0x5c5c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4d36);
        EXPECT(gbc.pc(), 0x5c5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0196
        gbc.setState(0xd7ff, 0xc0b1, 0x7490, 0xf912, 0x61c5, 0x4b6b, 0x1, 0x0);
        gbc.writeMem(0xd7ff, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xc0b1);
        EXPECT(gbc.pc(), 0xd800);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7ff), 0xb9);
        // B9 0197
        gbc.setState(0x997d, 0x9e85, 0xe520, 0xb95b, 0xf5c5, 0x3428, 0x1, 0x1);
        gbc.writeMem(0x997d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9e85);
        EXPECT(gbc.pc(), 0x997e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x997d), 0xb9);
        // B9 0198
        gbc.setState(0x89ea, 0x99f3, 0xd880, 0x2cf3, 0x14ec, 0xb547, 0x1, 0x1);
        gbc.writeMem(0x89ea, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x99f3);
        EXPECT(gbc.pc(), 0x89eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89ea), 0xb9);
        // B9 019A
        gbc.setState(0x6c17, 0xbe68, 0x4780, 0xb42f, 0xcbbe, 0x80b5, 0x1, 0x1);
        gbc.writeMem(0x6c17, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xbe68);
        EXPECT(gbc.pc(), 0x6c18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 019B
        gbc.setState(0x5c9f, 0x8166, 0xd250, 0x9d5d, 0xd3c7, 0x5466, 0x0, 0x0);
        gbc.writeMem(0x5c9f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x8166);
        EXPECT(gbc.pc(), 0x5ca0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 019C
        gbc.setState(0x6307, 0xeab3, 0xfd70, 0xe23c, 0xf760, 0x7cf, 0x1, 0x0);
        gbc.writeMem(0x6307, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xeab3);
        EXPECT(gbc.pc(), 0x6308);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 019D
        gbc.setState(0xe6a7, 0xc759, 0x6d70, 0x4553, 0x98bd, 0x7d8d, 0x0, 0x1);
        gbc.writeMem(0xe6a7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc759);
        EXPECT(gbc.pc(), 0xe6a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a7), 0xb9);
        // B9 019E
        gbc.setState(0x9ffc, 0x8a14, 0x9f0, 0x5436, 0x3844, 0xf505, 0x1, 0x1);
        gbc.writeMem(0x9ffc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8a14);
        EXPECT(gbc.pc(), 0x9ffd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ffc), 0xb9);
        // B9 019F
        gbc.setState(0x982d, 0xa8df, 0x8080, 0x9042, 0x8764, 0x2203, 0x1, 0x0);
        gbc.writeMem(0x982d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa8df);
        EXPECT(gbc.pc(), 0x982e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x982d), 0xb9);
        // B9 01A0
        gbc.setState(0x718a, 0x3f5b, 0xb170, 0x580e, 0xc6b8, 0x6dda, 0x0, 0x1);
        gbc.writeMem(0x718a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3f5b);
        EXPECT(gbc.pc(), 0x718b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01A1
        gbc.setState(0x4252, 0x90f3, 0x8690, 0x5661, 0x4c38, 0x9593, 0x1, 0x0);
        gbc.writeMem(0x4252, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x90f3);
        EXPECT(gbc.pc(), 0x4253);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01A2
        gbc.setState(0x487, 0xa003, 0x6db0, 0xaee7, 0xf51f, 0xdd19, 0x1, 0x1);
        gbc.writeMem(0x487, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa003);
        EXPECT(gbc.pc(), 0x488);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01A3
        gbc.setState(0x5a0c, 0x19ad, 0xb920, 0x5792, 0xa255, 0x8efc, 0x0, 0x0);
        gbc.writeMem(0x5a0c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x19ad);
        EXPECT(gbc.pc(), 0x5a0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01A4
        gbc.setState(0xc39e, 0x4554, 0xf200, 0xf660, 0x1edd, 0xd234, 0x0, 0x1);
        gbc.writeMem(0xc39e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4554);
        EXPECT(gbc.pc(), 0xc39f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc39e), 0xb9);
        // B9 01A5
        gbc.setState(0x32ee, 0x794a, 0x1240, 0xbf8b, 0x5151, 0xfea0, 0x1, 0x0);
        gbc.writeMem(0x32ee, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x794a);
        EXPECT(gbc.pc(), 0x32ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 01A6
        gbc.setState(0x9acc, 0x898f, 0xaa80, 0x8705, 0xee00, 0xbc82, 0x0, 0x0);
        gbc.writeMem(0x9acc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x898f);
        EXPECT(gbc.pc(), 0x9acd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9acc), 0xb9);
        // B9 01A7
        gbc.setState(0xcf4a, 0xf846, 0xee70, 0xea35, 0x819c, 0xff70, 0x1, 0x0);
        gbc.writeMem(0xcf4a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xf846);
        EXPECT(gbc.pc(), 0xcf4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf4a), 0xb9);
        // B9 01A9
        gbc.setState(0xa36c, 0x282c, 0x98f0, 0xc91c, 0xd606, 0x186f, 0x1, 0x1);
        gbc.writeMem(0xa36c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x282c);
        EXPECT(gbc.pc(), 0xa36d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa36c), 0xb9);
        // B9 01AA
        gbc.setState(0x1b80, 0xfb29, 0xa20, 0xc1b2, 0xc64b, 0x918d, 0x0, 0x1);
        gbc.writeMem(0x1b80, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xfb29);
        EXPECT(gbc.pc(), 0x1b81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01AB
        gbc.setState(0x9acc, 0x79eb, 0xdb10, 0xdbff, 0xf654, 0x1695, 0x1, 0x1);
        gbc.writeMem(0x9acc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x79eb);
        EXPECT(gbc.pc(), 0x9acd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9acc), 0xb9);
        // B9 01AC
        gbc.setState(0xae01, 0xe9ad, 0x13a0, 0xb424, 0x6f7, 0x632a, 0x0, 0x0);
        gbc.writeMem(0xae01, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xe9ad);
        EXPECT(gbc.pc(), 0xae02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae01), 0xb9);
        // B9 01AD
        gbc.setState(0x9f1a, 0x2ba4, 0xbcc0, 0xc528, 0xa687, 0xa098, 0x1, 0x0);
        gbc.writeMem(0x9f1a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2ba4);
        EXPECT(gbc.pc(), 0x9f1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f1a), 0xb9);
        // B9 01AE
        gbc.setState(0xec63, 0x12a4, 0x9310, 0x5aa, 0xfde5, 0x41e1, 0x0, 0x0);
        gbc.writeMem(0xec63, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x12a4);
        EXPECT(gbc.pc(), 0xec64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec63), 0xb9);
        // B9 01AF
        gbc.setState(0x74d8, 0xf29, 0x2040, 0x7e5f, 0x1d12, 0x48c6, 0x0, 0x1);
        gbc.writeMem(0x74d8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xf29);
        EXPECT(gbc.pc(), 0x74d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 01B0
        gbc.setState(0x9972, 0x9b6e, 0x7aa0, 0x2f02, 0x20bd, 0x5bb5, 0x1, 0x0);
        gbc.writeMem(0x9972, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9b6e);
        EXPECT(gbc.pc(), 0x9973);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9972), 0xb9);
        // B9 01B1
        gbc.setState(0xaf0b, 0x60d0, 0x97b0, 0xe538, 0x64fd, 0x9f0b, 0x0, 0x0);
        gbc.writeMem(0xaf0b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x60d0);
        EXPECT(gbc.pc(), 0xaf0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf0b), 0xb9);
        // B9 01B2
        gbc.setState(0x7916, 0x686e, 0xbd80, 0x35e, 0x5fbc, 0x90c4, 0x1, 0x1);
        gbc.writeMem(0x7916, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x686e);
        EXPECT(gbc.pc(), 0x7917);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01B3
        gbc.setState(0x1161, 0x9fe9, 0xaf00, 0x8c18, 0x71c1, 0x5fc, 0x1, 0x0);
        gbc.writeMem(0x1161, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x9fe9);
        EXPECT(gbc.pc(), 0x1162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01B4
        gbc.setState(0xea99, 0x53e0, 0x2e10, 0x3c75, 0xe6fc, 0x51d9, 0x0, 0x1);
        gbc.writeMem(0xea99, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x53e0);
        EXPECT(gbc.pc(), 0xea9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea99), 0xb9);
        // B9 01B5
        gbc.setState(0xb38b, 0xa562, 0xa5c0, 0xbc86, 0x8cdb, 0xc45f, 0x0, 0x1);
        gbc.writeMem(0xb38b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa562);
        EXPECT(gbc.pc(), 0xb38c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb38b), 0xb9);
        // B9 01B6
        gbc.setState(0xd8c8, 0x4572, 0x72e0, 0xe140, 0xd8f9, 0xa43, 0x1, 0x1);
        gbc.writeMem(0xd8c8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x4572);
        EXPECT(gbc.pc(), 0xd8c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8c8), 0xb9);
        // B9 01B7
        gbc.setState(0x9d05, 0x27, 0x3bd0, 0x88a1, 0x2955, 0x71a2, 0x0, 0x0);
        gbc.writeMem(0x9d05, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x27);
        EXPECT(gbc.pc(), 0x9d06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d05), 0xb9);
        // B9 01B8
        gbc.setState(0x5de7, 0xa8b, 0x9540, 0xea22, 0x4d56, 0x35cb, 0x1, 0x1);
        gbc.writeMem(0x5de7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa8b);
        EXPECT(gbc.pc(), 0x5de8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01B9
        gbc.setState(0x8598, 0x6d35, 0xc410, 0x5d7, 0xcf12, 0x8976, 0x1, 0x0);
        gbc.writeMem(0x8598, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6d35);
        EXPECT(gbc.pc(), 0x8599);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8598), 0xb9);
        // B9 01BA
        gbc.setState(0x1859, 0x134, 0x59b0, 0xe10e, 0x8e63, 0x9fc7, 0x0, 0x1);
        gbc.writeMem(0x1859, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x134);
        EXPECT(gbc.pc(), 0x185a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01BB
        gbc.setState(0x56bd, 0x9edf, 0x24e0, 0x4668, 0x5c, 0x21d0, 0x1, 0x1);
        gbc.writeMem(0x56bd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9edf);
        EXPECT(gbc.pc(), 0x56be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 01BC
        gbc.setState(0x6f42, 0x2eaa, 0x80b0, 0xb148, 0x93c1, 0x6d99, 0x0, 0x0);
        gbc.writeMem(0x6f42, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2eaa);
        EXPECT(gbc.pc(), 0x6f43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01BD
        gbc.setState(0x71f8, 0xe729, 0x9580, 0xcb45, 0x94c5, 0xd3b9, 0x0, 0x1);
        gbc.writeMem(0x71f8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xe729);
        EXPECT(gbc.pc(), 0x71f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01BE
        gbc.setState(0x955c, 0xf09, 0x7b0, 0x4ebf, 0xa644, 0xb9ac, 0x0, 0x0);
        gbc.writeMem(0x955c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf09);
        EXPECT(gbc.pc(), 0x955d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x955c), 0xb9);
        // B9 01BF
        gbc.setState(0xa9f9, 0x6eab, 0xfc60, 0x5d09, 0xda54, 0x8959, 0x0, 0x0);
        gbc.writeMem(0xa9f9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x6eab);
        EXPECT(gbc.pc(), 0xa9fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9f9), 0xb9);
        // B9 01C0
        gbc.setState(0xd68a, 0x9709, 0xd7f0, 0x6159, 0xa0eb, 0x17a1, 0x1, 0x1);
        gbc.writeMem(0xd68a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9709);
        EXPECT(gbc.pc(), 0xd68b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd68a), 0xb9);
        // B9 01C1
        gbc.setState(0x3c13, 0xfd75, 0x9120, 0xf2fc, 0x46a8, 0x6b8f, 0x0, 0x1);
        gbc.writeMem(0x3c13, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xfd75);
        EXPECT(gbc.pc(), 0x3c14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 01C2
        gbc.setState(0xbb4b, 0x72a3, 0x6af0, 0x78b8, 0xdcd7, 0x469a, 0x1, 0x1);
        gbc.writeMem(0xbb4b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x72a3);
        EXPECT(gbc.pc(), 0xbb4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb4b), 0xb9);
        // B9 01C4
        gbc.setState(0x29c, 0xb5fc, 0x8660, 0x7e29, 0x45c6, 0x9e66, 0x1, 0x0);
        gbc.writeMem(0x29c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb5fc);
        EXPECT(gbc.pc(), 0x29d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01C5
        gbc.setState(0x5e96, 0x2454, 0xa960, 0x465b, 0x1299, 0xd195, 0x0, 0x0);
        gbc.writeMem(0x5e96, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2454);
        EXPECT(gbc.pc(), 0x5e97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01C6
        gbc.setState(0x5eb3, 0x9b16, 0xc500, 0x70e3, 0x812a, 0x38e4, 0x0, 0x1);
        gbc.writeMem(0x5eb3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9b16);
        EXPECT(gbc.pc(), 0x5eb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01C7
        gbc.setState(0xeed3, 0xf0d9, 0xa510, 0xd0f1, 0x6f83, 0x4ca0, 0x0, 0x1);
        gbc.writeMem(0xeed3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf0d9);
        EXPECT(gbc.pc(), 0xeed4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeed3), 0xb9);
        // B9 01C8
        gbc.setState(0x40da, 0x9317, 0x42f0, 0x2d72, 0x824d, 0xaf2b, 0x1, 0x1);
        gbc.writeMem(0x40da, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9317);
        EXPECT(gbc.pc(), 0x40db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01C9
        gbc.setState(0x441d, 0x3b0f, 0x2c20, 0x59b1, 0xfc7f, 0xe981, 0x1, 0x1);
        gbc.writeMem(0x441d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3b0f);
        EXPECT(gbc.pc(), 0x441e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01CA
        gbc.setState(0xcf14, 0xde3d, 0xc520, 0xed15, 0x1ac8, 0x453d, 0x1, 0x1);
        gbc.writeMem(0xcf14, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xde3d);
        EXPECT(gbc.pc(), 0xcf15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf14), 0xb9);
        // B9 01CB
        gbc.setState(0xed79, 0xb057, 0x7de0, 0xbc2d, 0x7927, 0x9454, 0x1, 0x1);
        gbc.writeMem(0xed79, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xb057);
        EXPECT(gbc.pc(), 0xed7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed79), 0xb9);
        // B9 01CC
        gbc.setState(0x7b44, 0x85ac, 0x9170, 0xe02b, 0x5fbd, 0x4925, 0x1, 0x1);
        gbc.writeMem(0x7b44, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x85ac);
        EXPECT(gbc.pc(), 0x7b45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01CD
        gbc.setState(0x2661, 0xabd5, 0x53e0, 0xc428, 0x6f81, 0xeeb5, 0x1, 0x0);
        gbc.writeMem(0x2661, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xabd5);
        EXPECT(gbc.pc(), 0x2662);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01CE
        gbc.setState(0xe716, 0x46e5, 0x4760, 0x1488, 0x8ebc, 0x742f, 0x0, 0x0);
        gbc.writeMem(0xe716, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x46e5);
        EXPECT(gbc.pc(), 0xe717);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe716), 0xb9);
        // B9 01CF
        gbc.setState(0xde1, 0xdba6, 0x8640, 0x3f5d, 0xe533, 0x716d, 0x1, 0x1);
        gbc.writeMem(0xde1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xdba6);
        EXPECT(gbc.pc(), 0xde2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01D0
        gbc.setState(0x70a9, 0x6bcf, 0xfaa0, 0x584e, 0x53b3, 0x439d, 0x0, 0x1);
        gbc.writeMem(0x70a9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x6bcf);
        EXPECT(gbc.pc(), 0x70aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01D1
        gbc.setState(0x6015, 0xf670, 0x2780, 0x3f95, 0x7f56, 0xfbdc, 0x0, 0x0);
        gbc.writeMem(0x6015, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf670);
        EXPECT(gbc.pc(), 0x6016);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01D2
        gbc.setState(0xb99b, 0xb094, 0x45f0, 0x5d35, 0x15c0, 0xa7, 0x0, 0x1);
        gbc.writeMem(0xb99b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xb094);
        EXPECT(gbc.pc(), 0xb99c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb99b), 0xb9);
        // B9 01D3
        gbc.setState(0xc42c, 0xe2a8, 0x45f0, 0x63b4, 0x43b7, 0x7c90, 0x1, 0x1);
        gbc.writeMem(0xc42c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xe2a8);
        EXPECT(gbc.pc(), 0xc42d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc42c), 0xb9);
        // B9 01D4
        gbc.setState(0x1d13, 0x326a, 0xaa10, 0x164a, 0xf0bd, 0xfaf2, 0x1, 0x1);
        gbc.writeMem(0x1d13, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x326a);
        EXPECT(gbc.pc(), 0x1d14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01D5
        gbc.setState(0xeb8e, 0xca43, 0x1a0, 0x2ac0, 0xeae2, 0xf06, 0x0, 0x0);
        gbc.writeMem(0xeb8e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xca43);
        EXPECT(gbc.pc(), 0xeb8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb8e), 0xb9);
        // B9 01D6
        gbc.setState(0x3f44, 0x748, 0x7b70, 0x6b62, 0xda15, 0x2a7b, 0x1, 0x1);
        gbc.writeMem(0x3f44, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x748);
        EXPECT(gbc.pc(), 0x3f45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01D7
        gbc.setState(0x133b, 0x17e8, 0xfea0, 0x213e, 0xcc0d, 0x1724, 0x0, 0x1);
        gbc.writeMem(0x133b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x17e8);
        EXPECT(gbc.pc(), 0x133c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01D8
        gbc.setState(0x33ae, 0xbb52, 0x1bd0, 0xfd81, 0x1b3e, 0x7a5b, 0x0, 0x1);
        gbc.writeMem(0x33ae, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbb52);
        EXPECT(gbc.pc(), 0x33af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01D9
        gbc.setState(0x639b, 0x198, 0xc500, 0x8bce, 0x14ce, 0x538f, 0x0, 0x1);
        gbc.writeMem(0x639b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x198);
        EXPECT(gbc.pc(), 0x639c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 01DA
        gbc.setState(0x1ed7, 0xc99f, 0xc1e0, 0x266a, 0xfca6, 0xd5a8, 0x1, 0x0);
        gbc.writeMem(0x1ed7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc99f);
        EXPECT(gbc.pc(), 0x1ed8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01DB
        gbc.setState(0x2941, 0x8f9a, 0x1b70, 0xfa16, 0xf537, 0x4089, 0x0, 0x0);
        gbc.writeMem(0x2941, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8f9a);
        EXPECT(gbc.pc(), 0x2942);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01DC
        gbc.setState(0x2b6e, 0xd470, 0xaa90, 0xd90, 0x6e51, 0xbdb, 0x1, 0x1);
        gbc.writeMem(0x2b6e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd470);
        EXPECT(gbc.pc(), 0x2b6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01DD
        gbc.setState(0x226d, 0x9ace, 0x8b40, 0x92dd, 0x2a64, 0x688, 0x0, 0x0);
        gbc.writeMem(0x226d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9ace);
        EXPECT(gbc.pc(), 0x226e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 01DE
        gbc.setState(0xcd1e, 0xbced, 0xf5e0, 0x1ae, 0x3e87, 0x940f, 0x1, 0x1);
        gbc.writeMem(0xcd1e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xbced);
        EXPECT(gbc.pc(), 0xcd1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd1e), 0xb9);
        // B9 01DF
        gbc.setState(0x5ae1, 0x72b2, 0x6a90, 0x86e8, 0xb854, 0xc800, 0x1, 0x0);
        gbc.writeMem(0x5ae1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x72b2);
        EXPECT(gbc.pc(), 0x5ae2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01E0
        gbc.setState(0x2faf, 0x9ceb, 0x8a00, 0x5f09, 0x4004, 0xde80, 0x0, 0x0);
        gbc.writeMem(0x2faf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x9ceb);
        EXPECT(gbc.pc(), 0x2fb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01E2
        gbc.setState(0xceca, 0xa9a4, 0x62a0, 0xcae2, 0x4ee, 0x40c9, 0x0, 0x1);
        gbc.writeMem(0xceca, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa9a4);
        EXPECT(gbc.pc(), 0xcecb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xceca), 0xb9);
        // B9 01E3
        gbc.setState(0xd62d, 0x2bc2, 0xd530, 0x225e, 0x22ca, 0x2ef1, 0x0, 0x0);
        gbc.writeMem(0xd62d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x2bc2);
        EXPECT(gbc.pc(), 0xd62e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd62d), 0xb9);
        // B9 01E5
        gbc.setState(0x81a8, 0xa593, 0xa8a0, 0xfb66, 0x1ed7, 0x58f9, 0x1, 0x0);
        gbc.writeMem(0x81a8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa593);
        EXPECT(gbc.pc(), 0x81a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81a8), 0xb9);
        // B9 01E6
        gbc.setState(0x83d6, 0x585a, 0x9d30, 0xf12e, 0x3fc4, 0xd09c, 0x0, 0x1);
        gbc.writeMem(0x83d6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x585a);
        EXPECT(gbc.pc(), 0x83d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83d6), 0xb9);
        // B9 01E7
        gbc.setState(0x3c2, 0x8f91, 0x3880, 0x6f7d, 0x9c12, 0x6b74, 0x0, 0x1);
        gbc.writeMem(0x3c2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x8f91);
        EXPECT(gbc.pc(), 0x3c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 01E8
        gbc.setState(0x6dbb, 0xa634, 0xad80, 0x4acb, 0x9a13, 0xd389, 0x0, 0x0);
        gbc.writeMem(0x6dbb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xa634);
        EXPECT(gbc.pc(), 0x6dbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01E9
        gbc.setState(0x8816, 0xac69, 0xc070, 0xc3ae, 0x1380, 0x2d62, 0x1, 0x1);
        gbc.writeMem(0x8816, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xac69);
        EXPECT(gbc.pc(), 0x8817);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8816), 0xb9);
        // B9 01EA
        gbc.setState(0x4bba, 0xf87d, 0xca60, 0x6ed7, 0x5956, 0x70df, 0x0, 0x0);
        gbc.writeMem(0x4bba, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf87d);
        EXPECT(gbc.pc(), 0x4bbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01EB
        gbc.setState(0x3ea8, 0x45c, 0x1ba0, 0x8db3, 0x36d3, 0x1c6d, 0x0, 0x0);
        gbc.writeMem(0x3ea8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x45c);
        EXPECT(gbc.pc(), 0x3ea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01EC
        gbc.setState(0x462, 0xc2a4, 0x4150, 0xbf08, 0x488d, 0x1b87, 0x0, 0x0);
        gbc.writeMem(0x462, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xc2a4);
        EXPECT(gbc.pc(), 0x463);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01ED
        gbc.setState(0x84b2, 0x2b73, 0x5430, 0x70d2, 0x369f, 0xab84, 0x0, 0x1);
        gbc.writeMem(0x84b2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x2b73);
        EXPECT(gbc.pc(), 0x84b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84b2), 0xb9);
        // B9 01EE
        gbc.setState(0x7c9e, 0xb879, 0x9c90, 0x48d4, 0xc857, 0x1d2d, 0x0, 0x1);
        gbc.writeMem(0x7c9e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xb879);
        EXPECT(gbc.pc(), 0x7c9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01EF
        gbc.setState(0x6189, 0x379c, 0x49b0, 0x503a, 0xa1b8, 0x2567, 0x0, 0x0);
        gbc.writeMem(0x6189, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x379c);
        EXPECT(gbc.pc(), 0x618a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01F0
        gbc.setState(0x6788, 0xf88f, 0x3300, 0x2972, 0xa275, 0xe362, 0x0, 0x0);
        gbc.writeMem(0x6788, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf88f);
        EXPECT(gbc.pc(), 0x6789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 01F1
        gbc.setState(0x2a54, 0x9b5a, 0x36a0, 0x312b, 0x335d, 0xdec, 0x1, 0x0);
        gbc.writeMem(0x2a54, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x9b5a);
        EXPECT(gbc.pc(), 0x2a55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01F2
        gbc.setState(0xbe44, 0xda13, 0x7080, 0x778c, 0xaa84, 0xde02, 0x1, 0x1);
        gbc.writeMem(0xbe44, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xda13);
        EXPECT(gbc.pc(), 0xbe45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe44), 0xb9);
        // B9 01F3
        gbc.setState(0xcf5b, 0x3c5b, 0x7b10, 0xe751, 0xa008, 0x5082, 0x0, 0x1);
        gbc.writeMem(0xcf5b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3c5b);
        EXPECT(gbc.pc(), 0xcf5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf5b), 0xb9);
        // B9 01F5
        gbc.setState(0x6c8d, 0x7a63, 0x45b0, 0x9d4c, 0xac05, 0x2a78, 0x0, 0x1);
        gbc.writeMem(0x6c8d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x7a63);
        EXPECT(gbc.pc(), 0x6c8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 01F6
        gbc.setState(0x81df, 0x959d, 0x5c0, 0xae47, 0x7fd4, 0x8046, 0x0, 0x0);
        gbc.writeMem(0x81df, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x959d);
        EXPECT(gbc.pc(), 0x81e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81df), 0xb9);
        // B9 01F7
        gbc.setState(0x9fe8, 0xa9c2, 0x94d0, 0x7fa5, 0xa5dc, 0xed85, 0x1, 0x0);
        gbc.writeMem(0x9fe8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xa9c2);
        EXPECT(gbc.pc(), 0x9fe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fe8), 0xb9);
        // B9 01F8
        gbc.setState(0x97a4, 0xafec, 0x6fe0, 0x605a, 0x57c2, 0x1f9b, 0x0, 0x0);
        gbc.writeMem(0x97a4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xafec);
        EXPECT(gbc.pc(), 0x97a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97a4), 0xb9);
        // B9 01F9
        gbc.setState(0x8edd, 0x1a8b, 0x3e40, 0x22b0, 0x6193, 0x7ef3, 0x1, 0x0);
        gbc.writeMem(0x8edd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x1a8b);
        EXPECT(gbc.pc(), 0x8ede);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8edd), 0xb9);
        // B9 01FA
        gbc.setState(0xd9da, 0x57f5, 0x2080, 0x68e, 0x7fa3, 0x7142, 0x0, 0x0);
        gbc.writeMem(0xd9da, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x57f5);
        EXPECT(gbc.pc(), 0xd9db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9da), 0xb9);
        // B9 01FB
        gbc.setState(0x40f7, 0x3319, 0xe4f0, 0x8e5d, 0x183a, 0xf403, 0x1, 0x1);
        gbc.writeMem(0x40f7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3319);
        EXPECT(gbc.pc(), 0x40f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 01FC
        gbc.setState(0x1f11, 0xdc1f, 0x3320, 0xde21, 0x4fd3, 0x8d4b, 0x1, 0x0);
        gbc.writeMem(0x1f11, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xdc1f);
        EXPECT(gbc.pc(), 0x1f12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 01FE
        gbc.setState(0xa3ed, 0xdc1a, 0x45f0, 0x938, 0xf574, 0xb9ad, 0x0, 0x1);
        gbc.writeMem(0xa3ed, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xdc1a);
        EXPECT(gbc.pc(), 0xa3ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3ed), 0xb9);
        // B9 01FF
        gbc.setState(0xeb3b, 0x868a, 0xef40, 0xb0b9, 0x446a, 0x650e, 0x1, 0x0);
        gbc.writeMem(0xeb3b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x868a);
        EXPECT(gbc.pc(), 0xeb3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb3b), 0xb9);
        // B9 0200
        gbc.setState(0x3443, 0x32c7, 0xe990, 0x6d2b, 0x9a7b, 0x48c3, 0x1, 0x0);
        gbc.writeMem(0x3443, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x32c7);
        EXPECT(gbc.pc(), 0x3444);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0201
        gbc.setState(0xceb6, 0xd612, 0xcd30, 0xffdf, 0xd031, 0xeaf8, 0x0, 0x1);
        gbc.writeMem(0xceb6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xd612);
        EXPECT(gbc.pc(), 0xceb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xceb6), 0xb9);
        // B9 0202
        gbc.setState(0xbac4, 0xa410, 0xaad0, 0xdb2d, 0x97e2, 0xc0f0, 0x0, 0x1);
        gbc.writeMem(0xbac4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa410);
        EXPECT(gbc.pc(), 0xbac5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbac4), 0xb9);
        // B9 0203
        gbc.setState(0x6831, 0x26fb, 0x4670, 0x9091, 0xed53, 0x5586, 0x0, 0x0);
        gbc.writeMem(0x6831, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x26fb);
        EXPECT(gbc.pc(), 0x6832);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0204
        gbc.setState(0x353b, 0x5e8c, 0xde30, 0x14d9, 0x3ef3, 0xe4db, 0x1, 0x0);
        gbc.writeMem(0x353b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x5e8c);
        EXPECT(gbc.pc(), 0x353c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0205
        gbc.setState(0x930b, 0x1478, 0x1960, 0xab63, 0xc483, 0xdd16, 0x1, 0x0);
        gbc.writeMem(0x930b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x1478);
        EXPECT(gbc.pc(), 0x930c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x930b), 0xb9);
        // B9 0206
        gbc.setState(0x7d50, 0x91ab, 0xf6f0, 0xe431, 0x4110, 0xbdbc, 0x1, 0x1);
        gbc.writeMem(0x7d50, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x91ab);
        EXPECT(gbc.pc(), 0x7d51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0207
        gbc.setState(0x4af5, 0x58a2, 0x5860, 0x8525, 0x38dd, 0xecb2, 0x1, 0x0);
        gbc.writeMem(0x4af5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x58a2);
        EXPECT(gbc.pc(), 0x4af6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0208
        gbc.setState(0x6356, 0xc0a5, 0x6ac0, 0xffb1, 0xdc4a, 0xf73c, 0x1, 0x0);
        gbc.writeMem(0x6356, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xc0a5);
        EXPECT(gbc.pc(), 0x6357);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0209
        gbc.setState(0x83a9, 0xe601, 0x80b0, 0xb2ac, 0x988, 0xad7, 0x1, 0x1);
        gbc.writeMem(0x83a9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xe601);
        EXPECT(gbc.pc(), 0x83aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83a9), 0xb9);
        // B9 020A
        gbc.setState(0xd486, 0x45c8, 0x8380, 0xe42c, 0xb6d8, 0x4162, 0x1, 0x1);
        gbc.writeMem(0xd486, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x45c8);
        EXPECT(gbc.pc(), 0xd487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd486), 0xb9);
        // B9 020B
        gbc.setState(0x6ddf, 0x97de, 0x7e60, 0xef92, 0xd8fa, 0x65be, 0x1, 0x1);
        gbc.writeMem(0x6ddf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x97de);
        EXPECT(gbc.pc(), 0x6de0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 020C
        gbc.setState(0x9ee5, 0x314d, 0xc1e0, 0x3d5, 0x3f9a, 0xea21, 0x1, 0x0);
        gbc.writeMem(0x9ee5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x314d);
        EXPECT(gbc.pc(), 0x9ee6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ee5), 0xb9);
        // B9 020D
        gbc.setState(0x6c4c, 0x659, 0x7fa0, 0x98ed, 0x4c4a, 0xa1be, 0x1, 0x0);
        gbc.writeMem(0x6c4c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x659);
        EXPECT(gbc.pc(), 0x6c4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 020E
        gbc.setState(0x4e6b, 0xb5ca, 0xb8d0, 0xe263, 0xc2f, 0x1792, 0x1, 0x0);
        gbc.writeMem(0x4e6b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xb5ca);
        EXPECT(gbc.pc(), 0x4e6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 020F
        gbc.setState(0x7d21, 0x951f, 0x5050, 0x6bf0, 0x4d2e, 0x1b6, 0x0, 0x0);
        gbc.writeMem(0x7d21, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x951f);
        EXPECT(gbc.pc(), 0x7d22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0210
        gbc.setState(0x4dcf, 0x574a, 0x5670, 0x96ee, 0x1fa, 0x5f20, 0x0, 0x1);
        gbc.writeMem(0x4dcf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x574a);
        EXPECT(gbc.pc(), 0x4dd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0211
        gbc.setState(0xd91, 0x3a38, 0xdf90, 0x80a7, 0xe853, 0x7f4c, 0x1, 0x1);
        gbc.writeMem(0xd91, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x3a38);
        EXPECT(gbc.pc(), 0xd92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0212
        gbc.setState(0x816, 0x3c33, 0xd0c0, 0xd7ae, 0xd1b1, 0x9102, 0x0, 0x0);
        gbc.writeMem(0x816, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x3c33);
        EXPECT(gbc.pc(), 0x817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0213
        gbc.setState(0xd699, 0x917, 0xec10, 0xceee, 0x5016, 0x5e83, 0x0, 0x1);
        gbc.writeMem(0xd699, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x917);
        EXPECT(gbc.pc(), 0xd69a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd699), 0xb9);
        // B9 0214
        gbc.setState(0xbf0f, 0xcaa7, 0xdfd0, 0x8b23, 0xcaef, 0xc067, 0x1, 0x1);
        gbc.writeMem(0xbf0f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xcaa7);
        EXPECT(gbc.pc(), 0xbf10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf0f), 0xb9);
        // B9 0216
        gbc.setState(0x3230, 0xb9a4, 0xa0a0, 0x3ec2, 0x210f, 0xd2f0, 0x1, 0x0);
        gbc.writeMem(0x3230, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb9a4);
        EXPECT(gbc.pc(), 0x3231);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0217
        gbc.setState(0x86dc, 0xa0b2, 0x67c0, 0x3816, 0x4c17, 0x7620, 0x1, 0x1);
        gbc.writeMem(0x86dc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa0b2);
        EXPECT(gbc.pc(), 0x86dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86dc), 0xb9);
        // B9 0218
        gbc.setState(0xc23b, 0x20af, 0xb2a0, 0xb03e, 0x9b7b, 0xebb9, 0x0, 0x1);
        gbc.writeMem(0xc23b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x20af);
        EXPECT(gbc.pc(), 0xc23c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc23b), 0xb9);
        // B9 0219
        gbc.setState(0x3774, 0xe50, 0x30a0, 0x4e2b, 0xa190, 0x320a, 0x1, 0x1);
        gbc.writeMem(0x3774, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe50);
        EXPECT(gbc.pc(), 0x3775);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 021A
        gbc.setState(0xb0ed, 0x447d, 0xf3d0, 0x383c, 0x548d, 0xff1b, 0x1, 0x0);
        gbc.writeMem(0xb0ed, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x447d);
        EXPECT(gbc.pc(), 0xb0ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0ed), 0xb9);
        // B9 021B
        gbc.setState(0x8ce2, 0xfe70, 0x9150, 0xfa1c, 0x1eb9, 0xce36, 0x1, 0x1);
        gbc.writeMem(0x8ce2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xfe70);
        EXPECT(gbc.pc(), 0x8ce3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ce2), 0xb9);
        // B9 021C
        gbc.setState(0x4ac8, 0xf27e, 0xa630, 0x453c, 0x186b, 0x2302, 0x0, 0x0);
        gbc.writeMem(0x4ac8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xf27e);
        EXPECT(gbc.pc(), 0x4ac9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 021D
        gbc.setState(0xc4af, 0x327b, 0x5000, 0x7061, 0x65dc, 0xb0e1, 0x1, 0x1);
        gbc.writeMem(0xc4af, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x327b);
        EXPECT(gbc.pc(), 0xc4b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4af), 0xb9);
        // B9 021F
        gbc.setState(0x6cb5, 0xaa7f, 0x1590, 0x34b3, 0xc263, 0x80c5, 0x0, 0x0);
        gbc.writeMem(0x6cb5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xaa7f);
        EXPECT(gbc.pc(), 0x6cb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0220
        gbc.setState(0xbdd7, 0xa154, 0xf420, 0xcd75, 0x44f1, 0x2864, 0x1, 0x0);
        gbc.writeMem(0xbdd7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa154);
        EXPECT(gbc.pc(), 0xbdd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdd7), 0xb9);
        // B9 0221
        gbc.setState(0x8084, 0x6dca, 0xc720, 0x5744, 0xbd9c, 0xd7de, 0x0, 0x1);
        gbc.writeMem(0x8084, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6dca);
        EXPECT(gbc.pc(), 0x8085);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8084), 0xb9);
        // B9 0222
        gbc.setState(0x518a, 0xb878, 0xde80, 0xa705, 0x51b5, 0x3843, 0x0, 0x1);
        gbc.writeMem(0x518a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb878);
        EXPECT(gbc.pc(), 0x518b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0223
        gbc.setState(0x6984, 0x95a3, 0x4ee0, 0x7320, 0x59d, 0xf51f, 0x0, 0x1);
        gbc.writeMem(0x6984, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x95a3);
        EXPECT(gbc.pc(), 0x6985);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0225
        gbc.setState(0x995e, 0x7986, 0x8870, 0x89db, 0x8e4, 0x6540, 0x1, 0x1);
        gbc.writeMem(0x995e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7986);
        EXPECT(gbc.pc(), 0x995f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x995e), 0xb9);
        // B9 0226
        gbc.setState(0x556f, 0x6fc5, 0x3130, 0x8657, 0x1dec, 0x481b, 0x0, 0x0);
        gbc.writeMem(0x556f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6fc5);
        EXPECT(gbc.pc(), 0x5570);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0227
        gbc.setState(0xd24e, 0xdb86, 0xc810, 0x4420, 0xd101, 0x7d55, 0x0, 0x1);
        gbc.writeMem(0xd24e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xdb86);
        EXPECT(gbc.pc(), 0xd24f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd24e), 0xb9);
        // B9 0228
        gbc.setState(0xe475, 0x1c67, 0x58b0, 0xd11a, 0x4dd8, 0xae19, 0x0, 0x1);
        gbc.writeMem(0xe475, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x1c67);
        EXPECT(gbc.pc(), 0xe476);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe475), 0xb9);
        // B9 0229
        gbc.setState(0x4511, 0xbe64, 0x3870, 0x4271, 0xfd58, 0x5c77, 0x0, 0x1);
        gbc.writeMem(0x4511, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xbe64);
        EXPECT(gbc.pc(), 0x4512);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 022A
        gbc.setState(0xa625, 0xbb97, 0x9840, 0xb5b2, 0x5b9a, 0x6643, 0x0, 0x0);
        gbc.writeMem(0xa625, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xbb97);
        EXPECT(gbc.pc(), 0xa626);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa625), 0xb9);
        // B9 022B
        gbc.setState(0xcb80, 0xaba7, 0xe700, 0xa318, 0xc253, 0x45b8, 0x0, 0x0);
        gbc.writeMem(0xcb80, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xaba7);
        EXPECT(gbc.pc(), 0xcb81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb80), 0xb9);
        // B9 022C
        gbc.setState(0x1031, 0xb315, 0xf690, 0x396, 0x24b9, 0xa409, 0x1, 0x0);
        gbc.writeMem(0x1031, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xb315);
        EXPECT(gbc.pc(), 0x1032);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 022D
        gbc.setState(0xa808, 0xd5ff, 0x57e0, 0x1e1e, 0xc446, 0x7302, 0x0, 0x0);
        gbc.writeMem(0xa808, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xd5ff);
        EXPECT(gbc.pc(), 0xa809);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa808), 0xb9);
        // B9 022E
        gbc.setState(0xe567, 0xf620, 0x7990, 0xb542, 0x5a5b, 0x1b72, 0x1, 0x0);
        gbc.writeMem(0xe567, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xf620);
        EXPECT(gbc.pc(), 0xe568);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe567), 0xb9);
        // B9 022F
        gbc.setState(0xe1a9, 0x1341, 0xc720, 0x731c, 0xc4d0, 0xdf71, 0x0, 0x1);
        gbc.writeMem(0xe1a9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x1341);
        EXPECT(gbc.pc(), 0xe1aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1a9), 0xb9);
        // B9 0230
        gbc.setState(0x8d6d, 0xec3e, 0x64e0, 0xc557, 0x45b, 0xcdde, 0x1, 0x1);
        gbc.writeMem(0x8d6d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xec3e);
        EXPECT(gbc.pc(), 0x8d6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d6d), 0xb9);
        // B9 0231
        gbc.setState(0x7908, 0xae9, 0x350, 0x5616, 0x822e, 0x621e, 0x1, 0x0);
        gbc.writeMem(0x7908, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xae9);
        EXPECT(gbc.pc(), 0x7909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0232
        gbc.setState(0x23a0, 0x38ce, 0x49d0, 0x4963, 0xac42, 0xba71, 0x1, 0x1);
        gbc.writeMem(0x23a0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x38ce);
        EXPECT(gbc.pc(), 0x23a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0233
        gbc.setState(0x1868, 0xbf37, 0x2c00, 0x8d53, 0x8888, 0xaba1, 0x1, 0x0);
        gbc.writeMem(0x1868, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xbf37);
        EXPECT(gbc.pc(), 0x1869);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0234
        gbc.setState(0x5124, 0xe76a, 0x2500, 0x2382, 0x57ae, 0xa5ce, 0x1, 0x1);
        gbc.writeMem(0x5124, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xe76a);
        EXPECT(gbc.pc(), 0x5125);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0235
        gbc.setState(0xefad, 0x644c, 0xdbd0, 0x8d7, 0x95c4, 0x8889, 0x0, 0x0);
        gbc.writeMem(0xefad, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x644c);
        EXPECT(gbc.pc(), 0xefae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefad), 0xb9);
        // B9 0236
        gbc.setState(0x6b96, 0x5b13, 0x6e00, 0x7273, 0x7be9, 0x5a64, 0x0, 0x0);
        gbc.writeMem(0x6b96, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5b13);
        EXPECT(gbc.pc(), 0x6b97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0238
        gbc.setState(0xc9f2, 0x8ecf, 0x56d0, 0xe4b0, 0x87b4, 0xe76b, 0x0, 0x1);
        gbc.writeMem(0xc9f2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8ecf);
        EXPECT(gbc.pc(), 0xc9f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9f2), 0xb9);
        // B9 0239
        gbc.setState(0x2ef1, 0xb774, 0x4ab0, 0x52eb, 0xd721, 0xab5a, 0x0, 0x0);
        gbc.writeMem(0x2ef1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb774);
        EXPECT(gbc.pc(), 0x2ef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 023A
        gbc.setState(0xcbab, 0xac43, 0x8910, 0x1d97, 0x5692, 0xa3a, 0x0, 0x1);
        gbc.writeMem(0xcbab, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xac43);
        EXPECT(gbc.pc(), 0xcbac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbab), 0xb9);
        // B9 023B
        gbc.setState(0xbb5, 0xebb7, 0x2c0, 0x54d4, 0x4590, 0x50fc, 0x1, 0x1);
        gbc.writeMem(0xbb5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xebb7);
        EXPECT(gbc.pc(), 0xbb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 023C
        gbc.setState(0x37c7, 0xffb1, 0xb0, 0xf744, 0xc67e, 0x625d, 0x1, 0x1);
        gbc.writeMem(0x37c7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xffb1);
        EXPECT(gbc.pc(), 0x37c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 023D
        gbc.setState(0x934a, 0xc942, 0x4ce0, 0x7642, 0xf7a5, 0x4d75, 0x0, 0x0);
        gbc.writeMem(0x934a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xc942);
        EXPECT(gbc.pc(), 0x934b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x934a), 0xb9);
        // B9 023E
        gbc.setState(0x2375, 0x77bc, 0x6710, 0x75cd, 0x2017, 0xf6bf, 0x1, 0x0);
        gbc.writeMem(0x2375, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x77bc);
        EXPECT(gbc.pc(), 0x2376);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 023F
        gbc.setState(0x7174, 0x310a, 0x1650, 0x3fa7, 0x8614, 0xfa62, 0x1, 0x0);
        gbc.writeMem(0x7174, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x310a);
        EXPECT(gbc.pc(), 0x7175);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0240
        gbc.setState(0x57a8, 0xf296, 0x5900, 0xd698, 0xa06e, 0x3959, 0x0, 0x1);
        gbc.writeMem(0x57a8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xf296);
        EXPECT(gbc.pc(), 0x57a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0241
        gbc.setState(0xb01a, 0x9e49, 0x8040, 0xa3f2, 0x31c7, 0x6017, 0x1, 0x1);
        gbc.writeMem(0xb01a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9e49);
        EXPECT(gbc.pc(), 0xb01b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb01a), 0xb9);
        // B9 0242
        gbc.setState(0x147a, 0xa6f6, 0xc9d0, 0x5cbe, 0x6c71, 0x9bc9, 0x0, 0x1);
        gbc.writeMem(0x147a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa6f6);
        EXPECT(gbc.pc(), 0x147b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0243
        gbc.setState(0xe63a, 0x9c38, 0x9780, 0x59be, 0xf79b, 0x6182, 0x1, 0x1);
        gbc.writeMem(0xe63a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9c38);
        EXPECT(gbc.pc(), 0xe63b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe63a), 0xb9);
        // B9 0244
        gbc.setState(0x4592, 0xcc08, 0x3930, 0x1434, 0x255f, 0xb756, 0x0, 0x1);
        gbc.writeMem(0x4592, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xcc08);
        EXPECT(gbc.pc(), 0x4593);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0245
        gbc.setState(0x498f, 0x4d1d, 0xe4e0, 0x184f, 0x1bb, 0xbbda, 0x0, 0x0);
        gbc.writeMem(0x498f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x4d1d);
        EXPECT(gbc.pc(), 0x4990);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0247
        gbc.setState(0x11fc, 0xb141, 0xf0d0, 0x8224, 0xde1f, 0xa671, 0x1, 0x1);
        gbc.writeMem(0x11fc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb141);
        EXPECT(gbc.pc(), 0x11fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0248
        gbc.setState(0x8c80, 0x89fd, 0x3770, 0x9aac, 0x9692, 0x1fe2, 0x1, 0x0);
        gbc.writeMem(0x8c80, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x89fd);
        EXPECT(gbc.pc(), 0x8c81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c80), 0xb9);
        // B9 0249
        gbc.setState(0x92d3, 0x5f5, 0xa4a0, 0x960, 0x4047, 0x2933, 0x1, 0x0);
        gbc.writeMem(0x92d3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5f5);
        EXPECT(gbc.pc(), 0x92d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92d3), 0xb9);
        // B9 024A
        gbc.setState(0x3bc0, 0xed36, 0x2730, 0x12bf, 0x234c, 0x7bfd, 0x1, 0x0);
        gbc.writeMem(0x3bc0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xed36);
        EXPECT(gbc.pc(), 0x3bc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 024B
        gbc.setState(0x3ea7, 0x1143, 0xdf00, 0xa601, 0x3b1c, 0x6397, 0x1, 0x0);
        gbc.writeMem(0x3ea7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x1143);
        EXPECT(gbc.pc(), 0x3ea8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 024C
        gbc.setState(0xbaa, 0x3259, 0x68d0, 0x10f, 0x94fb, 0xc7be, 0x0, 0x1);
        gbc.writeMem(0xbaa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3259);
        EXPECT(gbc.pc(), 0xbab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 024D
        gbc.setState(0x2c38, 0x6838, 0x7aa0, 0x1c28, 0xe7c1, 0x3a09, 0x1, 0x0);
        gbc.writeMem(0x2c38, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6838);
        EXPECT(gbc.pc(), 0x2c39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 024E
        gbc.setState(0x4c98, 0x6322, 0xb820, 0x108a, 0x1a3e, 0xd7ec, 0x0, 0x1);
        gbc.writeMem(0x4c98, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x6322);
        EXPECT(gbc.pc(), 0x4c99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 024F
        gbc.setState(0x9a3b, 0x12ff, 0xe6e0, 0x8eed, 0xe5, 0xf6f7, 0x0, 0x0);
        gbc.writeMem(0x9a3b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x12ff);
        EXPECT(gbc.pc(), 0x9a3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a3b), 0xb9);
        // B9 0250
        gbc.setState(0x8550, 0x65e4, 0x8250, 0xf340, 0x9d8e, 0x81d7, 0x1, 0x0);
        gbc.writeMem(0x8550, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x65e4);
        EXPECT(gbc.pc(), 0x8551);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8550), 0xb9);
        // B9 0251
        gbc.setState(0x4246, 0xb5c, 0x3d00, 0xe3b5, 0xb6d8, 0x21eb, 0x0, 0x0);
        gbc.writeMem(0x4246, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb5c);
        EXPECT(gbc.pc(), 0x4247);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0252
        gbc.setState(0xd17a, 0x550d, 0x6c0, 0x5327, 0x3b0d, 0x979f, 0x0, 0x1);
        gbc.writeMem(0xd17a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x550d);
        EXPECT(gbc.pc(), 0xd17b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd17a), 0xb9);
        // B9 0253
        gbc.setState(0xa496, 0x58d5, 0x8b90, 0xf53d, 0x56f2, 0x1bfa, 0x0, 0x1);
        gbc.writeMem(0xa496, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x58d5);
        EXPECT(gbc.pc(), 0xa497);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa496), 0xb9);
        // B9 0254
        gbc.setState(0x1bff, 0x3ca5, 0x5530, 0x5099, 0x1260, 0xfa6b, 0x0, 0x1);
        gbc.writeMem(0x1bff, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3ca5);
        EXPECT(gbc.pc(), 0x1c00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0255
        gbc.setState(0x3580, 0xa4d8, 0xa330, 0xa66e, 0x3d95, 0xf1bd, 0x1, 0x1);
        gbc.writeMem(0x3580, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa4d8);
        EXPECT(gbc.pc(), 0x3581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0256
        gbc.setState(0x50f5, 0x1267, 0xa290, 0x45a8, 0xdf11, 0xb4ba, 0x1, 0x1);
        gbc.writeMem(0x50f5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1267);
        EXPECT(gbc.pc(), 0x50f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0257
        gbc.setState(0x7fac, 0x948a, 0xf1b0, 0x475, 0xd5bb, 0xf9f1, 0x0, 0x1);
        gbc.writeMem(0x7fac, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x948a);
        EXPECT(gbc.pc(), 0x7fad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0258
        gbc.setState(0x6fd4, 0x6cd0, 0x9210, 0xf5e8, 0xc3bc, 0xaa43, 0x1, 0x0);
        gbc.writeMem(0x6fd4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x6cd0);
        EXPECT(gbc.pc(), 0x6fd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0259
        gbc.setState(0x16ac, 0xefd3, 0x5e80, 0x804a, 0x5df2, 0x2ac1, 0x1, 0x0);
        gbc.writeMem(0x16ac, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xefd3);
        EXPECT(gbc.pc(), 0x16ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 025A
        gbc.setState(0x417c, 0x9e21, 0xb2b0, 0x9130, 0xea5c, 0xc336, 0x1, 0x0);
        gbc.writeMem(0x417c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9e21);
        EXPECT(gbc.pc(), 0x417d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 025B
        gbc.setState(0x66f2, 0xb4af, 0x6cc0, 0x3f03, 0xc51a, 0xdd32, 0x0, 0x0);
        gbc.writeMem(0x66f2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xb4af);
        EXPECT(gbc.pc(), 0x66f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 025C
        gbc.setState(0xe781, 0x8b42, 0x46e0, 0xc099, 0x2ad8, 0xad27, 0x0, 0x0);
        gbc.writeMem(0xe781, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8b42);
        EXPECT(gbc.pc(), 0xe782);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe781), 0xb9);
        // B9 025D
        gbc.setState(0x5420, 0xa8b8, 0x9e10, 0xf284, 0x861b, 0x9717, 0x1, 0x0);
        gbc.writeMem(0x5420, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa8b8);
        EXPECT(gbc.pc(), 0x5421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 025E
        gbc.setState(0x1d7c, 0x9004, 0x41b0, 0x5776, 0x8612, 0x303f, 0x1, 0x0);
        gbc.writeMem(0x1d7c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9004);
        EXPECT(gbc.pc(), 0x1d7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 025F
        gbc.setState(0x79f8, 0xf8da, 0x6430, 0xcf4e, 0x84c4, 0x6ca1, 0x0, 0x1);
        gbc.writeMem(0x79f8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf8da);
        EXPECT(gbc.pc(), 0x79f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0260
        gbc.setState(0xde79, 0xd945, 0x6b30, 0x51a1, 0xa8be, 0xc597, 0x0, 0x1);
        gbc.writeMem(0xde79, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd945);
        EXPECT(gbc.pc(), 0xde7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde79), 0xb9);
        // B9 0261
        gbc.setState(0x43a2, 0xd4b, 0x6420, 0x5cee, 0x8872, 0xbb31, 0x1, 0x1);
        gbc.writeMem(0x43a2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd4b);
        EXPECT(gbc.pc(), 0x43a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0262
        gbc.setState(0xb8b1, 0x39c2, 0x34e0, 0x69ab, 0x5c8c, 0x8165, 0x1, 0x0);
        gbc.writeMem(0xb8b1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x39c2);
        EXPECT(gbc.pc(), 0xb8b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8b1), 0xb9);
        // B9 0263
        gbc.setState(0x2df2, 0xcf5f, 0xfd30, 0xc725, 0x9576, 0x4aa, 0x0, 0x1);
        gbc.writeMem(0x2df2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xcf5f);
        EXPECT(gbc.pc(), 0x2df3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0264
        gbc.setState(0xc4df, 0x6602, 0xe9d0, 0x9920, 0x6477, 0x731f, 0x1, 0x1);
        gbc.writeMem(0xc4df, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x6602);
        EXPECT(gbc.pc(), 0xc4e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4df), 0xb9);
        // B9 0265
        gbc.setState(0x2be4, 0x775a, 0xfbc0, 0x1f14, 0xb308, 0x912f, 0x1, 0x0);
        gbc.writeMem(0x2be4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x775a);
        EXPECT(gbc.pc(), 0x2be5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0266
        gbc.setState(0xa4ba, 0x4187, 0x2770, 0x5e5b, 0xe96a, 0x83b4, 0x1, 0x0);
        gbc.writeMem(0xa4ba, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x4187);
        EXPECT(gbc.pc(), 0xa4bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4ba), 0xb9);
        // B9 0267
        gbc.setState(0x9891, 0xb0f2, 0x9fb0, 0xc10e, 0xffba, 0xeee4, 0x1, 0x0);
        gbc.writeMem(0x9891, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xb0f2);
        EXPECT(gbc.pc(), 0x9892);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9891), 0xb9);
        // B9 0268
        gbc.setState(0x189f, 0x9b, 0xe680, 0x663f, 0xedc5, 0x8a45, 0x1, 0x1);
        gbc.writeMem(0x189f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x9b);
        EXPECT(gbc.pc(), 0x18a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0269
        gbc.setState(0x5f64, 0x343c, 0xc470, 0xb792, 0x98a8, 0x90ab, 0x1, 0x1);
        gbc.writeMem(0x5f64, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x343c);
        EXPECT(gbc.pc(), 0x5f65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 026A
        gbc.setState(0x388e, 0xb875, 0xc250, 0xd6c3, 0x4512, 0x5fbc, 0x1, 0x0);
        gbc.writeMem(0x388e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb875);
        EXPECT(gbc.pc(), 0x388f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 026B
        gbc.setState(0xa328, 0x3ce0, 0x5a0, 0x5d2, 0x415e, 0x256d, 0x1, 0x0);
        gbc.writeMem(0xa328, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x3ce0);
        EXPECT(gbc.pc(), 0xa329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa328), 0xb9);
        // B9 026C
        gbc.setState(0xd5f4, 0xf905, 0xec60, 0xcae2, 0x8811, 0x231a, 0x1, 0x0);
        gbc.writeMem(0xd5f4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf905);
        EXPECT(gbc.pc(), 0xd5f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5f4), 0xb9);
        // B9 026D
        gbc.setState(0xeb2e, 0x32e8, 0xa570, 0xd7de, 0x567b, 0xcab7, 0x1, 0x1);
        gbc.writeMem(0xeb2e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x32e8);
        EXPECT(gbc.pc(), 0xeb2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb2e), 0xb9);
        // B9 026E
        gbc.setState(0x6096, 0x5a36, 0x5b50, 0x4488, 0x74e0, 0x8f70, 0x1, 0x1);
        gbc.writeMem(0x6096, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5a36);
        EXPECT(gbc.pc(), 0x6097);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 026F
        gbc.setState(0x48ea, 0x35e2, 0xf330, 0x68bd, 0x30f2, 0x1273, 0x1, 0x0);
        gbc.writeMem(0x48ea, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x35e2);
        EXPECT(gbc.pc(), 0x48eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0270
        gbc.setState(0xc1e4, 0x172c, 0x7410, 0x5920, 0x3b37, 0xb678, 0x0, 0x0);
        gbc.writeMem(0xc1e4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x172c);
        EXPECT(gbc.pc(), 0xc1e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e4), 0xb9);
        // B9 0271
        gbc.setState(0x3b63, 0x27ec, 0xb530, 0x97d1, 0xc270, 0x7574, 0x0, 0x0);
        gbc.writeMem(0x3b63, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x27ec);
        EXPECT(gbc.pc(), 0x3b64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0272
        gbc.setState(0x690e, 0xe35d, 0x2870, 0x3e77, 0x34a1, 0x58fa, 0x1, 0x1);
        gbc.writeMem(0x690e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe35d);
        EXPECT(gbc.pc(), 0x690f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0273
        gbc.setState(0x3f88, 0xb1c4, 0xfad0, 0x7e05, 0xe05, 0xd207, 0x1, 0x1);
        gbc.writeMem(0x3f88, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xb1c4);
        EXPECT(gbc.pc(), 0x3f89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0274
        gbc.setState(0x2b71, 0x9d23, 0xb1a0, 0xf0d6, 0xcd4c, 0x7ad9, 0x1, 0x1);
        gbc.writeMem(0x2b71, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x9d23);
        EXPECT(gbc.pc(), 0x2b72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0275
        gbc.setState(0x225e, 0xf449, 0x4af0, 0x8118, 0x96db, 0xb183, 0x0, 0x1);
        gbc.writeMem(0x225e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xf449);
        EXPECT(gbc.pc(), 0x225f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0276
        gbc.setState(0xda74, 0xc3a1, 0x9490, 0x4867, 0x7027, 0xd506, 0x1, 0x0);
        gbc.writeMem(0xda74, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xc3a1);
        EXPECT(gbc.pc(), 0xda75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda74), 0xb9);
        // B9 0277
        gbc.setState(0x1dcf, 0x2138, 0xcbc0, 0x93da, 0x5a6c, 0xbd86, 0x0, 0x1);
        gbc.writeMem(0x1dcf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2138);
        EXPECT(gbc.pc(), 0x1dd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0278
        gbc.setState(0xe001, 0x4236, 0x7a90, 0xdb28, 0xaf79, 0xe130, 0x0, 0x1);
        gbc.writeMem(0xe001, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4236);
        EXPECT(gbc.pc(), 0xe002);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe001), 0xb9);
        // B9 0279
        gbc.setState(0xc45b, 0x3b89, 0xeb50, 0x8ccc, 0x7262, 0x9f4c, 0x1, 0x1);
        gbc.writeMem(0xc45b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x3b89);
        EXPECT(gbc.pc(), 0xc45c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc45b), 0xb9);
        // B9 027A
        gbc.setState(0x51, 0x2464, 0xfff0, 0xaeab, 0xd891, 0x3403, 0x1, 0x1);
        gbc.writeMem(0x51, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2464);
        EXPECT(gbc.pc(), 0x52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 027B
        gbc.setState(0x5586, 0x8f14, 0x5400, 0x480e, 0x546e, 0x4549, 0x1, 0x1);
        gbc.writeMem(0x5586, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8f14);
        EXPECT(gbc.pc(), 0x5587);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 027C
        gbc.setState(0x63f8, 0xd134, 0xb1e0, 0xf0ee, 0xcca4, 0xfec6, 0x1, 0x1);
        gbc.writeMem(0x63f8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xd134);
        EXPECT(gbc.pc(), 0x63f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 027D
        gbc.setState(0xa049, 0x23c3, 0x6650, 0xd297, 0x253, 0xdee3, 0x0, 0x1);
        gbc.writeMem(0xa049, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x23c3);
        EXPECT(gbc.pc(), 0xa04a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa049), 0xb9);
        // B9 027E
        gbc.setState(0x9bfa, 0x18fb, 0xfaa0, 0x9d06, 0xdf7b, 0xff47, 0x1, 0x1);
        gbc.writeMem(0x9bfa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x18fb);
        EXPECT(gbc.pc(), 0x9bfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bfa), 0xb9);
        // B9 027F
        gbc.setState(0x67a6, 0xb80d, 0x6190, 0xe386, 0x9c03, 0x6bcb, 0x1, 0x0);
        gbc.writeMem(0x67a6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xb80d);
        EXPECT(gbc.pc(), 0x67a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0280
        gbc.setState(0x3810, 0x1e86, 0x6df0, 0x5407, 0x3490, 0xa55a, 0x0, 0x1);
        gbc.writeMem(0x3810, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1e86);
        EXPECT(gbc.pc(), 0x3811);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0281
        gbc.setState(0x69ee, 0x2cef, 0x4f70, 0xa57d, 0x1779, 0x2c86, 0x1, 0x0);
        gbc.writeMem(0x69ee, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2cef);
        EXPECT(gbc.pc(), 0x69ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0282
        gbc.setState(0x3f09, 0x7f3a, 0x92f0, 0x4708, 0x400, 0x7cad, 0x0, 0x0);
        gbc.writeMem(0x3f09, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x7f3a);
        EXPECT(gbc.pc(), 0x3f0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0283
        gbc.setState(0x61c7, 0x84d2, 0xf6b0, 0xbad0, 0xeb5a, 0xc944, 0x1, 0x1);
        gbc.writeMem(0x61c7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x84d2);
        EXPECT(gbc.pc(), 0x61c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0284
        gbc.setState(0x1958, 0x9177, 0x6070, 0xac9c, 0x6e47, 0x1b5f, 0x1, 0x0);
        gbc.writeMem(0x1958, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9177);
        EXPECT(gbc.pc(), 0x1959);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0285
        gbc.setState(0x48eb, 0xa525, 0x7780, 0x785e, 0x6c6f, 0xdf45, 0x0, 0x1);
        gbc.writeMem(0x48eb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa525);
        EXPECT(gbc.pc(), 0x48ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0286
        gbc.setState(0xa2cc, 0xf46e, 0x8400, 0x6a01, 0x428a, 0xded9, 0x0, 0x1);
        gbc.writeMem(0xa2cc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xf46e);
        EXPECT(gbc.pc(), 0xa2cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2cc), 0xb9);
        // B9 0287
        gbc.setState(0xb5ec, 0xc6d1, 0x6a60, 0x2fd6, 0xd594, 0x87a2, 0x0, 0x0);
        gbc.writeMem(0xb5ec, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc6d1);
        EXPECT(gbc.pc(), 0xb5ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5ec), 0xb9);
        // B9 0288
        gbc.setState(0x70c2, 0xf895, 0xe140, 0x659, 0x15a6, 0x5a7f, 0x0, 0x0);
        gbc.writeMem(0x70c2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf895);
        EXPECT(gbc.pc(), 0x70c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0289
        gbc.setState(0x80e4, 0x9973, 0xd390, 0x3922, 0xc2e4, 0xc4e1, 0x1, 0x1);
        gbc.writeMem(0x80e4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x9973);
        EXPECT(gbc.pc(), 0x80e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80e4), 0xb9);
        // B9 028A
        gbc.setState(0xcd9d, 0x3692, 0xe230, 0x53a5, 0x9a25, 0xe307, 0x1, 0x0);
        gbc.writeMem(0xcd9d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x3692);
        EXPECT(gbc.pc(), 0xcd9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd9d), 0xb9);
        // B9 028B
        gbc.setState(0x9b57, 0x7dc, 0x4eb0, 0x6267, 0xeb02, 0xf124, 0x1, 0x0);
        gbc.writeMem(0x9b57, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x7dc);
        EXPECT(gbc.pc(), 0x9b58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b57), 0xb9);
        // B9 028C
        gbc.setState(0x1422, 0x9b1b, 0x490, 0x6721, 0x7fcc, 0x2f4a, 0x0, 0x1);
        gbc.writeMem(0x1422, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9b1b);
        EXPECT(gbc.pc(), 0x1423);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 028D
        gbc.setState(0x89bf, 0x7bbe, 0x540, 0xa997, 0x7b16, 0xb799, 0x0, 0x1);
        gbc.writeMem(0x89bf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x7bbe);
        EXPECT(gbc.pc(), 0x89c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89bf), 0xb9);
        // B9 028E
        gbc.setState(0x4858, 0xc860, 0x7dd0, 0x65fc, 0x45a, 0x9297, 0x0, 0x1);
        gbc.writeMem(0x4858, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc860);
        EXPECT(gbc.pc(), 0x4859);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 028F
        gbc.setState(0xb1d8, 0xa2b6, 0x1cc0, 0x70bd, 0x8d44, 0x3245, 0x1, 0x0);
        gbc.writeMem(0xb1d8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa2b6);
        EXPECT(gbc.pc(), 0xb1d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1d8), 0xb9);
        // B9 0290
        gbc.setState(0x8db4, 0x5965, 0x730, 0x5f1d, 0x48ce, 0x5b74, 0x0, 0x0);
        gbc.writeMem(0x8db4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5965);
        EXPECT(gbc.pc(), 0x8db5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8db4), 0xb9);
        // B9 0291
        gbc.setState(0xd591, 0x2446, 0x210, 0x5501, 0xa625, 0xfc20, 0x1, 0x0);
        gbc.writeMem(0xd591, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x2446);
        EXPECT(gbc.pc(), 0xd592);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd591), 0xb9);
        // B9 0292
        gbc.setState(0x1de7, 0x7820, 0x6b00, 0xd1b9, 0x8eb8, 0x8755, 0x1, 0x1);
        gbc.writeMem(0x1de7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x7820);
        EXPECT(gbc.pc(), 0x1de8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0293
        gbc.setState(0x4a91, 0xeca1, 0xfed0, 0x57b8, 0x8583, 0x53fd, 0x0, 0x1);
        gbc.writeMem(0x4a91, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xeca1);
        EXPECT(gbc.pc(), 0x4a92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0294
        gbc.setState(0x8345, 0x98eb, 0xea80, 0xa2d9, 0x9325, 0x9afc, 0x0, 0x1);
        gbc.writeMem(0x8345, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x98eb);
        EXPECT(gbc.pc(), 0x8346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8345), 0xb9);
        // B9 0296
        gbc.setState(0x4942, 0x9179, 0xc6b0, 0x6e26, 0xc02d, 0x3584, 0x0, 0x1);
        gbc.writeMem(0x4942, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9179);
        EXPECT(gbc.pc(), 0x4943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0297
        gbc.setState(0xed15, 0xf9db, 0x2010, 0x9673, 0x9745, 0x6b40, 0x0, 0x0);
        gbc.writeMem(0xed15, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xf9db);
        EXPECT(gbc.pc(), 0xed16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed15), 0xb9);
        // B9 0298
        gbc.setState(0x99ac, 0x5da0, 0xe210, 0x924, 0xe646, 0xc27, 0x1, 0x1);
        gbc.writeMem(0x99ac, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5da0);
        EXPECT(gbc.pc(), 0x99ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99ac), 0xb9);
        // B9 0299
        gbc.setState(0x9993, 0xe3bb, 0x2740, 0x17, 0x6b00, 0xeecb, 0x0, 0x1);
        gbc.writeMem(0x9993, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe3bb);
        EXPECT(gbc.pc(), 0x9994);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9993), 0xb9);
        // B9 029B
        gbc.setState(0xa0ae, 0x523e, 0x34c0, 0xb2b6, 0x2689, 0xa090, 0x1, 0x0);
        gbc.writeMem(0xa0ae, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x523e);
        EXPECT(gbc.pc(), 0xa0af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0ae), 0xb9);
        // B9 029C
        gbc.setState(0x1050, 0xfb80, 0x4870, 0xc7e4, 0xeef, 0xc9b1, 0x0, 0x1);
        gbc.writeMem(0x1050, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xfb80);
        EXPECT(gbc.pc(), 0x1051);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 029D
        gbc.setState(0xe6cd, 0x3af9, 0x1540, 0xca8a, 0x8972, 0xcf24, 0x1, 0x1);
        gbc.writeMem(0xe6cd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x3af9);
        EXPECT(gbc.pc(), 0xe6ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6cd), 0xb9);
        // B9 029E
        gbc.setState(0x526d, 0x96ee, 0x63f0, 0x19ce, 0x3c3e, 0x1d01, 0x0, 0x0);
        gbc.writeMem(0x526d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x96ee);
        EXPECT(gbc.pc(), 0x526e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 029F
        gbc.setState(0xc122, 0x2bc0, 0xb050, 0x6aff, 0xc0a7, 0xf5a8, 0x0, 0x1);
        gbc.writeMem(0xc122, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2bc0);
        EXPECT(gbc.pc(), 0xc123);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc122), 0xb9);
        // B9 02A0
        gbc.setState(0x30c8, 0x91a7, 0x2910, 0x8110, 0x8812, 0x1e89, 0x1, 0x1);
        gbc.writeMem(0x30c8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x91a7);
        EXPECT(gbc.pc(), 0x30c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02A1
        gbc.setState(0x5d6b, 0x6ace, 0xd070, 0xccd0, 0xbd, 0x7c0b, 0x1, 0x0);
        gbc.writeMem(0x5d6b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x6ace);
        EXPECT(gbc.pc(), 0x5d6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02A2
        gbc.setState(0x344b, 0x6306, 0xea40, 0x5135, 0xb665, 0x7864, 0x1, 0x0);
        gbc.writeMem(0x344b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x6306);
        EXPECT(gbc.pc(), 0x344c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02A3
        gbc.setState(0x2e5e, 0xd9bf, 0x8c80, 0x1b5d, 0xb3dd, 0x3be9, 0x1, 0x1);
        gbc.writeMem(0x2e5e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd9bf);
        EXPECT(gbc.pc(), 0x2e5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02A4
        gbc.setState(0x5b33, 0xeec8, 0xf6e0, 0xad2e, 0xe170, 0xb033, 0x1, 0x1);
        gbc.writeMem(0x5b33, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xeec8);
        EXPECT(gbc.pc(), 0x5b34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02A5
        gbc.setState(0xbc9a, 0xd14b, 0x5ed0, 0xd551, 0xe619, 0x1625, 0x0, 0x0);
        gbc.writeMem(0xbc9a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd14b);
        EXPECT(gbc.pc(), 0xbc9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc9a), 0xb9);
        // B9 02A6
        gbc.setState(0x52a, 0x51be, 0xac10, 0x990d, 0xd313, 0x2af8, 0x1, 0x0);
        gbc.writeMem(0x52a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x51be);
        EXPECT(gbc.pc(), 0x52b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02A7
        gbc.setState(0xe549, 0x8c6c, 0x86a0, 0x9c5e, 0x6085, 0xb371, 0x0, 0x0);
        gbc.writeMem(0xe549, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x8c6c);
        EXPECT(gbc.pc(), 0xe54a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe549), 0xb9);
        // B9 02A8
        gbc.setState(0xe1a9, 0xfe53, 0x9c00, 0x7f1d, 0xd9c3, 0xa820, 0x0, 0x1);
        gbc.writeMem(0xe1a9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xfe53);
        EXPECT(gbc.pc(), 0xe1aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1a9), 0xb9);
        // B9 02A9
        gbc.setState(0xc172, 0xea0a, 0x2b10, 0x4669, 0xd9d0, 0x7cd4, 0x0, 0x0);
        gbc.writeMem(0xc172, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xea0a);
        EXPECT(gbc.pc(), 0xc173);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc172), 0xb9);
        // B9 02AA
        gbc.setState(0xc6c6, 0xdc1e, 0xeae0, 0x9756, 0xe8f3, 0x21df, 0x0, 0x0);
        gbc.writeMem(0xc6c6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xdc1e);
        EXPECT(gbc.pc(), 0xc6c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6c6), 0xb9);
        // B9 02AB
        gbc.setState(0x507f, 0x511, 0x3470, 0x64c9, 0x5124, 0x8377, 0x1, 0x1);
        gbc.writeMem(0x507f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x511);
        EXPECT(gbc.pc(), 0x5080);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02AC
        gbc.setState(0x17ab, 0x184e, 0xeca0, 0x59d3, 0x4416, 0xbad4, 0x1, 0x0);
        gbc.writeMem(0x17ab, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x184e);
        EXPECT(gbc.pc(), 0x17ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02AD
        gbc.setState(0x858d, 0x8097, 0x8250, 0xb382, 0xba2d, 0x8ee1, 0x1, 0x1);
        gbc.writeMem(0x858d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x8097);
        EXPECT(gbc.pc(), 0x858e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x858d), 0xb9);
        // B9 02AE
        gbc.setState(0x964d, 0x3542, 0xcf50, 0xc681, 0xf4fe, 0xa1e7, 0x1, 0x1);
        gbc.writeMem(0x964d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3542);
        EXPECT(gbc.pc(), 0x964e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x964d), 0xb9);
        // B9 02AF
        gbc.setState(0x1712, 0x7929, 0xd170, 0x5c94, 0xfa3a, 0x2d01, 0x1, 0x1);
        gbc.writeMem(0x1712, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7929);
        EXPECT(gbc.pc(), 0x1713);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02B0
        gbc.setState(0x7460, 0x16ec, 0xcf40, 0x54de, 0x86fb, 0x6da6, 0x1, 0x0);
        gbc.writeMem(0x7460, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x16ec);
        EXPECT(gbc.pc(), 0x7461);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02B1
        gbc.setState(0x24dd, 0x6928, 0x2d90, 0xb6c7, 0xc251, 0x2b67, 0x0, 0x1);
        gbc.writeMem(0x24dd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x6928);
        EXPECT(gbc.pc(), 0x24de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02B2
        gbc.setState(0xbe65, 0x8043, 0xfa0, 0xf3c1, 0x5883, 0xfbcd, 0x1, 0x0);
        gbc.writeMem(0xbe65, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x8043);
        EXPECT(gbc.pc(), 0xbe66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe65), 0xb9);
        // B9 02B3
        gbc.setState(0x526c, 0x4254, 0xf280, 0x62c3, 0x5483, 0xcfb0, 0x0, 0x1);
        gbc.writeMem(0x526c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4254);
        EXPECT(gbc.pc(), 0x526d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02B4
        gbc.setState(0x3537, 0xb731, 0xfae0, 0xf813, 0x8aa7, 0x9769, 0x1, 0x0);
        gbc.writeMem(0x3537, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xb731);
        EXPECT(gbc.pc(), 0x3538);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02B5
        gbc.setState(0xb89c, 0x5c4f, 0x2da0, 0x319, 0xdc0a, 0xed0d, 0x1, 0x1);
        gbc.writeMem(0xb89c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x5c4f);
        EXPECT(gbc.pc(), 0xb89d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb89c), 0xb9);
        // B9 02B6
        gbc.setState(0x3254, 0x76da, 0x7a10, 0xa955, 0x4e47, 0x831a, 0x0, 0x1);
        gbc.writeMem(0x3254, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x76da);
        EXPECT(gbc.pc(), 0x3255);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02B7
        gbc.setState(0x47e5, 0x17ad, 0x32a0, 0x11e6, 0x3938, 0x61d3, 0x0, 0x0);
        gbc.writeMem(0x47e5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x17ad);
        EXPECT(gbc.pc(), 0x47e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02B8
        gbc.setState(0xe94d, 0xb580, 0xe230, 0x2b33, 0x27f0, 0xb028, 0x1, 0x0);
        gbc.writeMem(0xe94d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb580);
        EXPECT(gbc.pc(), 0xe94e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe94d), 0xb9);
        // B9 02B9
        gbc.setState(0xd77c, 0x4261, 0xc7d0, 0xb3b7, 0x5a50, 0xd802, 0x1, 0x0);
        gbc.writeMem(0xd77c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4261);
        EXPECT(gbc.pc(), 0xd77d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd77c), 0xb9);
        // B9 02BA
        gbc.setState(0x560b, 0x8b7c, 0xc000, 0xc164, 0x4de8, 0x33e9, 0x0, 0x1);
        gbc.writeMem(0x560b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8b7c);
        EXPECT(gbc.pc(), 0x560c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02BB
        gbc.setState(0xe54, 0x2238, 0xc1b0, 0x63d5, 0xdc1f, 0x5a93, 0x1, 0x1);
        gbc.writeMem(0xe54, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x2238);
        EXPECT(gbc.pc(), 0xe55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02BC
        gbc.setState(0xabbc, 0x90e3, 0xf0f0, 0x4745, 0xa7ab, 0xdecf, 0x0, 0x1);
        gbc.writeMem(0xabbc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x90e3);
        EXPECT(gbc.pc(), 0xabbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabbc), 0xb9);
        // B9 02BD
        gbc.setState(0x6a0, 0x24b8, 0x34a0, 0xcd1e, 0xfa67, 0xe01b, 0x0, 0x0);
        gbc.writeMem(0x6a0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x24b8);
        EXPECT(gbc.pc(), 0x6a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02BE
        gbc.setState(0x18ab, 0xbc7d, 0xb290, 0x8fa7, 0xd098, 0x25a6, 0x1, 0x1);
        gbc.writeMem(0x18ab, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbc7d);
        EXPECT(gbc.pc(), 0x18ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02BF
        gbc.setState(0x6161, 0x2e4e, 0xf1d0, 0x9a9c, 0xaf23, 0x3eb2, 0x0, 0x0);
        gbc.writeMem(0x6161, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x2e4e);
        EXPECT(gbc.pc(), 0x6162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02C0
        gbc.setState(0xc6b3, 0x4d17, 0xc2f0, 0xe09d, 0x1d14, 0x4d4f, 0x0, 0x0);
        gbc.writeMem(0xc6b3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x4d17);
        EXPECT(gbc.pc(), 0xc6b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6b3), 0xb9);
        // B9 02C1
        gbc.setState(0x2ae0, 0x520, 0x9ba0, 0xe47, 0xf01b, 0x60ae, 0x0, 0x0);
        gbc.writeMem(0x2ae0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x520);
        EXPECT(gbc.pc(), 0x2ae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02C2
        gbc.setState(0xa6e2, 0x5e58, 0xd630, 0x4f28, 0xcbe4, 0x196c, 0x1, 0x1);
        gbc.writeMem(0xa6e2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5e58);
        EXPECT(gbc.pc(), 0xa6e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6e2), 0xb9);
        // B9 02C3
        gbc.setState(0x498, 0x3619, 0xb500, 0xe26e, 0xc223, 0xfe8e, 0x0, 0x1);
        gbc.writeMem(0x498, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x3619);
        EXPECT(gbc.pc(), 0x499);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02C4
        gbc.setState(0x527b, 0x225f, 0x1560, 0x3a1e, 0x3885, 0xc93f, 0x1, 0x1);
        gbc.writeMem(0x527b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x225f);
        EXPECT(gbc.pc(), 0x527c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02C5
        gbc.setState(0x2d11, 0x14ac, 0xb570, 0x9ba3, 0x4748, 0x84cc, 0x0, 0x0);
        gbc.writeMem(0x2d11, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x14ac);
        EXPECT(gbc.pc(), 0x2d12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02C6
        gbc.setState(0x3a2f, 0xe803, 0x8040, 0x5170, 0x47d4, 0xd235, 0x1, 0x1);
        gbc.writeMem(0x3a2f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe803);
        EXPECT(gbc.pc(), 0x3a30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02C7
        gbc.setState(0x6f23, 0xf0f1, 0x4a10, 0xfd80, 0x2dfb, 0xe984, 0x0, 0x0);
        gbc.writeMem(0x6f23, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf0f1);
        EXPECT(gbc.pc(), 0x6f24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02C8
        gbc.setState(0xe9fa, 0xfbbb, 0x3360, 0x716b, 0xf85b, 0xe52c, 0x1, 0x1);
        gbc.writeMem(0xe9fa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xfbbb);
        EXPECT(gbc.pc(), 0xe9fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9fa), 0xb9);
        // B9 02C9
        gbc.setState(0x8c31, 0xbb38, 0x4180, 0xa763, 0x4f9d, 0x3ea1, 0x0, 0x0);
        gbc.writeMem(0x8c31, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xbb38);
        EXPECT(gbc.pc(), 0x8c32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c31), 0xb9);
        // B9 02CA
        gbc.setState(0x55f9, 0x493e, 0x690, 0xd6d, 0xbdf4, 0xf2c, 0x0, 0x1);
        gbc.writeMem(0x55f9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x493e);
        EXPECT(gbc.pc(), 0x55fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02CB
        gbc.setState(0x84b3, 0xe0ea, 0x2e80, 0x4b9b, 0x96c6, 0x3ffa, 0x0, 0x1);
        gbc.writeMem(0x84b3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe0ea);
        EXPECT(gbc.pc(), 0x84b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84b3), 0xb9);
        // B9 02CC
        gbc.setState(0x5724, 0x23c3, 0xc300, 0x7556, 0x92d0, 0xd3e9, 0x1, 0x1);
        gbc.writeMem(0x5724, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x23c3);
        EXPECT(gbc.pc(), 0x5725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02CD
        gbc.setState(0xd61b, 0x3a6c, 0xb080, 0x7e23, 0x9037, 0x4804, 0x0, 0x1);
        gbc.writeMem(0xd61b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3a6c);
        EXPECT(gbc.pc(), 0xd61c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd61b), 0xb9);
        // B9 02CE
        gbc.setState(0x22a9, 0x8661, 0xbf00, 0x98c9, 0xa4b6, 0x17f3, 0x1, 0x0);
        gbc.writeMem(0x22a9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8661);
        EXPECT(gbc.pc(), 0x22aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02CF
        gbc.setState(0x23a7, 0xe2d4, 0xad20, 0x911a, 0x22f7, 0xd460, 0x1, 0x1);
        gbc.writeMem(0x23a7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xe2d4);
        EXPECT(gbc.pc(), 0x23a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02D0
        gbc.setState(0x80c7, 0x440b, 0xf880, 0x6da2, 0x8744, 0x41a8, 0x0, 0x1);
        gbc.writeMem(0x80c7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x440b);
        EXPECT(gbc.pc(), 0x80c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80c7), 0xb9);
        // B9 02D1
        gbc.setState(0xc0f2, 0xe778, 0x72a0, 0x6c6e, 0x8052, 0xb73f, 0x0, 0x0);
        gbc.writeMem(0xc0f2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe778);
        EXPECT(gbc.pc(), 0xc0f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0f2), 0xb9);
        // B9 02D2
        gbc.setState(0xa4ba, 0x8dcf, 0x7a0, 0x91fc, 0x6940, 0x6f03, 0x0, 0x1);
        gbc.writeMem(0xa4ba, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x8dcf);
        EXPECT(gbc.pc(), 0xa4bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4ba), 0xb9);
        // B9 02D4
        gbc.setState(0x7b5f, 0x1491, 0xf200, 0x4e0b, 0xebfc, 0x5510, 0x1, 0x0);
        gbc.writeMem(0x7b5f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1491);
        EXPECT(gbc.pc(), 0x7b60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02D5
        gbc.setState(0xbcc0, 0x98f7, 0x7450, 0x7b9e, 0x4d95, 0xf674, 0x1, 0x1);
        gbc.writeMem(0xbcc0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x98f7);
        EXPECT(gbc.pc(), 0xbcc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcc0), 0xb9);
        // B9 02D6
        gbc.setState(0x7852, 0xc1e2, 0xdd20, 0xbb44, 0xbfeb, 0x7eb0, 0x1, 0x0);
        gbc.writeMem(0x7852, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xc1e2);
        EXPECT(gbc.pc(), 0x7853);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02D7
        gbc.setState(0x2547, 0x60b2, 0xe9c0, 0x61e4, 0xf2c1, 0xb5b, 0x0, 0x1);
        gbc.writeMem(0x2547, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x60b2);
        EXPECT(gbc.pc(), 0x2548);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02D8
        gbc.setState(0xd8dc, 0xf97b, 0x7bb0, 0x1e6c, 0xc2b0, 0xe0c5, 0x0, 0x0);
        gbc.writeMem(0xd8dc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf97b);
        EXPECT(gbc.pc(), 0xd8dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8dc), 0xb9);
        // B9 02D9
        gbc.setState(0x19c7, 0x6c5f, 0xc410, 0xd660, 0x9f48, 0x9a72, 0x1, 0x0);
        gbc.writeMem(0x19c7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6c5f);
        EXPECT(gbc.pc(), 0x19c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02DA
        gbc.setState(0x294c, 0xf3fe, 0xccc0, 0xcf6f, 0xcba7, 0xa681, 0x1, 0x1);
        gbc.writeMem(0x294c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf3fe);
        EXPECT(gbc.pc(), 0x294d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02DB
        gbc.setState(0x33e0, 0x25dc, 0xcbc0, 0x9b5f, 0x22a0, 0x5e70, 0x0, 0x0);
        gbc.writeMem(0x33e0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x25dc);
        EXPECT(gbc.pc(), 0x33e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02DC
        gbc.setState(0x9647, 0x115f, 0xb00, 0x896e, 0x495f, 0x9950, 0x0, 0x0);
        gbc.writeMem(0x9647, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x115f);
        EXPECT(gbc.pc(), 0x9648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9647), 0xb9);
        // B9 02DD
        gbc.setState(0x2f42, 0x3fa7, 0xff80, 0xf7e0, 0x7c4b, 0x4da, 0x1, 0x1);
        gbc.writeMem(0x2f42, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3fa7);
        EXPECT(gbc.pc(), 0x2f43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02DE
        gbc.setState(0xb309, 0x2062, 0xce80, 0xb541, 0x5a2c, 0x4b10, 0x0, 0x1);
        gbc.writeMem(0xb309, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2062);
        EXPECT(gbc.pc(), 0xb30a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb309), 0xb9);
        // B9 02DF
        gbc.setState(0x51fe, 0xa8fe, 0xad30, 0x8e8b, 0xfe95, 0xea0c, 0x1, 0x0);
        gbc.writeMem(0x51fe, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa8fe);
        EXPECT(gbc.pc(), 0x51ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02E0
        gbc.setState(0x6b2f, 0x1b52, 0x2e90, 0x6f43, 0x7a8c, 0x81ac, 0x0, 0x1);
        gbc.writeMem(0x6b2f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1b52);
        EXPECT(gbc.pc(), 0x6b30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02E1
        gbc.setState(0xaf54, 0x97a4, 0xb6f0, 0x963b, 0xc0d9, 0xcc0e, 0x1, 0x1);
        gbc.writeMem(0xaf54, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x97a4);
        EXPECT(gbc.pc(), 0xaf55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf54), 0xb9);
        // B9 02E2
        gbc.setState(0x4ae2, 0xdd89, 0x2110, 0xb27d, 0xf30d, 0xa50, 0x0, 0x1);
        gbc.writeMem(0x4ae2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xdd89);
        EXPECT(gbc.pc(), 0x4ae3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02E3
        gbc.setState(0x338d, 0x4c5a, 0xac00, 0x599, 0x22b1, 0xcf90, 0x0, 0x1);
        gbc.writeMem(0x338d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4c5a);
        EXPECT(gbc.pc(), 0x338e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02E5
        gbc.setState(0x916d, 0xecb4, 0x8700, 0x4be, 0x59ee, 0x7376, 0x1, 0x1);
        gbc.writeMem(0x916d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xecb4);
        EXPECT(gbc.pc(), 0x916e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x916d), 0xb9);
        // B9 02E6
        gbc.setState(0x165a, 0xb9df, 0x4c40, 0x58b, 0xa409, 0x1a7d, 0x1, 0x0);
        gbc.writeMem(0x165a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xb9df);
        EXPECT(gbc.pc(), 0x165b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02E7
        gbc.setState(0xade2, 0x5ed8, 0xd560, 0xe242, 0x4a98, 0x2cb8, 0x1, 0x1);
        gbc.writeMem(0xade2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5ed8);
        EXPECT(gbc.pc(), 0xade3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xade2), 0xb9);
        // B9 02E8
        gbc.setState(0x64a7, 0xe73, 0x56e0, 0x9577, 0xe11, 0xf721, 0x0, 0x0);
        gbc.writeMem(0x64a7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xe73);
        EXPECT(gbc.pc(), 0x64a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02E9
        gbc.setState(0xedc1, 0x9607, 0x4680, 0x79d8, 0xdc5, 0xb25d, 0x1, 0x0);
        gbc.writeMem(0xedc1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9607);
        EXPECT(gbc.pc(), 0xedc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedc1), 0xb9);
        // B9 02EA
        gbc.setState(0xb37b, 0x890e, 0x2100, 0xedf3, 0xf9b2, 0x70a2, 0x1, 0x0);
        gbc.writeMem(0xb37b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x890e);
        EXPECT(gbc.pc(), 0xb37c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb37b), 0xb9);
        // B9 02EB
        gbc.setState(0xea69, 0x97ad, 0x2130, 0x8962, 0x246f, 0x2ab5, 0x1, 0x1);
        gbc.writeMem(0xea69, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x97ad);
        EXPECT(gbc.pc(), 0xea6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea69), 0xb9);
        // B9 02EC
        gbc.setState(0xe119, 0xb143, 0x1ff0, 0xdb22, 0x7ade, 0x723e, 0x1, 0x0);
        gbc.writeMem(0xe119, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xb143);
        EXPECT(gbc.pc(), 0xe11a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe119), 0xb9);
        // B9 02ED
        gbc.setState(0xcac2, 0xdc13, 0x4480, 0x25f4, 0x8145, 0xefd2, 0x0, 0x0);
        gbc.writeMem(0xcac2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xdc13);
        EXPECT(gbc.pc(), 0xcac3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcac2), 0xb9);
        // B9 02EE
        gbc.setState(0xb87, 0x5f7e, 0xa190, 0x9d60, 0x3a1d, 0x29b0, 0x1, 0x0);
        gbc.writeMem(0xb87, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5f7e);
        EXPECT(gbc.pc(), 0xb88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02EF
        gbc.setState(0xd889, 0xb597, 0x4e50, 0x7422, 0x7a23, 0x3116, 0x0, 0x0);
        gbc.writeMem(0xd889, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xb597);
        EXPECT(gbc.pc(), 0xd88a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd889), 0xb9);
        // B9 02F0
        gbc.setState(0x81b, 0x1eed, 0x9e00, 0x262f, 0xf132, 0x47b7, 0x0, 0x1);
        gbc.writeMem(0x81b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1eed);
        EXPECT(gbc.pc(), 0x81c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02F1
        gbc.setState(0x20df, 0x45c, 0xffa0, 0x2689, 0x6780, 0x7a21, 0x0, 0x1);
        gbc.writeMem(0x20df, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x45c);
        EXPECT(gbc.pc(), 0x20e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 02F2
        gbc.setState(0xb813, 0x4462, 0xf3a0, 0x74ca, 0xb9db, 0x113e, 0x1, 0x0);
        gbc.writeMem(0xb813, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x4462);
        EXPECT(gbc.pc(), 0xb814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb813), 0xb9);
        // B9 02F3
        gbc.setState(0x989d, 0xa768, 0xda70, 0xb2da, 0x4c4, 0x7d11, 0x0, 0x0);
        gbc.writeMem(0x989d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa768);
        EXPECT(gbc.pc(), 0x989e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x989d), 0xb9);
        // B9 02F4
        gbc.setState(0x33ca, 0xc0e6, 0x1350, 0xf91b, 0x636c, 0x77dc, 0x0, 0x0);
        gbc.writeMem(0x33ca, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xc0e6);
        EXPECT(gbc.pc(), 0x33cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02F5
        gbc.setState(0x50c6, 0x42bc, 0x4540, 0xf22a, 0x66d, 0x6f43, 0x0, 0x1);
        gbc.writeMem(0x50c6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x42bc);
        EXPECT(gbc.pc(), 0x50c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02F6
        gbc.setState(0xef69, 0xa14e, 0x2cb0, 0xa4d9, 0xde51, 0x11bf, 0x1, 0x1);
        gbc.writeMem(0xef69, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xa14e);
        EXPECT(gbc.pc(), 0xef6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef69), 0xb9);
        // B9 02F7
        gbc.setState(0x2e98, 0xe66a, 0x5d90, 0xe674, 0x4d8f, 0x982d, 0x1, 0x1);
        gbc.writeMem(0x2e98, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xe66a);
        EXPECT(gbc.pc(), 0x2e99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02F8
        gbc.setState(0x432f, 0x5343, 0xc420, 0x72f4, 0xa638, 0xfb62, 0x0, 0x1);
        gbc.writeMem(0x432f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x5343);
        EXPECT(gbc.pc(), 0x4330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02F9
        gbc.setState(0xe57b, 0xeeaa, 0xb4e0, 0x66c7, 0xfdc7, 0xc91f, 0x0, 0x1);
        gbc.writeMem(0xe57b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xeeaa);
        EXPECT(gbc.pc(), 0xe57c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe57b), 0xb9);
        // B9 02FA
        gbc.setState(0x7ac3, 0xae3c, 0x32b0, 0x63e0, 0xe122, 0xfe09, 0x1, 0x1);
        gbc.writeMem(0x7ac3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xae3c);
        EXPECT(gbc.pc(), 0x7ac4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02FB
        gbc.setState(0x753c, 0xbc9b, 0x3410, 0x8b55, 0x7be3, 0xaa80, 0x1, 0x0);
        gbc.writeMem(0x753c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbc9b);
        EXPECT(gbc.pc(), 0x753d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 02FC
        gbc.setState(0x4ffe, 0xeac3, 0xa5a0, 0xfb0d, 0x79d7, 0x1897, 0x0, 0x1);
        gbc.writeMem(0x4ffe, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xeac3);
        EXPECT(gbc.pc(), 0x4fff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 02FE
        gbc.setState(0x575d, 0xcb9b, 0x1a50, 0xa85a, 0xba20, 0x25f0, 0x1, 0x1);
        gbc.writeMem(0x575d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xcb9b);
        EXPECT(gbc.pc(), 0x575e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 02FF
        gbc.setState(0xc6d9, 0xb796, 0xdef0, 0x74d1, 0x44d9, 0xac4f, 0x0, 0x1);
        gbc.writeMem(0xc6d9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xb796);
        EXPECT(gbc.pc(), 0xc6da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6d9), 0xb9);
        // B9 0300
        gbc.setState(0xc7cd, 0xc5d5, 0xc160, 0xdba1, 0xad93, 0x18c, 0x1, 0x1);
        gbc.writeMem(0xc7cd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xc5d5);
        EXPECT(gbc.pc(), 0xc7ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7cd), 0xb9);
        // B9 0301
        gbc.setState(0xde97, 0x326, 0x5980, 0x2773, 0x890e, 0x428, 0x0, 0x1);
        gbc.writeMem(0xde97, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x326);
        EXPECT(gbc.pc(), 0xde98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde97), 0xb9);
        // B9 0302
        gbc.setState(0xd97b, 0x3c8e, 0xe000, 0xc3e8, 0x21, 0x56d1, 0x0, 0x1);
        gbc.writeMem(0xd97b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3c8e);
        EXPECT(gbc.pc(), 0xd97c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd97b), 0xb9);
        // B9 0303
        gbc.setState(0x9aca, 0xdfad, 0x3990, 0x4004, 0x1f1a, 0x337b, 0x0, 0x1);
        gbc.writeMem(0x9aca, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xdfad);
        EXPECT(gbc.pc(), 0x9acb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aca), 0xb9);
        // B9 0304
        gbc.setState(0x4570, 0x6815, 0xe1e0, 0x1dfc, 0xd77f, 0x30ee, 0x0, 0x1);
        gbc.writeMem(0x4570, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6815);
        EXPECT(gbc.pc(), 0x4571);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0305
        gbc.setState(0x4f61, 0x3773, 0x52d0, 0x43b9, 0x954a, 0x688f, 0x1, 0x0);
        gbc.writeMem(0x4f61, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3773);
        EXPECT(gbc.pc(), 0x4f62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0306
        gbc.setState(0xc29f, 0xba14, 0x6420, 0xc6a1, 0x9ee5, 0xdb35, 0x0, 0x0);
        gbc.writeMem(0xc29f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xba14);
        EXPECT(gbc.pc(), 0xc2a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc29f), 0xb9);
        // B9 0308
        gbc.setState(0x54fb, 0xea6a, 0x3970, 0x6faa, 0x862c, 0x2cd2, 0x1, 0x0);
        gbc.writeMem(0x54fb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xea6a);
        EXPECT(gbc.pc(), 0x54fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0309
        gbc.setState(0x831c, 0x5b6d, 0x14d0, 0x52d3, 0x3904, 0xfd63, 0x1, 0x1);
        gbc.writeMem(0x831c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x5b6d);
        EXPECT(gbc.pc(), 0x831d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x831c), 0xb9);
        // B9 030A
        gbc.setState(0x10b1, 0x142a, 0x2ec0, 0x7342, 0xc83a, 0xc81c, 0x0, 0x0);
        gbc.writeMem(0x10b1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x142a);
        EXPECT(gbc.pc(), 0x10b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 030B
        gbc.setState(0x9111, 0xa9b, 0x91e0, 0xe231, 0xf24a, 0x82b7, 0x1, 0x1);
        gbc.writeMem(0x9111, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa9b);
        EXPECT(gbc.pc(), 0x9112);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9111), 0xb9);
        // B9 030C
        gbc.setState(0x7631, 0xb11b, 0x6940, 0xe18f, 0x1e4e, 0xd5bc, 0x1, 0x1);
        gbc.writeMem(0x7631, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb11b);
        EXPECT(gbc.pc(), 0x7632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 030D
        gbc.setState(0x73dc, 0xdf2a, 0x65a0, 0xfe76, 0x4a8d, 0xa5ba, 0x1, 0x0);
        gbc.writeMem(0x73dc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xdf2a);
        EXPECT(gbc.pc(), 0x73dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 030E
        gbc.setState(0x4e6e, 0x8ac8, 0xac70, 0x1c2f, 0xa51e, 0xda20, 0x0, 0x1);
        gbc.writeMem(0x4e6e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8ac8);
        EXPECT(gbc.pc(), 0x4e6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 030F
        gbc.setState(0xdb24, 0x278d, 0x4b30, 0x60e2, 0xff2e, 0xa2b0, 0x1, 0x0);
        gbc.writeMem(0xdb24, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x278d);
        EXPECT(gbc.pc(), 0xdb25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb24), 0xb9);
        // B9 0310
        gbc.setState(0x3bea, 0xdb00, 0x3140, 0xa96d, 0xa837, 0x5b95, 0x0, 0x0);
        gbc.writeMem(0x3bea, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xdb00);
        EXPECT(gbc.pc(), 0x3beb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0312
        gbc.setState(0xdf4a, 0x5faa, 0xfe60, 0x36e, 0x7a5, 0xf3a0, 0x0, 0x0);
        gbc.writeMem(0xdf4a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x5faa);
        EXPECT(gbc.pc(), 0xdf4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf4a), 0xb9);
        // B9 0313
        gbc.setState(0x8f4d, 0x3766, 0x10, 0xe763, 0x21cd, 0xddac, 0x1, 0x1);
        gbc.writeMem(0x8f4d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x3766);
        EXPECT(gbc.pc(), 0x8f4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f4d), 0xb9);
        // B9 0314
        gbc.setState(0xb5d3, 0xd71e, 0xc300, 0x8faf, 0xa99b, 0x64e, 0x0, 0x0);
        gbc.writeMem(0xb5d3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd71e);
        EXPECT(gbc.pc(), 0xb5d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5d3), 0xb9);
        // B9 0315
        gbc.setState(0x39ea, 0x598b, 0xbdc0, 0x5eed, 0x84bb, 0x574d, 0x1, 0x1);
        gbc.writeMem(0x39ea, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x598b);
        EXPECT(gbc.pc(), 0x39eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0316
        gbc.setState(0x3c2b, 0x10a4, 0x6ba0, 0x1ae6, 0xf93, 0x862e, 0x0, 0x0);
        gbc.writeMem(0x3c2b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x10a4);
        EXPECT(gbc.pc(), 0x3c2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0317
        gbc.setState(0xc3d2, 0x923d, 0xd9d0, 0x50df, 0x32bb, 0xb939, 0x0, 0x0);
        gbc.writeMem(0xc3d2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x923d);
        EXPECT(gbc.pc(), 0xc3d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3d2), 0xb9);
        // B9 0318
        gbc.setState(0x10cf, 0x681d, 0x1c0, 0xb528, 0x68df, 0x8230, 0x1, 0x1);
        gbc.writeMem(0x10cf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x681d);
        EXPECT(gbc.pc(), 0x10d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0319
        gbc.setState(0x6e0b, 0xd6e3, 0x4870, 0x56d, 0x8e7d, 0xc4c0, 0x0, 0x1);
        gbc.writeMem(0x6e0b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xd6e3);
        EXPECT(gbc.pc(), 0x6e0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 031B
        gbc.setState(0xae78, 0x7ca9, 0x6350, 0xa9fa, 0xc75f, 0x776b, 0x1, 0x0);
        gbc.writeMem(0xae78, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7ca9);
        EXPECT(gbc.pc(), 0xae79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae78), 0xb9);
        // B9 031C
        gbc.setState(0x4de6, 0x9d95, 0x2ed0, 0x4218, 0x87ac, 0x9fc7, 0x1, 0x1);
        gbc.writeMem(0x4de6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x9d95);
        EXPECT(gbc.pc(), 0x4de7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 031D
        gbc.setState(0x7edf, 0xd2d6, 0x6c60, 0x64af, 0x57e7, 0x7e13, 0x0, 0x1);
        gbc.writeMem(0x7edf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xd2d6);
        EXPECT(gbc.pc(), 0x7ee0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 031E
        gbc.setState(0x2b4c, 0x393d, 0x4f70, 0x955a, 0x7d8d, 0x5aa, 0x0, 0x0);
        gbc.writeMem(0x2b4c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x393d);
        EXPECT(gbc.pc(), 0x2b4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 031F
        gbc.setState(0x5438, 0x9abd, 0x1670, 0xc9c6, 0xde32, 0xccce, 0x1, 0x0);
        gbc.writeMem(0x5438, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9abd);
        EXPECT(gbc.pc(), 0x5439);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0320
        gbc.setState(0x8de0, 0xd8d2, 0x4b20, 0x2e68, 0x535e, 0x744e, 0x1, 0x0);
        gbc.writeMem(0x8de0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd8d2);
        EXPECT(gbc.pc(), 0x8de1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8de0), 0xb9);
        // B9 0321
        gbc.setState(0x34ef, 0xcda9, 0x2740, 0x5b99, 0x7e69, 0x8f69, 0x0, 0x0);
        gbc.writeMem(0x34ef, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xcda9);
        EXPECT(gbc.pc(), 0x34f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0322
        gbc.setState(0x3b7a, 0x3a2f, 0x7e60, 0x1808, 0xd18f, 0x196e, 0x0, 0x0);
        gbc.writeMem(0x3b7a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3a2f);
        EXPECT(gbc.pc(), 0x3b7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0323
        gbc.setState(0x9c66, 0x1273, 0xaf40, 0x40e2, 0x8a8f, 0x6edb, 0x0, 0x0);
        gbc.writeMem(0x9c66, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x1273);
        EXPECT(gbc.pc(), 0x9c67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c66), 0xb9);
        // B9 0324
        gbc.setState(0x653, 0x193f, 0x3890, 0x52ac, 0xa83c, 0x6ff4, 0x0, 0x0);
        gbc.writeMem(0x653, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x193f);
        EXPECT(gbc.pc(), 0x654);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0325
        gbc.setState(0x3f29, 0xfece, 0xf1e0, 0xe5ce, 0xefbc, 0x4fad, 0x0, 0x1);
        gbc.writeMem(0x3f29, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xfece);
        EXPECT(gbc.pc(), 0x3f2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0326
        gbc.setState(0x6acd, 0x9e32, 0xb510, 0x4c43, 0xdfca, 0xfe1, 0x1, 0x0);
        gbc.writeMem(0x6acd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x9e32);
        EXPECT(gbc.pc(), 0x6ace);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0327
        gbc.setState(0x4c71, 0x448, 0x6670, 0xf458, 0x6d9e, 0xd00e, 0x1, 0x1);
        gbc.writeMem(0x4c71, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x448);
        EXPECT(gbc.pc(), 0x4c72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0328
        gbc.setState(0x95b2, 0xec37, 0x6eb0, 0x43ba, 0x18, 0xfdef, 0x1, 0x0);
        gbc.writeMem(0x95b2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xec37);
        EXPECT(gbc.pc(), 0x95b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95b2), 0xb9);
        // B9 0329
        gbc.setState(0xbfe, 0xcc42, 0x2c0, 0xc5b, 0x60, 0xe169, 0x1, 0x0);
        gbc.writeMem(0xbfe, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xcc42);
        EXPECT(gbc.pc(), 0xbff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 032A
        gbc.setState(0x5a3a, 0xc2fa, 0xcbd0, 0xffe5, 0x7ba1, 0xd83e, 0x1, 0x1);
        gbc.writeMem(0x5a3a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xc2fa);
        EXPECT(gbc.pc(), 0x5a3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 032B
        gbc.setState(0x86e2, 0xdbbb, 0x9d60, 0x8c2d, 0x30db, 0xccd0, 0x0, 0x1);
        gbc.writeMem(0x86e2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xdbbb);
        EXPECT(gbc.pc(), 0x86e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e2), 0xb9);
        // B9 032C
        gbc.setState(0xdb5f, 0x736a, 0xcf20, 0xb86d, 0xe975, 0xca67, 0x1, 0x0);
        gbc.writeMem(0xdb5f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x736a);
        EXPECT(gbc.pc(), 0xdb60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb5f), 0xb9);
        // B9 032D
        gbc.setState(0xc47c, 0x833b, 0xeb00, 0xeab0, 0xc706, 0x7cb0, 0x1, 0x0);
        gbc.writeMem(0xc47c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x833b);
        EXPECT(gbc.pc(), 0xc47d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc47c), 0xb9);
        // B9 032E
        gbc.setState(0x8ba9, 0x855f, 0x1b90, 0x40a0, 0xbd0f, 0x855e, 0x0, 0x1);
        gbc.writeMem(0x8ba9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x855f);
        EXPECT(gbc.pc(), 0x8baa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ba9), 0xb9);
        // B9 032F
        gbc.setState(0x5a51, 0xc71e, 0x5460, 0x9b04, 0xc8f9, 0x4ec5, 0x1, 0x1);
        gbc.writeMem(0x5a51, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc71e);
        EXPECT(gbc.pc(), 0x5a52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0330
        gbc.setState(0x84ed, 0x2397, 0x4ff0, 0x9f15, 0xeb58, 0x5b18, 0x1, 0x1);
        gbc.writeMem(0x84ed, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2397);
        EXPECT(gbc.pc(), 0x84ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84ed), 0xb9);
        // B9 0331
        gbc.setState(0x4b0, 0xfe56, 0x6dc0, 0xe6bd, 0x89aa, 0x3aba, 0x0, 0x0);
        gbc.writeMem(0x4b0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xfe56);
        EXPECT(gbc.pc(), 0x4b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0333
        gbc.setState(0x6f46, 0xbc4d, 0x55a0, 0xb2b, 0x14e5, 0x8f63, 0x1, 0x0);
        gbc.writeMem(0x6f46, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xbc4d);
        EXPECT(gbc.pc(), 0x6f47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0334
        gbc.setState(0x7bd1, 0x377e, 0xf480, 0x87a7, 0xb18b, 0x6e5e, 0x0, 0x1);
        gbc.writeMem(0x7bd1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x377e);
        EXPECT(gbc.pc(), 0x7bd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0336
        gbc.setState(0xb8ff, 0xa721, 0xe910, 0x2c8e, 0xebee, 0x47c7, 0x1, 0x1);
        gbc.writeMem(0xb8ff, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xa721);
        EXPECT(gbc.pc(), 0xb900);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8ff), 0xb9);
        // B9 0337
        gbc.setState(0x6b55, 0x96bf, 0xa040, 0xe6c2, 0x156d, 0x3d6e, 0x1, 0x0);
        gbc.writeMem(0x6b55, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x96bf);
        EXPECT(gbc.pc(), 0x6b56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0338
        gbc.setState(0xab8e, 0xbe8c, 0xc0d0, 0x722d, 0xfffe, 0x6fee, 0x1, 0x1);
        gbc.writeMem(0xab8e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xbe8c);
        EXPECT(gbc.pc(), 0xab8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab8e), 0xb9);
        // B9 0339
        gbc.setState(0x4b39, 0x63de, 0xf70, 0xeaca, 0xf2b8, 0x53ed, 0x0, 0x1);
        gbc.writeMem(0x4b39, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x63de);
        EXPECT(gbc.pc(), 0x4b3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 033A
        gbc.setState(0xe3ac, 0xaa7, 0x7d60, 0xca3e, 0x72e3, 0x352d, 0x0, 0x1);
        gbc.writeMem(0xe3ac, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xaa7);
        EXPECT(gbc.pc(), 0xe3ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3ac), 0xb9);
        // B9 033B
        gbc.setState(0x12da, 0xda4d, 0xa8a0, 0x9a02, 0xa9f8, 0x79bb, 0x0, 0x1);
        gbc.writeMem(0x12da, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xda4d);
        EXPECT(gbc.pc(), 0x12db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 033C
        gbc.setState(0x44d, 0x287b, 0x6ca0, 0xb3a8, 0x5caa, 0x62dc, 0x0, 0x1);
        gbc.writeMem(0x44d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x287b);
        EXPECT(gbc.pc(), 0x44e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 033D
        gbc.setState(0xa54d, 0x8e, 0xf7c0, 0x6369, 0xf385, 0x18b0, 0x1, 0x1);
        gbc.writeMem(0xa54d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x8e);
        EXPECT(gbc.pc(), 0xa54e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa54d), 0xb9);
        // B9 033E
        gbc.setState(0x3ecd, 0x466d, 0xd7a0, 0x3a2f, 0x3c84, 0xedf, 0x1, 0x1);
        gbc.writeMem(0x3ecd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x466d);
        EXPECT(gbc.pc(), 0x3ece);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 033F
        gbc.setState(0x79d, 0x677a, 0xa20, 0x2771, 0xaaaf, 0x83ce, 0x1, 0x1);
        gbc.writeMem(0x79d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x677a);
        EXPECT(gbc.pc(), 0x79e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0340
        gbc.setState(0x26a, 0x37c1, 0xc810, 0x6321, 0xcd87, 0xd7c0, 0x0, 0x0);
        gbc.writeMem(0x26a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x37c1);
        EXPECT(gbc.pc(), 0x26b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0341
        gbc.setState(0xa540, 0x11ae, 0x3b00, 0xee4, 0xaa06, 0x9a5, 0x1, 0x1);
        gbc.writeMem(0xa540, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x11ae);
        EXPECT(gbc.pc(), 0xa541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa540), 0xb9);
        // B9 0342
        gbc.setState(0x9050, 0x94aa, 0xede0, 0x74db, 0x7e5d, 0x638c, 0x1, 0x0);
        gbc.writeMem(0x9050, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x94aa);
        EXPECT(gbc.pc(), 0x9051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9050), 0xb9);
        // B9 0343
        gbc.setState(0xcbc5, 0xd390, 0x9a80, 0xae3a, 0x53ae, 0x9193, 0x1, 0x0);
        gbc.writeMem(0xcbc5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xd390);
        EXPECT(gbc.pc(), 0xcbc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbc5), 0xb9);
        // B9 0344
        gbc.setState(0xee62, 0x4088, 0xb510, 0xfd2c, 0x40d4, 0x410e, 0x0, 0x1);
        gbc.writeMem(0xee62, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x4088);
        EXPECT(gbc.pc(), 0xee63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee62), 0xb9);
        // B9 0345
        gbc.setState(0xbcd0, 0x5596, 0x7f10, 0xc6b1, 0x61d1, 0x2068, 0x1, 0x1);
        gbc.writeMem(0xbcd0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5596);
        EXPECT(gbc.pc(), 0xbcd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcd0), 0xb9);
        // B9 0346
        gbc.setState(0x8e5f, 0xca14, 0x6d70, 0x28d0, 0x4b87, 0xd91b, 0x0, 0x0);
        gbc.writeMem(0x8e5f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xca14);
        EXPECT(gbc.pc(), 0x8e60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e5f), 0xb9);
        // B9 0347
        gbc.setState(0x9e63, 0xa94f, 0xebf0, 0xbca4, 0x5585, 0xc5a5, 0x1, 0x1);
        gbc.writeMem(0x9e63, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xa94f);
        EXPECT(gbc.pc(), 0x9e64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e63), 0xb9);
        // B9 0348
        gbc.setState(0x2090, 0x976e, 0x5830, 0xaf41, 0xa1ab, 0x82fc, 0x1, 0x0);
        gbc.writeMem(0x2090, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x976e);
        EXPECT(gbc.pc(), 0x2091);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0349
        gbc.setState(0x36b4, 0x76ba, 0xf9c0, 0x6e0e, 0x4de6, 0xa8d2, 0x1, 0x1);
        gbc.writeMem(0x36b4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x76ba);
        EXPECT(gbc.pc(), 0x36b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 034A
        gbc.setState(0x81b7, 0x3e73, 0xca30, 0xd63c, 0xc437, 0x7e4f, 0x1, 0x0);
        gbc.writeMem(0x81b7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x3e73);
        EXPECT(gbc.pc(), 0x81b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b7), 0xb9);
        // B9 034B
        gbc.setState(0x775e, 0x8464, 0xeea0, 0x9af9, 0x1dc1, 0xdbd8, 0x1, 0x1);
        gbc.writeMem(0x775e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8464);
        EXPECT(gbc.pc(), 0x775f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 034C
        gbc.setState(0xd37a, 0xa44b, 0x26e0, 0x24f7, 0xb5fd, 0xdb7b, 0x0, 0x1);
        gbc.writeMem(0xd37a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xa44b);
        EXPECT(gbc.pc(), 0xd37b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd37a), 0xb9);
        // B9 034D
        gbc.setState(0x63dc, 0xf2df, 0xf120, 0x3180, 0x2d44, 0x82eb, 0x0, 0x0);
        gbc.writeMem(0x63dc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf2df);
        EXPECT(gbc.pc(), 0x63dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 034E
        gbc.setState(0xb9cf, 0x52ed, 0x2ae0, 0x4a6, 0xb7fc, 0xcf64, 0x1, 0x1);
        gbc.writeMem(0xb9cf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x52ed);
        EXPECT(gbc.pc(), 0xb9d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9cf), 0xb9);
        // B9 034F
        gbc.setState(0xc186, 0xdd65, 0x2550, 0x9e44, 0xcfbf, 0x70c3, 0x1, 0x1);
        gbc.writeMem(0xc186, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xdd65);
        EXPECT(gbc.pc(), 0xc187);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc186), 0xb9);
        // B9 0350
        gbc.setState(0xb1ec, 0xa8e1, 0x89f0, 0x7d6, 0xa000, 0x9aa, 0x0, 0x1);
        gbc.writeMem(0xb1ec, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa8e1);
        EXPECT(gbc.pc(), 0xb1ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1ec), 0xb9);
        // B9 0351
        gbc.setState(0x7b2, 0xf3f1, 0x1d00, 0x6373, 0x6c2c, 0x3b33, 0x0, 0x1);
        gbc.writeMem(0x7b2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xf3f1);
        EXPECT(gbc.pc(), 0x7b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0352
        gbc.setState(0x2da1, 0x730b, 0x1920, 0x2738, 0xa868, 0xde9e, 0x0, 0x1);
        gbc.writeMem(0x2da1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x730b);
        EXPECT(gbc.pc(), 0x2da2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0353
        gbc.setState(0x9a8d, 0xc8dd, 0x3f00, 0xd91c, 0x4b14, 0xef3e, 0x0, 0x0);
        gbc.writeMem(0x9a8d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xc8dd);
        EXPECT(gbc.pc(), 0x9a8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a8d), 0xb9);
        // B9 0354
        gbc.setState(0xc289, 0x9bef, 0x5fe0, 0xf8ca, 0x9634, 0x9298, 0x0, 0x0);
        gbc.writeMem(0xc289, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9bef);
        EXPECT(gbc.pc(), 0xc28a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc289), 0xb9);
        // B9 0355
        gbc.setState(0xa667, 0x397a, 0x93a0, 0x86c, 0x5a2f, 0xf2d7, 0x0, 0x1);
        gbc.writeMem(0xa667, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x397a);
        EXPECT(gbc.pc(), 0xa668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa667), 0xb9);
        // B9 0356
        gbc.setState(0xdd5a, 0xd15, 0xf090, 0x4082, 0x9b4f, 0x1038, 0x1, 0x1);
        gbc.writeMem(0xdd5a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xd15);
        EXPECT(gbc.pc(), 0xdd5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd5a), 0xb9);
        // B9 0357
        gbc.setState(0x45d0, 0xaec7, 0xca70, 0xc97c, 0xe63f, 0xc5, 0x0, 0x1);
        gbc.writeMem(0x45d0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xaec7);
        EXPECT(gbc.pc(), 0x45d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0358
        gbc.setState(0x46bd, 0x4da7, 0xecc0, 0x698, 0x5543, 0x6c6c, 0x1, 0x0);
        gbc.writeMem(0x46bd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4da7);
        EXPECT(gbc.pc(), 0x46be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0359
        gbc.setState(0x6b9f, 0xe7ab, 0x78f0, 0xf5a8, 0x2767, 0xace6, 0x1, 0x0);
        gbc.writeMem(0x6b9f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xe7ab);
        EXPECT(gbc.pc(), 0x6ba0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 035A
        gbc.setState(0xbb98, 0x3622, 0xca40, 0xc403, 0xc914, 0xaa55, 0x1, 0x1);
        gbc.writeMem(0xbb98, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3622);
        EXPECT(gbc.pc(), 0xbb99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb98), 0xb9);
        // B9 035B
        gbc.setState(0x18cd, 0xea72, 0xb10, 0x91, 0x9896, 0x80f9, 0x0, 0x0);
        gbc.writeMem(0x18cd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xea72);
        EXPECT(gbc.pc(), 0x18ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 035C
        gbc.setState(0x3c19, 0x3b49, 0x22c0, 0x8c84, 0xabdc, 0xde9c, 0x1, 0x0);
        gbc.writeMem(0x3c19, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3b49);
        EXPECT(gbc.pc(), 0x3c1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 035D
        gbc.setState(0xe20e, 0x7024, 0x4b20, 0x937f, 0x2a2b, 0xdcbd, 0x1, 0x0);
        gbc.writeMem(0xe20e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x7024);
        EXPECT(gbc.pc(), 0xe20f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe20e), 0xb9);
        // B9 035E
        gbc.setState(0x1adb, 0xa219, 0xb790, 0x8aba, 0x38cd, 0x6798, 0x1, 0x0);
        gbc.writeMem(0x1adb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xa219);
        EXPECT(gbc.pc(), 0x1adc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 035F
        gbc.setState(0x8413, 0x7bed, 0xfd20, 0x5995, 0x81e1, 0xaedf, 0x0, 0x1);
        gbc.writeMem(0x8413, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7bed);
        EXPECT(gbc.pc(), 0x8414);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8413), 0xb9);
        // B9 0360
        gbc.setState(0xbd25, 0x1e7, 0x7b60, 0x4777, 0x4405, 0x1f8c, 0x0, 0x0);
        gbc.writeMem(0xbd25, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1e7);
        EXPECT(gbc.pc(), 0xbd26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd25), 0xb9);
        // B9 0361
        gbc.setState(0xcc6e, 0x9d57, 0x1240, 0x7b3d, 0x2dff, 0x6b06, 0x1, 0x0);
        gbc.writeMem(0xcc6e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x9d57);
        EXPECT(gbc.pc(), 0xcc6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc6e), 0xb9);
        // B9 0362
        gbc.setState(0x9345, 0x497e, 0x7410, 0xd11a, 0xabf4, 0x38e3, 0x1, 0x0);
        gbc.writeMem(0x9345, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x497e);
        EXPECT(gbc.pc(), 0x9346);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9345), 0xb9);
        // B9 0363
        gbc.setState(0x2774, 0x7ad4, 0x71e0, 0x7fd4, 0x6af3, 0x8c05, 0x1, 0x1);
        gbc.writeMem(0x2774, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x7ad4);
        EXPECT(gbc.pc(), 0x2775);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0364
        gbc.setState(0x5eb1, 0x9eed, 0xea40, 0xa330, 0x6b63, 0xdf63, 0x1, 0x1);
        gbc.writeMem(0x5eb1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9eed);
        EXPECT(gbc.pc(), 0x5eb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0365
        gbc.setState(0x9a89, 0xf19f, 0x3a90, 0xbb09, 0x457b, 0xa30, 0x0, 0x0);
        gbc.writeMem(0x9a89, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf19f);
        EXPECT(gbc.pc(), 0x9a8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a89), 0xb9);
        // B9 0366
        gbc.setState(0x9ed7, 0x8f97, 0x2b70, 0xd3fd, 0x585c, 0xca5, 0x1, 0x0);
        gbc.writeMem(0x9ed7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x8f97);
        EXPECT(gbc.pc(), 0x9ed8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ed7), 0xb9);
        // B9 0367
        gbc.setState(0x1ee, 0x91d2, 0xa400, 0x7298, 0xa722, 0x4596, 0x1, 0x1);
        gbc.writeMem(0x1ee, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x91d2);
        EXPECT(gbc.pc(), 0x1ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0368
        gbc.setState(0x7125, 0xd887, 0x3420, 0xa103, 0xfb34, 0x3af, 0x0, 0x0);
        gbc.writeMem(0x7125, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xd887);
        EXPECT(gbc.pc(), 0x7126);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 036A
        gbc.setState(0x9a66, 0xb6e, 0xf4c0, 0x5966, 0x2c25, 0x5c2f, 0x0, 0x1);
        gbc.writeMem(0x9a66, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb6e);
        EXPECT(gbc.pc(), 0x9a67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a66), 0xb9);
        // B9 036B
        gbc.setState(0x23d8, 0x91f3, 0x8d80, 0xe03b, 0xd22c, 0x88f8, 0x1, 0x1);
        gbc.writeMem(0x23d8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x91f3);
        EXPECT(gbc.pc(), 0x23d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 036C
        gbc.setState(0x1f16, 0xb2c0, 0x4300, 0xf452, 0x9fbe, 0x97f0, 0x0, 0x0);
        gbc.writeMem(0x1f16, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb2c0);
        EXPECT(gbc.pc(), 0x1f17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 036D
        gbc.setState(0x7fb5, 0x6e1b, 0x44a0, 0x696b, 0x97b9, 0x23be, 0x1, 0x0);
        gbc.writeMem(0x7fb5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x6e1b);
        EXPECT(gbc.pc(), 0x7fb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 036E
        gbc.setState(0x725d, 0xe2cb, 0x1d30, 0x5e30, 0xb1ad, 0xdd12, 0x1, 0x1);
        gbc.writeMem(0x725d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe2cb);
        EXPECT(gbc.pc(), 0x725e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 036F
        gbc.setState(0x1c2b, 0xfcfa, 0x1180, 0x83eb, 0x69f3, 0x505, 0x0, 0x0);
        gbc.writeMem(0x1c2b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xfcfa);
        EXPECT(gbc.pc(), 0x1c2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0370
        gbc.setState(0xf3b, 0x1b37, 0xcd80, 0xe547, 0xe70b, 0x53df, 0x1, 0x0);
        gbc.writeMem(0xf3b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x1b37);
        EXPECT(gbc.pc(), 0xf3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0371
        gbc.setState(0x8094, 0xc607, 0xff90, 0xed8d, 0xa817, 0x55bc, 0x0, 0x0);
        gbc.writeMem(0x8094, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xc607);
        EXPECT(gbc.pc(), 0x8095);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8094), 0xb9);
        // B9 0372
        gbc.setState(0xb255, 0x8b72, 0xc9b0, 0x12a0, 0xb5d4, 0xf87d, 0x0, 0x1);
        gbc.writeMem(0xb255, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x8b72);
        EXPECT(gbc.pc(), 0xb256);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb255), 0xb9);
        // B9 0373
        gbc.setState(0xbdf4, 0xcabd, 0xed20, 0x8151, 0xa66c, 0x67d1, 0x1, 0x0);
        gbc.writeMem(0xbdf4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xcabd);
        EXPECT(gbc.pc(), 0xbdf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdf4), 0xb9);
        // B9 0374
        gbc.setState(0xd303, 0xa5f4, 0xd270, 0x9ef6, 0x95, 0x5df0, 0x0, 0x0);
        gbc.writeMem(0xd303, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa5f4);
        EXPECT(gbc.pc(), 0xd304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd303), 0xb9);
        // B9 0375
        gbc.setState(0xa9ed, 0x785f, 0x160, 0x3e8e, 0x8eaf, 0x2eab, 0x1, 0x0);
        gbc.writeMem(0xa9ed, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x785f);
        EXPECT(gbc.pc(), 0xa9ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9ed), 0xb9);
        // B9 0376
        gbc.setState(0xdf0f, 0xa807, 0x80b0, 0xd410, 0x62ba, 0x3b1d, 0x1, 0x0);
        gbc.writeMem(0xdf0f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa807);
        EXPECT(gbc.pc(), 0xdf10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf0f), 0xb9);
        // B9 0377
        gbc.setState(0xeba7, 0x96e0, 0x7930, 0xd468, 0xea54, 0x8e76, 0x0, 0x1);
        gbc.writeMem(0xeba7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x96e0);
        EXPECT(gbc.pc(), 0xeba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeba7), 0xb9);
        // B9 0378
        gbc.setState(0xed2d, 0x6afc, 0x6010, 0x8e0a, 0xb994, 0x2496, 0x1, 0x1);
        gbc.writeMem(0xed2d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6afc);
        EXPECT(gbc.pc(), 0xed2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed2d), 0xb9);
        // B9 0379
        gbc.setState(0x1f5e, 0x8a0d, 0x7890, 0x7b5b, 0x5c2b, 0x9977, 0x0, 0x1);
        gbc.writeMem(0x1f5e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x8a0d);
        EXPECT(gbc.pc(), 0x1f5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 037A
        gbc.setState(0x877a, 0x5c92, 0xbbf0, 0x866d, 0x3b60, 0x9520, 0x1, 0x0);
        gbc.writeMem(0x877a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x5c92);
        EXPECT(gbc.pc(), 0x877b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x877a), 0xb9);
        // B9 037B
        gbc.setState(0x6372, 0x169e, 0x51b0, 0xff5c, 0x17e, 0xaeec, 0x0, 0x1);
        gbc.writeMem(0x6372, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x169e);
        EXPECT(gbc.pc(), 0x6373);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 037C
        gbc.setState(0x9222, 0x14d9, 0x35b0, 0x4d83, 0x3fdf, 0x6617, 0x1, 0x0);
        gbc.writeMem(0x9222, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x14d9);
        EXPECT(gbc.pc(), 0x9223);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9222), 0xb9);
        // B9 037D
        gbc.setState(0x60a8, 0x8ad7, 0xd070, 0xe201, 0x7fea, 0x3e12, 0x0, 0x0);
        gbc.writeMem(0x60a8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x8ad7);
        EXPECT(gbc.pc(), 0x60a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 037E
        gbc.setState(0x8a34, 0x959, 0xd5e0, 0x9ca6, 0xdd4, 0xb178, 0x0, 0x1);
        gbc.writeMem(0x8a34, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x959);
        EXPECT(gbc.pc(), 0x8a35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a34), 0xb9);
        // B9 037F
        gbc.setState(0xd7ec, 0xa4ae, 0xcc20, 0xa756, 0x6d05, 0xa27a, 0x0, 0x0);
        gbc.writeMem(0xd7ec, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa4ae);
        EXPECT(gbc.pc(), 0xd7ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7ec), 0xb9);
        // B9 0380
        gbc.setState(0xbad9, 0xf45a, 0xc160, 0xcc80, 0x6573, 0x1df0, 0x0, 0x1);
        gbc.writeMem(0xbad9, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xf45a);
        EXPECT(gbc.pc(), 0xbada);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbad9), 0xb9);
        // B9 0381
        gbc.setState(0x3ea8, 0x7453, 0xb5a0, 0x7509, 0xd155, 0x8bc7, 0x1, 0x1);
        gbc.writeMem(0x3ea8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x7453);
        EXPECT(gbc.pc(), 0x3ea9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 0382
        gbc.setState(0xbbe8, 0x39be, 0x1040, 0x4473, 0xa3bf, 0xfcfb, 0x0, 0x1);
        gbc.writeMem(0xbbe8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x39be);
        EXPECT(gbc.pc(), 0xbbe9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbe8), 0xb9);
        // B9 0383
        gbc.setState(0x5429, 0xb8e2, 0x9290, 0xece4, 0x5329, 0x17b5, 0x0, 0x1);
        gbc.writeMem(0x5429, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb8e2);
        EXPECT(gbc.pc(), 0x542a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0384
        gbc.setState(0xcef4, 0x9956, 0xfa80, 0x6ba9, 0x4374, 0x83e6, 0x0, 0x1);
        gbc.writeMem(0xcef4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x9956);
        EXPECT(gbc.pc(), 0xcef5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcef4), 0xb9);
        // B9 0385
        gbc.setState(0x945b, 0xad1b, 0x1150, 0xb69, 0x14d8, 0x105b, 0x1, 0x0);
        gbc.writeMem(0x945b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xad1b);
        EXPECT(gbc.pc(), 0x945c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x945b), 0xb9);
        // B9 0386
        gbc.setState(0x1974, 0x845f, 0xee0, 0xd3c, 0x950e, 0xb3f8, 0x1, 0x1);
        gbc.writeMem(0x1974, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x845f);
        EXPECT(gbc.pc(), 0x1975);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0387
        gbc.setState(0x31e1, 0x44b2, 0x37d0, 0xdd5d, 0xc394, 0x9ee3, 0x1, 0x1);
        gbc.writeMem(0x31e1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x44b2);
        EXPECT(gbc.pc(), 0x31e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0388
        gbc.setState(0xa7e5, 0x9f90, 0xc130, 0x5763, 0x80e4, 0xf6c8, 0x1, 0x0);
        gbc.writeMem(0xa7e5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9f90);
        EXPECT(gbc.pc(), 0xa7e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7e5), 0xb9);
        // B9 0389
        gbc.setState(0x19d, 0x9bde, 0x76c0, 0x7bae, 0x7a2f, 0x89a4, 0x1, 0x1);
        gbc.writeMem(0x19d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x9bde);
        EXPECT(gbc.pc(), 0x19e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 038A
        gbc.setState(0xfe, 0x7ad0, 0x2aa0, 0x2e45, 0x5784, 0xe311, 0x0, 0x0);
        gbc.writeMem(0xfe, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7ad0);
        EXPECT(gbc.pc(), 0xff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 038B
        gbc.setState(0xbcad, 0xced0, 0x55a0, 0x23b5, 0xb85e, 0x4aa8, 0x1, 0x0);
        gbc.writeMem(0xbcad, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xced0);
        EXPECT(gbc.pc(), 0xbcae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcad), 0xb9);
        // B9 038C
        gbc.setState(0x1b0d, 0xd911, 0x5dc0, 0xc69b, 0x32ef, 0xbd30, 0x0, 0x0);
        gbc.writeMem(0x1b0d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd911);
        EXPECT(gbc.pc(), 0x1b0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 038D
        gbc.setState(0x7364, 0x545a, 0x390, 0x9a8a, 0x1989, 0x21e0, 0x0, 0x0);
        gbc.writeMem(0x7364, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x545a);
        EXPECT(gbc.pc(), 0x7365);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 038E
        gbc.setState(0x504, 0x4ae4, 0x3310, 0xbca2, 0xcd9a, 0xdbf6, 0x0, 0x0);
        gbc.writeMem(0x504, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4ae4);
        EXPECT(gbc.pc(), 0x505);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 038F
        gbc.setState(0x514d, 0x4d12, 0x97a0, 0x3444, 0x5877, 0x2498, 0x0, 0x0);
        gbc.writeMem(0x514d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4d12);
        EXPECT(gbc.pc(), 0x514e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0390
        gbc.setState(0x39ea, 0x2b9a, 0x3fc0, 0x1c52, 0xfb9a, 0x64ed, 0x0, 0x1);
        gbc.writeMem(0x39ea, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x2b9a);
        EXPECT(gbc.pc(), 0x39eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0391
        gbc.setState(0x5743, 0xa96e, 0xf410, 0x6150, 0x2967, 0x28de, 0x0, 0x1);
        gbc.writeMem(0x5743, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa96e);
        EXPECT(gbc.pc(), 0x5744);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 0392
        gbc.setState(0x381e, 0xa3f5, 0x7a30, 0x9a5, 0x5f45, 0xc384, 0x0, 0x0);
        gbc.writeMem(0x381e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xa3f5);
        EXPECT(gbc.pc(), 0x381f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 0393
        gbc.setState(0xb426, 0x38a0, 0x48a0, 0x520c, 0xf04e, 0x4e86, 0x0, 0x0);
        gbc.writeMem(0xb426, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x38a0);
        EXPECT(gbc.pc(), 0xb427);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb426), 0xb9);
        // B9 0395
        gbc.setState(0xb68c, 0x6173, 0x7c50, 0x6936, 0x5d1c, 0x14cb, 0x1, 0x0);
        gbc.writeMem(0xb68c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6173);
        EXPECT(gbc.pc(), 0xb68d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb68c), 0xb9);
        // B9 0396
        gbc.setState(0x9a3d, 0xdc4e, 0xfe50, 0xb6b4, 0x78ed, 0xf4fa, 0x1, 0x1);
        gbc.writeMem(0x9a3d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xdc4e);
        EXPECT(gbc.pc(), 0x9a3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a3d), 0xb9);
        // B9 0397
        gbc.setState(0x43a2, 0xff62, 0x8840, 0x968f, 0x692e, 0x2ebd, 0x1, 0x0);
        gbc.writeMem(0x43a2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xff62);
        EXPECT(gbc.pc(), 0x43a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 0398
        gbc.setState(0x8fd0, 0xae63, 0x1240, 0x75da, 0x148f, 0x28bc, 0x0, 0x0);
        gbc.writeMem(0x8fd0, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xae63);
        EXPECT(gbc.pc(), 0x8fd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fd0), 0xb9);
        // B9 0399
        gbc.setState(0x5caa, 0xa79f, 0xad40, 0x1737, 0x158, 0xfdc4, 0x1, 0x1);
        gbc.writeMem(0x5caa, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa79f);
        EXPECT(gbc.pc(), 0x5cab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 039A
        gbc.setState(0x6f7c, 0x3d74, 0x80f0, 0xd708, 0xc670, 0x6d82, 0x0, 0x1);
        gbc.writeMem(0x6f7c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3d74);
        EXPECT(gbc.pc(), 0x6f7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 039B
        gbc.setState(0xde1, 0x4f5a, 0x9930, 0xd1b9, 0x7b97, 0x2a92, 0x0, 0x0);
        gbc.writeMem(0xde1, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4f5a);
        EXPECT(gbc.pc(), 0xde2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 039C
        gbc.setState(0x37cd, 0x1d4d, 0xaf30, 0xe17a, 0x5cfd, 0x24af, 0x0, 0x1);
        gbc.writeMem(0x37cd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x1d4d);
        EXPECT(gbc.pc(), 0x37ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 039D
        gbc.setState(0x8dc5, 0x891a, 0xf10, 0xfa84, 0x6f8b, 0xb80, 0x0, 0x0);
        gbc.writeMem(0x8dc5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x891a);
        EXPECT(gbc.pc(), 0x8dc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dc5), 0xb9);
        // B9 039E
        gbc.setState(0x2e0d, 0xb1bb, 0x2a70, 0x9d46, 0x6509, 0xeee4, 0x1, 0x0);
        gbc.writeMem(0x2e0d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xb1bb);
        EXPECT(gbc.pc(), 0x2e0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 039F
        gbc.setState(0xa23c, 0xd849, 0x2f60, 0x1e19, 0x9841, 0x314c, 0x1, 0x0);
        gbc.writeMem(0xa23c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xd849);
        EXPECT(gbc.pc(), 0xa23d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa23c), 0xb9);
        // B9 03A0
        gbc.setState(0x7447, 0xdeb9, 0xb3c0, 0xb79c, 0x2ab2, 0x7d02, 0x0, 0x1);
        gbc.writeMem(0x7447, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xdeb9);
        EXPECT(gbc.pc(), 0x7448);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03A1
        gbc.setState(0xcf36, 0x9fab, 0xc3d0, 0x6a15, 0x78fe, 0x1cc4, 0x1, 0x0);
        gbc.writeMem(0xcf36, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x9fab);
        EXPECT(gbc.pc(), 0xcf37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf36), 0xb9);
        // B9 03A2
        gbc.setState(0x4d28, 0x66ba, 0x9760, 0x5196, 0xcb80, 0xac2a, 0x1, 0x0);
        gbc.writeMem(0x4d28, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x66ba);
        EXPECT(gbc.pc(), 0x4d29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03A3
        gbc.setState(0x49a6, 0xec39, 0x7260, 0x9c6d, 0xf605, 0x4b3e, 0x1, 0x0);
        gbc.writeMem(0x49a6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xec39);
        EXPECT(gbc.pc(), 0x49a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03A4
        gbc.setState(0xb5c7, 0x5c73, 0xdab0, 0x43, 0xae95, 0x81df, 0x1, 0x0);
        gbc.writeMem(0xb5c7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5c73);
        EXPECT(gbc.pc(), 0xb5c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5c7), 0xb9);
        // B9 03A5
        gbc.setState(0x4c5b, 0x18f6, 0xad20, 0x2f33, 0xe191, 0x3fe2, 0x0, 0x0);
        gbc.writeMem(0x4c5b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x18f6);
        EXPECT(gbc.pc(), 0x4c5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03A6
        gbc.setState(0x7db, 0xc8cf, 0x5930, 0x7135, 0xf511, 0xc232, 0x0, 0x1);
        gbc.writeMem(0x7db, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc8cf);
        EXPECT(gbc.pc(), 0x7dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03A7
        gbc.setState(0xafb8, 0x1598, 0xd350, 0xbe98, 0x7b6d, 0x5d7a, 0x1, 0x1);
        gbc.writeMem(0xafb8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x1598);
        EXPECT(gbc.pc(), 0xafb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafb8), 0xb9);
        // B9 03A8
        gbc.setState(0x2d1a, 0x801, 0xd6f0, 0x6e90, 0xaf2e, 0x6653, 0x1, 0x1);
        gbc.writeMem(0x2d1a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x801);
        EXPECT(gbc.pc(), 0x2d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03A9
        gbc.setState(0x3af5, 0xdfcf, 0x6520, 0x32fc, 0xdf8c, 0xc4e2, 0x1, 0x1);
        gbc.writeMem(0x3af5, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xdfcf);
        EXPECT(gbc.pc(), 0x3af6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03AA
        gbc.setState(0x2f48, 0x5c6, 0x8180, 0x373d, 0xb968, 0x943d, 0x1, 0x1);
        gbc.writeMem(0x2f48, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x5c6);
        EXPECT(gbc.pc(), 0x2f49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03AB
        gbc.setState(0xb15, 0x853, 0x9440, 0x66c4, 0xd5e2, 0x39bb, 0x0, 0x0);
        gbc.writeMem(0xb15, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x853);
        EXPECT(gbc.pc(), 0xb16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 03AC
        gbc.setState(0x3fbd, 0xb6f4, 0xcad0, 0x36db, 0xf244, 0x8891, 0x0, 0x1);
        gbc.writeMem(0x3fbd, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xb6f4);
        EXPECT(gbc.pc(), 0x3fbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03AD
        gbc.setState(0x7a70, 0xb2e0, 0x5e90, 0x3b93, 0x52a3, 0xc3fe, 0x1, 0x1);
        gbc.writeMem(0x7a70, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb2e0);
        EXPECT(gbc.pc(), 0x7a71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 03AE
        gbc.setState(0x7bd4, 0x7968, 0x910, 0xe456, 0x3019, 0xc316, 0x1, 0x0);
        gbc.writeMem(0x7bd4, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x7968);
        EXPECT(gbc.pc(), 0x7bd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 03AF
        gbc.setState(0x46eb, 0x14dd, 0x7cc0, 0xef54, 0xa036, 0xf437, 0x1, 0x0);
        gbc.writeMem(0x46eb, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x14dd);
        EXPECT(gbc.pc(), 0x46ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03B0
        gbc.setState(0xc58e, 0xe470, 0xaf00, 0x169b, 0xe364, 0xecc1, 0x0, 0x1);
        gbc.writeMem(0xc58e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe470);
        EXPECT(gbc.pc(), 0xc58f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc58e), 0xb9);
        // B9 03B1
        gbc.setState(0x14a6, 0x5f6d, 0xd3f0, 0x934, 0x9897, 0x5789, 0x0, 0x0);
        gbc.writeMem(0x14a6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x5f6d);
        EXPECT(gbc.pc(), 0x14a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03B2
        gbc.setState(0x79d8, 0x81f8, 0x1e30, 0x1310, 0xeb60, 0x320d, 0x1, 0x1);
        gbc.writeMem(0x79d8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x81f8);
        EXPECT(gbc.pc(), 0x79d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03B3
        gbc.setState(0x1f72, 0xde1d, 0x3020, 0x5b49, 0x201, 0x72b5, 0x1, 0x0);
        gbc.writeMem(0x1f72, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xde1d);
        EXPECT(gbc.pc(), 0x1f73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03B4
        gbc.setState(0xbc50, 0xa30d, 0x1c10, 0x9bcd, 0x1b7c, 0xcca0, 0x1, 0x0);
        gbc.writeMem(0xbc50, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xa30d);
        EXPECT(gbc.pc(), 0xbc51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc50), 0xb9);
        // B9 03B5
        gbc.setState(0x6933, 0xc7eb, 0x5990, 0x3f42, 0xe3e8, 0x944b, 0x0, 0x1);
        gbc.writeMem(0x6933, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc7eb);
        EXPECT(gbc.pc(), 0x6934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03B6
        gbc.setState(0x9b3f, 0xbf1b, 0xb80, 0x1708, 0xa7c6, 0x3731, 0x0, 0x1);
        gbc.writeMem(0x9b3f, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xbf1b);
        EXPECT(gbc.pc(), 0x9b40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b3f), 0xb9);
        // B9 03B7
        gbc.setState(0xcef2, 0x43a0, 0xfbc0, 0xc4dd, 0x7b6, 0x6b81, 0x1, 0x0);
        gbc.writeMem(0xcef2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x43a0);
        EXPECT(gbc.pc(), 0xcef3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcef2), 0xb9);
        // B9 03B9
        gbc.setState(0x4304, 0xa6d3, 0xe640, 0x6428, 0xec0e, 0x8697, 0x1, 0x1);
        gbc.writeMem(0x4304, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa6d3);
        EXPECT(gbc.pc(), 0x4305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03BA
        gbc.setState(0xbfcc, 0x88d2, 0xb640, 0x9e5, 0xcde3, 0x5f75, 0x0, 0x1);
        gbc.writeMem(0xbfcc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x88d2);
        EXPECT(gbc.pc(), 0xbfcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfcc), 0xb9);
        // B9 03BB
        gbc.setState(0xcb27, 0x5f58, 0x7e80, 0x1a5e, 0xc6e3, 0xcd6c, 0x1, 0x0);
        gbc.writeMem(0xcb27, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5f58);
        EXPECT(gbc.pc(), 0xcb28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb27), 0xb9);
        // B9 03BD
        gbc.setState(0x3ef8, 0x87b, 0x2b20, 0xefd, 0xdba3, 0x8207, 0x0, 0x1);
        gbc.writeMem(0x3ef8, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x87b);
        EXPECT(gbc.pc(), 0x3ef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03BE
        gbc.setState(0x2368, 0xd48c, 0xb6e0, 0xcc4d, 0x8559, 0x3c6f, 0x1, 0x1);
        gbc.writeMem(0x2368, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xd48c);
        EXPECT(gbc.pc(), 0x2369);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03BF
        gbc.setState(0xd8f6, 0xe4ca, 0xae50, 0x8d53, 0x7d94, 0xa64c, 0x1, 0x0);
        gbc.writeMem(0xd8f6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe4ca);
        EXPECT(gbc.pc(), 0xd8f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8f6), 0xb9);
        // B9 03C0
        gbc.setState(0xab6c, 0x1cb1, 0x6da0, 0xfed4, 0xf72d, 0x46ad, 0x0, 0x0);
        gbc.writeMem(0xab6c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1cb1);
        EXPECT(gbc.pc(), 0xab6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab6c), 0xb9);
        // B9 03C2
        gbc.setState(0x30ff, 0x567, 0xf390, 0x72b2, 0x17f7, 0x3653, 0x0, 0x1);
        gbc.writeMem(0x30ff, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x567);
        EXPECT(gbc.pc(), 0x3100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03C3
        gbc.setState(0x5f8a, 0x5211, 0x9d90, 0x5bfe, 0x9806, 0x4ef5, 0x0, 0x0);
        gbc.writeMem(0x5f8a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x5211);
        EXPECT(gbc.pc(), 0x5f8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03C4
        gbc.setState(0x31fc, 0xe942, 0x84c0, 0x80c4, 0xe2a, 0xcb8, 0x0, 0x1);
        gbc.writeMem(0x31fc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe942);
        EXPECT(gbc.pc(), 0x31fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 03C5
        gbc.setState(0x699b, 0x7ee2, 0x9610, 0x400d, 0x2bcf, 0xda1a, 0x0, 0x0);
        gbc.writeMem(0x699b, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7ee2);
        EXPECT(gbc.pc(), 0x699c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03C6
        gbc.setState(0x7105, 0xb591, 0x47d0, 0xcbc2, 0x5d88, 0xf084, 0x0, 0x0);
        gbc.writeMem(0x7105, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb591);
        EXPECT(gbc.pc(), 0x7106);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 03C7
        gbc.setState(0xd2d7, 0xb2fb, 0xdf40, 0x78, 0x3eae, 0xae1a, 0x0, 0x0);
        gbc.writeMem(0xd2d7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xb2fb);
        EXPECT(gbc.pc(), 0xd2d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2d7), 0xb9);
        // B9 03C8
        gbc.setState(0x4b69, 0xd507, 0xd30, 0x35fb, 0x9bd9, 0xbf46, 0x1, 0x1);
        gbc.writeMem(0x4b69, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xd507);
        EXPECT(gbc.pc(), 0x4b6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 03C9
        gbc.setState(0x6b9d, 0x1cba, 0x87c0, 0x8509, 0xb527, 0x99da, 0x1, 0x1);
        gbc.writeMem(0x6b9d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1cba);
        EXPECT(gbc.pc(), 0x6b9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03CA
        gbc.setState(0xa475, 0xe64b, 0x8fe0, 0xf0c2, 0x30fe, 0x8cf5, 0x0, 0x0);
        gbc.writeMem(0xa475, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xe64b);
        EXPECT(gbc.pc(), 0xa476);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa475), 0xb9);
        // B9 03CB
        gbc.setState(0x4a18, 0x4f82, 0xd940, 0xe421, 0x17fd, 0xc368, 0x1, 0x0);
        gbc.writeMem(0x4a18, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x4f82);
        EXPECT(gbc.pc(), 0x4a19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03CC
        gbc.setState(0xaa2d, 0xe738, 0xfee0, 0xc195, 0xb216, 0xbdfe, 0x0, 0x0);
        gbc.writeMem(0xaa2d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe738);
        EXPECT(gbc.pc(), 0xaa2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa2d), 0xb9);
        // B9 03CD
        gbc.setState(0xa777, 0xad2c, 0x8240, 0xeb26, 0xef1d, 0xea4f, 0x1, 0x1);
        gbc.writeMem(0xa777, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xad2c);
        EXPECT(gbc.pc(), 0xa778);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa777), 0xb9);
        // B9 03CF
        gbc.setState(0x91e3, 0xfb1c, 0xb7e0, 0x1399, 0x3025, 0x2c21, 0x1, 0x1);
        gbc.writeMem(0x91e3, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xfb1c);
        EXPECT(gbc.pc(), 0x91e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e3), 0xb9);
        // B9 03D0
        gbc.setState(0xbf37, 0x8684, 0x79b0, 0x70ab, 0xb679, 0x49fc, 0x1, 0x0);
        gbc.writeMem(0xbf37, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8684);
        EXPECT(gbc.pc(), 0xbf38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf37), 0xb9);
        // B9 03D1
        gbc.setState(0x3038, 0xf5e8, 0xf160, 0xf3a4, 0xf2a5, 0x6cc, 0x0, 0x1);
        gbc.writeMem(0x3038, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf5e8);
        EXPECT(gbc.pc(), 0x3039);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03D2
        gbc.setState(0x2a2e, 0x53e2, 0xb630, 0x2abb, 0xeb9c, 0xdf66, 0x0, 0x0);
        gbc.writeMem(0x2a2e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x53e2);
        EXPECT(gbc.pc(), 0x2a2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03D4
        gbc.setState(0x546a, 0x6f2c, 0x97a0, 0x9488, 0x3a43, 0x2ba6, 0x0, 0x1);
        gbc.writeMem(0x546a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x6f2c);
        EXPECT(gbc.pc(), 0x546b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03D5
        gbc.setState(0x6de6, 0x4127, 0x510, 0x2a65, 0xdc42, 0x8317, 0x0, 0x1);
        gbc.writeMem(0x6de6, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4127);
        EXPECT(gbc.pc(), 0x6de7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 03D6
        gbc.setState(0x34c2, 0x5932, 0x6bf0, 0x7e9c, 0xb556, 0x114b, 0x0, 0x1);
        gbc.writeMem(0x34c2, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5932);
        EXPECT(gbc.pc(), 0x34c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03D7
        gbc.setState(0x435a, 0x86e5, 0x9310, 0x64ee, 0xeb32, 0x9339, 0x1, 0x1);
        gbc.writeMem(0x435a, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x86e5);
        EXPECT(gbc.pc(), 0x435b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03D8
        gbc.setState(0x6b0d, 0x818c, 0xc420, 0x30be, 0x1980, 0xbcc, 0x0, 0x0);
        gbc.writeMem(0x6b0d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x818c);
        EXPECT(gbc.pc(), 0x6b0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03D9
        gbc.setState(0x10d, 0x4fb0, 0xbb20, 0xc88, 0xe727, 0x1515, 0x1, 0x1);
        gbc.writeMem(0x10d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4fb0);
        EXPECT(gbc.pc(), 0x10e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03DA
        gbc.setState(0x1202, 0xd6d8, 0x2a30, 0xd315, 0x197c, 0xf992, 0x0, 0x1);
        gbc.writeMem(0x1202, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xd6d8);
        EXPECT(gbc.pc(), 0x1203);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03DC
        gbc.setState(0xaacc, 0x3cd4, 0xe620, 0xa59f, 0x7a63, 0x14f2, 0x0, 0x0);
        gbc.writeMem(0xaacc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3cd4);
        EXPECT(gbc.pc(), 0xaacd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaacc), 0xb9);
        // B9 03DD
        gbc.setState(0xde32, 0xdbad, 0x23b0, 0x24e5, 0xaed8, 0xc488, 0x1, 0x0);
        gbc.writeMem(0xde32, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xdbad);
        EXPECT(gbc.pc(), 0xde33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde32), 0xb9);
        // B9 03DE
        gbc.setState(0x9819, 0x10d2, 0xe5c0, 0xf5d3, 0xbd67, 0x16d4, 0x0, 0x1);
        gbc.writeMem(0x9819, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x10d2);
        EXPECT(gbc.pc(), 0x981a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9819), 0xb9);
        // B9 03DF
        gbc.setState(0x1748, 0x59eb, 0x260, 0xd7a6, 0x9f1a, 0x9bbd, 0x0, 0x1);
        gbc.writeMem(0x1748, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x59eb);
        EXPECT(gbc.pc(), 0x1749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // B9 03E0
        gbc.setState(0xcebf, 0xe86f, 0x4f40, 0xc82d, 0x453b, 0x2961, 0x1, 0x1);
        gbc.writeMem(0xcebf, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe86f);
        EXPECT(gbc.pc(), 0xcec0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcebf), 0xb9);
        // B9 03E1
        gbc.setState(0x3502, 0x581, 0xf900, 0xc5d8, 0x9507, 0x94f7, 0x1, 0x0);
        gbc.writeMem(0x3502, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x581);
        EXPECT(gbc.pc(), 0x3503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B9 03E2
        gbc.setState(0x565c, 0x548b, 0xe1d0, 0xde1e, 0x5807, 0x3102, 0x0, 0x0);
        gbc.writeMem(0x565c, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x548b);
        EXPECT(gbc.pc(), 0x565d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // B9 03E3
        gbc.setState(0x638e, 0xd207, 0x7d50, 0xc9c6, 0xd8ee, 0x33e8, 0x0, 0x1);
        gbc.writeMem(0x638e, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd207);
        EXPECT(gbc.pc(), 0x638f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // B9 03E5
        gbc.setState(0x9d20, 0x9cdb, 0xa690, 0x27eb, 0xbdfa, 0x1241, 0x0, 0x1);
        gbc.writeMem(0x9d20, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x9cdb);
        EXPECT(gbc.pc(), 0x9d21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d20), 0xb9);
        // B9 03E6
        gbc.setState(0xbe3d, 0x4c86, 0x3720, 0xc5bb, 0xe7fb, 0xebfe, 0x1, 0x0);
        gbc.writeMem(0xbe3d, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x4c86);
        EXPECT(gbc.pc(), 0xbe3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe3d), 0xb9);
        // B9 03E7
        gbc.setState(0xeb12, 0xe197, 0xdd00, 0xcd48, 0x4fc3, 0xb0e, 0x0, 0x0);
        gbc.writeMem(0xeb12, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xe197);
        EXPECT(gbc.pc(), 0xeb13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb12), 0xb9);
    }
