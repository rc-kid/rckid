    TEST(gbcemu, opcode_06) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 06 0000
        gbc.setState(0x131b, 0xcf16, 0x1630, 0xff74, 0x5e03, 0xd5b0, 0x1, 0x0);
        gbc.writeMem(0x131b, { 0x6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xcf16);
        EXPECT(gbc.pc(), 0x131d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0001
        gbc.setState(0xb6ba, 0xb5a5, 0xcb80, 0x81cf, 0xb216, 0xab8d, 0x1, 0x0);
        gbc.writeMem(0xb6ba, { 0x6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xb5a5);
        EXPECT(gbc.pc(), 0xb6bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6ba), 0x6);
        EXPECT(gbc.readMem(0xb6bb), 0xa4);
        // 06 0002
        gbc.setState(0x979a, 0x42f6, 0x92f0, 0x235d, 0xae3d, 0xb14a, 0x1, 0x0);
        gbc.writeMem(0x979a, { 0x6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x42f6);
        EXPECT(gbc.pc(), 0x979c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x979a), 0x6);
        EXPECT(gbc.readMem(0x979b), 0x87);
        // 06 0003
        gbc.setState(0x3f85, 0xfe3d, 0xd2a0, 0x7be7, 0xe459, 0x9d97, 0x0, 0x0);
        gbc.writeMem(0x3f85, { 0x6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xfe3d);
        EXPECT(gbc.pc(), 0x3f87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0004
        gbc.setState(0x3683, 0x4d86, 0xbb10, 0x4941, 0x3caf, 0x98d5, 0x0, 0x1);
        gbc.writeMem(0x3683, { 0x6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x4d86);
        EXPECT(gbc.pc(), 0x3685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0005
        gbc.setState(0xa60, 0x51a4, 0x7f80, 0x8a57, 0xf6f4, 0xc545, 0x0, 0x1);
        gbc.writeMem(0xa60, { 0x6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x51a4);
        EXPECT(gbc.pc(), 0xa62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0006
        gbc.setState(0x9034, 0x70d3, 0x3f0, 0x363c, 0x5ec5, 0x78e6, 0x1, 0x1);
        gbc.writeMem(0x9034, { 0x6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x70d3);
        EXPECT(gbc.pc(), 0x9036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9034), 0x6);
        EXPECT(gbc.readMem(0x9035), 0xa0);
        // 06 0007
        gbc.setState(0x427d, 0xe887, 0x3640, 0x6385, 0x4cbe, 0xe4ca, 0x1, 0x0);
        gbc.writeMem(0x427d, { 0x6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xe887);
        EXPECT(gbc.pc(), 0x427f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0008
        gbc.setState(0xe210, 0x78e7, 0xf8f0, 0x4ae7, 0xbb82, 0x96d7, 0x1, 0x0);
        gbc.writeMem(0xe210, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x78e7);
        EXPECT(gbc.pc(), 0xe212);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe210), 0x6);
        EXPECT(gbc.readMem(0xe211), 0xb);
        // 06 0009
        gbc.setState(0x5d60, 0xda18, 0xa1b0, 0x81f3, 0x7a08, 0x779e, 0x0, 0x0);
        gbc.writeMem(0x5d60, { 0x6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xda18);
        EXPECT(gbc.pc(), 0x5d62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 000A
        gbc.setState(0x3855, 0x505f, 0x850, 0xf774, 0x3d2d, 0xe1e8, 0x0, 0x1);
        gbc.writeMem(0x3855, { 0x6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x505f);
        EXPECT(gbc.pc(), 0x3857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 000C
        gbc.setState(0x1ac2, 0xa808, 0xb1f0, 0x7835, 0xaf5a, 0x5466, 0x1, 0x1);
        gbc.writeMem(0x1ac2, { 0x6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xa808);
        EXPECT(gbc.pc(), 0x1ac4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 000D
        gbc.setState(0x7efb, 0x8a93, 0xab30, 0x95e2, 0x9154, 0x7f6b, 0x0, 0x0);
        gbc.writeMem(0x7efb, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8a93);
        EXPECT(gbc.pc(), 0x7efd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 000E
        gbc.setState(0x1cbd, 0xf30, 0xfd70, 0x390e, 0xfcc6, 0xb98b, 0x1, 0x1);
        gbc.writeMem(0x1cbd, { 0x6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf30);
        EXPECT(gbc.pc(), 0x1cbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 000F
        gbc.setState(0x81e6, 0x2c64, 0xcc10, 0xe908, 0xa963, 0xea40, 0x0, 0x0);
        gbc.writeMem(0x81e6, { 0x6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2c64);
        EXPECT(gbc.pc(), 0x81e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81e6), 0x6);
        EXPECT(gbc.readMem(0x81e7), 0x98);
        // 06 0010
        gbc.setState(0x3be8, 0xa594, 0x8310, 0x3ac, 0xbe27, 0xfedc, 0x1, 0x1);
        gbc.writeMem(0x3be8, { 0x6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa594);
        EXPECT(gbc.pc(), 0x3bea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0012
        gbc.setState(0xe06e, 0xfdb3, 0xa530, 0xa36f, 0xf9ed, 0x47a8, 0x0, 0x0);
        gbc.writeMem(0xe06e, { 0x6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xfdb3);
        EXPECT(gbc.pc(), 0xe070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe06e), 0x6);
        EXPECT(gbc.readMem(0xe06f), 0xa6);
        // 06 0014
        gbc.setState(0x75fb, 0xed54, 0x4950, 0x1cc7, 0x7e6a, 0x6925, 0x1, 0x1);
        gbc.writeMem(0x75fb, { 0x6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xed54);
        EXPECT(gbc.pc(), 0x75fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0015
        gbc.setState(0xddc2, 0x3381, 0xd540, 0xfe02, 0x2e6a, 0xe580, 0x0, 0x1);
        gbc.writeMem(0xddc2, { 0x6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3381);
        EXPECT(gbc.pc(), 0xddc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddc2), 0x6);
        EXPECT(gbc.readMem(0xddc3), 0x3f);
        // 06 0016
        gbc.setState(0x676, 0xfed1, 0xcf40, 0x1521, 0xc604, 0x6d62, 0x0, 0x0);
        gbc.writeMem(0x676, { 0x6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xfed1);
        EXPECT(gbc.pc(), 0x678);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0017
        gbc.setState(0x3e03, 0x589d, 0x34a0, 0xa846, 0x5b14, 0x76, 0x0, 0x1);
        gbc.writeMem(0x3e03, { 0x6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x589d);
        EXPECT(gbc.pc(), 0x3e05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0018
        gbc.setState(0x16f7, 0xbf35, 0xe6b0, 0x772b, 0xbecd, 0x11, 0x0, 0x0);
        gbc.writeMem(0x16f7, { 0x6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xbf35);
        EXPECT(gbc.pc(), 0x16f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0019
        gbc.setState(0x827e, 0x7725, 0x8590, 0x2ae5, 0xbedb, 0xac0d, 0x0, 0x0);
        gbc.writeMem(0x827e, { 0x6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7725);
        EXPECT(gbc.pc(), 0x8280);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x827e), 0x6);
        EXPECT(gbc.readMem(0x827f), 0x76);
        // 06 001A
        gbc.setState(0x6287, 0x960d, 0xc7e0, 0xd7ba, 0x1a60, 0xa4b7, 0x1, 0x1);
        gbc.writeMem(0x6287, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x960d);
        EXPECT(gbc.pc(), 0x6289);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 001B
        gbc.setState(0x75f3, 0x23d1, 0xa360, 0xf1da, 0x86ae, 0x6098, 0x0, 0x0);
        gbc.writeMem(0x75f3, { 0x6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x23d1);
        EXPECT(gbc.pc(), 0x75f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 001C
        gbc.setState(0x3b0c, 0xbf4e, 0xf050, 0xba5f, 0x7e75, 0xd37c, 0x1, 0x1);
        gbc.writeMem(0x3b0c, { 0x6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xbf4e);
        EXPECT(gbc.pc(), 0x3b0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 001D
        gbc.setState(0xc184, 0xe653, 0x4e70, 0x5132, 0xd166, 0xc837, 0x1, 0x1);
        gbc.writeMem(0xc184, { 0x6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe653);
        EXPECT(gbc.pc(), 0xc186);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc184), 0x6);
        EXPECT(gbc.readMem(0xc185), 0x58);
        // 06 001E
        gbc.setState(0x50d4, 0x7379, 0xb8a0, 0x4fce, 0x5d47, 0x3769, 0x0, 0x0);
        gbc.writeMem(0x50d4, { 0x6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x7379);
        EXPECT(gbc.pc(), 0x50d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 001F
        gbc.setState(0x33f4, 0x4279, 0xb510, 0xf897, 0xd6df, 0x3520, 0x0, 0x0);
        gbc.writeMem(0x33f4, { 0x6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x4279);
        EXPECT(gbc.pc(), 0x33f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0020
        gbc.setState(0x48e0, 0xc2fd, 0x2ff0, 0xf127, 0xc7a4, 0xa8fd, 0x0, 0x1);
        gbc.writeMem(0x48e0, { 0x6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc2fd);
        EXPECT(gbc.pc(), 0x48e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0021
        gbc.setState(0x1dc3, 0x72e0, 0xa350, 0xe80c, 0x9959, 0xb96a, 0x1, 0x0);
        gbc.writeMem(0x1dc3, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x72e0);
        EXPECT(gbc.pc(), 0x1dc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0022
        gbc.setState(0x8675, 0x51ab, 0xc450, 0x2da9, 0x2abb, 0x9c46, 0x0, 0x0);
        gbc.writeMem(0x8675, { 0x6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x51ab);
        EXPECT(gbc.pc(), 0x8677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8675), 0x6);
        EXPECT(gbc.readMem(0x8676), 0xf2);
        // 06 0023
        gbc.setState(0xa297, 0x3103, 0x3fd0, 0x7990, 0x2cba, 0xf88a, 0x1, 0x1);
        gbc.writeMem(0xa297, { 0x6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3103);
        EXPECT(gbc.pc(), 0xa299);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa297), 0x6);
        EXPECT(gbc.readMem(0xa298), 0x46);
        // 06 0024
        gbc.setState(0xa7a9, 0x15bb, 0xa690, 0x84c4, 0x17a6, 0xc768, 0x1, 0x1);
        gbc.writeMem(0xa7a9, { 0x6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x15bb);
        EXPECT(gbc.pc(), 0xa7ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7a9), 0x6);
        EXPECT(gbc.readMem(0xa7aa), 0xe5);
        // 06 0025
        gbc.setState(0x9d11, 0x4cdd, 0x7400, 0x4c83, 0x2238, 0xe0ba, 0x0, 0x1);
        gbc.writeMem(0x9d11, { 0x6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4cdd);
        EXPECT(gbc.pc(), 0x9d13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d11), 0x6);
        EXPECT(gbc.readMem(0x9d12), 0xa2);
        // 06 0026
        gbc.setState(0x4388, 0x8b51, 0x4a00, 0x54a8, 0x10a0, 0xa7d1, 0x1, 0x1);
        gbc.writeMem(0x4388, { 0x6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8b51);
        EXPECT(gbc.pc(), 0x438a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0027
        gbc.setState(0x3ecd, 0xda1f, 0x49f0, 0x65c, 0xe97e, 0x3c46, 0x1, 0x1);
        gbc.writeMem(0x3ecd, { 0x6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xda1f);
        EXPECT(gbc.pc(), 0x3ecf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0028
        gbc.setState(0xa81, 0xa84d, 0xf290, 0x56bd, 0x6134, 0x4da1, 0x0, 0x1);
        gbc.writeMem(0xa81, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xa84d);
        EXPECT(gbc.pc(), 0xa83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0029
        gbc.setState(0x165d, 0x531a, 0x4d80, 0xc73a, 0x9b3b, 0x2435, 0x0, 0x0);
        gbc.writeMem(0x165d, { 0x6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x531a);
        EXPECT(gbc.pc(), 0x165f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 002A
        gbc.setState(0x8f6e, 0x57be, 0x3970, 0x5a3e, 0x6614, 0x2846, 0x1, 0x0);
        gbc.writeMem(0x8f6e, { 0x6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x57be);
        EXPECT(gbc.pc(), 0x8f70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f6e), 0x6);
        EXPECT(gbc.readMem(0x8f6f), 0x54);
        // 06 002B
        gbc.setState(0x3a7f, 0x720f, 0x31c0, 0xfdfe, 0x16bb, 0x7360, 0x1, 0x1);
        gbc.writeMem(0x3a7f, { 0x6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x720f);
        EXPECT(gbc.pc(), 0x3a81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 002C
        gbc.setState(0x748d, 0xf470, 0x1070, 0x6217, 0x5d15, 0x8acf, 0x0, 0x1);
        gbc.writeMem(0x748d, { 0x6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf470);
        EXPECT(gbc.pc(), 0x748f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 002D
        gbc.setState(0xa4f9, 0x6346, 0x2290, 0x46d, 0x45c8, 0x1be0, 0x1, 0x1);
        gbc.writeMem(0xa4f9, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6346);
        EXPECT(gbc.pc(), 0xa4fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4f9), 0x6);
        EXPECT(gbc.readMem(0xa4fa), 0x35);
        // 06 002E
        gbc.setState(0xe6a8, 0xfe36, 0x12c0, 0x72c4, 0xa2d1, 0xc80e, 0x1, 0x1);
        gbc.writeMem(0xe6a8, { 0x6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xfe36);
        EXPECT(gbc.pc(), 0xe6aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a8), 0x6);
        EXPECT(gbc.readMem(0xe6a9), 0x73);
        // 06 002F
        gbc.setState(0x17f3, 0x5089, 0x2a50, 0xff05, 0x11b6, 0x1686, 0x0, 0x1);
        gbc.writeMem(0x17f3, { 0x6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x5089);
        EXPECT(gbc.pc(), 0x17f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0030
        gbc.setState(0xe8a0, 0x3c0d, 0x3c00, 0xe606, 0x71dd, 0xc00c, 0x0, 0x0);
        gbc.writeMem(0xe8a0, { 0x6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3c0d);
        EXPECT(gbc.pc(), 0xe8a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8a0), 0x6);
        EXPECT(gbc.readMem(0xe8a1), 0xad);
        // 06 0031
        gbc.setState(0x8697, 0xee6, 0xf120, 0xc1f0, 0xd8b3, 0x83fb, 0x0, 0x0);
        gbc.writeMem(0x8697, { 0x6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xee6);
        EXPECT(gbc.pc(), 0x8699);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8697), 0x6);
        EXPECT(gbc.readMem(0x8698), 0xf0);
        // 06 0032
        gbc.setState(0x42e9, 0x1af, 0x7410, 0x52c1, 0x3ddb, 0xa0e4, 0x0, 0x0);
        gbc.writeMem(0x42e9, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x1af);
        EXPECT(gbc.pc(), 0x42eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0033
        gbc.setState(0xa20c, 0x5624, 0xd170, 0x910b, 0x4233, 0xa0ec, 0x1, 0x0);
        gbc.writeMem(0xa20c, { 0x6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5624);
        EXPECT(gbc.pc(), 0xa20e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa20c), 0x6);
        EXPECT(gbc.readMem(0xa20d), 0x44);
        // 06 0034
        gbc.setState(0x2c3e, 0x7bc0, 0xf1d0, 0xdd69, 0x1fb3, 0x412e, 0x1, 0x0);
        gbc.writeMem(0x2c3e, { 0x6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7bc0);
        EXPECT(gbc.pc(), 0x2c40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0035
        gbc.setState(0x99d2, 0x1b4e, 0xbcd0, 0x6742, 0x6f10, 0x20e9, 0x0, 0x1);
        gbc.writeMem(0x99d2, { 0x6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1b4e);
        EXPECT(gbc.pc(), 0x99d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99d2), 0x6);
        EXPECT(gbc.readMem(0x99d3), 0xb1);
        // 06 0036
        gbc.setState(0x8302, 0xe059, 0x1bb0, 0x5f4d, 0xd6c9, 0x20ab, 0x0, 0x1);
        gbc.writeMem(0x8302, { 0x6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xe059);
        EXPECT(gbc.pc(), 0x8304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8302), 0x6);
        EXPECT(gbc.readMem(0x8303), 0x77);
        // 06 0037
        gbc.setState(0x4bc6, 0xed8b, 0x9de0, 0xd666, 0x4d2e, 0xaa72, 0x1, 0x0);
        gbc.writeMem(0x4bc6, { 0x6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xed8b);
        EXPECT(gbc.pc(), 0x4bc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0038
        gbc.setState(0xb61e, 0xd3df, 0x3620, 0x6945, 0xb21e, 0xb78e, 0x1, 0x1);
        gbc.writeMem(0xb61e, { 0x6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd3df);
        EXPECT(gbc.pc(), 0xb620);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb61e), 0x6);
        EXPECT(gbc.readMem(0xb61f), 0xea);
        // 06 0039
        gbc.setState(0xbc21, 0xd807, 0xcd60, 0x2d4b, 0xddce, 0x29b6, 0x0, 0x0);
        gbc.writeMem(0xbc21, { 0x6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd807);
        EXPECT(gbc.pc(), 0xbc23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc21), 0x6);
        EXPECT(gbc.readMem(0xbc22), 0x8d);
        // 06 003A
        gbc.setState(0xbfcc, 0xd11d, 0x6d50, 0x70a8, 0xbaae, 0x310c, 0x0, 0x1);
        gbc.writeMem(0xbfcc, { 0x6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd11d);
        EXPECT(gbc.pc(), 0xbfce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfcc), 0x6);
        EXPECT(gbc.readMem(0xbfcd), 0x99);
        // 06 003B
        gbc.setState(0x4515, 0x5f6f, 0xaaf0, 0x4e4b, 0xbae3, 0x646b, 0x1, 0x0);
        gbc.writeMem(0x4515, { 0x6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5f6f);
        EXPECT(gbc.pc(), 0x4517);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 003C
        gbc.setState(0xec30, 0x9ca0, 0x84b0, 0xe02f, 0xe560, 0x452b, 0x1, 0x1);
        gbc.writeMem(0xec30, { 0x6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9ca0);
        EXPECT(gbc.pc(), 0xec32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec30), 0x6);
        EXPECT(gbc.readMem(0xec31), 0x30);
        // 06 003D
        gbc.setState(0x5dd7, 0xc03e, 0x7880, 0x1d0b, 0x55b9, 0x87e4, 0x0, 0x1);
        gbc.writeMem(0x5dd7, { 0x6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc03e);
        EXPECT(gbc.pc(), 0x5dd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 003E
        gbc.setState(0x215e, 0xbf10, 0xcb30, 0xb92a, 0xcc30, 0x7988, 0x0, 0x1);
        gbc.writeMem(0x215e, { 0x6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xbf10);
        EXPECT(gbc.pc(), 0x2160);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 003F
        gbc.setState(0x6a80, 0x812b, 0xe0f0, 0x7fb, 0x1a26, 0x81e5, 0x1, 0x1);
        gbc.writeMem(0x6a80, { 0x6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x812b);
        EXPECT(gbc.pc(), 0x6a82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0040
        gbc.setState(0xd0c0, 0x7719, 0xe840, 0xa3fc, 0xd7fe, 0x4bf1, 0x1, 0x1);
        gbc.writeMem(0xd0c0, { 0x6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x7719);
        EXPECT(gbc.pc(), 0xd0c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0c0), 0x6);
        EXPECT(gbc.readMem(0xd0c1), 0x88);
        // 06 0041
        gbc.setState(0x5071, 0x4a56, 0xdca0, 0x23ac, 0xecd8, 0x9fa8, 0x1, 0x1);
        gbc.writeMem(0x5071, { 0x6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x4a56);
        EXPECT(gbc.pc(), 0x5073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0042
        gbc.setState(0x3bbf, 0xf39e, 0x8d10, 0x6cd3, 0x5063, 0x614a, 0x0, 0x1);
        gbc.writeMem(0x3bbf, { 0x6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xf39e);
        EXPECT(gbc.pc(), 0x3bc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0043
        gbc.setState(0x85b7, 0x8ca4, 0x540, 0xf0fb, 0x267b, 0x68e2, 0x0, 0x0);
        gbc.writeMem(0x85b7, { 0x6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8ca4);
        EXPECT(gbc.pc(), 0x85b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85b7), 0x6);
        EXPECT(gbc.readMem(0x85b8), 0xc2);
        // 06 0044
        gbc.setState(0xe8d4, 0x39ca, 0x84f0, 0x45f1, 0x9b77, 0x12dc, 0x0, 0x0);
        gbc.writeMem(0xe8d4, { 0x6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x39ca);
        EXPECT(gbc.pc(), 0xe8d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8d4), 0x6);
        EXPECT(gbc.readMem(0xe8d5), 0x44);
        // 06 0045
        gbc.setState(0x5e6b, 0xf563, 0xf9c0, 0x31d0, 0x8e77, 0x58c1, 0x0, 0x0);
        gbc.writeMem(0x5e6b, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xf563);
        EXPECT(gbc.pc(), 0x5e6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0046
        gbc.setState(0xddb4, 0x80c4, 0x560, 0xeeab, 0x16ae, 0x514, 0x1, 0x0);
        gbc.writeMem(0xddb4, { 0x6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x80c4);
        EXPECT(gbc.pc(), 0xddb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddb4), 0x6);
        EXPECT(gbc.readMem(0xddb5), 0xf6);
        // 06 0047
        gbc.setState(0x2ece, 0x54a, 0x52c0, 0x1435, 0x1fb2, 0xc84b, 0x0, 0x0);
        gbc.writeMem(0x2ece, { 0x6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x54a);
        EXPECT(gbc.pc(), 0x2ed0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0048
        gbc.setState(0xe70e, 0x297a, 0x4c80, 0x9a6c, 0xaf9, 0xb575, 0x0, 0x1);
        gbc.writeMem(0xe70e, { 0x6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x297a);
        EXPECT(gbc.pc(), 0xe710);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe70e), 0x6);
        EXPECT(gbc.readMem(0xe70f), 0xff);
        // 06 004A
        gbc.setState(0xbd26, 0x97ca, 0x3e80, 0xa89, 0x36c4, 0xd974, 0x1, 0x1);
        gbc.writeMem(0xbd26, { 0x6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x97ca);
        EXPECT(gbc.pc(), 0xbd28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd26), 0x6);
        EXPECT(gbc.readMem(0xbd27), 0x7d);
        // 06 004B
        gbc.setState(0x6992, 0x4cb7, 0x5470, 0xcd24, 0x2fed, 0x23d5, 0x0, 0x1);
        gbc.writeMem(0x6992, { 0x6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x4cb7);
        EXPECT(gbc.pc(), 0x6994);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 004C
        gbc.setState(0x4c6a, 0x6973, 0x1390, 0x7eab, 0x50f8, 0x22db, 0x0, 0x1);
        gbc.writeMem(0x4c6a, { 0x6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6973);
        EXPECT(gbc.pc(), 0x4c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 004D
        gbc.setState(0xa7d6, 0x7d2a, 0x9cd0, 0x264f, 0x19af, 0xd0dc, 0x0, 0x1);
        gbc.writeMem(0xa7d6, { 0x6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7d2a);
        EXPECT(gbc.pc(), 0xa7d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7d6), 0x6);
        EXPECT(gbc.readMem(0xa7d7), 0xaf);
        // 06 004E
        gbc.setState(0xa14d, 0xd50, 0x7730, 0x9807, 0xa951, 0xc51e, 0x0, 0x1);
        gbc.writeMem(0xa14d, { 0x6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xd50);
        EXPECT(gbc.pc(), 0xa14f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa14d), 0x6);
        EXPECT(gbc.readMem(0xa14e), 0x53);
        // 06 004F
        gbc.setState(0x3887, 0x30b8, 0x9120, 0xda6e, 0xd905, 0xe824, 0x1, 0x0);
        gbc.writeMem(0x3887, { 0x6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x30b8);
        EXPECT(gbc.pc(), 0x3889);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0050
        gbc.setState(0x31c6, 0xd365, 0x3fb0, 0xd490, 0xb48e, 0x8ba3, 0x0, 0x0);
        gbc.writeMem(0x31c6, { 0x6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xd365);
        EXPECT(gbc.pc(), 0x31c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0052
        gbc.setState(0x2262, 0x802e, 0x7c40, 0xb35d, 0x7943, 0xceff, 0x0, 0x1);
        gbc.writeMem(0x2262, { 0x6, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x802e);
        EXPECT(gbc.pc(), 0x2264);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0053
        gbc.setState(0x83e1, 0x805c, 0x950, 0xaa63, 0x630e, 0x263b, 0x1, 0x1);
        gbc.writeMem(0x83e1, { 0x6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x805c);
        EXPECT(gbc.pc(), 0x83e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83e1), 0x6);
        EXPECT(gbc.readMem(0x83e2), 0x8d);
        // 06 0054
        gbc.setState(0x52f, 0x92b3, 0xc6a0, 0x9877, 0x6323, 0x3efa, 0x0, 0x0);
        gbc.writeMem(0x52f, { 0x6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x92b3);
        EXPECT(gbc.pc(), 0x531);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0055
        gbc.setState(0x53e5, 0x27a9, 0x6700, 0xb1e6, 0x5245, 0xc6a1, 0x1, 0x0);
        gbc.writeMem(0x53e5, { 0x6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x27a9);
        EXPECT(gbc.pc(), 0x53e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0056
        gbc.setState(0x110c, 0x9d04, 0xcd90, 0xa59, 0x5687, 0x2ba6, 0x0, 0x1);
        gbc.writeMem(0x110c, { 0x6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9d04);
        EXPECT(gbc.pc(), 0x110e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0057
        gbc.setState(0xd58c, 0x7487, 0x6950, 0xaa5c, 0x332, 0x8bc, 0x0, 0x0);
        gbc.writeMem(0xd58c, { 0x6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7487);
        EXPECT(gbc.pc(), 0xd58e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd58c), 0x6);
        EXPECT(gbc.readMem(0xd58d), 0xf6);
        // 06 0058
        gbc.setState(0x6e83, 0x2411, 0x2da0, 0x531, 0xad2, 0x4fd6, 0x1, 0x0);
        gbc.writeMem(0x6e83, { 0x6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2411);
        EXPECT(gbc.pc(), 0x6e85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0059
        gbc.setState(0x662d, 0xceff, 0x4440, 0x20ff, 0x6886, 0x7b11, 0x0, 0x0);
        gbc.writeMem(0x662d, { 0x6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xceff);
        EXPECT(gbc.pc(), 0x662f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 005A
        gbc.setState(0x4c53, 0xfe2, 0xcd30, 0x3581, 0x186b, 0xf1b2, 0x0, 0x1);
        gbc.writeMem(0x4c53, { 0x6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xfe2);
        EXPECT(gbc.pc(), 0x4c55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 005B
        gbc.setState(0xd1fe, 0xe8d5, 0x2240, 0x1b3, 0xb445, 0x437, 0x0, 0x1);
        gbc.writeMem(0xd1fe, { 0x6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe8d5);
        EXPECT(gbc.pc(), 0xd200);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1fe), 0x6);
        EXPECT(gbc.readMem(0xd1ff), 0x63);
        // 06 005C
        gbc.setState(0xbb06, 0x1b3c, 0xcb80, 0x4505, 0xef7, 0xc166, 0x1, 0x0);
        gbc.writeMem(0xbb06, { 0x6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x1b3c);
        EXPECT(gbc.pc(), 0xbb08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb06), 0x6);
        EXPECT(gbc.readMem(0xbb07), 0x83);
        // 06 005D
        gbc.setState(0x8e55, 0xaa6, 0x690, 0x6c63, 0xf176, 0xf9cb, 0x1, 0x1);
        gbc.writeMem(0x8e55, { 0x6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xaa6);
        EXPECT(gbc.pc(), 0x8e57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e55), 0x6);
        EXPECT(gbc.readMem(0x8e56), 0x1d);
        // 06 005E
        gbc.setState(0x32cf, 0x1fbf, 0x2ca0, 0x5d1c, 0xf52b, 0x31d, 0x0, 0x0);
        gbc.writeMem(0x32cf, { 0x6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1fbf);
        EXPECT(gbc.pc(), 0x32d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 005F
        gbc.setState(0x7d77, 0xbe74, 0xd8d0, 0x31f6, 0x425b, 0xa068, 0x1, 0x1);
        gbc.writeMem(0x7d77, { 0x6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xbe74);
        EXPECT(gbc.pc(), 0x7d79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0060
        gbc.setState(0xa8a2, 0x8701, 0xcb90, 0x9695, 0x1a20, 0x2da1, 0x0, 0x0);
        gbc.writeMem(0xa8a2, { 0x6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8701);
        EXPECT(gbc.pc(), 0xa8a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8a2), 0x6);
        EXPECT(gbc.readMem(0xa8a3), 0x78);
        // 06 0061
        gbc.setState(0xc023, 0x7ae3, 0xa4a0, 0xb09e, 0xf226, 0x6c38, 0x1, 0x1);
        gbc.writeMem(0xc023, { 0x6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7ae3);
        EXPECT(gbc.pc(), 0xc025);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc023), 0x6);
        EXPECT(gbc.readMem(0xc024), 0xff);
        // 06 0062
        gbc.setState(0xa1ea, 0x5655, 0x9850, 0xc37a, 0xc046, 0x85e4, 0x0, 0x0);
        gbc.writeMem(0xa1ea, { 0x6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x5655);
        EXPECT(gbc.pc(), 0xa1ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1ea), 0x6);
        EXPECT(gbc.readMem(0xa1eb), 0xd2);
        // 06 0063
        gbc.setState(0x839, 0x8327, 0x69a0, 0x4636, 0x3d43, 0x1ae5, 0x0, 0x1);
        gbc.writeMem(0x839, { 0x6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x8327);
        EXPECT(gbc.pc(), 0x83b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0064
        gbc.setState(0x156, 0x40cb, 0x2010, 0x2b26, 0xdff8, 0xaf58, 0x1, 0x0);
        gbc.writeMem(0x156, { 0x6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x40cb);
        EXPECT(gbc.pc(), 0x158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0065
        gbc.setState(0xec9c, 0x71d8, 0x41f0, 0xa343, 0x70b, 0x4b53, 0x1, 0x0);
        gbc.writeMem(0xec9c, { 0x6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x71d8);
        EXPECT(gbc.pc(), 0xec9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec9c), 0x6);
        EXPECT(gbc.readMem(0xec9d), 0x66);
        // 06 0067
        gbc.setState(0x82e4, 0xc8cc, 0x5ab0, 0x77c4, 0x94f3, 0x1c02, 0x1, 0x0);
        gbc.writeMem(0x82e4, { 0x6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xc8cc);
        EXPECT(gbc.pc(), 0x82e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82e4), 0x6);
        EXPECT(gbc.readMem(0x82e5), 0x0);
        // 06 0068
        gbc.setState(0x1d54, 0x7647, 0x2ce0, 0xc037, 0xe097, 0xb33a, 0x1, 0x0);
        gbc.writeMem(0x1d54, { 0x6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x7647);
        EXPECT(gbc.pc(), 0x1d56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0069
        gbc.setState(0x4083, 0xc0b2, 0x1d00, 0xb5cc, 0xd186, 0x5adc, 0x1, 0x1);
        gbc.writeMem(0x4083, { 0x6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xc0b2);
        EXPECT(gbc.pc(), 0x4085);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 006A
        gbc.setState(0xa37b, 0x5173, 0xe180, 0x5f14, 0x6913, 0x41ff, 0x0, 0x1);
        gbc.writeMem(0xa37b, { 0x6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x5173);
        EXPECT(gbc.pc(), 0xa37d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa37b), 0x6);
        EXPECT(gbc.readMem(0xa37c), 0xbe);
        // 06 006B
        gbc.setState(0x1695, 0x853e, 0xb180, 0xa53e, 0xca97, 0xd3c1, 0x0, 0x1);
        gbc.writeMem(0x1695, { 0x6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x853e);
        EXPECT(gbc.pc(), 0x1697);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 006C
        gbc.setState(0x3cd1, 0xb349, 0x6100, 0xe32b, 0x4077, 0x727c, 0x1, 0x0);
        gbc.writeMem(0x3cd1, { 0x6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb349);
        EXPECT(gbc.pc(), 0x3cd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 006D
        gbc.setState(0x8220, 0x2785, 0x4bb0, 0xe741, 0x2f11, 0xae24, 0x1, 0x0);
        gbc.writeMem(0x8220, { 0x6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2785);
        EXPECT(gbc.pc(), 0x8222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8220), 0x6);
        EXPECT(gbc.readMem(0x8221), 0x68);
        // 06 006F
        gbc.setState(0x6508, 0xde87, 0x6a0, 0xe10b, 0x9508, 0x92a4, 0x0, 0x1);
        gbc.writeMem(0x6508, { 0x6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xde87);
        EXPECT(gbc.pc(), 0x650a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0070
        gbc.setState(0x2d93, 0xe7d6, 0x13d0, 0x2690, 0xfe88, 0xe2c4, 0x1, 0x1);
        gbc.writeMem(0x2d93, { 0x6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe7d6);
        EXPECT(gbc.pc(), 0x2d95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0071
        gbc.setState(0x35c4, 0xe049, 0x3020, 0x6514, 0xa8af, 0xdb0d, 0x1, 0x1);
        gbc.writeMem(0x35c4, { 0x6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe049);
        EXPECT(gbc.pc(), 0x35c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0072
        gbc.setState(0x48fc, 0x1c13, 0xee30, 0x2e78, 0x8aba, 0xfaac, 0x1, 0x0);
        gbc.writeMem(0x48fc, { 0x6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1c13);
        EXPECT(gbc.pc(), 0x48fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0073
        gbc.setState(0xa798, 0xf56e, 0x3270, 0xd1e2, 0xbc42, 0xb026, 0x1, 0x0);
        gbc.writeMem(0xa798, { 0x6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf56e);
        EXPECT(gbc.pc(), 0xa79a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa798), 0x6);
        EXPECT(gbc.readMem(0xa799), 0x6a);
        // 06 0074
        gbc.setState(0xacd5, 0x5df7, 0xfcd0, 0x7b77, 0x2193, 0x9c23, 0x0, 0x1);
        gbc.writeMem(0xacd5, { 0x6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x5df7);
        EXPECT(gbc.pc(), 0xacd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacd5), 0x6);
        EXPECT(gbc.readMem(0xacd6), 0xf);
        // 06 0075
        gbc.setState(0xeae7, 0x23bf, 0x7f80, 0x3322, 0xfdea, 0x905e, 0x1, 0x1);
        gbc.writeMem(0xeae7, { 0x6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x23bf);
        EXPECT(gbc.pc(), 0xeae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeae7), 0x6);
        EXPECT(gbc.readMem(0xeae8), 0x44);
        // 06 0077
        gbc.setState(0x637c, 0x126b, 0x9770, 0xa338, 0xd473, 0x8fb5, 0x1, 0x1);
        gbc.writeMem(0x637c, { 0x6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x126b);
        EXPECT(gbc.pc(), 0x637e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0078
        gbc.setState(0x4ba2, 0xf1a9, 0x50f0, 0xa401, 0xe1ae, 0x184c, 0x0, 0x0);
        gbc.writeMem(0x4ba2, { 0x6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xf1a9);
        EXPECT(gbc.pc(), 0x4ba4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0079
        gbc.setState(0xcf08, 0xa446, 0xcb30, 0xe39d, 0xcf79, 0xdd4f, 0x0, 0x0);
        gbc.writeMem(0xcf08, { 0x6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa446);
        EXPECT(gbc.pc(), 0xcf0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf08), 0x6);
        EXPECT(gbc.readMem(0xcf09), 0x76);
        // 06 007A
        gbc.setState(0x123d, 0xa107, 0x3910, 0x6af0, 0x8094, 0xb608, 0x0, 0x1);
        gbc.writeMem(0x123d, { 0x6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xa107);
        EXPECT(gbc.pc(), 0x123f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 007B
        gbc.setState(0xdfae, 0xbacc, 0x4db0, 0x29c0, 0xe88c, 0x4dac, 0x1, 0x1);
        gbc.writeMem(0xdfae, { 0x6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xbacc);
        EXPECT(gbc.pc(), 0xdfb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfae), 0x6);
        EXPECT(gbc.readMem(0xdfaf), 0x8b);
        // 06 007D
        gbc.setState(0x432d, 0xe1a5, 0x4790, 0xda6, 0xc253, 0x65a7, 0x1, 0x0);
        gbc.writeMem(0x432d, { 0x6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe1a5);
        EXPECT(gbc.pc(), 0x432f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 007E
        gbc.setState(0xa296, 0xd2f, 0x3810, 0x3bd1, 0x45e4, 0x434c, 0x1, 0x1);
        gbc.writeMem(0xa296, { 0x6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xd2f);
        EXPECT(gbc.pc(), 0xa298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa296), 0x6);
        EXPECT(gbc.readMem(0xa297), 0x9b);
        // 06 007F
        gbc.setState(0x1791, 0x3b8c, 0x8a40, 0x7f8a, 0x29c1, 0xfcd5, 0x0, 0x0);
        gbc.writeMem(0x1791, { 0x6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3b8c);
        EXPECT(gbc.pc(), 0x1793);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0081
        gbc.setState(0x57fc, 0xc418, 0x2ac0, 0x6bf0, 0xa39f, 0xf590, 0x1, 0x0);
        gbc.writeMem(0x57fc, { 0x6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc418);
        EXPECT(gbc.pc(), 0x57fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0082
        gbc.setState(0x6927, 0x68b, 0x1560, 0xdb96, 0x611c, 0xf824, 0x0, 0x0);
        gbc.writeMem(0x6927, { 0x6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x68b);
        EXPECT(gbc.pc(), 0x6929);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0083
        gbc.setState(0x7077, 0xaa3f, 0x3700, 0xd042, 0x615e, 0x9440, 0x0, 0x0);
        gbc.writeMem(0x7077, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xaa3f);
        EXPECT(gbc.pc(), 0x7079);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0084
        gbc.setState(0x37a5, 0xaf14, 0x3e30, 0x5edf, 0xe93e, 0x6f3c, 0x1, 0x0);
        gbc.writeMem(0x37a5, { 0x6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xaf14);
        EXPECT(gbc.pc(), 0x37a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0085
        gbc.setState(0x95ec, 0x4e02, 0xfc20, 0x2d69, 0x8d83, 0x1d93, 0x1, 0x1);
        gbc.writeMem(0x95ec, { 0x6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x4e02);
        EXPECT(gbc.pc(), 0x95ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95ec), 0x6);
        EXPECT(gbc.readMem(0x95ed), 0x30);
        // 06 0086
        gbc.setState(0x84a8, 0x3111, 0x41a0, 0x1b8, 0x8c86, 0xd991, 0x0, 0x1);
        gbc.writeMem(0x84a8, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x3111);
        EXPECT(gbc.pc(), 0x84aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84a8), 0x6);
        EXPECT(gbc.readMem(0x84a9), 0x43);
        // 06 0087
        gbc.setState(0x6c54, 0x7d76, 0xe310, 0xf7c7, 0x2266, 0xcdfd, 0x0, 0x0);
        gbc.writeMem(0x6c54, { 0x6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7d76);
        EXPECT(gbc.pc(), 0x6c56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0088
        gbc.setState(0x1f32, 0x8e4c, 0x5550, 0x7516, 0x7e17, 0xee0, 0x0, 0x1);
        gbc.writeMem(0x1f32, { 0x6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x8e4c);
        EXPECT(gbc.pc(), 0x1f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0089
        gbc.setState(0xa26f, 0x5536, 0x74a0, 0x1696, 0x4225, 0xc80a, 0x1, 0x1);
        gbc.writeMem(0xa26f, { 0x6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x5536);
        EXPECT(gbc.pc(), 0xa271);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa26f), 0x6);
        EXPECT(gbc.readMem(0xa270), 0x8d);
        // 06 008A
        gbc.setState(0x4e73, 0x104e, 0x23a0, 0x8c67, 0xe6cc, 0x4ae6, 0x1, 0x0);
        gbc.writeMem(0x4e73, { 0x6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x104e);
        EXPECT(gbc.pc(), 0x4e75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 008B
        gbc.setState(0x28cd, 0x4300, 0x75a0, 0xf2da, 0xf80, 0xe8e7, 0x0, 0x1);
        gbc.writeMem(0x28cd, { 0x6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4300);
        EXPECT(gbc.pc(), 0x28cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 008C
        gbc.setState(0xc9e0, 0xf65e, 0x6350, 0x26e0, 0xc34e, 0x16a9, 0x1, 0x1);
        gbc.writeMem(0xc9e0, { 0x6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xf65e);
        EXPECT(gbc.pc(), 0xc9e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9e0), 0x6);
        EXPECT(gbc.readMem(0xc9e1), 0x22);
        // 06 008D
        gbc.setState(0xb1ea, 0x93c3, 0xb310, 0xa7de, 0x4c75, 0x54c6, 0x0, 0x0);
        gbc.writeMem(0xb1ea, { 0x6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x93c3);
        EXPECT(gbc.pc(), 0xb1ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1ea), 0x6);
        EXPECT(gbc.readMem(0xb1eb), 0x5a);
        // 06 008E
        gbc.setState(0xa2a6, 0x7486, 0xed20, 0xa5b4, 0xa74b, 0xbf95, 0x1, 0x0);
        gbc.writeMem(0xa2a6, { 0x6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x7486);
        EXPECT(gbc.pc(), 0xa2a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2a6), 0x6);
        EXPECT(gbc.readMem(0xa2a7), 0x92);
        // 06 008F
        gbc.setState(0xb2bf, 0x8332, 0xcc40, 0x9562, 0x1de, 0xab4c, 0x0, 0x1);
        gbc.writeMem(0xb2bf, { 0x6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x8332);
        EXPECT(gbc.pc(), 0xb2c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2bf), 0x6);
        EXPECT(gbc.readMem(0xb2c0), 0x90);
        // 06 0090
        gbc.setState(0x3213, 0x49ff, 0x5930, 0x42b4, 0x14ef, 0xee4d, 0x0, 0x0);
        gbc.writeMem(0x3213, { 0x6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x49ff);
        EXPECT(gbc.pc(), 0x3215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0091
        gbc.setState(0x5acf, 0x3113, 0x3570, 0x26fe, 0x766a, 0x29e9, 0x0, 0x1);
        gbc.writeMem(0x5acf, { 0x6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x3113);
        EXPECT(gbc.pc(), 0x5ad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0092
        gbc.setState(0xd330, 0xf934, 0xa130, 0xabc, 0x6987, 0x8230, 0x0, 0x1);
        gbc.writeMem(0xd330, { 0x6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf934);
        EXPECT(gbc.pc(), 0xd332);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd330), 0x6);
        EXPECT(gbc.readMem(0xd331), 0xad);
        // 06 0093
        gbc.setState(0x5747, 0xb58b, 0xdb60, 0x6f79, 0xc393, 0xbf17, 0x0, 0x1);
        gbc.writeMem(0x5747, { 0x6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb58b);
        EXPECT(gbc.pc(), 0x5749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0094
        gbc.setState(0xe009, 0xec32, 0x940, 0xf87e, 0x12ed, 0xbfdc, 0x0, 0x0);
        gbc.writeMem(0xe009, { 0x6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xec32);
        EXPECT(gbc.pc(), 0xe00b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe009), 0x6);
        EXPECT(gbc.readMem(0xe00a), 0x77);
        // 06 0095
        gbc.setState(0x9168, 0x92c3, 0x3210, 0x9817, 0x6906, 0xee8, 0x1, 0x0);
        gbc.writeMem(0x9168, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x92c3);
        EXPECT(gbc.pc(), 0x916a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9168), 0x6);
        EXPECT(gbc.readMem(0x9169), 0xef);
        // 06 0097
        gbc.setState(0xbc65, 0x2825, 0x36b0, 0xa239, 0x5487, 0x1f9b, 0x1, 0x1);
        gbc.writeMem(0xbc65, { 0x6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x2825);
        EXPECT(gbc.pc(), 0xbc67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc65), 0x6);
        EXPECT(gbc.readMem(0xbc66), 0x21);
        // 06 0098
        gbc.setState(0xa338, 0x76ca, 0x2100, 0x7cdd, 0x5832, 0xed25, 0x1, 0x1);
        gbc.writeMem(0xa338, { 0x6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x76ca);
        EXPECT(gbc.pc(), 0xa33a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa338), 0x6);
        EXPECT(gbc.readMem(0xa339), 0xd4);
        // 06 0099
        gbc.setState(0xcf61, 0xe23c, 0x52a0, 0xe79c, 0xda03, 0xb175, 0x1, 0x0);
        gbc.writeMem(0xcf61, { 0x6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe23c);
        EXPECT(gbc.pc(), 0xcf63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf61), 0x6);
        EXPECT(gbc.readMem(0xcf62), 0xba);
        // 06 009A
        gbc.setState(0xa229, 0xf626, 0x5110, 0xca6c, 0x195, 0xe1fa, 0x0, 0x0);
        gbc.writeMem(0xa229, { 0x6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf626);
        EXPECT(gbc.pc(), 0xa22b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa229), 0x6);
        EXPECT(gbc.readMem(0xa22a), 0x33);
        // 06 009B
        gbc.setState(0xa4e8, 0x8a3a, 0x7780, 0x3f8c, 0x125, 0x7c68, 0x0, 0x1);
        gbc.writeMem(0xa4e8, { 0x6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x8a3a);
        EXPECT(gbc.pc(), 0xa4ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4e8), 0x6);
        EXPECT(gbc.readMem(0xa4e9), 0x4b);
        // 06 009C
        gbc.setState(0xa1b4, 0xa84, 0xcce0, 0x29bf, 0x910d, 0x981b, 0x0, 0x1);
        gbc.writeMem(0xa1b4, { 0x6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa84);
        EXPECT(gbc.pc(), 0xa1b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1b4), 0x6);
        EXPECT(gbc.readMem(0xa1b5), 0x42);
        // 06 009D
        gbc.setState(0x230a, 0x774d, 0xf0a0, 0x3bc5, 0x53e8, 0xdaf2, 0x1, 0x0);
        gbc.writeMem(0x230a, { 0x6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x774d);
        EXPECT(gbc.pc(), 0x230c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 009E
        gbc.setState(0x1607, 0x169f, 0xfb60, 0x8e76, 0x9804, 0x92cb, 0x0, 0x0);
        gbc.writeMem(0x1607, { 0x6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x169f);
        EXPECT(gbc.pc(), 0x1609);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 009F
        gbc.setState(0xb939, 0x6219, 0x3a60, 0x80aa, 0xa944, 0xf07d, 0x0, 0x1);
        gbc.writeMem(0xb939, { 0x6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x6219);
        EXPECT(gbc.pc(), 0xb93b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb939), 0x6);
        EXPECT(gbc.readMem(0xb93a), 0xf3);
        // 06 00A0
        gbc.setState(0xd898, 0x6156, 0x1560, 0x7d53, 0x5774, 0xf6d5, 0x0, 0x0);
        gbc.writeMem(0xd898, { 0x6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6156);
        EXPECT(gbc.pc(), 0xd89a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd898), 0x6);
        EXPECT(gbc.readMem(0xd899), 0x7e);
        // 06 00A1
        gbc.setState(0x1bcd, 0x4e47, 0xce70, 0xb213, 0x6eb8, 0xc8a7, 0x1, 0x1);
        gbc.writeMem(0x1bcd, { 0x6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4e47);
        EXPECT(gbc.pc(), 0x1bcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00A2
        gbc.setState(0xc423, 0xa0ef, 0x5990, 0x9806, 0xf651, 0x1645, 0x1, 0x0);
        gbc.writeMem(0xc423, { 0x6, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa0ef);
        EXPECT(gbc.pc(), 0xc425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc423), 0x6);
        EXPECT(gbc.readMem(0xc424), 0x48);
        // 06 00A3
        gbc.setState(0x10a6, 0xbe57, 0x6a0, 0x9d98, 0x7fc8, 0xdac0, 0x1, 0x1);
        gbc.writeMem(0x10a6, { 0x6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xbe57);
        EXPECT(gbc.pc(), 0x10a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00A4
        gbc.setState(0x6ef0, 0x4c75, 0x8c30, 0xe240, 0x3adb, 0xdcc9, 0x0, 0x1);
        gbc.writeMem(0x6ef0, { 0x6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x4c75);
        EXPECT(gbc.pc(), 0x6ef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00A5
        gbc.setState(0x7e6, 0xc6f4, 0x1040, 0x85d0, 0x31a1, 0xe64e, 0x1, 0x1);
        gbc.writeMem(0x7e6, { 0x6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xc6f4);
        EXPECT(gbc.pc(), 0x7e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00A6
        gbc.setState(0xd669, 0x1d5a, 0x49d0, 0x98e7, 0x45d3, 0xeed7, 0x0, 0x1);
        gbc.writeMem(0xd669, { 0x6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1d5a);
        EXPECT(gbc.pc(), 0xd66b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd669), 0x6);
        EXPECT(gbc.readMem(0xd66a), 0xf7);
        // 06 00A7
        gbc.setState(0x317f, 0x60dd, 0x32a0, 0xb199, 0xad29, 0xd19f, 0x0, 0x1);
        gbc.writeMem(0x317f, { 0x6, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x60dd);
        EXPECT(gbc.pc(), 0x3181);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00A8
        gbc.setState(0x4cfd, 0xecef, 0x11a0, 0xd69f, 0xace7, 0xdf11, 0x1, 0x0);
        gbc.writeMem(0x4cfd, { 0x6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xecef);
        EXPECT(gbc.pc(), 0x4cff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00A9
        gbc.setState(0xbd50, 0x1818, 0x1630, 0x915d, 0x249b, 0xe416, 0x1, 0x1);
        gbc.writeMem(0xbd50, { 0x6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x1818);
        EXPECT(gbc.pc(), 0xbd52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd50), 0x6);
        EXPECT(gbc.readMem(0xbd51), 0xeb);
        // 06 00AA
        gbc.setState(0xea9d, 0x1e4a, 0xfb10, 0x1f31, 0x5f8a, 0xb92, 0x1, 0x0);
        gbc.writeMem(0xea9d, { 0x6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x1e4a);
        EXPECT(gbc.pc(), 0xea9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea9d), 0x6);
        EXPECT(gbc.readMem(0xea9e), 0xd);
        // 06 00AB
        gbc.setState(0x4114, 0xf8e5, 0x8e00, 0xd215, 0xae1d, 0x106c, 0x0, 0x1);
        gbc.writeMem(0x4114, { 0x6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf8e5);
        EXPECT(gbc.pc(), 0x4116);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00AC
        gbc.setState(0xdfb4, 0xbb78, 0xb7a0, 0x57ee, 0x6319, 0xd98a, 0x0, 0x0);
        gbc.writeMem(0xdfb4, { 0x6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xbb78);
        EXPECT(gbc.pc(), 0xdfb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfb4), 0x6);
        EXPECT(gbc.readMem(0xdfb5), 0x1d);
        // 06 00AD
        gbc.setState(0xa6ce, 0x3210, 0x5b0, 0x32ec, 0xf9dd, 0x951c, 0x0, 0x0);
        gbc.writeMem(0xa6ce, { 0x6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x3210);
        EXPECT(gbc.pc(), 0xa6d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6ce), 0x6);
        EXPECT(gbc.readMem(0xa6cf), 0x85);
        // 06 00AE
        gbc.setState(0x26bb, 0x808c, 0x92f0, 0x716d, 0x9e, 0xe55f, 0x1, 0x1);
        gbc.writeMem(0x26bb, { 0x6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x808c);
        EXPECT(gbc.pc(), 0x26bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00AF
        gbc.setState(0x572d, 0x5044, 0xe370, 0x7676, 0xa873, 0x3a35, 0x0, 0x0);
        gbc.writeMem(0x572d, { 0x6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5044);
        EXPECT(gbc.pc(), 0x572f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00B0
        gbc.setState(0xdb37, 0x1cee, 0xfae0, 0x5d00, 0xd41, 0x4c23, 0x1, 0x0);
        gbc.writeMem(0xdb37, { 0x6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1cee);
        EXPECT(gbc.pc(), 0xdb39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb37), 0x6);
        EXPECT(gbc.readMem(0xdb38), 0x39);
        // 06 00B1
        gbc.setState(0xa1b3, 0x72d5, 0x2570, 0x39a3, 0xefbd, 0x8d04, 0x0, 0x1);
        gbc.writeMem(0xa1b3, { 0x6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x72d5);
        EXPECT(gbc.pc(), 0xa1b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1b3), 0x6);
        EXPECT(gbc.readMem(0xa1b4), 0xff);
        // 06 00B2
        gbc.setState(0xfe7, 0x20fa, 0x1bd0, 0x8a95, 0xe536, 0x4f7f, 0x0, 0x0);
        gbc.writeMem(0xfe7, { 0x6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x20fa);
        EXPECT(gbc.pc(), 0xfe9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00B3
        gbc.setState(0xb060, 0xe255, 0x70, 0xbc01, 0xa95d, 0xdeb6, 0x1, 0x0);
        gbc.writeMem(0xb060, { 0x6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xe255);
        EXPECT(gbc.pc(), 0xb062);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb060), 0x6);
        EXPECT(gbc.readMem(0xb061), 0x91);
        // 06 00B4
        gbc.setState(0x29e0, 0xc640, 0xa7e0, 0xde94, 0x8edd, 0x64c4, 0x0, 0x0);
        gbc.writeMem(0x29e0, { 0x6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xc640);
        EXPECT(gbc.pc(), 0x29e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00B5
        gbc.setState(0x1f50, 0xdc93, 0xfaa0, 0x791d, 0xde24, 0x9723, 0x0, 0x1);
        gbc.writeMem(0x1f50, { 0x6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xdc93);
        EXPECT(gbc.pc(), 0x1f52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00B6
        gbc.setState(0xd4d9, 0xe126, 0x790, 0xb705, 0x6bf, 0x4eb4, 0x0, 0x0);
        gbc.writeMem(0xd4d9, { 0x6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xe126);
        EXPECT(gbc.pc(), 0xd4db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4d9), 0x6);
        EXPECT(gbc.readMem(0xd4da), 0x93);
        // 06 00B7
        gbc.setState(0xd053, 0x4b3b, 0xa610, 0xb9e8, 0x7bbd, 0x9de4, 0x1, 0x0);
        gbc.writeMem(0xd053, { 0x6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x4b3b);
        EXPECT(gbc.pc(), 0xd055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd053), 0x6);
        EXPECT(gbc.readMem(0xd054), 0x21);
        // 06 00B8
        gbc.setState(0xb44, 0xfe7d, 0x7090, 0x931d, 0x79eb, 0x207b, 0x1, 0x0);
        gbc.writeMem(0xb44, { 0x6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xfe7d);
        EXPECT(gbc.pc(), 0xb46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00B9
        gbc.setState(0xa0c0, 0x9c15, 0x9ac0, 0x80c6, 0x3eee, 0x5c9b, 0x0, 0x1);
        gbc.writeMem(0xa0c0, { 0x6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x9c15);
        EXPECT(gbc.pc(), 0xa0c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c0), 0x6);
        EXPECT(gbc.readMem(0xa0c1), 0xe6);
        // 06 00BA
        gbc.setState(0x1936, 0xbac6, 0x8d00, 0x6cf2, 0xa89a, 0x123b, 0x0, 0x0);
        gbc.writeMem(0x1936, { 0x6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xbac6);
        EXPECT(gbc.pc(), 0x1938);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00BB
        gbc.setState(0x2ab2, 0x7a1d, 0xd260, 0xddc6, 0xf446, 0xc1ad, 0x0, 0x1);
        gbc.writeMem(0x2ab2, { 0x6, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x7a1d);
        EXPECT(gbc.pc(), 0x2ab4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00BC
        gbc.setState(0x4d7b, 0x49da, 0xcd50, 0xb01e, 0xa51d, 0xba0d, 0x0, 0x0);
        gbc.writeMem(0x4d7b, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x49da);
        EXPECT(gbc.pc(), 0x4d7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00BD
        gbc.setState(0xddf2, 0x5bc1, 0xc310, 0xa1ee, 0x397a, 0xeb5d, 0x1, 0x0);
        gbc.writeMem(0xddf2, { 0x6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x5bc1);
        EXPECT(gbc.pc(), 0xddf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddf2), 0x6);
        EXPECT(gbc.readMem(0xddf3), 0x1f);
        // 06 00BE
        gbc.setState(0x4947, 0x646e, 0xd810, 0x8ba4, 0xb, 0x777e, 0x0, 0x0);
        gbc.writeMem(0x4947, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x646e);
        EXPECT(gbc.pc(), 0x4949);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00BF
        gbc.setState(0x6eb, 0x22cd, 0xded0, 0x3780, 0x4973, 0x5e4b, 0x0, 0x0);
        gbc.writeMem(0x6eb, { 0x6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x22cd);
        EXPECT(gbc.pc(), 0x6ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00C0
        gbc.setState(0x5338, 0x3b28, 0xc160, 0x8ff1, 0x968f, 0x27f4, 0x0, 0x1);
        gbc.writeMem(0x5338, { 0x6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x3b28);
        EXPECT(gbc.pc(), 0x533a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00C1
        gbc.setState(0xb741, 0x5c18, 0x7d0, 0x3b8c, 0xc59b, 0xc55d, 0x1, 0x1);
        gbc.writeMem(0xb741, { 0x6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x5c18);
        EXPECT(gbc.pc(), 0xb743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb741), 0x6);
        EXPECT(gbc.readMem(0xb742), 0xcc);
        // 06 00C3
        gbc.setState(0xe9ca, 0x8436, 0x1c20, 0x95f2, 0xfbd1, 0x955c, 0x0, 0x0);
        gbc.writeMem(0xe9ca, { 0x6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8436);
        EXPECT(gbc.pc(), 0xe9cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ca), 0x6);
        EXPECT(gbc.readMem(0xe9cb), 0xff);
        // 06 00C4
        gbc.setState(0x4068, 0x8fe1, 0x4400, 0x6de6, 0x4284, 0x6bbf, 0x0, 0x1);
        gbc.writeMem(0x4068, { 0x6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8fe1);
        EXPECT(gbc.pc(), 0x406a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00C5
        gbc.setState(0x54c3, 0x6c86, 0x1a10, 0xc5c7, 0xae54, 0xf670, 0x1, 0x1);
        gbc.writeMem(0x54c3, { 0x6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x6c86);
        EXPECT(gbc.pc(), 0x54c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00C6
        gbc.setState(0x71da, 0x52ef, 0xe7d0, 0xc9d9, 0x7922, 0xe028, 0x1, 0x1);
        gbc.writeMem(0x71da, { 0x6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x52ef);
        EXPECT(gbc.pc(), 0x71dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00C7
        gbc.setState(0x40a9, 0x7701, 0x5510, 0x2c60, 0xdb97, 0x8220, 0x1, 0x1);
        gbc.writeMem(0x40a9, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x7701);
        EXPECT(gbc.pc(), 0x40ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00C8
        gbc.setState(0x9005, 0xf9fc, 0x7970, 0xe775, 0x262, 0x98e, 0x0, 0x0);
        gbc.writeMem(0x9005, { 0x6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xf9fc);
        EXPECT(gbc.pc(), 0x9007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9005), 0x6);
        EXPECT(gbc.readMem(0x9006), 0xed);
        // 06 00C9
        gbc.setState(0xeb82, 0x6703, 0x6e40, 0xa5c7, 0x9c9e, 0x8424, 0x0, 0x0);
        gbc.writeMem(0xeb82, { 0x6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x6703);
        EXPECT(gbc.pc(), 0xeb84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb82), 0x6);
        EXPECT(gbc.readMem(0xeb83), 0x6d);
        // 06 00CA
        gbc.setState(0x61e8, 0xd445, 0x9e30, 0xc9c3, 0x2fb5, 0x5d97, 0x0, 0x1);
        gbc.writeMem(0x61e8, { 0x6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd445);
        EXPECT(gbc.pc(), 0x61ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00CB
        gbc.setState(0xa84a, 0x22c0, 0x5980, 0x9a4a, 0xfce8, 0xb55a, 0x1, 0x0);
        gbc.writeMem(0xa84a, { 0x6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x22c0);
        EXPECT(gbc.pc(), 0xa84c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa84a), 0x6);
        EXPECT(gbc.readMem(0xa84b), 0x96);
        // 06 00CC
        gbc.setState(0x9fb6, 0xb480, 0x65d0, 0xfd90, 0x6ece, 0xfd80, 0x1, 0x1);
        gbc.writeMem(0x9fb6, { 0x6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb480);
        EXPECT(gbc.pc(), 0x9fb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fb6), 0x6);
        EXPECT(gbc.readMem(0x9fb7), 0x9f);
        // 06 00CD
        gbc.setState(0xcdf2, 0x139e, 0xea90, 0xd912, 0x8eb4, 0xb726, 0x0, 0x1);
        gbc.writeMem(0xcdf2, { 0x6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x139e);
        EXPECT(gbc.pc(), 0xcdf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdf2), 0x6);
        EXPECT(gbc.readMem(0xcdf3), 0x98);
        // 06 00CE
        gbc.setState(0xa9f6, 0x9bd6, 0xb710, 0x2de9, 0xbe58, 0x1575, 0x1, 0x1);
        gbc.writeMem(0xa9f6, { 0x6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x9bd6);
        EXPECT(gbc.pc(), 0xa9f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9f6), 0x6);
        EXPECT(gbc.readMem(0xa9f7), 0x52);
        // 06 00CF
        gbc.setState(0xea61, 0x7229, 0xe7b0, 0xb7bd, 0x9b0e, 0x7179, 0x0, 0x0);
        gbc.writeMem(0xea61, { 0x6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x7229);
        EXPECT(gbc.pc(), 0xea63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea61), 0x6);
        EXPECT(gbc.readMem(0xea62), 0x2c);
        // 06 00D0
        gbc.setState(0xae49, 0x13d0, 0x35a0, 0x8cc5, 0xe5ef, 0x9a9c, 0x1, 0x1);
        gbc.writeMem(0xae49, { 0x6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x13d0);
        EXPECT(gbc.pc(), 0xae4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae49), 0x6);
        EXPECT(gbc.readMem(0xae4a), 0xdb);
        // 06 00D1
        gbc.setState(0x9aa8, 0xd1bc, 0x60e0, 0xe3a5, 0xee15, 0xf901, 0x0, 0x1);
        gbc.writeMem(0x9aa8, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xd1bc);
        EXPECT(gbc.pc(), 0x9aaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aa8), 0x6);
        EXPECT(gbc.readMem(0x9aa9), 0x11);
        // 06 00D2
        gbc.setState(0x3c74, 0x4273, 0x2bd0, 0x29f1, 0x6bae, 0xe8e4, 0x1, 0x1);
        gbc.writeMem(0x3c74, { 0x6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x4273);
        EXPECT(gbc.pc(), 0x3c76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00D3
        gbc.setState(0x7f46, 0x4c, 0x4240, 0x3a23, 0xd3e, 0x9b6c, 0x1, 0x0);
        gbc.writeMem(0x7f46, { 0x6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4c);
        EXPECT(gbc.pc(), 0x7f48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00D4
        gbc.setState(0xaf82, 0xc3c4, 0xb000, 0x4da, 0xe2b3, 0xb7da, 0x0, 0x0);
        gbc.writeMem(0xaf82, { 0x6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xc3c4);
        EXPECT(gbc.pc(), 0xaf84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf82), 0x6);
        EXPECT(gbc.readMem(0xaf83), 0xb3);
        // 06 00D5
        gbc.setState(0x1491, 0x8881, 0x2460, 0x6bc, 0x6080, 0xc6da, 0x0, 0x0);
        gbc.writeMem(0x1491, { 0x6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8881);
        EXPECT(gbc.pc(), 0x1493);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00D6
        gbc.setState(0x4331, 0x9303, 0xe060, 0x26b6, 0xa60e, 0x9866, 0x1, 0x1);
        gbc.writeMem(0x4331, { 0x6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x9303);
        EXPECT(gbc.pc(), 0x4333);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00D7
        gbc.setState(0x89eb, 0x5519, 0xafe0, 0xeab2, 0x5e25, 0xfeee, 0x0, 0x0);
        gbc.writeMem(0x89eb, { 0x6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x5519);
        EXPECT(gbc.pc(), 0x89ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89eb), 0x6);
        EXPECT(gbc.readMem(0x89ec), 0x13);
        // 06 00D8
        gbc.setState(0x8d93, 0xcc41, 0xe370, 0xf8bc, 0x8abe, 0x1067, 0x1, 0x1);
        gbc.writeMem(0x8d93, { 0x6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xcc41);
        EXPECT(gbc.pc(), 0x8d95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d93), 0x6);
        EXPECT(gbc.readMem(0x8d94), 0xb3);
        // 06 00D9
        gbc.setState(0x1c71, 0x4803, 0x2690, 0xe2a5, 0x263b, 0xcca6, 0x1, 0x0);
        gbc.writeMem(0x1c71, { 0x6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4803);
        EXPECT(gbc.pc(), 0x1c73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00DA
        gbc.setState(0x2860, 0x9b6f, 0xc890, 0xc232, 0x72f, 0xb389, 0x1, 0x0);
        gbc.writeMem(0x2860, { 0x6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x9b6f);
        EXPECT(gbc.pc(), 0x2862);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00DC
        gbc.setState(0x5be9, 0x8bdb, 0x3e70, 0xdd9f, 0x6dad, 0x2ff6, 0x1, 0x1);
        gbc.writeMem(0x5be9, { 0x6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x8bdb);
        EXPECT(gbc.pc(), 0x5beb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00DD
        gbc.setState(0x4db7, 0xfe, 0x60b0, 0xd268, 0x17cd, 0xf5c5, 0x1, 0x0);
        gbc.writeMem(0x4db7, { 0x6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xfe);
        EXPECT(gbc.pc(), 0x4db9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00DE
        gbc.setState(0x8023, 0x8e92, 0x5460, 0xa119, 0x1f02, 0xdf5d, 0x0, 0x1);
        gbc.writeMem(0x8023, { 0x6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8e92);
        EXPECT(gbc.pc(), 0x8025);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8023), 0x6);
        EXPECT(gbc.readMem(0x8024), 0xfe);
        // 06 00DF
        gbc.setState(0x5b11, 0x22f1, 0xe1e0, 0x7818, 0x3764, 0x2fce, 0x1, 0x1);
        gbc.writeMem(0x5b11, { 0x6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x22f1);
        EXPECT(gbc.pc(), 0x5b13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00E0
        gbc.setState(0x4a89, 0x7c44, 0xed50, 0xbdd, 0x33be, 0x49cb, 0x1, 0x0);
        gbc.writeMem(0x4a89, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7c44);
        EXPECT(gbc.pc(), 0x4a8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00E1
        gbc.setState(0x396e, 0x657f, 0xa200, 0xec8f, 0xd836, 0xdb78, 0x1, 0x1);
        gbc.writeMem(0x396e, { 0x6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x657f);
        EXPECT(gbc.pc(), 0x3970);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00E2
        gbc.setState(0x8df, 0x76fc, 0x400, 0x870b, 0xcefc, 0x2c85, 0x0, 0x1);
        gbc.writeMem(0x8df, { 0x6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x76fc);
        EXPECT(gbc.pc(), 0x8e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00E3
        gbc.setState(0x67f6, 0x9a4a, 0xbd20, 0x4893, 0x6c9, 0xe96, 0x1, 0x0);
        gbc.writeMem(0x67f6, { 0x6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x9a4a);
        EXPECT(gbc.pc(), 0x67f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00E5
        gbc.setState(0xe0f8, 0xf559, 0xbac0, 0x8449, 0xa911, 0x4c06, 0x0, 0x0);
        gbc.writeMem(0xe0f8, { 0x6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xf559);
        EXPECT(gbc.pc(), 0xe0fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0f8), 0x6);
        EXPECT(gbc.readMem(0xe0f9), 0x55);
        // 06 00E6
        gbc.setState(0x797e, 0x3d68, 0xa060, 0xe66c, 0x6262, 0x227b, 0x0, 0x0);
        gbc.writeMem(0x797e, { 0x6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x3d68);
        EXPECT(gbc.pc(), 0x7980);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00E7
        gbc.setState(0xed5a, 0x7c4c, 0x4190, 0xfa86, 0x58c0, 0x9f6d, 0x0, 0x1);
        gbc.writeMem(0xed5a, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x7c4c);
        EXPECT(gbc.pc(), 0xed5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed5a), 0x6);
        EXPECT(gbc.readMem(0xed5b), 0xef);
        // 06 00E8
        gbc.setState(0x1ade, 0x85d0, 0x99e0, 0x8c6, 0xfc14, 0x3af8, 0x1, 0x0);
        gbc.writeMem(0x1ade, { 0x6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x85d0);
        EXPECT(gbc.pc(), 0x1ae0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00E9
        gbc.setState(0x8ded, 0x8ee1, 0xcfa0, 0x6d9c, 0x1a56, 0xcc1f, 0x1, 0x0);
        gbc.writeMem(0x8ded, { 0x6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x8ee1);
        EXPECT(gbc.pc(), 0x8def);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ded), 0x6);
        EXPECT(gbc.readMem(0x8dee), 0x63);
        // 06 00EA
        gbc.setState(0x156, 0xe673, 0xd330, 0x2253, 0xb9e0, 0x5f15, 0x1, 0x0);
        gbc.writeMem(0x156, { 0x6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe673);
        EXPECT(gbc.pc(), 0x158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00EB
        gbc.setState(0xc9c2, 0xd225, 0x2430, 0xcde6, 0xa915, 0xcf7d, 0x0, 0x0);
        gbc.writeMem(0xc9c2, { 0x6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xd225);
        EXPECT(gbc.pc(), 0xc9c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9c2), 0x6);
        EXPECT(gbc.readMem(0xc9c3), 0xce);
        // 06 00EC
        gbc.setState(0x78b5, 0xe5cd, 0xf0, 0x84b, 0x700c, 0x2da2, 0x0, 0x0);
        gbc.writeMem(0x78b5, { 0x6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xe5cd);
        EXPECT(gbc.pc(), 0x78b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 00ED
        gbc.setState(0xbd8b, 0x8d05, 0x1430, 0x8e42, 0x1e20, 0x396d, 0x0, 0x0);
        gbc.writeMem(0xbd8b, { 0x6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x8d05);
        EXPECT(gbc.pc(), 0xbd8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd8b), 0x6);
        EXPECT(gbc.readMem(0xbd8c), 0xb2);
        // 06 00EE
        gbc.setState(0xd3d0, 0x6f32, 0x97e0, 0x9064, 0x7d4d, 0x2854, 0x1, 0x0);
        gbc.writeMem(0xd3d0, { 0x6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6f32);
        EXPECT(gbc.pc(), 0xd3d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3d0), 0x6);
        EXPECT(gbc.readMem(0xd3d1), 0x3);
        // 06 00EF
        gbc.setState(0xc428, 0x67be, 0xcc90, 0xedcf, 0xf736, 0xd2d, 0x0, 0x0);
        gbc.writeMem(0xc428, { 0x6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x67be);
        EXPECT(gbc.pc(), 0xc42a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc428), 0x6);
        EXPECT(gbc.readMem(0xc429), 0x1b);
        // 06 00F0
        gbc.setState(0x6d2a, 0x5977, 0x1450, 0xbd15, 0x1131, 0x36ce, 0x0, 0x1);
        gbc.writeMem(0x6d2a, { 0x6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5977);
        EXPECT(gbc.pc(), 0x6d2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00F1
        gbc.setState(0x5da9, 0xcfe1, 0xe9a0, 0xac9, 0x6242, 0x2336, 0x1, 0x0);
        gbc.writeMem(0x5da9, { 0x6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xcfe1);
        EXPECT(gbc.pc(), 0x5dab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 00F2
        gbc.setState(0x56e4, 0xacd7, 0x7210, 0xdc36, 0x70ae, 0x535e, 0x1, 0x1);
        gbc.writeMem(0x56e4, { 0x6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xacd7);
        EXPECT(gbc.pc(), 0x56e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00F3
        gbc.setState(0xf73, 0xf13c, 0xd790, 0xd654, 0x3a52, 0x440a, 0x0, 0x1);
        gbc.writeMem(0xf73, { 0x6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf13c);
        EXPECT(gbc.pc(), 0xf75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00F5
        gbc.setState(0xb3ee, 0xc4e, 0x79d0, 0x5c15, 0x604a, 0x3bb3, 0x0, 0x0);
        gbc.writeMem(0xb3ee, { 0x6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc4e);
        EXPECT(gbc.pc(), 0xb3f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ee), 0x6);
        EXPECT(gbc.readMem(0xb3ef), 0xeb);
        // 06 00F6
        gbc.setState(0x6dc7, 0x74b, 0xa940, 0x95c3, 0xfc3d, 0x8ecd, 0x1, 0x1);
        gbc.writeMem(0x6dc7, { 0x6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x74b);
        EXPECT(gbc.pc(), 0x6dc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00F7
        gbc.setState(0xa9ef, 0xb87f, 0x5b0, 0x4b38, 0xaf0f, 0x3b60, 0x1, 0x1);
        gbc.writeMem(0xa9ef, { 0x6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb87f);
        EXPECT(gbc.pc(), 0xa9f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9ef), 0x6);
        EXPECT(gbc.readMem(0xa9f0), 0x3f);
        // 06 00F8
        gbc.setState(0x4166, 0x5996, 0x3480, 0xc569, 0x9d8e, 0x43b0, 0x0, 0x1);
        gbc.writeMem(0x4166, { 0x6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5996);
        EXPECT(gbc.pc(), 0x4168);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00F9
        gbc.setState(0x4d45, 0xfc5, 0x2e40, 0x3365, 0x41b9, 0x72d5, 0x1, 0x0);
        gbc.writeMem(0x4d45, { 0x6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfc5);
        EXPECT(gbc.pc(), 0x4d47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00FA
        gbc.setState(0x75c1, 0x6a4d, 0xa850, 0xeaf0, 0x35a8, 0xdc7b, 0x0, 0x0);
        gbc.writeMem(0x75c1, { 0x6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x6a4d);
        EXPECT(gbc.pc(), 0x75c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00FB
        gbc.setState(0xe9f1, 0xe47b, 0x1cc0, 0xf45a, 0x84ef, 0xf56f, 0x1, 0x0);
        gbc.writeMem(0xe9f1, { 0x6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xe47b);
        EXPECT(gbc.pc(), 0xe9f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9f1), 0x6);
        EXPECT(gbc.readMem(0xe9f2), 0x97);
        // 06 00FC
        gbc.setState(0x52b1, 0x2336, 0x7f50, 0xca80, 0xfca7, 0xfe14, 0x1, 0x0);
        gbc.writeMem(0x52b1, { 0x6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2336);
        EXPECT(gbc.pc(), 0x52b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 00FD
        gbc.setState(0x3186, 0x6a09, 0x21c0, 0x1063, 0x17ca, 0x904d, 0x1, 0x1);
        gbc.writeMem(0x3186, { 0x6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x6a09);
        EXPECT(gbc.pc(), 0x3188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 00FE
        gbc.setState(0xd369, 0x45b6, 0xacd0, 0x3115, 0x4be1, 0x3033, 0x0, 0x1);
        gbc.writeMem(0xd369, { 0x6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x45b6);
        EXPECT(gbc.pc(), 0xd36b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd369), 0x6);
        EXPECT(gbc.readMem(0xd36a), 0xdd);
        // 06 00FF
        gbc.setState(0x6a5b, 0xb012, 0xf290, 0xe4bd, 0x94a0, 0x825, 0x1, 0x0);
        gbc.writeMem(0x6a5b, { 0x6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb012);
        EXPECT(gbc.pc(), 0x6a5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0100
        gbc.setState(0xc7d1, 0x842d, 0x7260, 0x83a9, 0x58af, 0xd495, 0x0, 0x1);
        gbc.writeMem(0xc7d1, { 0x6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x842d);
        EXPECT(gbc.pc(), 0xc7d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7d1), 0x6);
        EXPECT(gbc.readMem(0xc7d2), 0x7a);
        // 06 0101
        gbc.setState(0x2488, 0xab88, 0xc090, 0x27ed, 0xe347, 0x375e, 0x1, 0x1);
        gbc.writeMem(0x2488, { 0x6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xab88);
        EXPECT(gbc.pc(), 0x248a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0102
        gbc.setState(0x28ac, 0x1ca0, 0x2d0, 0x517b, 0x8ca1, 0x484, 0x0, 0x0);
        gbc.writeMem(0x28ac, { 0x6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x1ca0);
        EXPECT(gbc.pc(), 0x28ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0103
        gbc.setState(0xb8dc, 0x5458, 0x8c40, 0x906a, 0xd033, 0xa321, 0x1, 0x0);
        gbc.writeMem(0xb8dc, { 0x6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5458);
        EXPECT(gbc.pc(), 0xb8de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8dc), 0x6);
        EXPECT(gbc.readMem(0xb8dd), 0xcf);
        // 06 0104
        gbc.setState(0xdf6b, 0x53a2, 0x8610, 0xf406, 0x5fc1, 0xb05a, 0x0, 0x0);
        gbc.writeMem(0xdf6b, { 0x6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x53a2);
        EXPECT(gbc.pc(), 0xdf6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf6b), 0x6);
        EXPECT(gbc.readMem(0xdf6c), 0xa9);
        // 06 0105
        gbc.setState(0x7877, 0xa089, 0x8df0, 0x93ce, 0xb1a, 0x8c78, 0x1, 0x0);
        gbc.writeMem(0x7877, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xa089);
        EXPECT(gbc.pc(), 0x7879);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0106
        gbc.setState(0x7220, 0xf9a6, 0x7b80, 0x5023, 0xcbf8, 0xcdef, 0x1, 0x1);
        gbc.writeMem(0x7220, { 0x6, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xf9a6);
        EXPECT(gbc.pc(), 0x7222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0107
        gbc.setState(0xd52b, 0xd353, 0xc540, 0x14d9, 0x6afe, 0x25f9, 0x1, 0x0);
        gbc.writeMem(0xd52b, { 0x6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xd353);
        EXPECT(gbc.pc(), 0xd52d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd52b), 0x6);
        EXPECT(gbc.readMem(0xd52c), 0x68);
        // 06 0108
        gbc.setState(0x85a0, 0x595, 0x5000, 0x85dd, 0xb07, 0xc820, 0x0, 0x1);
        gbc.writeMem(0x85a0, { 0x6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x595);
        EXPECT(gbc.pc(), 0x85a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85a0), 0x6);
        EXPECT(gbc.readMem(0x85a1), 0x3f);
        // 06 0109
        gbc.setState(0x48b6, 0x7f7d, 0x4650, 0x8af1, 0x7ed2, 0xbb21, 0x1, 0x0);
        gbc.writeMem(0x48b6, { 0x6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x7f7d);
        EXPECT(gbc.pc(), 0x48b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 010A
        gbc.setState(0xc82a, 0xffc2, 0xb1f0, 0x81a6, 0x82a5, 0x1752, 0x1, 0x1);
        gbc.writeMem(0xc82a, { 0x6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xffc2);
        EXPECT(gbc.pc(), 0xc82c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc82a), 0x6);
        EXPECT(gbc.readMem(0xc82b), 0x84);
        // 06 010B
        gbc.setState(0xe4f0, 0x6949, 0x9e10, 0x3d96, 0x9e18, 0x17f8, 0x1, 0x0);
        gbc.writeMem(0xe4f0, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6949);
        EXPECT(gbc.pc(), 0xe4f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4f0), 0x6);
        EXPECT(gbc.readMem(0xe4f1), 0x32);
        // 06 010C
        gbc.setState(0xe5fa, 0xb8ee, 0x5bd0, 0xb6c6, 0x197f, 0x85a5, 0x1, 0x1);
        gbc.writeMem(0xe5fa, { 0x6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xb8ee);
        EXPECT(gbc.pc(), 0xe5fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5fa), 0x6);
        EXPECT(gbc.readMem(0xe5fb), 0x5f);
        // 06 010E
        gbc.setState(0x23da, 0x941a, 0x6e70, 0x9145, 0x1621, 0x7766, 0x0, 0x1);
        gbc.writeMem(0x23da, { 0x6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x941a);
        EXPECT(gbc.pc(), 0x23dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0110
        gbc.setState(0x5813, 0x59b, 0x5740, 0x6bea, 0x2ca, 0xcb79, 0x1, 0x1);
        gbc.writeMem(0x5813, { 0x6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x59b);
        EXPECT(gbc.pc(), 0x5815);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0111
        gbc.setState(0x732, 0x70dc, 0xd6a0, 0x406a, 0x604c, 0xc8bc, 0x1, 0x1);
        gbc.writeMem(0x732, { 0x6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x70dc);
        EXPECT(gbc.pc(), 0x734);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0112
        gbc.setState(0xdb98, 0xc49, 0xb220, 0x64a7, 0xdf56, 0x5d4b, 0x0, 0x0);
        gbc.writeMem(0xdb98, { 0x6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc49);
        EXPECT(gbc.pc(), 0xdb9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb98), 0x6);
        EXPECT(gbc.readMem(0xdb99), 0xa);
        // 06 0113
        gbc.setState(0xdad8, 0x2251, 0x9e90, 0xa91b, 0x3c13, 0xa99f, 0x0, 0x1);
        gbc.writeMem(0xdad8, { 0x6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x2251);
        EXPECT(gbc.pc(), 0xdada);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdad8), 0x6);
        EXPECT(gbc.readMem(0xdad9), 0x5f);
        // 06 0114
        gbc.setState(0x2381, 0x558a, 0x18f0, 0x8c6b, 0x914e, 0x5502, 0x1, 0x0);
        gbc.writeMem(0x2381, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x558a);
        EXPECT(gbc.pc(), 0x2383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0115
        gbc.setState(0x33e9, 0x7f7, 0xfe60, 0xb9cb, 0x76a4, 0x71f3, 0x0, 0x0);
        gbc.writeMem(0x33e9, { 0x6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7f7);
        EXPECT(gbc.pc(), 0x33eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0116
        gbc.setState(0x26a6, 0x4444, 0xf340, 0x74d9, 0xd57, 0xb835, 0x0, 0x0);
        gbc.writeMem(0x26a6, { 0x6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4444);
        EXPECT(gbc.pc(), 0x26a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0117
        gbc.setState(0x7856, 0x130d, 0x8180, 0x47b5, 0x6f3b, 0x9c27, 0x1, 0x0);
        gbc.writeMem(0x7856, { 0x6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x130d);
        EXPECT(gbc.pc(), 0x7858);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0118
        gbc.setState(0x6cf5, 0xabd8, 0xc700, 0x274c, 0xb343, 0x5e0, 0x1, 0x0);
        gbc.writeMem(0x6cf5, { 0x6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xabd8);
        EXPECT(gbc.pc(), 0x6cf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0119
        gbc.setState(0xacf0, 0xb559, 0x3c0, 0x59ba, 0x354f, 0x355d, 0x1, 0x1);
        gbc.writeMem(0xacf0, { 0x6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb559);
        EXPECT(gbc.pc(), 0xacf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacf0), 0x6);
        EXPECT(gbc.readMem(0xacf1), 0x59);
        // 06 011A
        gbc.setState(0x4819, 0xa7e4, 0xb010, 0x4501, 0x9ef8, 0x5a8e, 0x1, 0x1);
        gbc.writeMem(0x4819, { 0x6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa7e4);
        EXPECT(gbc.pc(), 0x481b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 011B
        gbc.setState(0xa4b5, 0x3f47, 0x60b0, 0x4452, 0xbc76, 0xbb8f, 0x1, 0x1);
        gbc.writeMem(0xa4b5, { 0x6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3f47);
        EXPECT(gbc.pc(), 0xa4b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4b5), 0x6);
        EXPECT(gbc.readMem(0xa4b6), 0xaf);
        // 06 011C
        gbc.setState(0x46fd, 0xb287, 0xaac0, 0x2d3, 0x6170, 0x82c3, 0x0, 0x1);
        gbc.writeMem(0x46fd, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb287);
        EXPECT(gbc.pc(), 0x46ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 011D
        gbc.setState(0x1af1, 0x96ea, 0xa470, 0x2871, 0xbe7a, 0xa699, 0x1, 0x0);
        gbc.writeMem(0x1af1, { 0x6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x96ea);
        EXPECT(gbc.pc(), 0x1af3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 011E
        gbc.setState(0xd84f, 0x4525, 0x3c90, 0x80e0, 0xb11b, 0x36fb, 0x0, 0x1);
        gbc.writeMem(0xd84f, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x4525);
        EXPECT(gbc.pc(), 0xd851);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd84f), 0x6);
        EXPECT(gbc.readMem(0xd850), 0x72);
        // 06 011F
        gbc.setState(0x5a9, 0xa24, 0x3a00, 0xc7d7, 0x98b5, 0x33cc, 0x1, 0x1);
        gbc.writeMem(0x5a9, { 0x6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa24);
        EXPECT(gbc.pc(), 0x5ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0120
        gbc.setState(0x584e, 0x991f, 0x7800, 0x4d3f, 0x216f, 0x5073, 0x0, 0x0);
        gbc.writeMem(0x584e, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x991f);
        EXPECT(gbc.pc(), 0x5850);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0121
        gbc.setState(0x5fa7, 0x2458, 0xb3e0, 0x57e, 0xb83f, 0xcae7, 0x1, 0x0);
        gbc.writeMem(0x5fa7, { 0x6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x2458);
        EXPECT(gbc.pc(), 0x5fa9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0122
        gbc.setState(0x89d2, 0x576a, 0xcda0, 0x983f, 0xbe65, 0x11d7, 0x1, 0x1);
        gbc.writeMem(0x89d2, { 0x6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x576a);
        EXPECT(gbc.pc(), 0x89d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89d2), 0x6);
        EXPECT(gbc.readMem(0x89d3), 0x20);
        // 06 0123
        gbc.setState(0xdf32, 0x81ff, 0xc680, 0x3fa4, 0x7e55, 0x63a8, 0x1, 0x0);
        gbc.writeMem(0xdf32, { 0x6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x81ff);
        EXPECT(gbc.pc(), 0xdf34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf32), 0x6);
        EXPECT(gbc.readMem(0xdf33), 0x86);
        // 06 0124
        gbc.setState(0xaf9d, 0x1163, 0x5ee0, 0xb0b5, 0xce6e, 0x822, 0x1, 0x0);
        gbc.writeMem(0xaf9d, { 0x6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1163);
        EXPECT(gbc.pc(), 0xaf9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf9d), 0x6);
        EXPECT(gbc.readMem(0xaf9e), 0x3a);
        // 06 0125
        gbc.setState(0x4c03, 0xbd11, 0x7e40, 0xaddc, 0x50c2, 0x2d12, 0x1, 0x0);
        gbc.writeMem(0x4c03, { 0x6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xbd11);
        EXPECT(gbc.pc(), 0x4c05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0126
        gbc.setState(0x7463, 0xffc0, 0xb300, 0x4a30, 0x4011, 0x66f0, 0x0, 0x0);
        gbc.writeMem(0x7463, { 0x6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xffc0);
        EXPECT(gbc.pc(), 0x7465);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0127
        gbc.setState(0x3865, 0x6071, 0x92e0, 0x971c, 0x8eb7, 0xfd09, 0x1, 0x1);
        gbc.writeMem(0x3865, { 0x6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6071);
        EXPECT(gbc.pc(), 0x3867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0128
        gbc.setState(0x50d7, 0x28b, 0x44b0, 0x8309, 0x59, 0xf80d, 0x0, 0x0);
        gbc.writeMem(0x50d7, { 0x6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x28b);
        EXPECT(gbc.pc(), 0x50d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 012B
        gbc.setState(0x84b4, 0x912d, 0x3630, 0xd543, 0x20bf, 0x8d76, 0x1, 0x0);
        gbc.writeMem(0x84b4, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x912d);
        EXPECT(gbc.pc(), 0x84b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84b4), 0x6);
        EXPECT(gbc.readMem(0x84b5), 0x35);
        // 06 012D
        gbc.setState(0x4511, 0xccf2, 0x6730, 0xd6eb, 0x9926, 0x8ae9, 0x1, 0x0);
        gbc.writeMem(0x4511, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xccf2);
        EXPECT(gbc.pc(), 0x4513);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 012E
        gbc.setState(0x8201, 0xa479, 0xfe80, 0x31e4, 0x241, 0xcbca, 0x1, 0x0);
        gbc.writeMem(0x8201, { 0x6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xa479);
        EXPECT(gbc.pc(), 0x8203);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8201), 0x6);
        EXPECT(gbc.readMem(0x8202), 0x37);
        // 06 012F
        gbc.setState(0xbb41, 0xd85e, 0x8430, 0x7df7, 0x66fa, 0xefd5, 0x0, 0x0);
        gbc.writeMem(0xbb41, { 0x6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd85e);
        EXPECT(gbc.pc(), 0xbb43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb41), 0x6);
        EXPECT(gbc.readMem(0xbb42), 0x1e);
        // 06 0130
        gbc.setState(0xeeab, 0x6463, 0x1890, 0x2813, 0x2af1, 0x5216, 0x1, 0x1);
        gbc.writeMem(0xeeab, { 0x6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6463);
        EXPECT(gbc.pc(), 0xeead);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeab), 0x6);
        EXPECT(gbc.readMem(0xeeac), 0x87);
        // 06 0131
        gbc.setState(0xeda7, 0xa68f, 0xf3b0, 0x3eb9, 0xd10c, 0x9fc7, 0x1, 0x1);
        gbc.writeMem(0xeda7, { 0x6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xa68f);
        EXPECT(gbc.pc(), 0xeda9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeda7), 0x6);
        EXPECT(gbc.readMem(0xeda8), 0x6d);
        // 06 0132
        gbc.setState(0xadce, 0xfb56, 0xfc00, 0xa783, 0x2cae, 0xd42f, 0x0, 0x0);
        gbc.writeMem(0xadce, { 0x6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xfb56);
        EXPECT(gbc.pc(), 0xadd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadce), 0x6);
        EXPECT(gbc.readMem(0xadcf), 0x9b);
        // 06 0133
        gbc.setState(0xd686, 0xc94c, 0xa4c0, 0x2129, 0x7e30, 0x4dd9, 0x0, 0x0);
        gbc.writeMem(0xd686, { 0x6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xc94c);
        EXPECT(gbc.pc(), 0xd688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd686), 0x6);
        EXPECT(gbc.readMem(0xd687), 0x14);
        // 06 0134
        gbc.setState(0x345a, 0x95fa, 0x37d0, 0x165e, 0x8baf, 0x6e35, 0x0, 0x1);
        gbc.writeMem(0x345a, { 0x6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x95fa);
        EXPECT(gbc.pc(), 0x345c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0135
        gbc.setState(0x8881, 0x3a09, 0xc6e0, 0x194, 0xeddd, 0x5972, 0x0, 0x0);
        gbc.writeMem(0x8881, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x3a09);
        EXPECT(gbc.pc(), 0x8883);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8881), 0x6);
        EXPECT(gbc.readMem(0x8882), 0x72);
        // 06 0136
        gbc.setState(0x87d5, 0xac4b, 0x3c50, 0xb5bc, 0x4e18, 0x23d7, 0x1, 0x0);
        gbc.writeMem(0x87d5, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xac4b);
        EXPECT(gbc.pc(), 0x87d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d5), 0x6);
        EXPECT(gbc.readMem(0x87d6), 0x32);
        // 06 0137
        gbc.setState(0x2d76, 0x8365, 0xde50, 0x4fb8, 0x4871, 0x9707, 0x0, 0x1);
        gbc.writeMem(0x2d76, { 0x6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8365);
        EXPECT(gbc.pc(), 0x2d78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0138
        gbc.setState(0xa975, 0x741a, 0xf660, 0x6f00, 0xfa21, 0x978d, 0x1, 0x1);
        gbc.writeMem(0xa975, { 0x6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x741a);
        EXPECT(gbc.pc(), 0xa977);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa975), 0x6);
        EXPECT(gbc.readMem(0xa976), 0x44);
        // 06 013A
        gbc.setState(0xa328, 0xd9a5, 0xed20, 0x86d1, 0xd0b2, 0xfdae, 0x0, 0x1);
        gbc.writeMem(0xa328, { 0x6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xd9a5);
        EXPECT(gbc.pc(), 0xa32a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa328), 0x6);
        EXPECT(gbc.readMem(0xa329), 0xa6);
        // 06 013B
        gbc.setState(0x5457, 0x31e5, 0xf720, 0xa584, 0xe655, 0x5ac7, 0x1, 0x1);
        gbc.writeMem(0x5457, { 0x6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x31e5);
        EXPECT(gbc.pc(), 0x5459);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 013C
        gbc.setState(0xdfdf, 0x540c, 0x2b70, 0xc032, 0xdcbe, 0xb226, 0x0, 0x1);
        gbc.writeMem(0xdfdf, { 0x6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x540c);
        EXPECT(gbc.pc(), 0xdfe1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfdf), 0x6);
        EXPECT(gbc.readMem(0xdfe0), 0xf2);
        // 06 013D
        gbc.setState(0x6b50, 0xcb6e, 0xd060, 0x1ded, 0x5212, 0xaa4a, 0x1, 0x0);
        gbc.writeMem(0x6b50, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xcb6e);
        EXPECT(gbc.pc(), 0x6b52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 013E
        gbc.setState(0x1449, 0x2de7, 0x5040, 0x27c1, 0xbdff, 0x35c6, 0x1, 0x0);
        gbc.writeMem(0x1449, { 0x6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2de7);
        EXPECT(gbc.pc(), 0x144b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0140
        gbc.setState(0xeb84, 0xf40f, 0xa200, 0x46af, 0x4199, 0x2afd, 0x0, 0x0);
        gbc.writeMem(0xeb84, { 0x6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xf40f);
        EXPECT(gbc.pc(), 0xeb86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb84), 0x6);
        EXPECT(gbc.readMem(0xeb85), 0xe);
        // 06 0141
        gbc.setState(0xd335, 0x5b1d, 0xc180, 0x593d, 0xf4bf, 0xd4cc, 0x1, 0x0);
        gbc.writeMem(0xd335, { 0x6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x5b1d);
        EXPECT(gbc.pc(), 0xd337);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd335), 0x6);
        EXPECT(gbc.readMem(0xd336), 0x27);
        // 06 0142
        gbc.setState(0xae8c, 0xb790, 0x2080, 0xb8b0, 0x8c65, 0xc170, 0x1, 0x0);
        gbc.writeMem(0xae8c, { 0x6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xb790);
        EXPECT(gbc.pc(), 0xae8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae8c), 0x6);
        EXPECT(gbc.readMem(0xae8d), 0xaa);
        // 06 0144
        gbc.setState(0x9556, 0x4587, 0x13e0, 0xbbf7, 0xa7c5, 0x3e3, 0x0, 0x1);
        gbc.writeMem(0x9556, { 0x6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4587);
        EXPECT(gbc.pc(), 0x9558);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9556), 0x6);
        EXPECT(gbc.readMem(0x9557), 0x1f);
        // 06 0146
        gbc.setState(0x9190, 0xa3b9, 0xa610, 0xb3af, 0xa55a, 0xca7a, 0x0, 0x1);
        gbc.writeMem(0x9190, { 0x6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa3b9);
        EXPECT(gbc.pc(), 0x9192);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9190), 0x6);
        EXPECT(gbc.readMem(0x9191), 0x79);
        // 06 0147
        gbc.setState(0xac80, 0xe100, 0x9cb0, 0xeb71, 0xeada, 0x3aff, 0x1, 0x1);
        gbc.writeMem(0xac80, { 0x6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe100);
        EXPECT(gbc.pc(), 0xac82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac80), 0x6);
        EXPECT(gbc.readMem(0xac81), 0x27);
        // 06 0148
        gbc.setState(0xa695, 0xf7b8, 0x7ef0, 0x8ee0, 0x500b, 0xdb03, 0x1, 0x0);
        gbc.writeMem(0xa695, { 0x6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf7b8);
        EXPECT(gbc.pc(), 0xa697);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa695), 0x6);
        EXPECT(gbc.readMem(0xa696), 0xb4);
        // 06 0149
        gbc.setState(0x1d1b, 0xbca, 0x3410, 0xd03e, 0x1536, 0x2316, 0x1, 0x1);
        gbc.writeMem(0x1d1b, { 0x6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xbca);
        EXPECT(gbc.pc(), 0x1d1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 014A
        gbc.setState(0x182, 0x62e5, 0x4e90, 0xdd77, 0x3ae, 0x6b83, 0x0, 0x0);
        gbc.writeMem(0x182, { 0x6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x62e5);
        EXPECT(gbc.pc(), 0x184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 014B
        gbc.setState(0x30bc, 0x9d3a, 0xa1b0, 0xfd4d, 0xb85d, 0x724d, 0x0, 0x0);
        gbc.writeMem(0x30bc, { 0x6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9d3a);
        EXPECT(gbc.pc(), 0x30be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 014C
        gbc.setState(0xe6de, 0x458, 0xe330, 0x147e, 0x8dd4, 0x8843, 0x0, 0x1);
        gbc.writeMem(0xe6de, { 0x6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x458);
        EXPECT(gbc.pc(), 0xe6e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6de), 0x6);
        EXPECT(gbc.readMem(0xe6df), 0xa7);
        // 06 014D
        gbc.setState(0x5a95, 0xaaf5, 0xd5b0, 0xeafe, 0x2a34, 0xca99, 0x1, 0x1);
        gbc.writeMem(0x5a95, { 0x6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xaaf5);
        EXPECT(gbc.pc(), 0x5a97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 014E
        gbc.setState(0xd43, 0x6997, 0x6860, 0x2787, 0x912f, 0x4986, 0x1, 0x1);
        gbc.writeMem(0xd43, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x6997);
        EXPECT(gbc.pc(), 0xd45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 014F
        gbc.setState(0x6a40, 0xfafa, 0xfaa0, 0x2fae, 0xbc06, 0x526b, 0x1, 0x0);
        gbc.writeMem(0x6a40, { 0x6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xfafa);
        EXPECT(gbc.pc(), 0x6a42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0150
        gbc.setState(0xdc63, 0x86b2, 0x7d20, 0x4e42, 0x6fc9, 0xc170, 0x0, 0x0);
        gbc.writeMem(0xdc63, { 0x6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x86b2);
        EXPECT(gbc.pc(), 0xdc65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc63), 0x6);
        EXPECT(gbc.readMem(0xdc64), 0xbe);
        // 06 0151
        gbc.setState(0xe550, 0x152, 0xd780, 0x4fcb, 0x1918, 0x646f, 0x0, 0x0);
        gbc.writeMem(0xe550, { 0x6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x152);
        EXPECT(gbc.pc(), 0xe552);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe550), 0x6);
        EXPECT(gbc.readMem(0xe551), 0x42);
        // 06 0152
        gbc.setState(0x3375, 0x8c93, 0x1ab0, 0xa0cd, 0xaa09, 0xfec3, 0x1, 0x0);
        gbc.writeMem(0x3375, { 0x6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8c93);
        EXPECT(gbc.pc(), 0x3377);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0154
        gbc.setState(0x5e7f, 0xd8e1, 0x9970, 0xfd72, 0x15a6, 0xf856, 0x0, 0x1);
        gbc.writeMem(0x5e7f, { 0x6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd8e1);
        EXPECT(gbc.pc(), 0x5e81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0155
        gbc.setState(0x7dda, 0xb21e, 0x6db0, 0x9568, 0x32a7, 0xb8c3, 0x0, 0x1);
        gbc.writeMem(0x7dda, { 0x6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb21e);
        EXPECT(gbc.pc(), 0x7ddc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0157
        gbc.setState(0xc270, 0x40ab, 0x73d0, 0xef02, 0x152b, 0x4362, 0x1, 0x0);
        gbc.writeMem(0xc270, { 0x6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x40ab);
        EXPECT(gbc.pc(), 0xc272);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc270), 0x6);
        EXPECT(gbc.readMem(0xc271), 0x15);
        // 06 0158
        gbc.setState(0x60e6, 0xd843, 0x90c0, 0x2572, 0xd1c2, 0xb0c1, 0x0, 0x0);
        gbc.writeMem(0x60e6, { 0x6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd843);
        EXPECT(gbc.pc(), 0x60e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0159
        gbc.setState(0x8fd6, 0x97dc, 0xd7a0, 0x718d, 0xc243, 0x14ee, 0x1, 0x0);
        gbc.writeMem(0x8fd6, { 0x6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x97dc);
        EXPECT(gbc.pc(), 0x8fd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fd6), 0x6);
        EXPECT(gbc.readMem(0x8fd7), 0x41);
        // 06 015A
        gbc.setState(0x6923, 0xdb5c, 0x1d10, 0xaffd, 0x5ded, 0x97e, 0x1, 0x1);
        gbc.writeMem(0x6923, { 0x6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xdb5c);
        EXPECT(gbc.pc(), 0x6925);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 015B
        gbc.setState(0xda64, 0x1429, 0x7fd0, 0x6ac7, 0x5abd, 0x8d9e, 0x1, 0x1);
        gbc.writeMem(0xda64, { 0x6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x1429);
        EXPECT(gbc.pc(), 0xda66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda64), 0x6);
        EXPECT(gbc.readMem(0xda65), 0x9b);
        // 06 015C
        gbc.setState(0x29e8, 0x6b56, 0xd400, 0x3433, 0xdc22, 0xa023, 0x0, 0x0);
        gbc.writeMem(0x29e8, { 0x6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x6b56);
        EXPECT(gbc.pc(), 0x29ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 015D
        gbc.setState(0xd670, 0x86c6, 0xb3c0, 0xde15, 0x1612, 0x3ce, 0x1, 0x1);
        gbc.writeMem(0xd670, { 0x6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x86c6);
        EXPECT(gbc.pc(), 0xd672);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd670), 0x6);
        EXPECT(gbc.readMem(0xd671), 0xcd);
        // 06 015E
        gbc.setState(0x894e, 0xcaab, 0x2fd0, 0xa018, 0x3a6f, 0xfc1c, 0x0, 0x0);
        gbc.writeMem(0x894e, { 0x6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xcaab);
        EXPECT(gbc.pc(), 0x8950);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x894e), 0x6);
        EXPECT(gbc.readMem(0x894f), 0xd9);
        // 06 015F
        gbc.setState(0x2f3, 0x524b, 0x730, 0x9f3d, 0x9a7c, 0x2cfb, 0x1, 0x1);
        gbc.writeMem(0x2f3, { 0x6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x524b);
        EXPECT(gbc.pc(), 0x2f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0160
        gbc.setState(0x4252, 0x2a9, 0xc180, 0xf937, 0xfc98, 0x1803, 0x0, 0x0);
        gbc.writeMem(0x4252, { 0x6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2a9);
        EXPECT(gbc.pc(), 0x4254);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0161
        gbc.setState(0x70bc, 0xa4c2, 0x6760, 0xccb6, 0xf143, 0x5649, 0x1, 0x0);
        gbc.writeMem(0x70bc, { 0x6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa4c2);
        EXPECT(gbc.pc(), 0x70be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0162
        gbc.setState(0xdcbd, 0x22ea, 0xb8f0, 0x26d6, 0x50b6, 0x82e6, 0x1, 0x0);
        gbc.writeMem(0xdcbd, { 0x6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x22ea);
        EXPECT(gbc.pc(), 0xdcbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcbd), 0x6);
        EXPECT(gbc.readMem(0xdcbe), 0xb6);
        // 06 0164
        gbc.setState(0x2f, 0x9c86, 0x4e50, 0x4637, 0xb9c, 0x2650, 0x0, 0x0);
        gbc.writeMem(0x2f, { 0x6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x9c86);
        EXPECT(gbc.pc(), 0x31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0165
        gbc.setState(0x35e4, 0xd247, 0xea80, 0xdd9, 0x46b2, 0x7f0a, 0x0, 0x0);
        gbc.writeMem(0x35e4, { 0x6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xd247);
        EXPECT(gbc.pc(), 0x35e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0166
        gbc.setState(0x5f21, 0x8cb1, 0xb3a0, 0x4db2, 0x7368, 0xe727, 0x1, 0x0);
        gbc.writeMem(0x5f21, { 0x6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8cb1);
        EXPECT(gbc.pc(), 0x5f23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0167
        gbc.setState(0xacb9, 0xf8d3, 0x1090, 0xa159, 0xca57, 0x4ad1, 0x0, 0x0);
        gbc.writeMem(0xacb9, { 0x6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xf8d3);
        EXPECT(gbc.pc(), 0xacbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacb9), 0x6);
        EXPECT(gbc.readMem(0xacba), 0x78);
        // 06 0168
        gbc.setState(0xdf56, 0xe5e4, 0x4b80, 0xf1fd, 0xa34c, 0xa95, 0x0, 0x0);
        gbc.writeMem(0xdf56, { 0x6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe5e4);
        EXPECT(gbc.pc(), 0xdf58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf56), 0x6);
        EXPECT(gbc.readMem(0xdf57), 0x82);
        // 06 0169
        gbc.setState(0xadd, 0xc37, 0x5750, 0xd371, 0x3604, 0x4995, 0x0, 0x0);
        gbc.writeMem(0xadd, { 0x6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc37);
        EXPECT(gbc.pc(), 0xadf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 016A
        gbc.setState(0x3eec, 0x98d9, 0xe050, 0xdc71, 0xaf88, 0xbcd7, 0x1, 0x1);
        gbc.writeMem(0x3eec, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x98d9);
        EXPECT(gbc.pc(), 0x3eee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 016B
        gbc.setState(0x2a03, 0xc4d4, 0xaef0, 0x22c, 0x1b83, 0x6167, 0x1, 0x1);
        gbc.writeMem(0x2a03, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc4d4);
        EXPECT(gbc.pc(), 0x2a05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 016C
        gbc.setState(0x8f76, 0x122c, 0x4bd0, 0x2749, 0x5e4e, 0xc740, 0x0, 0x1);
        gbc.writeMem(0x8f76, { 0x6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x122c);
        EXPECT(gbc.pc(), 0x8f78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f76), 0x6);
        EXPECT(gbc.readMem(0x8f77), 0x24);
        // 06 016D
        gbc.setState(0x6c61, 0x985, 0x61d0, 0x9bf7, 0xf055, 0x466e, 0x0, 0x0);
        gbc.writeMem(0x6c61, { 0x6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x985);
        EXPECT(gbc.pc(), 0x6c63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 016E
        gbc.setState(0x8fb6, 0x9c04, 0x9a90, 0x7004, 0x7cfd, 0x3b9f, 0x1, 0x0);
        gbc.writeMem(0x8fb6, { 0x6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x9c04);
        EXPECT(gbc.pc(), 0x8fb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fb6), 0x6);
        EXPECT(gbc.readMem(0x8fb7), 0x2c);
        // 06 016F
        gbc.setState(0x77fe, 0xe2ae, 0x2f0, 0xe4e8, 0x92cb, 0xcb43, 0x1, 0x1);
        gbc.writeMem(0x77fe, { 0x6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe2ae);
        EXPECT(gbc.pc(), 0x7800);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0170
        gbc.setState(0xa858, 0x3ed, 0xb210, 0xe06b, 0xdf60, 0xd025, 0x1, 0x1);
        gbc.writeMem(0xa858, { 0x6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3ed);
        EXPECT(gbc.pc(), 0xa85a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa858), 0x6);
        EXPECT(gbc.readMem(0xa859), 0xf9);
        // 06 0171
        gbc.setState(0xc4d1, 0x4f0e, 0x4de0, 0x8f03, 0xf023, 0xa761, 0x0, 0x1);
        gbc.writeMem(0xc4d1, { 0x6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x4f0e);
        EXPECT(gbc.pc(), 0xc4d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4d1), 0x6);
        EXPECT(gbc.readMem(0xc4d2), 0x46);
        // 06 0172
        gbc.setState(0x663b, 0xfcdd, 0xdf50, 0xff56, 0x84fd, 0x9cca, 0x0, 0x1);
        gbc.writeMem(0x663b, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xfcdd);
        EXPECT(gbc.pc(), 0x663d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0173
        gbc.setState(0x5b, 0x114b, 0x1a60, 0xfd2f, 0x3e9b, 0x1b85, 0x1, 0x1);
        gbc.writeMem(0x5b, { 0x6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x114b);
        EXPECT(gbc.pc(), 0x5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0174
        gbc.setState(0x23af, 0x1197, 0x88c0, 0x9b50, 0x7b20, 0xceaf, 0x0, 0x1);
        gbc.writeMem(0x23af, { 0x6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x1197);
        EXPECT(gbc.pc(), 0x23b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0175
        gbc.setState(0x29f4, 0x95b0, 0x1140, 0xe2e0, 0xfca8, 0xb345, 0x1, 0x0);
        gbc.writeMem(0x29f4, { 0x6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x95b0);
        EXPECT(gbc.pc(), 0x29f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0176
        gbc.setState(0xaf34, 0x6290, 0xd310, 0x3bca, 0xfd98, 0x674f, 0x0, 0x0);
        gbc.writeMem(0xaf34, { 0x6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6290);
        EXPECT(gbc.pc(), 0xaf36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf34), 0x6);
        EXPECT(gbc.readMem(0xaf35), 0x1);
        // 06 0177
        gbc.setState(0x7341, 0x7cc2, 0xd180, 0xabb0, 0x748a, 0x1fb, 0x1, 0x0);
        gbc.writeMem(0x7341, { 0x6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x7cc2);
        EXPECT(gbc.pc(), 0x7343);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0178
        gbc.setState(0x9c3d, 0xe802, 0x3260, 0x5324, 0xd2fa, 0x4239, 0x1, 0x1);
        gbc.writeMem(0x9c3d, { 0x6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xe802);
        EXPECT(gbc.pc(), 0x9c3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c3d), 0x6);
        EXPECT(gbc.readMem(0x9c3e), 0xd9);
        // 06 0179
        gbc.setState(0xa2a1, 0xa803, 0x1050, 0xeede, 0x6fd6, 0x9875, 0x0, 0x0);
        gbc.writeMem(0xa2a1, { 0x6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa803);
        EXPECT(gbc.pc(), 0xa2a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2a1), 0x6);
        EXPECT(gbc.readMem(0xa2a2), 0xd);
        // 06 017A
        gbc.setState(0x5935, 0xd7e3, 0xfd40, 0xe759, 0xf41a, 0xcdfe, 0x1, 0x0);
        gbc.writeMem(0x5935, { 0x6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd7e3);
        EXPECT(gbc.pc(), 0x5937);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 017C
        gbc.setState(0xda85, 0xfa46, 0xd6e0, 0x4c0b, 0xda8, 0xcbf, 0x1, 0x1);
        gbc.writeMem(0xda85, { 0x6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xfa46);
        EXPECT(gbc.pc(), 0xda87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda85), 0x6);
        EXPECT(gbc.readMem(0xda86), 0x77);
        // 06 017D
        gbc.setState(0x14d8, 0xec2a, 0xa500, 0x7f00, 0x5a4, 0xdf01, 0x0, 0x0);
        gbc.writeMem(0x14d8, { 0x6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xec2a);
        EXPECT(gbc.pc(), 0x14da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 017E
        gbc.setState(0xc4da, 0x74c2, 0x4870, 0x1d57, 0xb085, 0x85c0, 0x0, 0x0);
        gbc.writeMem(0xc4da, { 0x6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x74c2);
        EXPECT(gbc.pc(), 0xc4dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4da), 0x6);
        EXPECT(gbc.readMem(0xc4db), 0x1e);
        // 06 017F
        gbc.setState(0xc344, 0x40b8, 0x3f40, 0x4d6e, 0xf9b1, 0x91b0, 0x1, 0x1);
        gbc.writeMem(0xc344, { 0x6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x40b8);
        EXPECT(gbc.pc(), 0xc346);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc344), 0x6);
        EXPECT(gbc.readMem(0xc345), 0x99);
        // 06 0180
        gbc.setState(0xc601, 0x2842, 0xea10, 0x17f0, 0xfebb, 0x3167, 0x0, 0x0);
        gbc.writeMem(0xc601, { 0x6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x2842);
        EXPECT(gbc.pc(), 0xc603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc601), 0x6);
        EXPECT(gbc.readMem(0xc602), 0xdb);
        // 06 0181
        gbc.setState(0xe932, 0xf14c, 0x7280, 0x5719, 0x1c6e, 0x912, 0x0, 0x0);
        gbc.writeMem(0xe932, { 0x6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xf14c);
        EXPECT(gbc.pc(), 0xe934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe932), 0x6);
        EXPECT(gbc.readMem(0xe933), 0xcd);
        // 06 0182
        gbc.setState(0x4de5, 0xb17, 0x7920, 0x22eb, 0xc502, 0x4533, 0x1, 0x1);
        gbc.writeMem(0x4de5, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb17);
        EXPECT(gbc.pc(), 0x4de7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0183
        gbc.setState(0x7bec, 0x700f, 0x7ab0, 0x60b5, 0x32ef, 0xb1c5, 0x0, 0x1);
        gbc.writeMem(0x7bec, { 0x6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x700f);
        EXPECT(gbc.pc(), 0x7bee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0184
        gbc.setState(0xd1d5, 0xe153, 0xeeb0, 0xed26, 0xbbcc, 0xec6b, 0x1, 0x0);
        gbc.writeMem(0xd1d5, { 0x6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xe153);
        EXPECT(gbc.pc(), 0xd1d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1d5), 0x6);
        EXPECT(gbc.readMem(0xd1d6), 0x3f);
        // 06 0185
        gbc.setState(0x61ce, 0xecba, 0x33a0, 0x2bee, 0x41c7, 0x87e6, 0x1, 0x0);
        gbc.writeMem(0x61ce, { 0x6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xecba);
        EXPECT(gbc.pc(), 0x61d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0186
        gbc.setState(0x6997, 0x2c63, 0xb300, 0x9d91, 0x91d4, 0x4b3e, 0x1, 0x1);
        gbc.writeMem(0x6997, { 0x6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2c63);
        EXPECT(gbc.pc(), 0x6999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0187
        gbc.setState(0xcf9c, 0x15f3, 0x10d0, 0xff89, 0x35c3, 0xf625, 0x1, 0x1);
        gbc.writeMem(0xcf9c, { 0x6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x15f3);
        EXPECT(gbc.pc(), 0xcf9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf9c), 0x6);
        EXPECT(gbc.readMem(0xcf9d), 0x79);
        // 06 0188
        gbc.setState(0x9dad, 0xdf2e, 0x1050, 0xe193, 0x7816, 0x2743, 0x0, 0x0);
        gbc.writeMem(0x9dad, { 0x6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xdf2e);
        EXPECT(gbc.pc(), 0x9daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dad), 0x6);
        EXPECT(gbc.readMem(0x9dae), 0x7e);
        // 06 0189
        gbc.setState(0x2d59, 0x3b2d, 0xe450, 0x960c, 0xfee6, 0xc3b3, 0x1, 0x1);
        gbc.writeMem(0x2d59, { 0x6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x3b2d);
        EXPECT(gbc.pc(), 0x2d5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 018A
        gbc.setState(0xa427, 0x8b4e, 0x5190, 0x465c, 0xf22b, 0xf724, 0x0, 0x1);
        gbc.writeMem(0xa427, { 0x6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8b4e);
        EXPECT(gbc.pc(), 0xa429);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa427), 0x6);
        EXPECT(gbc.readMem(0xa428), 0x71);
        // 06 018C
        gbc.setState(0xa099, 0xabad, 0xbc50, 0xf0f7, 0x35e8, 0xd1c2, 0x0, 0x1);
        gbc.writeMem(0xa099, { 0x6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xabad);
        EXPECT(gbc.pc(), 0xa09b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa099), 0x6);
        EXPECT(gbc.readMem(0xa09a), 0xa5);
        // 06 018D
        gbc.setState(0xe81e, 0x4e9c, 0x89d0, 0xb62, 0x7ca, 0xe8ff, 0x1, 0x0);
        gbc.writeMem(0xe81e, { 0x6, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4e9c);
        EXPECT(gbc.pc(), 0xe820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe81e), 0x6);
        EXPECT(gbc.readMem(0xe81f), 0x40);
        // 06 018E
        gbc.setState(0xcd1a, 0xc4d1, 0x820, 0x3733, 0x1541, 0x2e33, 0x1, 0x0);
        gbc.writeMem(0xcd1a, { 0x6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xc4d1);
        EXPECT(gbc.pc(), 0xcd1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd1a), 0x6);
        EXPECT(gbc.readMem(0xcd1b), 0x14);
        // 06 018F
        gbc.setState(0x940d, 0xef77, 0x3e0, 0x27b4, 0x5f8b, 0x5e06, 0x0, 0x1);
        gbc.writeMem(0x940d, { 0x6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xef77);
        EXPECT(gbc.pc(), 0x940f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x940d), 0x6);
        EXPECT(gbc.readMem(0x940e), 0xaf);
        // 06 0190
        gbc.setState(0x8202, 0x1581, 0x9590, 0xf6f2, 0xf386, 0xf910, 0x0, 0x1);
        gbc.writeMem(0x8202, { 0x6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1581);
        EXPECT(gbc.pc(), 0x8204);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8202), 0x6);
        EXPECT(gbc.readMem(0x8203), 0x16);
        // 06 0191
        gbc.setState(0xa57f, 0x7f2, 0x32b0, 0x12e7, 0x6e29, 0x50b9, 0x1, 0x0);
        gbc.writeMem(0xa57f, { 0x6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7f2);
        EXPECT(gbc.pc(), 0xa581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa57f), 0x6);
        EXPECT(gbc.readMem(0xa580), 0xc1);
        // 06 0192
        gbc.setState(0x7c8, 0x6177, 0xfc30, 0xcfac, 0xec64, 0x1a52, 0x1, 0x0);
        gbc.writeMem(0x7c8, { 0x6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6177);
        EXPECT(gbc.pc(), 0x7ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0193
        gbc.setState(0x4775, 0x8ef4, 0xb4a0, 0x1be, 0xd952, 0x5fff, 0x1, 0x1);
        gbc.writeMem(0x4775, { 0x6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x8ef4);
        EXPECT(gbc.pc(), 0x4777);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0194
        gbc.setState(0xa9a7, 0x4936, 0x3910, 0xeb59, 0x62f2, 0xab53, 0x0, 0x1);
        gbc.writeMem(0xa9a7, { 0x6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4936);
        EXPECT(gbc.pc(), 0xa9a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9a7), 0x6);
        EXPECT(gbc.readMem(0xa9a8), 0x50);
        // 06 0195
        gbc.setState(0xcd2, 0x6422, 0x7d20, 0x3c9f, 0x3109, 0xe009, 0x1, 0x1);
        gbc.writeMem(0xcd2, { 0x6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6422);
        EXPECT(gbc.pc(), 0xcd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0196
        gbc.setState(0x7d9c, 0x77f2, 0xcc10, 0x8875, 0x80c9, 0x5789, 0x1, 0x0);
        gbc.writeMem(0x7d9c, { 0x6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x77f2);
        EXPECT(gbc.pc(), 0x7d9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0197
        gbc.setState(0xc399, 0xeb50, 0x6a0, 0xd757, 0x3fc6, 0x11a8, 0x0, 0x1);
        gbc.writeMem(0xc399, { 0x6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xeb50);
        EXPECT(gbc.pc(), 0xc39b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc399), 0x6);
        EXPECT(gbc.readMem(0xc39a), 0x68);
        // 06 0198
        gbc.setState(0xb36b, 0x3d98, 0x4d20, 0x93cc, 0xaa86, 0x9ef0, 0x1, 0x0);
        gbc.writeMem(0xb36b, { 0x6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x3d98);
        EXPECT(gbc.pc(), 0xb36d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb36b), 0x6);
        EXPECT(gbc.readMem(0xb36c), 0x79);
        // 06 0199
        gbc.setState(0xd3b4, 0x913e, 0xbe30, 0xe7ec, 0x19a6, 0x560a, 0x1, 0x1);
        gbc.writeMem(0xd3b4, { 0x6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x913e);
        EXPECT(gbc.pc(), 0xd3b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3b4), 0x6);
        EXPECT(gbc.readMem(0xd3b5), 0x27);
        // 06 019A
        gbc.setState(0x2ebb, 0x3a93, 0x1a00, 0x6a4d, 0xcf, 0x545, 0x0, 0x1);
        gbc.writeMem(0x2ebb, { 0x6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x3a93);
        EXPECT(gbc.pc(), 0x2ebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 019B
        gbc.setState(0xd8c3, 0x7d19, 0xea0, 0x6980, 0xcaed, 0xc228, 0x0, 0x0);
        gbc.writeMem(0xd8c3, { 0x6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7d19);
        EXPECT(gbc.pc(), 0xd8c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8c3), 0x6);
        EXPECT(gbc.readMem(0xd8c4), 0xf);
        // 06 019C
        gbc.setState(0xb0ad, 0x11dd, 0x1630, 0x2009, 0x7443, 0x9c76, 0x1, 0x1);
        gbc.writeMem(0xb0ad, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x11dd);
        EXPECT(gbc.pc(), 0xb0af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0ad), 0x6);
        EXPECT(gbc.readMem(0xb0ae), 0x43);
        // 06 019D
        gbc.setState(0x2b3f, 0xdfc3, 0x9040, 0xad4d, 0x4748, 0xf13, 0x1, 0x1);
        gbc.writeMem(0x2b3f, { 0x6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xdfc3);
        EXPECT(gbc.pc(), 0x2b41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 019E
        gbc.setState(0x9215, 0x8ffd, 0xd020, 0x928a, 0xa036, 0x74f2, 0x1, 0x0);
        gbc.writeMem(0x9215, { 0x6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8ffd);
        EXPECT(gbc.pc(), 0x9217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9215), 0x6);
        EXPECT(gbc.readMem(0x9216), 0x85);
        // 06 019F
        gbc.setState(0xe342, 0xf97b, 0xb370, 0x6f4a, 0xb362, 0x8b65, 0x0, 0x0);
        gbc.writeMem(0xe342, { 0x6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xf97b);
        EXPECT(gbc.pc(), 0xe344);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe342), 0x6);
        EXPECT(gbc.readMem(0xe343), 0xb4);
        // 06 01A0
        gbc.setState(0xb82a, 0x6680, 0xa230, 0x7fd1, 0x51cc, 0xdef7, 0x1, 0x0);
        gbc.writeMem(0xb82a, { 0x6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x6680);
        EXPECT(gbc.pc(), 0xb82c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb82a), 0x6);
        EXPECT(gbc.readMem(0xb82b), 0xb0);
        // 06 01A1
        gbc.setState(0x77e6, 0x560, 0xef20, 0x43e5, 0xf1d5, 0x7208, 0x1, 0x1);
        gbc.writeMem(0x77e6, { 0x6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x560);
        EXPECT(gbc.pc(), 0x77e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 01A3
        gbc.setState(0xc399, 0x22ea, 0x89c0, 0x4b3e, 0x3cae, 0x8911, 0x0, 0x1);
        gbc.writeMem(0xc399, { 0x6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x22ea);
        EXPECT(gbc.pc(), 0xc39b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc399), 0x6);
        EXPECT(gbc.readMem(0xc39a), 0x68);
        // 06 01A4
        gbc.setState(0x4f24, 0x805e, 0xd30, 0xa7d1, 0x193c, 0xe55, 0x1, 0x0);
        gbc.writeMem(0x4f24, { 0x6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x805e);
        EXPECT(gbc.pc(), 0x4f26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01A5
        gbc.setState(0xbdf8, 0xb445, 0x4830, 0xb983, 0x63bb, 0x1aba, 0x1, 0x1);
        gbc.writeMem(0xbdf8, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb445);
        EXPECT(gbc.pc(), 0xbdfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdf8), 0x6);
        EXPECT(gbc.readMem(0xbdf9), 0xb);
        // 06 01A6
        gbc.setState(0x7e1d, 0xd361, 0xc6c0, 0x368a, 0xab, 0xeeb, 0x1, 0x1);
        gbc.writeMem(0x7e1d, { 0x6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xd361);
        EXPECT(gbc.pc(), 0x7e1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01A7
        gbc.setState(0x2c9e, 0x8033, 0xabf0, 0x76c6, 0x737f, 0x4f8b, 0x1, 0x1);
        gbc.writeMem(0x2c9e, { 0x6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8033);
        EXPECT(gbc.pc(), 0x2ca0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01A8
        gbc.setState(0xec92, 0x6642, 0x5ff0, 0xe538, 0x7b08, 0x6997, 0x0, 0x1);
        gbc.writeMem(0xec92, { 0x6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6642);
        EXPECT(gbc.pc(), 0xec94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec92), 0x6);
        EXPECT(gbc.readMem(0xec93), 0x3f);
        // 06 01A9
        gbc.setState(0x3653, 0x44d5, 0x9f10, 0x9452, 0x5c8a, 0xef0c, 0x1, 0x1);
        gbc.writeMem(0x3653, { 0x6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x44d5);
        EXPECT(gbc.pc(), 0x3655);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01AA
        gbc.setState(0xb81a, 0xbfb2, 0x3a00, 0xe16, 0x6fa8, 0xe1bb, 0x1, 0x0);
        gbc.writeMem(0xb81a, { 0x6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xbfb2);
        EXPECT(gbc.pc(), 0xb81c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb81a), 0x6);
        EXPECT(gbc.readMem(0xb81b), 0xf0);
        // 06 01AB
        gbc.setState(0x6ac9, 0x8730, 0x2480, 0x2d87, 0xd7e3, 0xc02e, 0x1, 0x0);
        gbc.writeMem(0x6ac9, { 0x6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x8730);
        EXPECT(gbc.pc(), 0x6acb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01AC
        gbc.setState(0xebfa, 0x8782, 0xe230, 0x6869, 0xd2e6, 0x618c, 0x1, 0x1);
        gbc.writeMem(0xebfa, { 0x6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8782);
        EXPECT(gbc.pc(), 0xebfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebfa), 0x6);
        EXPECT(gbc.readMem(0xebfb), 0xd8);
        // 06 01AD
        gbc.setState(0x4668, 0xd897, 0x4380, 0x383, 0x4d05, 0xa396, 0x0, 0x0);
        gbc.writeMem(0x4668, { 0x6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xd897);
        EXPECT(gbc.pc(), 0x466a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01AE
        gbc.setState(0xb41c, 0xaec, 0x51b0, 0x59ea, 0x523b, 0x4d19, 0x1, 0x0);
        gbc.writeMem(0xb41c, { 0x6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xaec);
        EXPECT(gbc.pc(), 0xb41e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb41c), 0x6);
        EXPECT(gbc.readMem(0xb41d), 0x63);
        // 06 01AF
        gbc.setState(0x4b3, 0xfa8c, 0xa060, 0xb07a, 0x3c5d, 0xb5fa, 0x1, 0x1);
        gbc.writeMem(0x4b3, { 0x6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xfa8c);
        EXPECT(gbc.pc(), 0x4b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 01B0
        gbc.setState(0xac6f, 0x27d9, 0x7600, 0x1aea, 0xe1ad, 0x4d72, 0x0, 0x0);
        gbc.writeMem(0xac6f, { 0x6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x27d9);
        EXPECT(gbc.pc(), 0xac71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac6f), 0x6);
        EXPECT(gbc.readMem(0xac70), 0xbd);
        // 06 01B1
        gbc.setState(0xd887, 0xa5af, 0xd180, 0xf1f3, 0xdf96, 0x2763, 0x0, 0x0);
        gbc.writeMem(0xd887, { 0x6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xa5af);
        EXPECT(gbc.pc(), 0xd889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd887), 0x6);
        EXPECT(gbc.readMem(0xd888), 0xdb);
        // 06 01B3
        gbc.setState(0x2229, 0x7075, 0x28b0, 0x81d1, 0x3b46, 0x4cbf, 0x1, 0x1);
        gbc.writeMem(0x2229, { 0x6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x7075);
        EXPECT(gbc.pc(), 0x222b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01B4
        gbc.setState(0xf9c, 0xfbbe, 0x91f0, 0xf043, 0x93db, 0x8c01, 0x1, 0x0);
        gbc.writeMem(0xf9c, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xfbbe);
        EXPECT(gbc.pc(), 0xf9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01B5
        gbc.setState(0x6d4c, 0xc81b, 0x2e80, 0x6fd1, 0xff69, 0x5f56, 0x1, 0x1);
        gbc.writeMem(0x6d4c, { 0x6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc81b);
        EXPECT(gbc.pc(), 0x6d4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01B6
        gbc.setState(0xab5, 0x2a27, 0x5dc0, 0x372a, 0xcbb3, 0xff25, 0x0, 0x1);
        gbc.writeMem(0xab5, { 0x6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x2a27);
        EXPECT(gbc.pc(), 0xab7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01B8
        gbc.setState(0x6cce, 0x9230, 0x910, 0x6e76, 0x5a2c, 0x461e, 0x0, 0x1);
        gbc.writeMem(0x6cce, { 0x6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x9230);
        EXPECT(gbc.pc(), 0x6cd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01B9
        gbc.setState(0xb75d, 0x7ead, 0xdac0, 0x1b72, 0x86d6, 0xd5ab, 0x0, 0x1);
        gbc.writeMem(0xb75d, { 0x6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x7ead);
        EXPECT(gbc.pc(), 0xb75f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb75d), 0x6);
        EXPECT(gbc.readMem(0xb75e), 0xf1);
        // 06 01BA
        gbc.setState(0xd198, 0xec86, 0x5450, 0x694e, 0xe6d7, 0x2575, 0x0, 0x0);
        gbc.writeMem(0xd198, { 0x6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xec86);
        EXPECT(gbc.pc(), 0xd19a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd198), 0x6);
        EXPECT(gbc.readMem(0xd199), 0x84);
        // 06 01BB
        gbc.setState(0x7500, 0x905c, 0x1300, 0x9dc, 0xa005, 0x6166, 0x0, 0x0);
        gbc.writeMem(0x7500, { 0x6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x905c);
        EXPECT(gbc.pc(), 0x7502);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01BC
        gbc.setState(0xd148, 0xffe, 0xf880, 0xe8d4, 0xf014, 0x1644, 0x0, 0x1);
        gbc.writeMem(0xd148, { 0x6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xffe);
        EXPECT(gbc.pc(), 0xd14a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd148), 0x6);
        EXPECT(gbc.readMem(0xd149), 0xde);
        // 06 01BD
        gbc.setState(0xc7e3, 0x5710, 0x17a0, 0xef4a, 0x4fdc, 0xc39e, 0x1, 0x0);
        gbc.writeMem(0xc7e3, { 0x6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5710);
        EXPECT(gbc.pc(), 0xc7e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7e3), 0x6);
        EXPECT(gbc.readMem(0xc7e4), 0x3);
        // 06 01BE
        gbc.setState(0x628, 0xe187, 0xc450, 0xb5b0, 0x2a50, 0x8832, 0x0, 0x0);
        gbc.writeMem(0x628, { 0x6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe187);
        EXPECT(gbc.pc(), 0x62a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01BF
        gbc.setState(0xa2ff, 0x8751, 0xf570, 0x61c1, 0x710e, 0x81a0, 0x1, 0x1);
        gbc.writeMem(0xa2ff, { 0x6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x8751);
        EXPECT(gbc.pc(), 0xa301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2ff), 0x6);
        EXPECT(gbc.readMem(0xa300), 0xfe);
        // 06 01C0
        gbc.setState(0xb3c3, 0xcb9b, 0xfb80, 0x31b3, 0xde37, 0x2969, 0x0, 0x0);
        gbc.writeMem(0xb3c3, { 0x6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xcb9b);
        EXPECT(gbc.pc(), 0xb3c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3c3), 0x6);
        EXPECT(gbc.readMem(0xb3c4), 0x36);
        // 06 01C1
        gbc.setState(0xe803, 0xaf0c, 0x6f50, 0x3f59, 0x524b, 0xfba6, 0x1, 0x0);
        gbc.writeMem(0xe803, { 0x6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xaf0c);
        EXPECT(gbc.pc(), 0xe805);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe803), 0x6);
        EXPECT(gbc.readMem(0xe804), 0xc3);
        // 06 01C2
        gbc.setState(0x8e1a, 0xefe9, 0x90f0, 0x1776, 0x720a, 0xf9a4, 0x0, 0x1);
        gbc.writeMem(0x8e1a, { 0x6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xefe9);
        EXPECT(gbc.pc(), 0x8e1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e1a), 0x6);
        EXPECT(gbc.readMem(0x8e1b), 0x23);
        // 06 01C3
        gbc.setState(0x3a30, 0xdfd3, 0xd070, 0xf563, 0xc4eb, 0x20a2, 0x0, 0x1);
        gbc.writeMem(0x3a30, { 0x6, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xdfd3);
        EXPECT(gbc.pc(), 0x3a32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01C4
        gbc.setState(0xd814, 0x699, 0x5280, 0xbd2c, 0x414f, 0xa9b, 0x0, 0x0);
        gbc.writeMem(0xd814, { 0x6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x699);
        EXPECT(gbc.pc(), 0xd816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd814), 0x6);
        EXPECT(gbc.readMem(0xd815), 0x82);
        // 06 01C5
        gbc.setState(0x728b, 0xb637, 0xaa90, 0x7eda, 0x619e, 0x27b8, 0x0, 0x0);
        gbc.writeMem(0x728b, { 0x6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xb637);
        EXPECT(gbc.pc(), 0x728d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01C6
        gbc.setState(0x2027, 0x1923, 0x590, 0x1373, 0xd75, 0xd133, 0x1, 0x1);
        gbc.writeMem(0x2027, { 0x6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1923);
        EXPECT(gbc.pc(), 0x2029);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01C7
        gbc.setState(0x81b4, 0x525e, 0x7200, 0xffe5, 0xa559, 0x52cb, 0x1, 0x1);
        gbc.writeMem(0x81b4, { 0x6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x525e);
        EXPECT(gbc.pc(), 0x81b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b4), 0x6);
        EXPECT(gbc.readMem(0x81b5), 0xdf);
        // 06 01C8
        gbc.setState(0x729c, 0xfec, 0x2e60, 0xf5cd, 0x9714, 0x86d9, 0x1, 0x1);
        gbc.writeMem(0x729c, { 0x6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xfec);
        EXPECT(gbc.pc(), 0x729e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 01C9
        gbc.setState(0xc15, 0x17a7, 0xf4c0, 0xcd70, 0x3276, 0xfcc7, 0x1, 0x0);
        gbc.writeMem(0xc15, { 0x6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x17a7);
        EXPECT(gbc.pc(), 0xc17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01CA
        gbc.setState(0x976d, 0x41b6, 0x5c90, 0xb70b, 0x2437, 0xdbe4, 0x1, 0x1);
        gbc.writeMem(0x976d, { 0x6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x41b6);
        EXPECT(gbc.pc(), 0x976f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x976d), 0x6);
        EXPECT(gbc.readMem(0x976e), 0xb0);
        // 06 01CB
        gbc.setState(0x2ae7, 0x69e7, 0x8a50, 0xb111, 0x3c08, 0x7524, 0x1, 0x1);
        gbc.writeMem(0x2ae7, { 0x6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x69e7);
        EXPECT(gbc.pc(), 0x2ae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01CC
        gbc.setState(0x59d7, 0x58d1, 0xf0c0, 0x414c, 0xce16, 0x628a, 0x1, 0x0);
        gbc.writeMem(0x59d7, { 0x6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x58d1);
        EXPECT(gbc.pc(), 0x59d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01CE
        gbc.setState(0x800b, 0xd71d, 0x94e0, 0x2fd8, 0x8ff2, 0xc1e8, 0x0, 0x1);
        gbc.writeMem(0x800b, { 0x6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd71d);
        EXPECT(gbc.pc(), 0x800d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x800b), 0x6);
        EXPECT(gbc.readMem(0x800c), 0x4f);
        // 06 01CF
        gbc.setState(0xd40f, 0x8b3a, 0x86f0, 0xff10, 0xe3fa, 0xde09, 0x1, 0x0);
        gbc.writeMem(0xd40f, { 0x6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x8b3a);
        EXPECT(gbc.pc(), 0xd411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd40f), 0x6);
        EXPECT(gbc.readMem(0xd410), 0x28);
        // 06 01D0
        gbc.setState(0x588e, 0xbc01, 0x590, 0x240c, 0xf9d, 0x7741, 0x1, 0x0);
        gbc.writeMem(0x588e, { 0x6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xbc01);
        EXPECT(gbc.pc(), 0x5890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01D1
        gbc.setState(0xe8e9, 0x66ce, 0x58e0, 0xc7ec, 0x92af, 0x69fd, 0x0, 0x0);
        gbc.writeMem(0xe8e9, { 0x6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x66ce);
        EXPECT(gbc.pc(), 0xe8eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8e9), 0x6);
        EXPECT(gbc.readMem(0xe8ea), 0x2f);
        // 06 01D2
        gbc.setState(0xe21b, 0x582b, 0x82f0, 0x8fee, 0x9f64, 0xabbc, 0x0, 0x1);
        gbc.writeMem(0xe21b, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x582b);
        EXPECT(gbc.pc(), 0xe21d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe21b), 0x6);
        EXPECT(gbc.readMem(0xe21c), 0x32);
        // 06 01D3
        gbc.setState(0x916e, 0x67e, 0xdf10, 0x7a6b, 0x5794, 0x67b, 0x1, 0x0);
        gbc.writeMem(0x916e, { 0x6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x67e);
        EXPECT(gbc.pc(), 0x9170);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x916e), 0x6);
        EXPECT(gbc.readMem(0x916f), 0x5d);
        // 06 01D4
        gbc.setState(0xed37, 0x850c, 0x55f0, 0xf116, 0x2401, 0x272b, 0x0, 0x1);
        gbc.writeMem(0xed37, { 0x6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x850c);
        EXPECT(gbc.pc(), 0xed39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed37), 0x6);
        EXPECT(gbc.readMem(0xed38), 0x36);
        // 06 01D5
        gbc.setState(0x39cc, 0x5a19, 0x8f70, 0x376b, 0xed2b, 0x59a2, 0x1, 0x1);
        gbc.writeMem(0x39cc, { 0x6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x5a19);
        EXPECT(gbc.pc(), 0x39ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01D6
        gbc.setState(0x8df2, 0x86f7, 0x49c0, 0x36b6, 0x8ba5, 0x4595, 0x0, 0x1);
        gbc.writeMem(0x8df2, { 0x6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x86f7);
        EXPECT(gbc.pc(), 0x8df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df2), 0x6);
        EXPECT(gbc.readMem(0x8df3), 0xca);
        // 06 01D7
        gbc.setState(0x5696, 0x28ac, 0xc390, 0x656b, 0xa237, 0xafaf, 0x0, 0x1);
        gbc.writeMem(0x5696, { 0x6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x28ac);
        EXPECT(gbc.pc(), 0x5698);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01D8
        gbc.setState(0x14, 0xe3dc, 0xf6c0, 0x4f99, 0x333e, 0x2dea, 0x1, 0x1);
        gbc.writeMem(0x14, { 0x6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xe3dc);
        EXPECT(gbc.pc(), 0x16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01D9
        gbc.setState(0x3919, 0x98a3, 0x9290, 0x9986, 0x87ce, 0xa585, 0x1, 0x0);
        gbc.writeMem(0x3919, { 0x6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x98a3);
        EXPECT(gbc.pc(), 0x391b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01DA
        gbc.setState(0x2f1a, 0xe52f, 0x68c0, 0x3f15, 0x90ca, 0x6e3b, 0x1, 0x0);
        gbc.writeMem(0x2f1a, { 0x6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xe52f);
        EXPECT(gbc.pc(), 0x2f1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01DC
        gbc.setState(0x2f8a, 0xa961, 0x7ff0, 0xd765, 0x93a5, 0xf4f4, 0x1, 0x1);
        gbc.writeMem(0x2f8a, { 0x6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa961);
        EXPECT(gbc.pc(), 0x2f8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01DD
        gbc.setState(0xb2d2, 0xa9d0, 0xa240, 0x5f2, 0x2ae8, 0xd14b, 0x0, 0x0);
        gbc.writeMem(0xb2d2, { 0x6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xa9d0);
        EXPECT(gbc.pc(), 0xb2d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2d2), 0x6);
        EXPECT(gbc.readMem(0xb2d3), 0x4a);
        // 06 01DE
        gbc.setState(0xc927, 0xbfb, 0x33c0, 0x9da7, 0xaec7, 0xef06, 0x0, 0x0);
        gbc.writeMem(0xc927, { 0x6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xbfb);
        EXPECT(gbc.pc(), 0xc929);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc927), 0x6);
        EXPECT(gbc.readMem(0xc928), 0x9f);
        // 06 01DF
        gbc.setState(0x971a, 0xbb6a, 0x1470, 0xc94e, 0x5633, 0xe1e7, 0x1, 0x1);
        gbc.writeMem(0x971a, { 0x6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xbb6a);
        EXPECT(gbc.pc(), 0x971c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x971a), 0x6);
        EXPECT(gbc.readMem(0x971b), 0x1a);
        // 06 01E0
        gbc.setState(0x486, 0x214f, 0xf9d0, 0xd0df, 0x95c, 0x70d5, 0x0, 0x0);
        gbc.writeMem(0x486, { 0x6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x214f);
        EXPECT(gbc.pc(), 0x488);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01E1
        gbc.setState(0xc02e, 0x9886, 0xda30, 0xce17, 0xeb65, 0xf096, 0x1, 0x1);
        gbc.writeMem(0xc02e, { 0x6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x9886);
        EXPECT(gbc.pc(), 0xc030);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc02e), 0x6);
        EXPECT(gbc.readMem(0xc02f), 0x4b);
        // 06 01E2
        gbc.setState(0xbb98, 0xe0, 0xa8d0, 0x4bd7, 0x244a, 0x227e, 0x0, 0x1);
        gbc.writeMem(0xbb98, { 0x6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe0);
        EXPECT(gbc.pc(), 0xbb9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb98), 0x6);
        EXPECT(gbc.readMem(0xbb99), 0x12);
        // 06 01E3
        gbc.setState(0xd08d, 0x4b4f, 0x2630, 0x6cb3, 0x47e9, 0x643, 0x0, 0x1);
        gbc.writeMem(0xd08d, { 0x6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x4b4f);
        EXPECT(gbc.pc(), 0xd08f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd08d), 0x6);
        EXPECT(gbc.readMem(0xd08e), 0xc5);
        // 06 01E4
        gbc.setState(0x1fae, 0x54d, 0xa9d0, 0x91d2, 0x897a, 0x5fd, 0x1, 0x0);
        gbc.writeMem(0x1fae, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x54d);
        EXPECT(gbc.pc(), 0x1fb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 01E5
        gbc.setState(0x91fc, 0xaa45, 0x3af0, 0x8725, 0x8c77, 0x9eaf, 0x0, 0x1);
        gbc.writeMem(0x91fc, { 0x6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xaa45);
        EXPECT(gbc.pc(), 0x91fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91fc), 0x6);
        EXPECT(gbc.readMem(0x91fd), 0x9f);
        // 06 01E6
        gbc.setState(0x4a72, 0x2ac7, 0x49a0, 0xa3f8, 0x684c, 0xf2c6, 0x0, 0x1);
        gbc.writeMem(0x4a72, { 0x6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2ac7);
        EXPECT(gbc.pc(), 0x4a74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 01E7
        gbc.setState(0xcf11, 0xcdbb, 0x2420, 0x4590, 0x5a56, 0x1ad6, 0x1, 0x1);
        gbc.writeMem(0xcf11, { 0x6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xcdbb);
        EXPECT(gbc.pc(), 0xcf13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf11), 0x6);
        EXPECT(gbc.readMem(0xcf12), 0xc0);
        // 06 01E8
        gbc.setState(0x44c1, 0x4dae, 0x23f0, 0xeee, 0x22b9, 0xb6dd, 0x0, 0x1);
        gbc.writeMem(0x44c1, { 0x6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4dae);
        EXPECT(gbc.pc(), 0x44c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01E9
        gbc.setState(0x76ef, 0xed96, 0x330, 0x7b7b, 0x359a, 0x30e, 0x1, 0x0);
        gbc.writeMem(0x76ef, { 0x6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xed96);
        EXPECT(gbc.pc(), 0x76f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01EA
        gbc.setState(0xc7, 0x6d1a, 0x6ef0, 0xa615, 0x704e, 0x27e2, 0x1, 0x0);
        gbc.writeMem(0xc7, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x6d1a);
        EXPECT(gbc.pc(), 0xc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01EB
        gbc.setState(0xbcbe, 0xf6dc, 0x3680, 0xe395, 0x6a0b, 0x9ccd, 0x0, 0x0);
        gbc.writeMem(0xbcbe, { 0x6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf6dc);
        EXPECT(gbc.pc(), 0xbcc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcbe), 0x6);
        EXPECT(gbc.readMem(0xbcbf), 0x58);
        // 06 01EC
        gbc.setState(0xe31, 0x3ee2, 0x9a60, 0x2f65, 0xed65, 0x1e37, 0x1, 0x0);
        gbc.writeMem(0xe31, { 0x6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x3ee2);
        EXPECT(gbc.pc(), 0xe33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 01ED
        gbc.setState(0x8f72, 0xa81e, 0x8950, 0x9623, 0xcc0d, 0x6902, 0x0, 0x0);
        gbc.writeMem(0x8f72, { 0x6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa81e);
        EXPECT(gbc.pc(), 0x8f74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f72), 0x6);
        EXPECT(gbc.readMem(0x8f73), 0xdd);
        // 06 01EE
        gbc.setState(0x5e15, 0x8eca, 0x6c70, 0xb7c9, 0x566, 0xe9c8, 0x0, 0x1);
        gbc.writeMem(0x5e15, { 0x6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x8eca);
        EXPECT(gbc.pc(), 0x5e17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01EF
        gbc.setState(0xe19a, 0x417e, 0x1180, 0x6376, 0xe13b, 0xb445, 0x0, 0x1);
        gbc.writeMem(0xe19a, { 0x6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x417e);
        EXPECT(gbc.pc(), 0xe19c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe19a), 0x6);
        EXPECT(gbc.readMem(0xe19b), 0xe0);
        // 06 01F0
        gbc.setState(0xafb5, 0xe7f8, 0xef40, 0xd47c, 0x1623, 0xa29, 0x0, 0x1);
        gbc.writeMem(0xafb5, { 0x6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xe7f8);
        EXPECT(gbc.pc(), 0xafb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafb5), 0x6);
        EXPECT(gbc.readMem(0xafb6), 0x6d);
        // 06 01F1
        gbc.setState(0x20c9, 0xa2ec, 0x2ac0, 0xbed1, 0x9e29, 0xf9cb, 0x1, 0x1);
        gbc.writeMem(0x20c9, { 0x6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa2ec);
        EXPECT(gbc.pc(), 0x20cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 01F2
        gbc.setState(0x5f4d, 0xf44e, 0x5f0, 0x3cc1, 0x7c7c, 0x780b, 0x1, 0x0);
        gbc.writeMem(0x5f4d, { 0x6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xf44e);
        EXPECT(gbc.pc(), 0x5f4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01F3
        gbc.setState(0x3f2c, 0x245b, 0x6370, 0x6142, 0x4f07, 0x40df, 0x0, 0x0);
        gbc.writeMem(0x3f2c, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x245b);
        EXPECT(gbc.pc(), 0x3f2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01F4
        gbc.setState(0xbdda, 0x38a, 0xaeb0, 0xf9fe, 0x4bc1, 0xefa9, 0x1, 0x0);
        gbc.writeMem(0xbdda, { 0x6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x38a);
        EXPECT(gbc.pc(), 0xbddc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdda), 0x6);
        EXPECT(gbc.readMem(0xbddb), 0x5a);
        // 06 01F5
        gbc.setState(0xa264, 0x80fd, 0x7ad0, 0x28f6, 0xd422, 0xce19, 0x1, 0x1);
        gbc.writeMem(0xa264, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x80fd);
        EXPECT(gbc.pc(), 0xa266);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa264), 0x6);
        EXPECT(gbc.readMem(0xa265), 0xb5);
        // 06 01F6
        gbc.setState(0x1b18, 0xd352, 0x7660, 0x8b64, 0xaaf9, 0x1a89, 0x1, 0x0);
        gbc.writeMem(0x1b18, { 0x6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xd352);
        EXPECT(gbc.pc(), 0x1b1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 01F7
        gbc.setState(0xd3ab, 0x364e, 0x3240, 0x8e9a, 0x7f94, 0x2160, 0x1, 0x0);
        gbc.writeMem(0xd3ab, { 0x6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x364e);
        EXPECT(gbc.pc(), 0xd3ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ab), 0x6);
        EXPECT(gbc.readMem(0xd3ac), 0xed);
        // 06 01F8
        gbc.setState(0xe163, 0x6147, 0x2ec0, 0x2bab, 0xd1dd, 0xd003, 0x0, 0x1);
        gbc.writeMem(0xe163, { 0x6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x6147);
        EXPECT(gbc.pc(), 0xe165);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe163), 0x6);
        EXPECT(gbc.readMem(0xe164), 0xed);
        // 06 01F9
        gbc.setState(0xb19e, 0x1b85, 0xb460, 0xc663, 0x61fa, 0x86c7, 0x1, 0x1);
        gbc.writeMem(0xb19e, { 0x6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x1b85);
        EXPECT(gbc.pc(), 0xb1a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb19e), 0x6);
        EXPECT(gbc.readMem(0xb19f), 0xb1);
        // 06 01FA
        gbc.setState(0xd9ed, 0xfa51, 0x4cc0, 0x6998, 0xadf6, 0x671e, 0x1, 0x1);
        gbc.writeMem(0xd9ed, { 0x6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xfa51);
        EXPECT(gbc.pc(), 0xd9ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9ed), 0x6);
        EXPECT(gbc.readMem(0xd9ee), 0x4);
        // 06 01FB
        gbc.setState(0x4244, 0x87e, 0x34b0, 0xee33, 0x88af, 0xf7f3, 0x0, 0x1);
        gbc.writeMem(0x4244, { 0x6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x87e);
        EXPECT(gbc.pc(), 0x4246);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01FC
        gbc.setState(0xec37, 0x8b24, 0x35b0, 0x947f, 0xf375, 0x697a, 0x1, 0x0);
        gbc.writeMem(0xec37, { 0x6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x8b24);
        EXPECT(gbc.pc(), 0xec39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec37), 0x6);
        EXPECT(gbc.readMem(0xec38), 0x24);
        // 06 01FD
        gbc.setState(0x163b, 0xb204, 0x5470, 0x17f8, 0xd2b2, 0x8a9c, 0x1, 0x1);
        gbc.writeMem(0x163b, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb204);
        EXPECT(gbc.pc(), 0x163d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 01FE
        gbc.setState(0x1576, 0xedd6, 0x83a0, 0x1369, 0xb8b1, 0x4f86, 0x0, 0x0);
        gbc.writeMem(0x1576, { 0x6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xedd6);
        EXPECT(gbc.pc(), 0x1578);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 01FF
        gbc.setState(0x7763, 0x46f4, 0x8150, 0x50b2, 0x8425, 0xdf68, 0x1, 0x0);
        gbc.writeMem(0x7763, { 0x6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x46f4);
        EXPECT(gbc.pc(), 0x7765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0200
        gbc.setState(0xce78, 0xe218, 0xc6c0, 0x9842, 0x3f99, 0x668b, 0x1, 0x0);
        gbc.writeMem(0xce78, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe218);
        EXPECT(gbc.pc(), 0xce7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce78), 0x6);
        EXPECT(gbc.readMem(0xce79), 0x2);
        // 06 0201
        gbc.setState(0x8ff4, 0xa04d, 0x3ec0, 0x9e7f, 0x41a7, 0x55bc, 0x0, 0x0);
        gbc.writeMem(0x8ff4, { 0x6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa04d);
        EXPECT(gbc.pc(), 0x8ff6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ff4), 0x6);
        EXPECT(gbc.readMem(0x8ff5), 0xa9);
        // 06 0202
        gbc.setState(0x5b4, 0xc5fe, 0x89f0, 0x4fbc, 0xe31d, 0x38d6, 0x1, 0x1);
        gbc.writeMem(0x5b4, { 0x6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc5fe);
        EXPECT(gbc.pc(), 0x5b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0203
        gbc.setState(0xc07d, 0xeeb, 0xbf80, 0xd285, 0xbf62, 0x120b, 0x1, 0x0);
        gbc.writeMem(0xc07d, { 0x6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xeeb);
        EXPECT(gbc.pc(), 0xc07f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc07d), 0x6);
        EXPECT(gbc.readMem(0xc07e), 0x8);
        // 06 0204
        gbc.setState(0x945, 0x1ee4, 0x9cd0, 0x5501, 0x8730, 0x2d9a, 0x0, 0x1);
        gbc.writeMem(0x945, { 0x6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x1ee4);
        EXPECT(gbc.pc(), 0x947);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0205
        gbc.setState(0x451a, 0x6106, 0xc800, 0xcd74, 0x8ed5, 0x1199, 0x0, 0x1);
        gbc.writeMem(0x451a, { 0x6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x6106);
        EXPECT(gbc.pc(), 0x451c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0206
        gbc.setState(0xb943, 0xa1c3, 0x30d0, 0x348d, 0xe5d9, 0x7c80, 0x0, 0x1);
        gbc.writeMem(0xb943, { 0x6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xa1c3);
        EXPECT(gbc.pc(), 0xb945);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb943), 0x6);
        EXPECT(gbc.readMem(0xb944), 0xd1);
        // 06 0207
        gbc.setState(0x930a, 0x65ec, 0x7b00, 0x81ed, 0xb229, 0x41c4, 0x0, 0x1);
        gbc.writeMem(0x930a, { 0x6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x65ec);
        EXPECT(gbc.pc(), 0x930c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x930a), 0x6);
        EXPECT(gbc.readMem(0x930b), 0x7e);
        // 06 0208
        gbc.setState(0xa4a9, 0xf44e, 0x4e60, 0x222, 0x148d, 0x3ce4, 0x1, 0x1);
        gbc.writeMem(0xa4a9, { 0x6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xf44e);
        EXPECT(gbc.pc(), 0xa4ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4a9), 0x6);
        EXPECT(gbc.readMem(0xa4aa), 0xa5);
        // 06 0209
        gbc.setState(0x819b, 0xdd8d, 0x8290, 0x7560, 0x2ed6, 0x54d, 0x1, 0x0);
        gbc.writeMem(0x819b, { 0x6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xdd8d);
        EXPECT(gbc.pc(), 0x819d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x819b), 0x6);
        EXPECT(gbc.readMem(0x819c), 0x90);
        // 06 020A
        gbc.setState(0x59de, 0xc937, 0xb2f0, 0xa6d6, 0x283f, 0xc152, 0x1, 0x0);
        gbc.writeMem(0x59de, { 0x6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xc937);
        EXPECT(gbc.pc(), 0x59e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 020B
        gbc.setState(0xc6d7, 0x2d4a, 0x48b0, 0x4bb9, 0xe77c, 0xe296, 0x0, 0x0);
        gbc.writeMem(0xc6d7, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2d4a);
        EXPECT(gbc.pc(), 0xc6d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6d7), 0x6);
        EXPECT(gbc.readMem(0xc6d8), 0xb5);
        // 06 020C
        gbc.setState(0x6191, 0x611, 0x1a80, 0x4d31, 0x98b8, 0x74c, 0x0, 0x0);
        gbc.writeMem(0x6191, { 0x6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x611);
        EXPECT(gbc.pc(), 0x6193);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 020D
        gbc.setState(0x2bb2, 0x2ae3, 0x940, 0x3952, 0xc4f8, 0xb0ae, 0x0, 0x0);
        gbc.writeMem(0x2bb2, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x2ae3);
        EXPECT(gbc.pc(), 0x2bb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 020E
        gbc.setState(0x8f83, 0x14d6, 0xfa80, 0xc444, 0xee8b, 0x9d39, 0x0, 0x0);
        gbc.writeMem(0x8f83, { 0x6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x14d6);
        EXPECT(gbc.pc(), 0x8f85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f83), 0x6);
        EXPECT(gbc.readMem(0x8f84), 0x46);
        // 06 020F
        gbc.setState(0x29, 0x5d8e, 0x1b90, 0x4e98, 0x166c, 0x70e9, 0x0, 0x1);
        gbc.writeMem(0x29, { 0x6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x5d8e);
        EXPECT(gbc.pc(), 0x2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0211
        gbc.setState(0x3c6e, 0x1976, 0x20a0, 0x28c5, 0x6710, 0xf3a7, 0x1, 0x1);
        gbc.writeMem(0x3c6e, { 0x6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1976);
        EXPECT(gbc.pc(), 0x3c70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0212
        gbc.setState(0x855b, 0x5b29, 0x3830, 0xbf3f, 0xbdb4, 0xa62b, 0x1, 0x1);
        gbc.writeMem(0x855b, { 0x6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x5b29);
        EXPECT(gbc.pc(), 0x855d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x855b), 0x6);
        EXPECT(gbc.readMem(0x855c), 0x38);
        // 06 0213
        gbc.setState(0x777, 0x24be, 0xa6e0, 0xae51, 0xe910, 0x6375, 0x0, 0x0);
        gbc.writeMem(0x777, { 0x6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x24be);
        EXPECT(gbc.pc(), 0x779);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0214
        gbc.setState(0x93d8, 0xf133, 0x5210, 0x7b8b, 0x1f2, 0x5bff, 0x1, 0x0);
        gbc.writeMem(0x93d8, { 0x6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf133);
        EXPECT(gbc.pc(), 0x93da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93d8), 0x6);
        EXPECT(gbc.readMem(0x93d9), 0x8);
        // 06 0215
        gbc.setState(0x7ec7, 0xe1cf, 0xc050, 0x6f5f, 0x58a7, 0x2ed6, 0x1, 0x0);
        gbc.writeMem(0x7ec7, { 0x6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xe1cf);
        EXPECT(gbc.pc(), 0x7ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0216
        gbc.setState(0xb81a, 0xe93f, 0xd6e0, 0x31fc, 0x6b1b, 0x79fd, 0x0, 0x0);
        gbc.writeMem(0xb81a, { 0x6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe93f);
        EXPECT(gbc.pc(), 0xb81c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb81a), 0x6);
        EXPECT(gbc.readMem(0xb81b), 0xf0);
        // 06 0217
        gbc.setState(0x1e7a, 0x3c, 0x9810, 0x2a3, 0x3959, 0x8e66, 0x1, 0x0);
        gbc.writeMem(0x1e7a, { 0x6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x3c);
        EXPECT(gbc.pc(), 0x1e7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0218
        gbc.setState(0x1de7, 0xe3, 0x7850, 0xb548, 0xb90e, 0x2cb1, 0x0, 0x0);
        gbc.writeMem(0x1de7, { 0x6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe3);
        EXPECT(gbc.pc(), 0x1de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0219
        gbc.setState(0xb9bd, 0x6ee1, 0x8aa0, 0x7008, 0x6392, 0x6800, 0x0, 0x0);
        gbc.writeMem(0xb9bd, { 0x6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x6ee1);
        EXPECT(gbc.pc(), 0xb9bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9bd), 0x6);
        EXPECT(gbc.readMem(0xb9be), 0xf9);
        // 06 021A
        gbc.setState(0xe7ac, 0x24b9, 0x1050, 0xd973, 0xc2a4, 0xb722, 0x0, 0x1);
        gbc.writeMem(0xe7ac, { 0x6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x24b9);
        EXPECT(gbc.pc(), 0xe7ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7ac), 0x6);
        EXPECT(gbc.readMem(0xe7ad), 0x6f);
        // 06 021B
        gbc.setState(0xc7d3, 0x7c34, 0xbfe0, 0x395c, 0x72b6, 0x11ed, 0x0, 0x1);
        gbc.writeMem(0xc7d3, { 0x6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7c34);
        EXPECT(gbc.pc(), 0xc7d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7d3), 0x6);
        EXPECT(gbc.readMem(0xc7d4), 0xd1);
        // 06 021C
        gbc.setState(0x4ae8, 0xd938, 0x9620, 0x78f1, 0x3a9b, 0x16e9, 0x1, 0x0);
        gbc.writeMem(0x4ae8, { 0x6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd938);
        EXPECT(gbc.pc(), 0x4aea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 021E
        gbc.setState(0x27da, 0xb94c, 0x5a70, 0x5cfb, 0x5b08, 0x6c42, 0x1, 0x0);
        gbc.writeMem(0x27da, { 0x6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xb94c);
        EXPECT(gbc.pc(), 0x27dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 021F
        gbc.setState(0xb4de, 0x985c, 0x6e60, 0x5206, 0x7f5, 0x9380, 0x0, 0x0);
        gbc.writeMem(0xb4de, { 0x6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x985c);
        EXPECT(gbc.pc(), 0xb4e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4de), 0x6);
        EXPECT(gbc.readMem(0xb4df), 0xa2);
        // 06 0220
        gbc.setState(0xe789, 0xedc, 0x7c50, 0x8ca1, 0x5e75, 0x17b1, 0x1, 0x1);
        gbc.writeMem(0xe789, { 0x6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xedc);
        EXPECT(gbc.pc(), 0xe78b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe789), 0x6);
        EXPECT(gbc.readMem(0xe78a), 0x34);
        // 06 0221
        gbc.setState(0xa895, 0x87c3, 0x2760, 0xe571, 0xa3ba, 0x7cbc, 0x0, 0x0);
        gbc.writeMem(0xa895, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x87c3);
        EXPECT(gbc.pc(), 0xa897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa895), 0x6);
        EXPECT(gbc.readMem(0xa896), 0xb);
        // 06 0222
        gbc.setState(0xcbeb, 0xc29b, 0xb400, 0x79e7, 0x7d86, 0xbd8a, 0x1, 0x1);
        gbc.writeMem(0xcbeb, { 0x6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xc29b);
        EXPECT(gbc.pc(), 0xcbed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbeb), 0x6);
        EXPECT(gbc.readMem(0xcbec), 0x54);
        // 06 0223
        gbc.setState(0x789c, 0x49ed, 0x7310, 0xb87e, 0xcc1f, 0xa97f, 0x0, 0x1);
        gbc.writeMem(0x789c, { 0x6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x49ed);
        EXPECT(gbc.pc(), 0x789e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0224
        gbc.setState(0x9a0c, 0x316a, 0x5690, 0x21a9, 0x282c, 0xff0d, 0x0, 0x0);
        gbc.writeMem(0x9a0c, { 0x6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x316a);
        EXPECT(gbc.pc(), 0x9a0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a0c), 0x6);
        EXPECT(gbc.readMem(0x9a0d), 0x6);
        // 06 0226
        gbc.setState(0x43f, 0x792d, 0xa5e0, 0x77cf, 0x1510, 0x62c2, 0x1, 0x1);
        gbc.writeMem(0x43f, { 0x6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x792d);
        EXPECT(gbc.pc(), 0x441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0227
        gbc.setState(0x1d0c, 0xf5b3, 0x2f60, 0x333e, 0x4d8, 0xe6ed, 0x1, 0x0);
        gbc.writeMem(0x1d0c, { 0x6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xf5b3);
        EXPECT(gbc.pc(), 0x1d0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0228
        gbc.setState(0xc076, 0x48ee, 0x8400, 0x21f7, 0x4768, 0x8fdb, 0x1, 0x1);
        gbc.writeMem(0xc076, { 0x6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x48ee);
        EXPECT(gbc.pc(), 0xc078);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc076), 0x6);
        EXPECT(gbc.readMem(0xc077), 0xcd);
        // 06 0229
        gbc.setState(0x6d08, 0x78f6, 0x4c00, 0x86ac, 0x8089, 0x7a44, 0x0, 0x1);
        gbc.writeMem(0x6d08, { 0x6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x78f6);
        EXPECT(gbc.pc(), 0x6d0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 022A
        gbc.setState(0xa220, 0x7eaf, 0x4810, 0x65f2, 0x738d, 0x790d, 0x1, 0x1);
        gbc.writeMem(0xa220, { 0x6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7eaf);
        EXPECT(gbc.pc(), 0xa222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa220), 0x6);
        EXPECT(gbc.readMem(0xa221), 0xac);
        // 06 022B
        gbc.setState(0x4604, 0x289c, 0x58c0, 0x8f74, 0xd1bf, 0x1856, 0x1, 0x0);
        gbc.writeMem(0x4604, { 0x6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x289c);
        EXPECT(gbc.pc(), 0x4606);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 022C
        gbc.setState(0xa18c, 0x736b, 0xe070, 0x8dba, 0x3bab, 0x1b05, 0x0, 0x1);
        gbc.writeMem(0xa18c, { 0x6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x736b);
        EXPECT(gbc.pc(), 0xa18e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa18c), 0x6);
        EXPECT(gbc.readMem(0xa18d), 0xbb);
        // 06 022D
        gbc.setState(0xa23, 0x5549, 0x4790, 0xd8e9, 0x3f82, 0x74f8, 0x0, 0x1);
        gbc.writeMem(0xa23, { 0x6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x5549);
        EXPECT(gbc.pc(), 0xa25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 022E
        gbc.setState(0xa6e8, 0x345b, 0x66c0, 0x8a8e, 0x92b3, 0x9915, 0x1, 0x1);
        gbc.writeMem(0xa6e8, { 0x6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x345b);
        EXPECT(gbc.pc(), 0xa6ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6e8), 0x6);
        EXPECT(gbc.readMem(0xa6e9), 0x80);
        // 06 022F
        gbc.setState(0x679a, 0x3911, 0x64a0, 0x3283, 0xc6a7, 0xf455, 0x0, 0x0);
        gbc.writeMem(0x679a, { 0x6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3911);
        EXPECT(gbc.pc(), 0x679c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0230
        gbc.setState(0x161f, 0xccf9, 0xb3d0, 0xd01d, 0xd9ce, 0xe3a6, 0x0, 0x0);
        gbc.writeMem(0x161f, { 0x6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xccf9);
        EXPECT(gbc.pc(), 0x1621);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0231
        gbc.setState(0x116c, 0xbe3e, 0xf960, 0x24b5, 0xb03b, 0xfe93, 0x1, 0x0);
        gbc.writeMem(0x116c, { 0x6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xbe3e);
        EXPECT(gbc.pc(), 0x116e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0232
        gbc.setState(0xd529, 0x781, 0x90b0, 0xcc74, 0xc20c, 0x18db, 0x1, 0x0);
        gbc.writeMem(0xd529, { 0x6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x781);
        EXPECT(gbc.pc(), 0xd52b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd529), 0x6);
        EXPECT(gbc.readMem(0xd52a), 0x2d);
        // 06 0233
        gbc.setState(0x2c33, 0x56e9, 0x8650, 0x15a, 0xf5d2, 0xdd16, 0x1, 0x1);
        gbc.writeMem(0x2c33, { 0x6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x56e9);
        EXPECT(gbc.pc(), 0x2c35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0234
        gbc.setState(0x6d34, 0xaecf, 0x6180, 0x20b9, 0x87a9, 0x7682, 0x0, 0x1);
        gbc.writeMem(0x6d34, { 0x6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xaecf);
        EXPECT(gbc.pc(), 0x6d36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0235
        gbc.setState(0xb607, 0xcac1, 0x3980, 0xac15, 0xe457, 0xc196, 0x1, 0x1);
        gbc.writeMem(0xb607, { 0x6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xcac1);
        EXPECT(gbc.pc(), 0xb609);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb607), 0x6);
        EXPECT(gbc.readMem(0xb608), 0x86);
        // 06 0236
        gbc.setState(0x5d78, 0x6228, 0xf6e0, 0x3564, 0x898f, 0x2a48, 0x0, 0x0);
        gbc.writeMem(0x5d78, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x6228);
        EXPECT(gbc.pc(), 0x5d7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0237
        gbc.setState(0x9cb5, 0x51bc, 0xf840, 0xfabd, 0xb505, 0x2c8a, 0x1, 0x0);
        gbc.writeMem(0x9cb5, { 0x6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x51bc);
        EXPECT(gbc.pc(), 0x9cb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cb5), 0x6);
        EXPECT(gbc.readMem(0x9cb6), 0x50);
        // 06 0238
        gbc.setState(0x9acb, 0x489a, 0x19b0, 0xc782, 0xaceb, 0x98b5, 0x1, 0x1);
        gbc.writeMem(0x9acb, { 0x6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x489a);
        EXPECT(gbc.pc(), 0x9acd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9acb), 0x6);
        EXPECT(gbc.readMem(0x9acc), 0xf6);
        // 06 023A
        gbc.setState(0xdab8, 0x2fd6, 0xbc10, 0xa26e, 0xac80, 0x2776, 0x1, 0x1);
        gbc.writeMem(0xdab8, { 0x6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2fd6);
        EXPECT(gbc.pc(), 0xdaba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdab8), 0x6);
        EXPECT(gbc.readMem(0xdab9), 0xa1);
        // 06 023B
        gbc.setState(0x7899, 0x13cc, 0xcdb0, 0xb431, 0x66f1, 0xd800, 0x1, 0x1);
        gbc.writeMem(0x7899, { 0x6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x13cc);
        EXPECT(gbc.pc(), 0x789b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 023C
        gbc.setState(0x39c2, 0x4842, 0x18d0, 0xa1d2, 0x4383, 0xab21, 0x0, 0x1);
        gbc.writeMem(0x39c2, { 0x6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x4842);
        EXPECT(gbc.pc(), 0x39c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 023D
        gbc.setState(0xafa2, 0x7927, 0xfb20, 0x1ece, 0x9e5a, 0x62f0, 0x1, 0x0);
        gbc.writeMem(0xafa2, { 0x6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x7927);
        EXPECT(gbc.pc(), 0xafa4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafa2), 0x6);
        EXPECT(gbc.readMem(0xafa3), 0xb0);
        // 06 023E
        gbc.setState(0x9682, 0xcb38, 0xb9f0, 0x4513, 0x117c, 0x985b, 0x0, 0x0);
        gbc.writeMem(0x9682, { 0x6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xcb38);
        EXPECT(gbc.pc(), 0x9684);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9682), 0x6);
        EXPECT(gbc.readMem(0x9683), 0xed);
        // 06 023F
        gbc.setState(0xa555, 0xb31e, 0xff00, 0xbd05, 0x5938, 0x77c0, 0x0, 0x1);
        gbc.writeMem(0xa555, { 0x6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb31e);
        EXPECT(gbc.pc(), 0xa557);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa555), 0x6);
        EXPECT(gbc.readMem(0xa556), 0x41);
        // 06 0240
        gbc.setState(0x8dec, 0xe213, 0x48b0, 0xccdc, 0x9787, 0x6b14, 0x1, 0x1);
        gbc.writeMem(0x8dec, { 0x6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe213);
        EXPECT(gbc.pc(), 0x8dee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dec), 0x6);
        EXPECT(gbc.readMem(0x8ded), 0xa0);
        // 06 0241
        gbc.setState(0x5190, 0xec5, 0x3590, 0x1d94, 0xea1a, 0xe8bd, 0x0, 0x0);
        gbc.writeMem(0x5190, { 0x6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xec5);
        EXPECT(gbc.pc(), 0x5192);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0242
        gbc.setState(0xd044, 0xce8a, 0xb1a0, 0x4c54, 0x6d44, 0x8026, 0x0, 0x1);
        gbc.writeMem(0xd044, { 0x6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xce8a);
        EXPECT(gbc.pc(), 0xd046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd044), 0x6);
        EXPECT(gbc.readMem(0xd045), 0x28);
        // 06 0243
        gbc.setState(0xb866, 0xa18e, 0x9730, 0xc59e, 0x5054, 0xbb19, 0x1, 0x0);
        gbc.writeMem(0xb866, { 0x6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa18e);
        EXPECT(gbc.pc(), 0xb868);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb866), 0x6);
        EXPECT(gbc.readMem(0xb867), 0xc7);
        // 06 0244
        gbc.setState(0xe45, 0xed81, 0xb6c0, 0x2e9d, 0xa61d, 0x3f41, 0x0, 0x0);
        gbc.writeMem(0xe45, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xed81);
        EXPECT(gbc.pc(), 0xe47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0246
        gbc.setState(0x2258, 0x3303, 0x82a0, 0xcbb8, 0x37a, 0xf2af, 0x1, 0x1);
        gbc.writeMem(0x2258, { 0x6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x3303);
        EXPECT(gbc.pc(), 0x225a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0247
        gbc.setState(0x909f, 0xfece, 0xb900, 0x766a, 0xfccc, 0x5e6c, 0x0, 0x1);
        gbc.writeMem(0x909f, { 0x6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xfece);
        EXPECT(gbc.pc(), 0x90a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x909f), 0x6);
        EXPECT(gbc.readMem(0x90a0), 0x28);
        // 06 0248
        gbc.setState(0x4250, 0x79eb, 0x4ce0, 0x7521, 0xb3e9, 0xa4ca, 0x0, 0x1);
        gbc.writeMem(0x4250, { 0x6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x79eb);
        EXPECT(gbc.pc(), 0x4252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0249
        gbc.setState(0xbae, 0x5b51, 0xee30, 0x9aca, 0xc134, 0x6424, 0x0, 0x1);
        gbc.writeMem(0xbae, { 0x6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x5b51);
        EXPECT(gbc.pc(), 0xbb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 024A
        gbc.setState(0xa5d, 0xfb9, 0x4e80, 0x8196, 0x9579, 0x233, 0x1, 0x0);
        gbc.writeMem(0xa5d, { 0x6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xfb9);
        EXPECT(gbc.pc(), 0xa5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 024B
        gbc.setState(0x6f35, 0x6358, 0xdcb0, 0xfbd7, 0x7f9e, 0x6d4a, 0x1, 0x1);
        gbc.writeMem(0x6f35, { 0x6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x6358);
        EXPECT(gbc.pc(), 0x6f37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 024C
        gbc.setState(0x2e7b, 0x6073, 0xf2e0, 0x7287, 0xc426, 0x15b2, 0x1, 0x0);
        gbc.writeMem(0x2e7b, { 0x6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6073);
        EXPECT(gbc.pc(), 0x2e7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 024D
        gbc.setState(0x3981, 0x8db2, 0x4bf0, 0x7f18, 0x38fd, 0xd56c, 0x0, 0x1);
        gbc.writeMem(0x3981, { 0x6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x8db2);
        EXPECT(gbc.pc(), 0x3983);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 024E
        gbc.setState(0xe6a5, 0x1dfa, 0xb720, 0x4385, 0x7276, 0x17fb, 0x1, 0x1);
        gbc.writeMem(0xe6a5, { 0x6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1dfa);
        EXPECT(gbc.pc(), 0xe6a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a5), 0x6);
        EXPECT(gbc.readMem(0xe6a6), 0xaa);
        // 06 024F
        gbc.setState(0x1bfb, 0x67d5, 0xdde0, 0xdcfe, 0x82d7, 0x5a2a, 0x0, 0x1);
        gbc.writeMem(0x1bfb, { 0x6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x67d5);
        EXPECT(gbc.pc(), 0x1bfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0250
        gbc.setState(0xa6d4, 0xd8ae, 0x9890, 0x76c4, 0xf992, 0x2af, 0x1, 0x1);
        gbc.writeMem(0xa6d4, { 0x6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xd8ae);
        EXPECT(gbc.pc(), 0xa6d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6d4), 0x6);
        EXPECT(gbc.readMem(0xa6d5), 0x39);
        // 06 0251
        gbc.setState(0x532e, 0x4f3c, 0xf8a0, 0x2d2, 0x3ca1, 0xacac, 0x0, 0x1);
        gbc.writeMem(0x532e, { 0x6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x4f3c);
        EXPECT(gbc.pc(), 0x5330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0252
        gbc.setState(0x4024, 0xb7bf, 0x3c50, 0xd543, 0x52d3, 0xdd3d, 0x1, 0x0);
        gbc.writeMem(0x4024, { 0x6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb7bf);
        EXPECT(gbc.pc(), 0x4026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0253
        gbc.setState(0xa169, 0xd7a2, 0x560, 0xfa18, 0x3c6d, 0x7c5b, 0x1, 0x1);
        gbc.writeMem(0xa169, { 0x6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xd7a2);
        EXPECT(gbc.pc(), 0xa16b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa169), 0x6);
        EXPECT(gbc.readMem(0xa16a), 0x83);
        // 06 0254
        gbc.setState(0xce3, 0xc177, 0x8750, 0x723a, 0x1594, 0x3b78, 0x0, 0x0);
        gbc.writeMem(0xce3, { 0x6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xc177);
        EXPECT(gbc.pc(), 0xce5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0255
        gbc.setState(0xeb00, 0x6662, 0xeed0, 0x35fb, 0x6824, 0xb866, 0x0, 0x1);
        gbc.writeMem(0xeb00, { 0x6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x6662);
        EXPECT(gbc.pc(), 0xeb02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb00), 0x6);
        EXPECT(gbc.readMem(0xeb01), 0x4f);
        // 06 0256
        gbc.setState(0xb1b7, 0xbb36, 0xd020, 0x7830, 0xe47d, 0xddab, 0x0, 0x0);
        gbc.writeMem(0xb1b7, { 0x6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xbb36);
        EXPECT(gbc.pc(), 0xb1b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1b7), 0x6);
        EXPECT(gbc.readMem(0xb1b8), 0x5f);
        // 06 0257
        gbc.setState(0xa3da, 0xb417, 0xcb10, 0x149a, 0xdbe0, 0x8c94, 0x0, 0x1);
        gbc.writeMem(0xa3da, { 0x6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xb417);
        EXPECT(gbc.pc(), 0xa3dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3da), 0x6);
        EXPECT(gbc.readMem(0xa3db), 0x55);
        // 06 0258
        gbc.setState(0xba27, 0x33e1, 0xa8b0, 0x3d49, 0xd8cf, 0x1cd2, 0x1, 0x0);
        gbc.writeMem(0xba27, { 0x6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x33e1);
        EXPECT(gbc.pc(), 0xba29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba27), 0x6);
        EXPECT(gbc.readMem(0xba28), 0x73);
        // 06 0259
        gbc.setState(0xeb79, 0x59d, 0xf6e0, 0x6174, 0xa1f7, 0x9425, 0x1, 0x0);
        gbc.writeMem(0xeb79, { 0x6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x59d);
        EXPECT(gbc.pc(), 0xeb7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb79), 0x6);
        EXPECT(gbc.readMem(0xeb7a), 0x7);
        // 06 025A
        gbc.setState(0x782b, 0xf71c, 0x6c40, 0xd95e, 0x6ba9, 0x2d38, 0x0, 0x0);
        gbc.writeMem(0x782b, { 0x6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xf71c);
        EXPECT(gbc.pc(), 0x782d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 025B
        gbc.setState(0x888f, 0x9dd1, 0xd870, 0xee40, 0x4d55, 0x392d, 0x1, 0x1);
        gbc.writeMem(0x888f, { 0x6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x9dd1);
        EXPECT(gbc.pc(), 0x8891);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x888f), 0x6);
        EXPECT(gbc.readMem(0x8890), 0xd8);
        // 06 025C
        gbc.setState(0x90b4, 0x6429, 0x88d0, 0xa7c8, 0xafc3, 0x1c77, 0x1, 0x1);
        gbc.writeMem(0x90b4, { 0x6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x6429);
        EXPECT(gbc.pc(), 0x90b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90b4), 0x6);
        EXPECT(gbc.readMem(0x90b5), 0x9a);
        // 06 025D
        gbc.setState(0xe67e, 0xdcdd, 0xee0, 0x1707, 0x423f, 0x6615, 0x1, 0x0);
        gbc.writeMem(0xe67e, { 0x6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xdcdd);
        EXPECT(gbc.pc(), 0xe680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe67e), 0x6);
        EXPECT(gbc.readMem(0xe67f), 0x12);
        // 06 025E
        gbc.setState(0x791d, 0x526b, 0xe7e0, 0x2b03, 0x4154, 0x5b2a, 0x1, 0x0);
        gbc.writeMem(0x791d, { 0x6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x526b);
        EXPECT(gbc.pc(), 0x791f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 025F
        gbc.setState(0x3eb3, 0x6242, 0xb910, 0x502, 0xdf96, 0x4faf, 0x1, 0x1);
        gbc.writeMem(0x3eb3, { 0x6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x6242);
        EXPECT(gbc.pc(), 0x3eb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0260
        gbc.setState(0x758d, 0x7775, 0xb450, 0x95d, 0x96d2, 0x8a1c, 0x1, 0x1);
        gbc.writeMem(0x758d, { 0x6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x7775);
        EXPECT(gbc.pc(), 0x758f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0261
        gbc.setState(0xa07e, 0x8e7a, 0x9780, 0x2063, 0x4d4, 0x98c6, 0x1, 0x0);
        gbc.writeMem(0xa07e, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8e7a);
        EXPECT(gbc.pc(), 0xa080);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa07e), 0x6);
        EXPECT(gbc.readMem(0xa07f), 0x7f);
        // 06 0262
        gbc.setState(0x30cb, 0x448c, 0x82e0, 0xfd72, 0x6cd, 0xe691, 0x0, 0x0);
        gbc.writeMem(0x30cb, { 0x6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x448c);
        EXPECT(gbc.pc(), 0x30cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0263
        gbc.setState(0xb89c, 0x8976, 0x56e0, 0x8f19, 0x1edd, 0x5f63, 0x0, 0x1);
        gbc.writeMem(0xb89c, { 0x6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x8976);
        EXPECT(gbc.pc(), 0xb89e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb89c), 0x6);
        EXPECT(gbc.readMem(0xb89d), 0xbf);
        // 06 0264
        gbc.setState(0x4267, 0x702c, 0x91a0, 0x7652, 0x9387, 0x9b7c, 0x0, 0x0);
        gbc.writeMem(0x4267, { 0x6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x702c);
        EXPECT(gbc.pc(), 0x4269);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0265
        gbc.setState(0xbdb7, 0xa7b, 0xe000, 0xb7f, 0xb3df, 0x3d18, 0x0, 0x1);
        gbc.writeMem(0xbdb7, { 0x6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa7b);
        EXPECT(gbc.pc(), 0xbdb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdb7), 0x6);
        EXPECT(gbc.readMem(0xbdb8), 0x23);
        // 06 0266
        gbc.setState(0xc194, 0xe633, 0xd90, 0xc6d0, 0x991e, 0x8d4a, 0x0, 0x1);
        gbc.writeMem(0xc194, { 0x6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xe633);
        EXPECT(gbc.pc(), 0xc196);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc194), 0x6);
        EXPECT(gbc.readMem(0xc195), 0xc8);
        // 06 0267
        gbc.setState(0x56f9, 0xa9c6, 0xfde0, 0x3394, 0x6a0e, 0x62ab, 0x0, 0x0);
        gbc.writeMem(0x56f9, { 0x6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa9c6);
        EXPECT(gbc.pc(), 0x56fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0268
        gbc.setState(0xde86, 0xa6bd, 0xbdc0, 0x78cc, 0x2859, 0xe8d7, 0x1, 0x0);
        gbc.writeMem(0xde86, { 0x6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa6bd);
        EXPECT(gbc.pc(), 0xde88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde86), 0x6);
        EXPECT(gbc.readMem(0xde87), 0x63);
        // 06 0269
        gbc.setState(0xcc3b, 0x8227, 0xbce0, 0xdfc0, 0x50c, 0xc948, 0x0, 0x0);
        gbc.writeMem(0xcc3b, { 0x6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8227);
        EXPECT(gbc.pc(), 0xcc3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc3b), 0x6);
        EXPECT(gbc.readMem(0xcc3c), 0x27);
        // 06 026A
        gbc.setState(0xd8e6, 0x70e0, 0xeeb0, 0x6f40, 0x8112, 0x41f7, 0x1, 0x1);
        gbc.writeMem(0xd8e6, { 0x6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x70e0);
        EXPECT(gbc.pc(), 0xd8e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8e6), 0x6);
        EXPECT(gbc.readMem(0xd8e7), 0x86);
        // 06 026B
        gbc.setState(0x98ee, 0x65de, 0x8f20, 0x187c, 0xd26b, 0xdfbc, 0x0, 0x0);
        gbc.writeMem(0x98ee, { 0x6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x65de);
        EXPECT(gbc.pc(), 0x98f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98ee), 0x6);
        EXPECT(gbc.readMem(0x98ef), 0x44);
        // 06 026C
        gbc.setState(0x991d, 0x753c, 0x11e0, 0xceb7, 0x139b, 0xc324, 0x0, 0x1);
        gbc.writeMem(0x991d, { 0x6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x753c);
        EXPECT(gbc.pc(), 0x991f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x991d), 0x6);
        EXPECT(gbc.readMem(0x991e), 0xe5);
        // 06 026D
        gbc.setState(0xc6cf, 0x719f, 0xc7e0, 0x7773, 0xcd1f, 0x1a6d, 0x0, 0x1);
        gbc.writeMem(0xc6cf, { 0x6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x719f);
        EXPECT(gbc.pc(), 0xc6d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6cf), 0x6);
        EXPECT(gbc.readMem(0xc6d0), 0x6d);
        // 06 026F
        gbc.setState(0x272a, 0xfa41, 0xca40, 0x8216, 0xea66, 0x6d29, 0x0, 0x1);
        gbc.writeMem(0x272a, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xfa41);
        EXPECT(gbc.pc(), 0x272c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0270
        gbc.setState(0xc931, 0x22d9, 0x6cc0, 0xb011, 0x255a, 0xebea, 0x0, 0x0);
        gbc.writeMem(0xc931, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x22d9);
        EXPECT(gbc.pc(), 0xc933);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc931), 0x6);
        EXPECT(gbc.readMem(0xc932), 0x35);
        // 06 0271
        gbc.setState(0xe5b5, 0x5bac, 0x9ac0, 0xbd77, 0x2326, 0xfaf5, 0x1, 0x0);
        gbc.writeMem(0xe5b5, { 0x6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x5bac);
        EXPECT(gbc.pc(), 0xe5b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5b5), 0x6);
        EXPECT(gbc.readMem(0xe5b6), 0xac);
        // 06 0272
        gbc.setState(0x7747, 0x1521, 0x93a0, 0xaa08, 0x8d57, 0xb10, 0x0, 0x0);
        gbc.writeMem(0x7747, { 0x6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1521);
        EXPECT(gbc.pc(), 0x7749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0273
        gbc.setState(0x5660, 0xeea6, 0xd990, 0xa76f, 0x1e59, 0x4e78, 0x1, 0x1);
        gbc.writeMem(0x5660, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xeea6);
        EXPECT(gbc.pc(), 0x5662);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0274
        gbc.setState(0x5a0e, 0x4d85, 0x93a0, 0x4d30, 0x2cda, 0x3c10, 0x1, 0x0);
        gbc.writeMem(0x5a0e, { 0x6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x4d85);
        EXPECT(gbc.pc(), 0x5a10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0275
        gbc.setState(0x9c66, 0xbea2, 0xd550, 0x4e83, 0xb73a, 0x8cdb, 0x0, 0x1);
        gbc.writeMem(0x9c66, { 0x6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xbea2);
        EXPECT(gbc.pc(), 0x9c68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c66), 0x6);
        EXPECT(gbc.readMem(0x9c67), 0x94);
        // 06 0276
        gbc.setState(0xee2a, 0x71e5, 0x23e0, 0xe44d, 0x3956, 0x41d3, 0x1, 0x0);
        gbc.writeMem(0xee2a, { 0x6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x71e5);
        EXPECT(gbc.pc(), 0xee2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee2a), 0x6);
        EXPECT(gbc.readMem(0xee2b), 0x5d);
        // 06 0277
        gbc.setState(0x754b, 0x40a7, 0x2140, 0x3324, 0xdc16, 0xd439, 0x0, 0x1);
        gbc.writeMem(0x754b, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x40a7);
        EXPECT(gbc.pc(), 0x754d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0278
        gbc.setState(0x6d58, 0x5b65, 0xe160, 0xd09f, 0xd556, 0xd7a4, 0x1, 0x1);
        gbc.writeMem(0x6d58, { 0x6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x5b65);
        EXPECT(gbc.pc(), 0x6d5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 027A
        gbc.setState(0xdf45, 0xe74a, 0x33b0, 0x484c, 0x4173, 0xaa3e, 0x0, 0x0);
        gbc.writeMem(0xdf45, { 0x6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xe74a);
        EXPECT(gbc.pc(), 0xdf47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf45), 0x6);
        EXPECT(gbc.readMem(0xdf46), 0xa1);
        // 06 027B
        gbc.setState(0xe567, 0xfec3, 0x2810, 0x4571, 0x6b9, 0xc65d, 0x0, 0x0);
        gbc.writeMem(0xe567, { 0x6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xfec3);
        EXPECT(gbc.pc(), 0xe569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe567), 0x6);
        EXPECT(gbc.readMem(0xe568), 0xcb);
        // 06 027D
        gbc.setState(0x2bef, 0x73c9, 0x3cb0, 0x8095, 0xec3, 0xbb2c, 0x0, 0x1);
        gbc.writeMem(0x2bef, { 0x6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x73c9);
        EXPECT(gbc.pc(), 0x2bf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0280
        gbc.setState(0xadfe, 0xdea6, 0x72e0, 0x2441, 0x6d5, 0x705b, 0x1, 0x1);
        gbc.writeMem(0xadfe, { 0x6, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xdea6);
        EXPECT(gbc.pc(), 0xae00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadfe), 0x6);
        EXPECT(gbc.readMem(0xadff), 0x31);
        // 06 0281
        gbc.setState(0x13cb, 0x3212, 0xf4e0, 0x6e07, 0x180b, 0x8b59, 0x1, 0x1);
        gbc.writeMem(0x13cb, { 0x6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x3212);
        EXPECT(gbc.pc(), 0x13cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0283
        gbc.setState(0xb8d8, 0x9c1c, 0x4510, 0x439c, 0x6111, 0x1a3d, 0x1, 0x0);
        gbc.writeMem(0xb8d8, { 0x6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9c1c);
        EXPECT(gbc.pc(), 0xb8da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8d8), 0x6);
        EXPECT(gbc.readMem(0xb8d9), 0xcd);
        // 06 0284
        gbc.setState(0x4c9c, 0xdc0f, 0x2000, 0xddd, 0x7f92, 0xb78f, 0x0, 0x1);
        gbc.writeMem(0x4c9c, { 0x6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xdc0f);
        EXPECT(gbc.pc(), 0x4c9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0285
        gbc.setState(0xddc, 0xef4b, 0xb210, 0xb789, 0x1297, 0x34f3, 0x0, 0x0);
        gbc.writeMem(0xddc, { 0x6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xef4b);
        EXPECT(gbc.pc(), 0xdde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0286
        gbc.setState(0x207, 0xf339, 0x6660, 0xe035, 0xf5d8, 0x569b, 0x0, 0x0);
        gbc.writeMem(0x207, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf339);
        EXPECT(gbc.pc(), 0x209);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0287
        gbc.setState(0xbe2f, 0xa4, 0x1d70, 0x871c, 0xb6c4, 0xa3e5, 0x1, 0x0);
        gbc.writeMem(0xbe2f, { 0x6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xa4);
        EXPECT(gbc.pc(), 0xbe31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe2f), 0x6);
        EXPECT(gbc.readMem(0xbe30), 0xfc);
        // 06 0288
        gbc.setState(0x6c74, 0xba40, 0xa40, 0xd66c, 0xd9ed, 0x4b20, 0x1, 0x1);
        gbc.writeMem(0x6c74, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xba40);
        EXPECT(gbc.pc(), 0x6c76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0289
        gbc.setState(0xbcd3, 0xb849, 0x5140, 0x345f, 0xbf57, 0xc8dc, 0x1, 0x0);
        gbc.writeMem(0xbcd3, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb849);
        EXPECT(gbc.pc(), 0xbcd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcd3), 0x6);
        EXPECT(gbc.readMem(0xbcd4), 0x43);
        // 06 028A
        gbc.setState(0x7779, 0x3f59, 0xb1e0, 0x6580, 0x53f1, 0xfc3e, 0x1, 0x1);
        gbc.writeMem(0x7779, { 0x6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3f59);
        EXPECT(gbc.pc(), 0x777b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 028B
        gbc.setState(0x289d, 0x627a, 0x1220, 0x40f8, 0xfcce, 0xad44, 0x1, 0x1);
        gbc.writeMem(0x289d, { 0x6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x627a);
        EXPECT(gbc.pc(), 0x289f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 028C
        gbc.setState(0xec20, 0xf54b, 0x2d40, 0x21de, 0xd7d2, 0xd463, 0x0, 0x1);
        gbc.writeMem(0xec20, { 0x6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf54b);
        EXPECT(gbc.pc(), 0xec22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec20), 0x6);
        EXPECT(gbc.readMem(0xec21), 0x99);
        // 06 028D
        gbc.setState(0x1407, 0xb36a, 0xf7a0, 0x29ae, 0xce00, 0x6187, 0x0, 0x1);
        gbc.writeMem(0x1407, { 0x6, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xb36a);
        EXPECT(gbc.pc(), 0x1409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 028E
        gbc.setState(0xdae1, 0xff53, 0x7be0, 0xf1fe, 0x69d4, 0x3d93, 0x1, 0x1);
        gbc.writeMem(0xdae1, { 0x6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xff53);
        EXPECT(gbc.pc(), 0xdae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdae1), 0x6);
        EXPECT(gbc.readMem(0xdae2), 0x60);
        // 06 0290
        gbc.setState(0x74e7, 0xfe0e, 0x6840, 0x30b1, 0xb3d8, 0x65be, 0x0, 0x0);
        gbc.writeMem(0x74e7, { 0x6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xfe0e);
        EXPECT(gbc.pc(), 0x74e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0291
        gbc.setState(0xb16e, 0x6483, 0x9930, 0x8525, 0x6e66, 0xdb40, 0x1, 0x1);
        gbc.writeMem(0xb16e, { 0x6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6483);
        EXPECT(gbc.pc(), 0xb170);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb16e), 0x6);
        EXPECT(gbc.readMem(0xb16f), 0x4d);
        // 06 0292
        gbc.setState(0x58c5, 0xb123, 0xd640, 0xb038, 0x61f8, 0x7d2a, 0x0, 0x0);
        gbc.writeMem(0x58c5, { 0x6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xb123);
        EXPECT(gbc.pc(), 0x58c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0293
        gbc.setState(0xbcff, 0x2b9f, 0xd100, 0xfaff, 0x67a9, 0xb7e7, 0x0, 0x1);
        gbc.writeMem(0xbcff, { 0x6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x2b9f);
        EXPECT(gbc.pc(), 0xbd01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcff), 0x6);
        EXPECT(gbc.readMem(0xbd00), 0x99);
        // 06 0294
        gbc.setState(0x8d4c, 0x2452, 0x3b0, 0xebf7, 0x69a7, 0x66cd, 0x0, 0x1);
        gbc.writeMem(0x8d4c, { 0x6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x2452);
        EXPECT(gbc.pc(), 0x8d4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d4c), 0x6);
        EXPECT(gbc.readMem(0x8d4d), 0x73);
        // 06 0295
        gbc.setState(0xd71c, 0xcbcc, 0x62d0, 0xdfe0, 0x97bf, 0x56af, 0x1, 0x0);
        gbc.writeMem(0xd71c, { 0x6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xcbcc);
        EXPECT(gbc.pc(), 0xd71e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd71c), 0x6);
        EXPECT(gbc.readMem(0xd71d), 0xab);
        // 06 0296
        gbc.setState(0x9d71, 0x4e46, 0x8cb0, 0x62fd, 0x89e0, 0xfb23, 0x1, 0x1);
        gbc.writeMem(0x9d71, { 0x6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x4e46);
        EXPECT(gbc.pc(), 0x9d73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d71), 0x6);
        EXPECT(gbc.readMem(0x9d72), 0x17);
        // 06 0297
        gbc.setState(0x7342, 0x2a8c, 0x4650, 0x49d9, 0xe479, 0x1dfa, 0x0, 0x0);
        gbc.writeMem(0x7342, { 0x6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2a8c);
        EXPECT(gbc.pc(), 0x7344);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0299
        gbc.setState(0xc6bc, 0xeb4e, 0x7280, 0x1724, 0x2aa1, 0xad80, 0x0, 0x0);
        gbc.writeMem(0xc6bc, { 0x6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xeb4e);
        EXPECT(gbc.pc(), 0xc6be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6bc), 0x6);
        EXPECT(gbc.readMem(0xc6bd), 0xdf);
        // 06 029A
        gbc.setState(0xc861, 0x1aaa, 0xd0, 0x14bd, 0x2496, 0x15dd, 0x1, 0x0);
        gbc.writeMem(0xc861, { 0x6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1aaa);
        EXPECT(gbc.pc(), 0xc863);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc861), 0x6);
        EXPECT(gbc.readMem(0xc862), 0x5);
        // 06 029B
        gbc.setState(0x90b7, 0x5f5a, 0x8b60, 0xd118, 0x516f, 0x6df7, 0x1, 0x1);
        gbc.writeMem(0x90b7, { 0x6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5f5a);
        EXPECT(gbc.pc(), 0x90b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90b7), 0x6);
        EXPECT(gbc.readMem(0x90b8), 0x80);
        // 06 029C
        gbc.setState(0x158f, 0x6285, 0xbbf0, 0xd40f, 0x1c9, 0x27de, 0x1, 0x1);
        gbc.writeMem(0x158f, { 0x6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6285);
        EXPECT(gbc.pc(), 0x1591);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 029D
        gbc.setState(0xbba5, 0xed23, 0x6db0, 0x3a5b, 0x3871, 0xdd9e, 0x1, 0x0);
        gbc.writeMem(0xbba5, { 0x6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xed23);
        EXPECT(gbc.pc(), 0xbba7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbba5), 0x6);
        EXPECT(gbc.readMem(0xbba6), 0xac);
        // 06 029E
        gbc.setState(0x9188, 0x160f, 0x15f0, 0xbd, 0x322d, 0xa292, 0x1, 0x0);
        gbc.writeMem(0x9188, { 0x6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x160f);
        EXPECT(gbc.pc(), 0x918a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9188), 0x6);
        EXPECT(gbc.readMem(0x9189), 0xb3);
        // 06 029F
        gbc.setState(0xc48d, 0xd273, 0x9800, 0xcdfa, 0x1324, 0x86c4, 0x1, 0x1);
        gbc.writeMem(0xc48d, { 0x6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xd273);
        EXPECT(gbc.pc(), 0xc48f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc48d), 0x6);
        EXPECT(gbc.readMem(0xc48e), 0x7e);
        // 06 02A0
        gbc.setState(0xd7ef, 0x8306, 0x2ee0, 0x6e2a, 0xdd4e, 0x7f5a, 0x1, 0x1);
        gbc.writeMem(0xd7ef, { 0x6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8306);
        EXPECT(gbc.pc(), 0xd7f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7ef), 0x6);
        EXPECT(gbc.readMem(0xd7f0), 0x2f);
        // 06 02A1
        gbc.setState(0xe91a, 0x9215, 0x7460, 0xf8e3, 0x8657, 0xcf9c, 0x1, 0x1);
        gbc.writeMem(0xe91a, { 0x6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9215);
        EXPECT(gbc.pc(), 0xe91c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe91a), 0x6);
        EXPECT(gbc.readMem(0xe91b), 0xb6);
        // 06 02A2
        gbc.setState(0x179f, 0x8ce7, 0x8170, 0x4095, 0xe08d, 0x8b37, 0x0, 0x1);
        gbc.writeMem(0x179f, { 0x6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x8ce7);
        EXPECT(gbc.pc(), 0x17a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02A3
        gbc.setState(0x1120, 0x5205, 0xb700, 0xb29f, 0xfa5c, 0x2361, 0x0, 0x1);
        gbc.writeMem(0x1120, { 0x6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5205);
        EXPECT(gbc.pc(), 0x1122);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02A4
        gbc.setState(0xcd2e, 0x9f1d, 0x6660, 0x351d, 0xfc96, 0x37a2, 0x1, 0x0);
        gbc.writeMem(0xcd2e, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x9f1d);
        EXPECT(gbc.pc(), 0xcd30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd2e), 0x6);
        EXPECT(gbc.readMem(0xcd2f), 0xef);
        // 06 02A5
        gbc.setState(0x3523, 0x3005, 0x38d0, 0x9f9, 0xd180, 0xc3a9, 0x0, 0x1);
        gbc.writeMem(0x3523, { 0x6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x3005);
        EXPECT(gbc.pc(), 0x3525);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02A6
        gbc.setState(0xa9a0, 0xaecc, 0x5390, 0x7fea, 0x9be7, 0x425a, 0x0, 0x0);
        gbc.writeMem(0xa9a0, { 0x6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xaecc);
        EXPECT(gbc.pc(), 0xa9a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9a0), 0x6);
        EXPECT(gbc.readMem(0xa9a1), 0xf);
        // 06 02A7
        gbc.setState(0xd826, 0xb5ed, 0x9fa0, 0x402, 0x53ed, 0x6744, 0x1, 0x0);
        gbc.writeMem(0xd826, { 0x6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb5ed);
        EXPECT(gbc.pc(), 0xd828);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd826), 0x6);
        EXPECT(gbc.readMem(0xd827), 0x7e);
        // 06 02A8
        gbc.setState(0x9a7b, 0xe93a, 0x86f0, 0xac22, 0x99fd, 0x1f4c, 0x1, 0x1);
        gbc.writeMem(0x9a7b, { 0x6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe93a);
        EXPECT(gbc.pc(), 0x9a7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a7b), 0x6);
        EXPECT(gbc.readMem(0x9a7c), 0x92);
        // 06 02A9
        gbc.setState(0x2202, 0xc603, 0x4cf0, 0xeb86, 0x7bca, 0xe883, 0x0, 0x1);
        gbc.writeMem(0x2202, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xc603);
        EXPECT(gbc.pc(), 0x2204);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02AA
        gbc.setState(0x938d, 0xdd37, 0x3310, 0xb62d, 0x2bf4, 0x36d8, 0x0, 0x1);
        gbc.writeMem(0x938d, { 0x6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xdd37);
        EXPECT(gbc.pc(), 0x938f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x938d), 0x6);
        EXPECT(gbc.readMem(0x938e), 0x59);
        // 06 02AB
        gbc.setState(0xc35c, 0x9757, 0x7be0, 0xb6a4, 0x3d0b, 0x640d, 0x0, 0x1);
        gbc.writeMem(0xc35c, { 0x6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9757);
        EXPECT(gbc.pc(), 0xc35e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc35c), 0x6);
        EXPECT(gbc.readMem(0xc35d), 0x2b);
        // 06 02AC
        gbc.setState(0x7af4, 0xac5a, 0xbb70, 0x8d83, 0x1873, 0x466b, 0x1, 0x0);
        gbc.writeMem(0x7af4, { 0x6, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xac5a);
        EXPECT(gbc.pc(), 0x7af6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02AD
        gbc.setState(0xd747, 0x3383, 0x7030, 0xcee6, 0xcf3, 0x1b55, 0x0, 0x1);
        gbc.writeMem(0xd747, { 0x6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3383);
        EXPECT(gbc.pc(), 0xd749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd747), 0x6);
        EXPECT(gbc.readMem(0xd748), 0xe2);
        // 06 02AE
        gbc.setState(0x7a44, 0x8572, 0x7700, 0xba4d, 0xea80, 0x1478, 0x1, 0x0);
        gbc.writeMem(0x7a44, { 0x6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x8572);
        EXPECT(gbc.pc(), 0x7a46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02AF
        gbc.setState(0xa42a, 0xb546, 0x3220, 0x6d39, 0x9ca, 0xd72, 0x0, 0x1);
        gbc.writeMem(0xa42a, { 0x6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xb546);
        EXPECT(gbc.pc(), 0xa42c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa42a), 0x6);
        EXPECT(gbc.readMem(0xa42b), 0x51);
        // 06 02B0
        gbc.setState(0x2ec3, 0x99c4, 0x46c0, 0x8fb9, 0x61ed, 0x79a0, 0x0, 0x1);
        gbc.writeMem(0x2ec3, { 0x6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x99c4);
        EXPECT(gbc.pc(), 0x2ec5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02B2
        gbc.setState(0x5737, 0xa3ad, 0xdbd0, 0x348e, 0x593e, 0x806b, 0x1, 0x0);
        gbc.writeMem(0x5737, { 0x6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa3ad);
        EXPECT(gbc.pc(), 0x5739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02B3
        gbc.setState(0x1524, 0x6d6d, 0xe480, 0xe7af, 0xd1ee, 0xafcb, 0x1, 0x0);
        gbc.writeMem(0x1524, { 0x6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6d6d);
        EXPECT(gbc.pc(), 0x1526);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02B5
        gbc.setState(0xd5b3, 0x7c11, 0xcb50, 0xb2f, 0x51ca, 0xdee5, 0x1, 0x1);
        gbc.writeMem(0xd5b3, { 0x6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x7c11);
        EXPECT(gbc.pc(), 0xd5b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5b3), 0x6);
        EXPECT(gbc.readMem(0xd5b4), 0xd3);
        // 06 02B6
        gbc.setState(0xc157, 0xd5a4, 0x2ce0, 0xa54f, 0x2876, 0x2c8a, 0x0, 0x0);
        gbc.writeMem(0xc157, { 0x6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd5a4);
        EXPECT(gbc.pc(), 0xc159);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc157), 0x6);
        EXPECT(gbc.readMem(0xc158), 0x80);
        // 06 02B7
        gbc.setState(0x40b4, 0x4c29, 0x4a50, 0xb8d9, 0x8909, 0x730b, 0x0, 0x1);
        gbc.writeMem(0x40b4, { 0x6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x4c29);
        EXPECT(gbc.pc(), 0x40b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02B8
        gbc.setState(0x77c, 0xe65e, 0xb460, 0x9873, 0xc8eb, 0x9794, 0x1, 0x0);
        gbc.writeMem(0x77c, { 0x6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xe65e);
        EXPECT(gbc.pc(), 0x77e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 02B9
        gbc.setState(0xdd80, 0x3dc6, 0x67b0, 0x43b3, 0x5bc3, 0x23de, 0x0, 0x1);
        gbc.writeMem(0xdd80, { 0x6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3dc6);
        EXPECT(gbc.pc(), 0xdd82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd80), 0x6);
        EXPECT(gbc.readMem(0xdd81), 0xae);
        // 06 02BA
        gbc.setState(0x17ef, 0xf21b, 0x3e60, 0x64d, 0x7f98, 0x35eb, 0x1, 0x0);
        gbc.writeMem(0x17ef, { 0x6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf21b);
        EXPECT(gbc.pc(), 0x17f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 02BB
        gbc.setState(0x7f79, 0x8c8, 0x5240, 0x7a9, 0xd291, 0x97d5, 0x1, 0x1);
        gbc.writeMem(0x7f79, { 0x6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8c8);
        EXPECT(gbc.pc(), 0x7f7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02BD
        gbc.setState(0x65e0, 0xb421, 0xf870, 0xda61, 0xe4db, 0x8199, 0x0, 0x0);
        gbc.writeMem(0x65e0, { 0x6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xb421);
        EXPECT(gbc.pc(), 0x65e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02BE
        gbc.setState(0x95c6, 0x7364, 0xf970, 0x2669, 0xc617, 0x6146, 0x1, 0x1);
        gbc.writeMem(0x95c6, { 0x6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x7364);
        EXPECT(gbc.pc(), 0x95c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95c6), 0x6);
        EXPECT(gbc.readMem(0x95c7), 0xca);
        // 06 02BF
        gbc.setState(0xce80, 0x7bf8, 0xad10, 0xdadc, 0xd40f, 0xf9ad, 0x1, 0x1);
        gbc.writeMem(0xce80, { 0x6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x7bf8);
        EXPECT(gbc.pc(), 0xce82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce80), 0x6);
        EXPECT(gbc.readMem(0xce81), 0x4e);
        // 06 02C0
        gbc.setState(0x7371, 0x1808, 0x4250, 0xb64a, 0xf159, 0xda2a, 0x0, 0x1);
        gbc.writeMem(0x7371, { 0x6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x1808);
        EXPECT(gbc.pc(), 0x7373);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02C1
        gbc.setState(0x25dc, 0x6f9c, 0x5b0, 0xb71d, 0xfc74, 0x5698, 0x0, 0x0);
        gbc.writeMem(0x25dc, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6f9c);
        EXPECT(gbc.pc(), 0x25de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02C2
        gbc.setState(0x12dc, 0xd1e8, 0xec0, 0x6cb2, 0x27a8, 0x2073, 0x0, 0x1);
        gbc.writeMem(0x12dc, { 0x6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xd1e8);
        EXPECT(gbc.pc(), 0x12de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02C3
        gbc.setState(0x854c, 0x16d4, 0xe020, 0x4243, 0xa020, 0x8968, 0x0, 0x1);
        gbc.writeMem(0x854c, { 0x6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x16d4);
        EXPECT(gbc.pc(), 0x854e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x854c), 0x6);
        EXPECT(gbc.readMem(0x854d), 0x3e);
        // 06 02C5
        gbc.setState(0xaf4c, 0x5053, 0x4da0, 0x9a2f, 0x40e, 0x830e, 0x0, 0x1);
        gbc.writeMem(0xaf4c, { 0x6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x5053);
        EXPECT(gbc.pc(), 0xaf4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf4c), 0x6);
        EXPECT(gbc.readMem(0xaf4d), 0x8);
        // 06 02C6
        gbc.setState(0x45dd, 0x5722, 0xb590, 0x8ea0, 0xa8c2, 0x5974, 0x0, 0x0);
        gbc.writeMem(0x45dd, { 0x6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5722);
        EXPECT(gbc.pc(), 0x45df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02C8
        gbc.setState(0x8600, 0xbc, 0x8100, 0x8d8f, 0x8e83, 0xe891, 0x0, 0x0);
        gbc.writeMem(0x8600, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xbc);
        EXPECT(gbc.pc(), 0x8602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8600), 0x6);
        EXPECT(gbc.readMem(0x8601), 0x7f);
        // 06 02C9
        gbc.setState(0x569d, 0x9396, 0x7940, 0x91f4, 0xaa34, 0xc1ee, 0x0, 0x0);
        gbc.writeMem(0x569d, { 0x6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x9396);
        EXPECT(gbc.pc(), 0x569f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02CA
        gbc.setState(0x6c05, 0x83c6, 0xa3d0, 0xd2c0, 0xc8, 0xd805, 0x0, 0x1);
        gbc.writeMem(0x6c05, { 0x6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x83c6);
        EXPECT(gbc.pc(), 0x6c07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02CB
        gbc.setState(0x392, 0xa21f, 0x5080, 0x5132, 0xc135, 0xfed4, 0x0, 0x0);
        gbc.writeMem(0x392, { 0x6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa21f);
        EXPECT(gbc.pc(), 0x394);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02CC
        gbc.setState(0xf16, 0xa9e0, 0x88e0, 0xf420, 0xaf3, 0x5e5f, 0x0, 0x0);
        gbc.writeMem(0xf16, { 0x6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa9e0);
        EXPECT(gbc.pc(), 0xf18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 02CD
        gbc.setState(0xe6b8, 0xb555, 0x2dd0, 0x21d6, 0x1ffd, 0x2e8, 0x1, 0x0);
        gbc.writeMem(0xe6b8, { 0x6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xb555);
        EXPECT(gbc.pc(), 0xe6ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6b8), 0x6);
        EXPECT(gbc.readMem(0xe6b9), 0x39);
        // 06 02CE
        gbc.setState(0x985a, 0x4d07, 0x47b0, 0x686c, 0x9025, 0x3fc0, 0x0, 0x1);
        gbc.writeMem(0x985a, { 0x6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4d07);
        EXPECT(gbc.pc(), 0x985c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x985a), 0x6);
        EXPECT(gbc.readMem(0x985b), 0x5c);
        // 06 02CF
        gbc.setState(0x18e5, 0x3989, 0xf60, 0x9e76, 0xbfa3, 0xd411, 0x1, 0x0);
        gbc.writeMem(0x18e5, { 0x6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x3989);
        EXPECT(gbc.pc(), 0x18e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 02D0
        gbc.setState(0x6dca, 0xd783, 0xf490, 0xa6e9, 0x4dae, 0x8064, 0x1, 0x0);
        gbc.writeMem(0x6dca, { 0x6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xd783);
        EXPECT(gbc.pc(), 0x6dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02D1
        gbc.setState(0x8324, 0xbe04, 0x3b70, 0x1cf9, 0xb998, 0x987e, 0x0, 0x0);
        gbc.writeMem(0x8324, { 0x6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xbe04);
        EXPECT(gbc.pc(), 0x8326);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8324), 0x6);
        EXPECT(gbc.readMem(0x8325), 0xf8);
        // 06 02D2
        gbc.setState(0x8398, 0x43d0, 0x4770, 0x73c0, 0xc695, 0xcd55, 0x1, 0x0);
        gbc.writeMem(0x8398, { 0x6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x43d0);
        EXPECT(gbc.pc(), 0x839a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8398), 0x6);
        EXPECT(gbc.readMem(0x8399), 0x9);
        // 06 02D3
        gbc.setState(0x453e, 0x1c2e, 0x1710, 0xd519, 0xa96, 0xe0d, 0x1, 0x0);
        gbc.writeMem(0x453e, { 0x6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x1c2e);
        EXPECT(gbc.pc(), 0x4540);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02D4
        gbc.setState(0x5d36, 0x7b23, 0xa690, 0xaa13, 0xb1fc, 0x19b0, 0x1, 0x0);
        gbc.writeMem(0x5d36, { 0x6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7b23);
        EXPECT(gbc.pc(), 0x5d38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02D5
        gbc.setState(0xec82, 0x712d, 0x3eb0, 0xc239, 0xeb6c, 0x2e70, 0x1, 0x1);
        gbc.writeMem(0xec82, { 0x6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x712d);
        EXPECT(gbc.pc(), 0xec84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec82), 0x6);
        EXPECT(gbc.readMem(0xec83), 0x66);
        // 06 02D6
        gbc.setState(0x1eb5, 0x53fb, 0x31f0, 0x70a0, 0x354b, 0x8fa3, 0x0, 0x0);
        gbc.writeMem(0x1eb5, { 0x6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x53fb);
        EXPECT(gbc.pc(), 0x1eb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02D7
        gbc.setState(0xbe05, 0xd5a1, 0x500, 0x46b8, 0x6287, 0x7e1f, 0x0, 0x1);
        gbc.writeMem(0xbe05, { 0x6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd5a1);
        EXPECT(gbc.pc(), 0xbe07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe05), 0x6);
        EXPECT(gbc.readMem(0xbe06), 0x1f);
        // 06 02D8
        gbc.setState(0xc02a, 0x288c, 0x5560, 0x55ec, 0x23da, 0xfe3e, 0x1, 0x0);
        gbc.writeMem(0xc02a, { 0x6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x288c);
        EXPECT(gbc.pc(), 0xc02c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc02a), 0x6);
        EXPECT(gbc.readMem(0xc02b), 0xc1);
        // 06 02DA
        gbc.setState(0x70df, 0x2b6a, 0x7480, 0xea70, 0x139e, 0x607e, 0x1, 0x0);
        gbc.writeMem(0x70df, { 0x6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x2b6a);
        EXPECT(gbc.pc(), 0x70e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02DB
        gbc.setState(0xd3e2, 0x832b, 0xaad0, 0xd03e, 0xaa4f, 0xbfc2, 0x1, 0x1);
        gbc.writeMem(0xd3e2, { 0x6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x832b);
        EXPECT(gbc.pc(), 0xd3e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3e2), 0x6);
        EXPECT(gbc.readMem(0xd3e3), 0x7);
        // 06 02DC
        gbc.setState(0xeba8, 0x7006, 0x2f20, 0xa978, 0x8513, 0x171c, 0x0, 0x1);
        gbc.writeMem(0xeba8, { 0x6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x7006);
        EXPECT(gbc.pc(), 0xebaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeba8), 0x6);
        EXPECT(gbc.readMem(0xeba9), 0x1d);
        // 06 02DD
        gbc.setState(0xd19d, 0x7537, 0xf680, 0x4489, 0x51f2, 0x1a5a, 0x0, 0x1);
        gbc.writeMem(0xd19d, { 0x6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x7537);
        EXPECT(gbc.pc(), 0xd19f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd19d), 0x6);
        EXPECT(gbc.readMem(0xd19e), 0xbc);
        // 06 02DE
        gbc.setState(0xc423, 0x15e7, 0x4880, 0xcfbc, 0x1ab7, 0xb28, 0x0, 0x1);
        gbc.writeMem(0xc423, { 0x6, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x15e7);
        EXPECT(gbc.pc(), 0xc425);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc423), 0x6);
        EXPECT(gbc.readMem(0xc424), 0x48);
        // 06 02DF
        gbc.setState(0x7aee, 0xc651, 0xe930, 0x3296, 0x953d, 0xc7f2, 0x1, 0x0);
        gbc.writeMem(0x7aee, { 0x6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc651);
        EXPECT(gbc.pc(), 0x7af0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02E0
        gbc.setState(0xeb49, 0xdfbd, 0x78e0, 0xed2, 0xabe0, 0xc902, 0x1, 0x0);
        gbc.writeMem(0xeb49, { 0x6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xdfbd);
        EXPECT(gbc.pc(), 0xeb4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb49), 0x6);
        EXPECT(gbc.readMem(0xeb4a), 0xf5);
        // 06 02E1
        gbc.setState(0x8a7, 0xcc0b, 0xf930, 0x320d, 0x7640, 0x91a8, 0x1, 0x1);
        gbc.writeMem(0x8a7, { 0x6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcc0b);
        EXPECT(gbc.pc(), 0x8a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02E2
        gbc.setState(0x8290, 0x3d61, 0xaae0, 0x41e, 0x6331, 0xb3b9, 0x1, 0x0);
        gbc.writeMem(0x8290, { 0x6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3d61);
        EXPECT(gbc.pc(), 0x8292);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8290), 0x6);
        EXPECT(gbc.readMem(0x8291), 0x7b);
        // 06 02E3
        gbc.setState(0x71f9, 0x35a7, 0x6550, 0x5e1, 0x3938, 0x49a6, 0x1, 0x1);
        gbc.writeMem(0x71f9, { 0x6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x35a7);
        EXPECT(gbc.pc(), 0x71fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02E4
        gbc.setState(0x5c6e, 0x15a, 0x2e00, 0x98f7, 0x22eb, 0xee65, 0x1, 0x1);
        gbc.writeMem(0x5c6e, { 0x6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x15a);
        EXPECT(gbc.pc(), 0x5c70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02E5
        gbc.setState(0x2589, 0xec8e, 0xadc0, 0x7f8, 0xea13, 0x9294, 0x1, 0x1);
        gbc.writeMem(0x2589, { 0x6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xec8e);
        EXPECT(gbc.pc(), 0x258b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02E6
        gbc.setState(0xfaf, 0x7614, 0xe090, 0x2d4e, 0xc640, 0x1c7d, 0x1, 0x0);
        gbc.writeMem(0xfaf, { 0x6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7614);
        EXPECT(gbc.pc(), 0xfb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02E7
        gbc.setState(0x9409, 0x1c1, 0x4800, 0x39ca, 0xcb40, 0x6237, 0x0, 0x1);
        gbc.writeMem(0x9409, { 0x6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x1c1);
        EXPECT(gbc.pc(), 0x940b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9409), 0x6);
        EXPECT(gbc.readMem(0x940a), 0x20);
        // 06 02E8
        gbc.setState(0xe51, 0xe40b, 0x5810, 0xa352, 0x1202, 0x827a, 0x0, 0x0);
        gbc.writeMem(0xe51, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe40b);
        EXPECT(gbc.pc(), 0xe53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02E9
        gbc.setState(0xcf17, 0xe957, 0xf530, 0x9afd, 0x87eb, 0xec41, 0x0, 0x1);
        gbc.writeMem(0xcf17, { 0x6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xe957);
        EXPECT(gbc.pc(), 0xcf19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf17), 0x6);
        EXPECT(gbc.readMem(0xcf18), 0xe8);
        // 06 02EA
        gbc.setState(0x39, 0x51d6, 0x2690, 0x2cc8, 0x4770, 0x80c0, 0x1, 0x1);
        gbc.writeMem(0x39, { 0x6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x51d6);
        EXPECT(gbc.pc(), 0x3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02EB
        gbc.setState(0x4055, 0xf94b, 0x5610, 0x18d2, 0xeb2b, 0xc27c, 0x1, 0x1);
        gbc.writeMem(0x4055, { 0x6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf94b);
        EXPECT(gbc.pc(), 0x4057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02EC
        gbc.setState(0x3a7f, 0x3233, 0x1c0, 0x4fd9, 0x6f41, 0xa50, 0x1, 0x0);
        gbc.writeMem(0x3a7f, { 0x6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x3233);
        EXPECT(gbc.pc(), 0x3a81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02ED
        gbc.setState(0x8b52, 0x1d15, 0xe030, 0xb272, 0xd6df, 0xb297, 0x1, 0x1);
        gbc.writeMem(0x8b52, { 0x6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x1d15);
        EXPECT(gbc.pc(), 0x8b54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b52), 0x6);
        EXPECT(gbc.readMem(0x8b53), 0x47);
        // 06 02EE
        gbc.setState(0xce18, 0xb22e, 0x4200, 0x8ea5, 0x4dcf, 0x51de, 0x1, 0x1);
        gbc.writeMem(0xce18, { 0x6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb22e);
        EXPECT(gbc.pc(), 0xce1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce18), 0x6);
        EXPECT(gbc.readMem(0xce19), 0xc6);
        // 06 02EF
        gbc.setState(0xc890, 0x5e69, 0xd3d0, 0xf504, 0x9a58, 0x3f5a, 0x0, 0x0);
        gbc.writeMem(0xc890, { 0x6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5e69);
        EXPECT(gbc.pc(), 0xc892);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc890), 0x6);
        EXPECT(gbc.readMem(0xc891), 0xac);
        // 06 02F0
        gbc.setState(0x7ff6, 0x8155, 0x7550, 0x8961, 0x8a07, 0x17bf, 0x1, 0x1);
        gbc.writeMem(0x7ff6, { 0x6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8155);
        EXPECT(gbc.pc(), 0x7ff8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 02F1
        gbc.setState(0x12b5, 0xceab, 0x8f0, 0x47c3, 0x211a, 0x6acb, 0x0, 0x1);
        gbc.writeMem(0x12b5, { 0x6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xceab);
        EXPECT(gbc.pc(), 0x12b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02F2
        gbc.setState(0x457f, 0xb765, 0x74c0, 0x10e6, 0x8447, 0x9e48, 0x0, 0x1);
        gbc.writeMem(0x457f, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xb765);
        EXPECT(gbc.pc(), 0x4581);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02F3
        gbc.setState(0x9453, 0x9604, 0xf8e0, 0x2f88, 0x9c65, 0xb834, 0x0, 0x0);
        gbc.writeMem(0x9453, { 0x6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9604);
        EXPECT(gbc.pc(), 0x9455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9453), 0x6);
        EXPECT(gbc.readMem(0x9454), 0x4);
        // 06 02F4
        gbc.setState(0x3b2a, 0x4683, 0xcd30, 0x4e22, 0x84e8, 0xce1f, 0x1, 0x1);
        gbc.writeMem(0x3b2a, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4683);
        EXPECT(gbc.pc(), 0x3b2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 02F5
        gbc.setState(0xa065, 0x312e, 0x4280, 0x8574, 0x6eeb, 0xdc6e, 0x1, 0x0);
        gbc.writeMem(0xa065, { 0x6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x312e);
        EXPECT(gbc.pc(), 0xa067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa065), 0x6);
        EXPECT(gbc.readMem(0xa066), 0x62);
        // 06 02F6
        gbc.setState(0x6418, 0xa33c, 0xe1e0, 0xc0c4, 0x8c68, 0xd57a, 0x1, 0x1);
        gbc.writeMem(0x6418, { 0x6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa33c);
        EXPECT(gbc.pc(), 0x641a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 02F8
        gbc.setState(0xb72a, 0x66e2, 0xfc20, 0x16aa, 0x593f, 0x7a13, 0x1, 0x0);
        gbc.writeMem(0xb72a, { 0x6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x66e2);
        EXPECT(gbc.pc(), 0xb72c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb72a), 0x6);
        EXPECT(gbc.readMem(0xb72b), 0x8f);
        // 06 02FA
        gbc.setState(0x44a6, 0x4450, 0x9de0, 0xf6c5, 0xf31c, 0x331d, 0x0, 0x0);
        gbc.writeMem(0x44a6, { 0x6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4450);
        EXPECT(gbc.pc(), 0x44a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 02FC
        gbc.setState(0x4e36, 0x3576, 0x8380, 0x757c, 0x7828, 0x68a0, 0x1, 0x0);
        gbc.writeMem(0x4e36, { 0x6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3576);
        EXPECT(gbc.pc(), 0x4e38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 02FD
        gbc.setState(0x491c, 0xc7e6, 0x6360, 0xba92, 0xe4d, 0x73e, 0x0, 0x1);
        gbc.writeMem(0x491c, { 0x6, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xc7e6);
        EXPECT(gbc.pc(), 0x491e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0300
        gbc.setState(0x61b0, 0x4c06, 0x9a80, 0x84c4, 0xf439, 0xcd49, 0x1, 0x0);
        gbc.writeMem(0x61b0, { 0x6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x4c06);
        EXPECT(gbc.pc(), 0x61b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0301
        gbc.setState(0xd94b, 0x5340, 0xf7b0, 0x4f90, 0xaff5, 0x5ec, 0x0, 0x1);
        gbc.writeMem(0xd94b, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5340);
        EXPECT(gbc.pc(), 0xd94d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd94b), 0x6);
        EXPECT(gbc.readMem(0xd94c), 0x11);
        // 06 0302
        gbc.setState(0x1f6, 0x8452, 0x2850, 0xa536, 0xfb29, 0x71ee, 0x0, 0x1);
        gbc.writeMem(0x1f6, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8452);
        EXPECT(gbc.pc(), 0x1f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0303
        gbc.setState(0xc7b3, 0xcf7b, 0x7660, 0x494c, 0x22a, 0x8d7b, 0x1, 0x0);
        gbc.writeMem(0xc7b3, { 0x6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xcf7b);
        EXPECT(gbc.pc(), 0xc7b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b3), 0x6);
        EXPECT(gbc.readMem(0xc7b4), 0x57);
        // 06 0304
        gbc.setState(0x32a1, 0xa0e7, 0xb070, 0x972c, 0xb8d8, 0xe3d3, 0x1, 0x1);
        gbc.writeMem(0x32a1, { 0x6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xa0e7);
        EXPECT(gbc.pc(), 0x32a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0305
        gbc.setState(0xd7a3, 0x6557, 0x1d30, 0x928f, 0x6f51, 0x38cc, 0x0, 0x1);
        gbc.writeMem(0xd7a3, { 0x6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x6557);
        EXPECT(gbc.pc(), 0xd7a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7a3), 0x6);
        EXPECT(gbc.readMem(0xd7a4), 0x8f);
        // 06 0306
        gbc.setState(0x93ee, 0x46f9, 0xc020, 0xc26f, 0xf810, 0xc205, 0x1, 0x1);
        gbc.writeMem(0x93ee, { 0x6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x46f9);
        EXPECT(gbc.pc(), 0x93f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93ee), 0x6);
        EXPECT(gbc.readMem(0x93ef), 0x46);
        // 06 0308
        gbc.setState(0x1208, 0xfb3a, 0x4da0, 0x5eb1, 0x38c6, 0xa56e, 0x0, 0x1);
        gbc.writeMem(0x1208, { 0x6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xfb3a);
        EXPECT(gbc.pc(), 0x120a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0309
        gbc.setState(0x9966, 0x72d2, 0x6680, 0x7821, 0xdb77, 0x26cc, 0x0, 0x1);
        gbc.writeMem(0x9966, { 0x6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x72d2);
        EXPECT(gbc.pc(), 0x9968);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9966), 0x6);
        EXPECT(gbc.readMem(0x9967), 0x5b);
        // 06 030A
        gbc.setState(0x15a, 0x25b2, 0x8c50, 0xf72e, 0x4af7, 0xd1a7, 0x1, 0x0);
        gbc.writeMem(0x15a, { 0x6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x25b2);
        EXPECT(gbc.pc(), 0x15c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 030B
        gbc.setState(0xd833, 0xf812, 0xcd50, 0x860, 0xd0ed, 0xdfcf, 0x1, 0x1);
        gbc.writeMem(0xd833, { 0x6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf812);
        EXPECT(gbc.pc(), 0xd835);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd833), 0x6);
        EXPECT(gbc.readMem(0xd834), 0x47);
        // 06 030C
        gbc.setState(0x7b1b, 0xd356, 0x23c0, 0x1c24, 0x6b42, 0x5462, 0x1, 0x1);
        gbc.writeMem(0x7b1b, { 0x6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xd356);
        EXPECT(gbc.pc(), 0x7b1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 030D
        gbc.setState(0x1df6, 0x80d2, 0x31d0, 0x720, 0x9f15, 0x3d02, 0x0, 0x0);
        gbc.writeMem(0x1df6, { 0x6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x80d2);
        EXPECT(gbc.pc(), 0x1df8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 030E
        gbc.setState(0x284, 0xe2b7, 0xbd90, 0x13ba, 0x5217, 0xca6e, 0x0, 0x1);
        gbc.writeMem(0x284, { 0x6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xe2b7);
        EXPECT(gbc.pc(), 0x286);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 030F
        gbc.setState(0xb0ab, 0x9a9e, 0x5300, 0xcad, 0xcdf9, 0x2045, 0x1, 0x0);
        gbc.writeMem(0xb0ab, { 0x6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x9a9e);
        EXPECT(gbc.pc(), 0xb0ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0ab), 0x6);
        EXPECT(gbc.readMem(0xb0ac), 0xcc);
        // 06 0310
        gbc.setState(0x24f2, 0x6696, 0x4dc0, 0x2d3e, 0xcca0, 0x62c2, 0x1, 0x0);
        gbc.writeMem(0x24f2, { 0x6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6696);
        EXPECT(gbc.pc(), 0x24f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0311
        gbc.setState(0xaebd, 0x6822, 0x3040, 0x8225, 0xd73e, 0xefa4, 0x1, 0x1);
        gbc.writeMem(0xaebd, { 0x6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6822);
        EXPECT(gbc.pc(), 0xaebf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaebd), 0x6);
        EXPECT(gbc.readMem(0xaebe), 0x63);
        // 06 0312
        gbc.setState(0xabb8, 0xf156, 0xb800, 0xef78, 0x845c, 0xfa56, 0x1, 0x1);
        gbc.writeMem(0xabb8, { 0x6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf156);
        EXPECT(gbc.pc(), 0xabba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabb8), 0x6);
        EXPECT(gbc.readMem(0xabb9), 0x1a);
        // 06 0313
        gbc.setState(0x2760, 0xe62f, 0x8770, 0x1292, 0xb265, 0x52f2, 0x0, 0x1);
        gbc.writeMem(0x2760, { 0x6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xe62f);
        EXPECT(gbc.pc(), 0x2762);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0314
        gbc.setState(0x4952, 0xb60d, 0xbbb0, 0x40f2, 0xe27d, 0x8246, 0x0, 0x0);
        gbc.writeMem(0x4952, { 0x6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xb60d);
        EXPECT(gbc.pc(), 0x4954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0315
        gbc.setState(0x1388, 0x9e2b, 0x2a40, 0x41a9, 0x9ebd, 0x2b38, 0x1, 0x0);
        gbc.writeMem(0x1388, { 0x6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9e2b);
        EXPECT(gbc.pc(), 0x138a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0316
        gbc.setState(0x2d2b, 0x3878, 0x2ea0, 0xe23e, 0xb072, 0x393a, 0x1, 0x1);
        gbc.writeMem(0x2d2b, { 0x6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x3878);
        EXPECT(gbc.pc(), 0x2d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0317
        gbc.setState(0x1fbf, 0x6a4e, 0xa850, 0xda46, 0xa359, 0xa90c, 0x0, 0x0);
        gbc.writeMem(0x1fbf, { 0x6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6a4e);
        EXPECT(gbc.pc(), 0x1fc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0318
        gbc.setState(0xc8b9, 0xf30, 0x7300, 0x3213, 0x82f9, 0xab09, 0x0, 0x1);
        gbc.writeMem(0xc8b9, { 0x6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xf30);
        EXPECT(gbc.pc(), 0xc8bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8b9), 0x6);
        EXPECT(gbc.readMem(0xc8ba), 0xa1);
        // 06 0319
        gbc.setState(0x9630, 0xc3ff, 0xba90, 0x26e, 0x68d1, 0x69a4, 0x1, 0x0);
        gbc.writeMem(0x9630, { 0x6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc3ff);
        EXPECT(gbc.pc(), 0x9632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9630), 0x6);
        EXPECT(gbc.readMem(0x9631), 0x13);
        // 06 031A
        gbc.setState(0x46f6, 0xc90e, 0x90e0, 0xff44, 0x5256, 0x33e7, 0x1, 0x1);
        gbc.writeMem(0x46f6, { 0x6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc90e);
        EXPECT(gbc.pc(), 0x46f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 031B
        gbc.setState(0x16dc, 0xd6a0, 0x1300, 0x3442, 0xfe54, 0x3f27, 0x0, 0x0);
        gbc.writeMem(0x16dc, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd6a0);
        EXPECT(gbc.pc(), 0x16de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 031C
        gbc.setState(0xeeb0, 0x796a, 0x2c20, 0x187a, 0x2c2d, 0x2f57, 0x0, 0x1);
        gbc.writeMem(0xeeb0, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x796a);
        EXPECT(gbc.pc(), 0xeeb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeeb0), 0x6);
        EXPECT(gbc.readMem(0xeeb1), 0x43);
        // 06 031D
        gbc.setState(0x13d9, 0x3b87, 0x7f50, 0x8d9e, 0xd4f5, 0xc5b3, 0x0, 0x1);
        gbc.writeMem(0x13d9, { 0x6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x3b87);
        EXPECT(gbc.pc(), 0x13db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 031E
        gbc.setState(0xb247, 0x400, 0xeec0, 0xb93c, 0x3cf3, 0xaeff, 0x1, 0x1);
        gbc.writeMem(0xb247, { 0x6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x400);
        EXPECT(gbc.pc(), 0xb249);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb247), 0x6);
        EXPECT(gbc.readMem(0xb248), 0xb2);
        // 06 031F
        gbc.setState(0xfb5, 0x59e2, 0xb530, 0xc8b2, 0x6573, 0xe3ba, 0x1, 0x1);
        gbc.writeMem(0xfb5, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x59e2);
        EXPECT(gbc.pc(), 0xfb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0320
        gbc.setState(0x5e07, 0x28c5, 0xfe70, 0x8b33, 0x2e1a, 0xaf0b, 0x0, 0x0);
        gbc.writeMem(0x5e07, { 0x6, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x28c5);
        EXPECT(gbc.pc(), 0x5e09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0321
        gbc.setState(0xd031, 0xc4be, 0xf660, 0xe40e, 0xd976, 0xfd62, 0x0, 0x0);
        gbc.writeMem(0xd031, { 0x6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc4be);
        EXPECT(gbc.pc(), 0xd033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd031), 0x6);
        EXPECT(gbc.readMem(0xd032), 0x7e);
        // 06 0322
        gbc.setState(0xb987, 0x64df, 0x45e0, 0x65de, 0xfae0, 0xb205, 0x0, 0x1);
        gbc.writeMem(0xb987, { 0x6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x64df);
        EXPECT(gbc.pc(), 0xb989);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb987), 0x6);
        EXPECT(gbc.readMem(0xb988), 0x25);
        // 06 0323
        gbc.setState(0x9e12, 0x66b9, 0xab60, 0x4786, 0x73ee, 0xf075, 0x1, 0x1);
        gbc.writeMem(0x9e12, { 0x6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x66b9);
        EXPECT(gbc.pc(), 0x9e14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e12), 0x6);
        EXPECT(gbc.readMem(0x9e13), 0x23);
        // 06 0324
        gbc.setState(0xe255, 0xc176, 0xc450, 0xc618, 0xa4e6, 0xad56, 0x0, 0x0);
        gbc.writeMem(0xe255, { 0x6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc176);
        EXPECT(gbc.pc(), 0xe257);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe255), 0x6);
        EXPECT(gbc.readMem(0xe256), 0x9c);
        // 06 0325
        gbc.setState(0x4c12, 0x39e6, 0xd740, 0x603a, 0x5434, 0x3ef4, 0x0, 0x1);
        gbc.writeMem(0x4c12, { 0x6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x39e6);
        EXPECT(gbc.pc(), 0x4c14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0326
        gbc.setState(0xd2d5, 0xe035, 0xebe0, 0x19ab, 0xc041, 0x5576, 0x0, 0x1);
        gbc.writeMem(0xd2d5, { 0x6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xe035);
        EXPECT(gbc.pc(), 0xd2d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2d5), 0x6);
        EXPECT(gbc.readMem(0xd2d6), 0xef);
        // 06 0327
        gbc.setState(0x4ef5, 0x536a, 0xdd00, 0xd3a2, 0xfc5, 0x5d57, 0x1, 0x1);
        gbc.writeMem(0x4ef5, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x536a);
        EXPECT(gbc.pc(), 0x4ef7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0328
        gbc.setState(0xc73, 0xde0d, 0x5660, 0x80bf, 0x5f45, 0x462, 0x1, 0x1);
        gbc.writeMem(0xc73, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xde0d);
        EXPECT(gbc.pc(), 0xc75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0329
        gbc.setState(0xe2c9, 0x5ff3, 0xcfe0, 0xdd0c, 0x7c0e, 0x1b46, 0x1, 0x0);
        gbc.writeMem(0xe2c9, { 0x6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x5ff3);
        EXPECT(gbc.pc(), 0xe2cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2c9), 0x6);
        EXPECT(gbc.readMem(0xe2ca), 0xc7);
        // 06 032A
        gbc.setState(0x1121, 0x722b, 0xbb80, 0x5ec4, 0xbe02, 0x65b8, 0x0, 0x0);
        gbc.writeMem(0x1121, { 0x6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x722b);
        EXPECT(gbc.pc(), 0x1123);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 032B
        gbc.setState(0xe958, 0x6d5b, 0x45d0, 0x2798, 0x713d, 0x1116, 0x1, 0x1);
        gbc.writeMem(0xe958, { 0x6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6d5b);
        EXPECT(gbc.pc(), 0xe95a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe958), 0x6);
        EXPECT(gbc.readMem(0xe959), 0x6e);
        // 06 032C
        gbc.setState(0xdba, 0x436a, 0xb6a0, 0x2903, 0x705c, 0xacce, 0x0, 0x0);
        gbc.writeMem(0xdba, { 0x6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x436a);
        EXPECT(gbc.pc(), 0xdbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 032E
        gbc.setState(0x7e5a, 0x50e2, 0x80b0, 0xb4af, 0x64a8, 0x56b0, 0x1, 0x1);
        gbc.writeMem(0x7e5a, { 0x6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x50e2);
        EXPECT(gbc.pc(), 0x7e5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 032F
        gbc.setState(0xd88c, 0x97ba, 0x1f20, 0x2f3d, 0x3ea9, 0xf347, 0x1, 0x1);
        gbc.writeMem(0xd88c, { 0x6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x97ba);
        EXPECT(gbc.pc(), 0xd88e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd88c), 0x6);
        EXPECT(gbc.readMem(0xd88d), 0x10);
        // 06 0330
        gbc.setState(0x1063, 0xdc6a, 0x8d40, 0xb8f4, 0x175c, 0x361c, 0x1, 0x1);
        gbc.writeMem(0x1063, { 0x6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xdc6a);
        EXPECT(gbc.pc(), 0x1065);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0331
        gbc.setState(0x46fa, 0xe64e, 0xd000, 0x1690, 0x91a1, 0xdb42, 0x0, 0x1);
        gbc.writeMem(0x46fa, { 0x6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xe64e);
        EXPECT(gbc.pc(), 0x46fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0332
        gbc.setState(0x6e42, 0xd4de, 0x7990, 0x8dd6, 0xf2e0, 0x2a2e, 0x1, 0x1);
        gbc.writeMem(0x6e42, { 0x6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xd4de);
        EXPECT(gbc.pc(), 0x6e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0333
        gbc.setState(0xe77e, 0xf276, 0x4940, 0xb041, 0x5008, 0xe18e, 0x1, 0x1);
        gbc.writeMem(0xe77e, { 0x6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xf276);
        EXPECT(gbc.pc(), 0xe780);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe77e), 0x6);
        EXPECT(gbc.readMem(0xe77f), 0x61);
        // 06 0335
        gbc.setState(0x4d7e, 0xa1bf, 0xa1b0, 0x536a, 0x4150, 0xe134, 0x1, 0x0);
        gbc.writeMem(0x4d7e, { 0x6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa1bf);
        EXPECT(gbc.pc(), 0x4d80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0336
        gbc.setState(0x5b0b, 0x5167, 0xd100, 0xbf68, 0xce20, 0x140b, 0x1, 0x1);
        gbc.writeMem(0x5b0b, { 0x6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x5167);
        EXPECT(gbc.pc(), 0x5b0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0337
        gbc.setState(0xba8c, 0x6779, 0xda30, 0x693c, 0x4555, 0xab94, 0x1, 0x0);
        gbc.writeMem(0xba8c, { 0x6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x6779);
        EXPECT(gbc.pc(), 0xba8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba8c), 0x6);
        EXPECT(gbc.readMem(0xba8d), 0x83);
        // 06 0338
        gbc.setState(0xa800, 0x64b8, 0xe7f0, 0x2bcc, 0x8360, 0x81ad, 0x1, 0x0);
        gbc.writeMem(0xa800, { 0x6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x64b8);
        EXPECT(gbc.pc(), 0xa802);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa800), 0x6);
        EXPECT(gbc.readMem(0xa801), 0x84);
        // 06 0339
        gbc.setState(0xc098, 0xe05e, 0x91a0, 0xdee6, 0x9c17, 0x7664, 0x0, 0x1);
        gbc.writeMem(0xc098, { 0x6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xe05e);
        EXPECT(gbc.pc(), 0xc09a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc098), 0x6);
        EXPECT(gbc.readMem(0xc099), 0xae);
        // 06 033A
        gbc.setState(0x334b, 0x6e65, 0x4b10, 0x3d85, 0xb07f, 0xdb9d, 0x0, 0x1);
        gbc.writeMem(0x334b, { 0x6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x6e65);
        EXPECT(gbc.pc(), 0x334d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 033B
        gbc.setState(0xae63, 0xcb6e, 0xf480, 0xcea2, 0xe753, 0x5a10, 0x1, 0x1);
        gbc.writeMem(0xae63, { 0x6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xcb6e);
        EXPECT(gbc.pc(), 0xae65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae63), 0x6);
        EXPECT(gbc.readMem(0xae64), 0xdf);
        // 06 033C
        gbc.setState(0x6159, 0x5a9, 0x26d0, 0x5de3, 0x507d, 0x1048, 0x0, 0x1);
        gbc.writeMem(0x6159, { 0x6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5a9);
        EXPECT(gbc.pc(), 0x615b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 033D
        gbc.setState(0x6186, 0xdbce, 0x22d0, 0xc327, 0x4ff7, 0x83fe, 0x1, 0x1);
        gbc.writeMem(0x6186, { 0x6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xdbce);
        EXPECT(gbc.pc(), 0x6188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 033E
        gbc.setState(0x4d04, 0x2c12, 0xd850, 0xb918, 0x6c34, 0x8a5, 0x0, 0x0);
        gbc.writeMem(0x4d04, { 0x6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2c12);
        EXPECT(gbc.pc(), 0x4d06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 033F
        gbc.setState(0x9c27, 0xf80e, 0x2740, 0x47fd, 0x930, 0xf2af, 0x1, 0x0);
        gbc.writeMem(0x9c27, { 0x6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xf80e);
        EXPECT(gbc.pc(), 0x9c29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c27), 0x6);
        EXPECT(gbc.readMem(0x9c28), 0xf0);
        // 06 0340
        gbc.setState(0x3970, 0x211c, 0x1d20, 0xa8dc, 0xd0c9, 0x54b1, 0x0, 0x0);
        gbc.writeMem(0x3970, { 0x6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x211c);
        EXPECT(gbc.pc(), 0x3972);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0341
        gbc.setState(0x5aca, 0xe19e, 0xc8a0, 0x9200, 0x45ca, 0xb547, 0x1, 0x0);
        gbc.writeMem(0x5aca, { 0x6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe19e);
        EXPECT(gbc.pc(), 0x5acc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0342
        gbc.setState(0xdfbb, 0x2f8a, 0x5450, 0xb986, 0x63e4, 0xbb9f, 0x0, 0x1);
        gbc.writeMem(0xdfbb, { 0x6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x2f8a);
        EXPECT(gbc.pc(), 0xdfbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfbb), 0x6);
        EXPECT(gbc.readMem(0xdfbc), 0xa5);
        // 06 0343
        gbc.setState(0x5bb7, 0x85f5, 0xac20, 0x16aa, 0x4f53, 0xc7a1, 0x0, 0x1);
        gbc.writeMem(0x5bb7, { 0x6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x85f5);
        EXPECT(gbc.pc(), 0x5bb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0344
        gbc.setState(0x3fa8, 0x3dec, 0x67f0, 0x5deb, 0xcf1f, 0xea5d, 0x0, 0x0);
        gbc.writeMem(0x3fa8, { 0x6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x3dec);
        EXPECT(gbc.pc(), 0x3faa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0345
        gbc.setState(0xacf2, 0x77d6, 0xead0, 0xd170, 0x9caf, 0xe731, 0x0, 0x0);
        gbc.writeMem(0xacf2, { 0x6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x77d6);
        EXPECT(gbc.pc(), 0xacf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacf2), 0x6);
        EXPECT(gbc.readMem(0xacf3), 0x9f);
        // 06 0346
        gbc.setState(0x6fd4, 0xbb9c, 0x1b80, 0x1d7a, 0xa8b3, 0xa8fa, 0x1, 0x0);
        gbc.writeMem(0x6fd4, { 0x6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xbb9c);
        EXPECT(gbc.pc(), 0x6fd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0347
        gbc.setState(0xa313, 0x889f, 0xcb70, 0x6ee, 0x1110, 0xb872, 0x0, 0x1);
        gbc.writeMem(0xa313, { 0x6, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x889f);
        EXPECT(gbc.pc(), 0xa315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa313), 0x6);
        EXPECT(gbc.readMem(0xa314), 0x3b);
        // 06 0348
        gbc.setState(0xdc3d, 0xe11b, 0xec0, 0xc593, 0x52ef, 0xf99b, 0x0, 0x0);
        gbc.writeMem(0xdc3d, { 0x6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xe11b);
        EXPECT(gbc.pc(), 0xdc3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc3d), 0x6);
        EXPECT(gbc.readMem(0xdc3e), 0xf0);
        // 06 0349
        gbc.setState(0x3ec3, 0xcaaa, 0x2600, 0x8305, 0x27b6, 0x21f, 0x1, 0x1);
        gbc.writeMem(0x3ec3, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xcaaa);
        EXPECT(gbc.pc(), 0x3ec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 034A
        gbc.setState(0x92a8, 0x731b, 0xe2e0, 0xb3fb, 0xebcb, 0x35fc, 0x1, 0x1);
        gbc.writeMem(0x92a8, { 0x6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x731b);
        EXPECT(gbc.pc(), 0x92aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92a8), 0x6);
        EXPECT(gbc.readMem(0x92a9), 0xf0);
        // 06 034C
        gbc.setState(0xb51f, 0x623b, 0x8490, 0x909c, 0x8ca1, 0xd42a, 0x0, 0x1);
        gbc.writeMem(0xb51f, { 0x6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x623b);
        EXPECT(gbc.pc(), 0xb521);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb51f), 0x6);
        EXPECT(gbc.readMem(0xb520), 0xd0);
        // 06 034D
        gbc.setState(0x1b14, 0xb5ac, 0xeb00, 0xfa99, 0xb0d7, 0x8886, 0x0, 0x1);
        gbc.writeMem(0x1b14, { 0x6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb5ac);
        EXPECT(gbc.pc(), 0x1b16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 034E
        gbc.setState(0x6ead, 0x47c5, 0xc220, 0xdbf0, 0x16e7, 0x217d, 0x1, 0x0);
        gbc.writeMem(0x6ead, { 0x6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x47c5);
        EXPECT(gbc.pc(), 0x6eaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 034F
        gbc.setState(0x7c99, 0xd413, 0xd1f0, 0x75f4, 0x776f, 0x82ef, 0x0, 0x1);
        gbc.writeMem(0x7c99, { 0x6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd413);
        EXPECT(gbc.pc(), 0x7c9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0350
        gbc.setState(0x4c74, 0xf51c, 0x5010, 0xbb5c, 0xa775, 0x3536, 0x1, 0x1);
        gbc.writeMem(0x4c74, { 0x6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf51c);
        EXPECT(gbc.pc(), 0x4c76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0351
        gbc.setState(0xd4bd, 0x7ac7, 0xf870, 0x70c1, 0x99be, 0xb470, 0x0, 0x1);
        gbc.writeMem(0xd4bd, { 0x6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7ac7);
        EXPECT(gbc.pc(), 0xd4bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4bd), 0x6);
        EXPECT(gbc.readMem(0xd4be), 0xd3);
        // 06 0352
        gbc.setState(0x97c8, 0x3c37, 0x3a0, 0x5942, 0x5e7f, 0x7c56, 0x1, 0x0);
        gbc.writeMem(0x97c8, { 0x6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x3c37);
        EXPECT(gbc.pc(), 0x97ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c8), 0x6);
        EXPECT(gbc.readMem(0x97c9), 0xbe);
        // 06 0353
        gbc.setState(0xf43, 0x7f58, 0xc2d0, 0x1f09, 0x3881, 0xc088, 0x1, 0x0);
        gbc.writeMem(0xf43, { 0x6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x7f58);
        EXPECT(gbc.pc(), 0xf45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0354
        gbc.setState(0x3022, 0xef8b, 0xb870, 0x46b7, 0x1594, 0x4cbe, 0x1, 0x0);
        gbc.writeMem(0x3022, { 0x6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xef8b);
        EXPECT(gbc.pc(), 0x3024);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0355
        gbc.setState(0x632d, 0xdd28, 0x7f80, 0x1ab3, 0xf7fd, 0xa13f, 0x1, 0x0);
        gbc.writeMem(0x632d, { 0x6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xdd28);
        EXPECT(gbc.pc(), 0x632f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0356
        gbc.setState(0x16ed, 0x32c8, 0x9920, 0xa342, 0x1de8, 0x76d0, 0x1, 0x0);
        gbc.writeMem(0x16ed, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x32c8);
        EXPECT(gbc.pc(), 0x16ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0358
        gbc.setState(0x59fb, 0xc906, 0x68c0, 0xe4f8, 0x7e48, 0x5d44, 0x0, 0x0);
        gbc.writeMem(0x59fb, { 0x6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc906);
        EXPECT(gbc.pc(), 0x59fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0359
        gbc.setState(0x7c7d, 0x8251, 0x1db0, 0x15ce, 0xe91e, 0xe12c, 0x0, 0x1);
        gbc.writeMem(0x7c7d, { 0x6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x8251);
        EXPECT(gbc.pc(), 0x7c7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 035A
        gbc.setState(0x440d, 0x24a4, 0xe2b0, 0x8d9e, 0xc442, 0xc1ce, 0x0, 0x0);
        gbc.writeMem(0x440d, { 0x6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x24a4);
        EXPECT(gbc.pc(), 0x440f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 035C
        gbc.setState(0x8fac, 0x302e, 0x87a0, 0x1ebc, 0x1c6c, 0xdd8d, 0x0, 0x1);
        gbc.writeMem(0x8fac, { 0x6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x302e);
        EXPECT(gbc.pc(), 0x8fae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fac), 0x6);
        EXPECT(gbc.readMem(0x8fad), 0x79);
        // 06 035D
        gbc.setState(0x2879, 0x6c7f, 0xf430, 0xac13, 0xf90c, 0x204e, 0x1, 0x0);
        gbc.writeMem(0x2879, { 0x6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6c7f);
        EXPECT(gbc.pc(), 0x287b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 035E
        gbc.setState(0xaadc, 0xb849, 0x3590, 0xaef0, 0x515e, 0x8d45, 0x1, 0x0);
        gbc.writeMem(0xaadc, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xb849);
        EXPECT(gbc.pc(), 0xaade);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaadc), 0x6);
        EXPECT(gbc.readMem(0xaadd), 0x7f);
        // 06 0360
        gbc.setState(0xa86a, 0x8687, 0xfc00, 0x61db, 0x619d, 0x1bb8, 0x1, 0x1);
        gbc.writeMem(0xa86a, { 0x6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8687);
        EXPECT(gbc.pc(), 0xa86c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa86a), 0x6);
        EXPECT(gbc.readMem(0xa86b), 0xd5);
        // 06 0361
        gbc.setState(0xa3e8, 0xff73, 0x1550, 0xd5e8, 0x3af7, 0x1957, 0x0, 0x0);
        gbc.writeMem(0xa3e8, { 0x6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xff73);
        EXPECT(gbc.pc(), 0xa3ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3e8), 0x6);
        EXPECT(gbc.readMem(0xa3e9), 0x93);
        // 06 0362
        gbc.setState(0x47a, 0xfacb, 0xbd40, 0xe9cd, 0x8326, 0x139e, 0x1, 0x1);
        gbc.writeMem(0x47a, { 0x6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xfacb);
        EXPECT(gbc.pc(), 0x47c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0363
        gbc.setState(0x242f, 0x41ac, 0xb1c0, 0x84ce, 0xcf86, 0x84b7, 0x1, 0x1);
        gbc.writeMem(0x242f, { 0x6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x41ac);
        EXPECT(gbc.pc(), 0x2431);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0364
        gbc.setState(0x76bd, 0xb22a, 0x3650, 0x62fb, 0xa900, 0x24c9, 0x0, 0x0);
        gbc.writeMem(0x76bd, { 0x6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xb22a);
        EXPECT(gbc.pc(), 0x76bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0365
        gbc.setState(0xba67, 0x1035, 0xa770, 0xb4c, 0x697e, 0x3ebb, 0x0, 0x1);
        gbc.writeMem(0xba67, { 0x6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x1035);
        EXPECT(gbc.pc(), 0xba69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba67), 0x6);
        EXPECT(gbc.readMem(0xba68), 0xd6);
        // 06 0366
        gbc.setState(0x1a69, 0xe266, 0xa410, 0x9c83, 0x2acf, 0x4bbb, 0x1, 0x1);
        gbc.writeMem(0x1a69, { 0x6, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xe266);
        EXPECT(gbc.pc(), 0x1a6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0367
        gbc.setState(0x8a89, 0x56dd, 0xaf30, 0x4a94, 0x5e26, 0xb705, 0x1, 0x0);
        gbc.writeMem(0x8a89, { 0x6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x56dd);
        EXPECT(gbc.pc(), 0x8a8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a89), 0x6);
        EXPECT(gbc.readMem(0x8a8a), 0x8f);
        // 06 0368
        gbc.setState(0xe498, 0xafa3, 0x1f90, 0xdd6a, 0xd37e, 0x4b42, 0x0, 0x1);
        gbc.writeMem(0xe498, { 0x6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xafa3);
        EXPECT(gbc.pc(), 0xe49a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe498), 0x6);
        EXPECT(gbc.readMem(0xe499), 0x7);
        // 06 0369
        gbc.setState(0x8dd9, 0x1062, 0x4340, 0x5120, 0x5f63, 0x2674, 0x1, 0x0);
        gbc.writeMem(0x8dd9, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1062);
        EXPECT(gbc.pc(), 0x8ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dd9), 0x6);
        EXPECT(gbc.readMem(0x8dda), 0x72);
        // 06 036A
        gbc.setState(0xa166, 0x9677, 0xfbe0, 0xdec8, 0x8f56, 0x698d, 0x1, 0x1);
        gbc.writeMem(0xa166, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9677);
        EXPECT(gbc.pc(), 0xa168);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa166), 0x6);
        EXPECT(gbc.readMem(0xa167), 0x11);
        // 06 036B
        gbc.setState(0x4562, 0x1872, 0xd5a0, 0x47a2, 0x6ab, 0x75ad, 0x0, 0x0);
        gbc.writeMem(0x4562, { 0x6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1872);
        EXPECT(gbc.pc(), 0x4564);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 036C
        gbc.setState(0x81fa, 0x6fe3, 0x7500, 0xb6a7, 0x61f, 0x749b, 0x0, 0x0);
        gbc.writeMem(0x81fa, { 0x6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6fe3);
        EXPECT(gbc.pc(), 0x81fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81fa), 0x6);
        EXPECT(gbc.readMem(0x81fb), 0x67);
        // 06 036D
        gbc.setState(0x8b20, 0x8275, 0xc7b0, 0xc969, 0xd62, 0x6033, 0x1, 0x1);
        gbc.writeMem(0x8b20, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x8275);
        EXPECT(gbc.pc(), 0x8b22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b20), 0x6);
        EXPECT(gbc.readMem(0x8b21), 0x7f);
        // 06 036F
        gbc.setState(0x4909, 0x681e, 0x2250, 0x415, 0xa911, 0x8334, 0x0, 0x1);
        gbc.writeMem(0x4909, { 0x6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x681e);
        EXPECT(gbc.pc(), 0x490b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0370
        gbc.setState(0xf59, 0x5121, 0xfca0, 0x56b2, 0x833b, 0x73ef, 0x0, 0x0);
        gbc.writeMem(0xf59, { 0x6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x5121);
        EXPECT(gbc.pc(), 0xf5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0371
        gbc.setState(0x43ed, 0x4127, 0x1490, 0x6df7, 0xbccb, 0xf034, 0x0, 0x1);
        gbc.writeMem(0x43ed, { 0x6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4127);
        EXPECT(gbc.pc(), 0x43ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0372
        gbc.setState(0x1536, 0x3162, 0xd6d0, 0xb846, 0x5374, 0xd61, 0x1, 0x1);
        gbc.writeMem(0x1536, { 0x6, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x3162);
        EXPECT(gbc.pc(), 0x1538);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0373
        gbc.setState(0x1144, 0x2b5, 0xd7b0, 0x4d3c, 0x6ac1, 0x6496, 0x0, 0x1);
        gbc.writeMem(0x1144, { 0x6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2b5);
        EXPECT(gbc.pc(), 0x1146);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0374
        gbc.setState(0x5cf, 0xbd60, 0xc7b0, 0x686e, 0xc00, 0x2230, 0x1, 0x0);
        gbc.writeMem(0x5cf, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xbd60);
        EXPECT(gbc.pc(), 0x5d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0375
        gbc.setState(0xd816, 0x1af1, 0xdd60, 0x8eb6, 0x280a, 0xed6c, 0x1, 0x0);
        gbc.writeMem(0xd816, { 0x6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x1af1);
        EXPECT(gbc.pc(), 0xd818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd816), 0x6);
        EXPECT(gbc.readMem(0xd817), 0xa6);
        // 06 0376
        gbc.setState(0xe6b9, 0xbd76, 0x28d0, 0x4a5f, 0x9bf7, 0x501, 0x1, 0x1);
        gbc.writeMem(0xe6b9, { 0x6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xbd76);
        EXPECT(gbc.pc(), 0xe6bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6b9), 0x6);
        EXPECT(gbc.readMem(0xe6ba), 0xb0);
        // 06 0377
        gbc.setState(0xabda, 0x978d, 0x5cb0, 0xc82c, 0x6a95, 0x2e04, 0x1, 0x1);
        gbc.writeMem(0xabda, { 0x6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x978d);
        EXPECT(gbc.pc(), 0xabdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabda), 0x6);
        EXPECT(gbc.readMem(0xabdb), 0xde);
        // 06 0378
        gbc.setState(0x49c1, 0x880d, 0xe6d0, 0xe4c4, 0x78dc, 0x706, 0x0, 0x1);
        gbc.writeMem(0x49c1, { 0x6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x880d);
        EXPECT(gbc.pc(), 0x49c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0379
        gbc.setState(0x14dd, 0xb05a, 0x4b20, 0x152d, 0xf34c, 0xafb7, 0x0, 0x0);
        gbc.writeMem(0x14dd, { 0x6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xb05a);
        EXPECT(gbc.pc(), 0x14df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 037A
        gbc.setState(0x6bf1, 0xffb0, 0x36a0, 0x6a61, 0xefab, 0xf2bb, 0x0, 0x1);
        gbc.writeMem(0x6bf1, { 0x6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xffb0);
        EXPECT(gbc.pc(), 0x6bf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 037B
        gbc.setState(0x38ee, 0xb137, 0xf110, 0x8d5e, 0x111, 0xf15c, 0x0, 0x0);
        gbc.writeMem(0x38ee, { 0x6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb137);
        EXPECT(gbc.pc(), 0x38f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 037C
        gbc.setState(0xe898, 0xc589, 0xe1a0, 0x788, 0x1500, 0x9909, 0x0, 0x0);
        gbc.writeMem(0xe898, { 0x6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xc589);
        EXPECT(gbc.pc(), 0xe89a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe898), 0x6);
        EXPECT(gbc.readMem(0xe899), 0x44);
        // 06 037D
        gbc.setState(0xabff, 0x8039, 0xf5d0, 0x8539, 0xbf43, 0xf8f6, 0x1, 0x1);
        gbc.writeMem(0xabff, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x8039);
        EXPECT(gbc.pc(), 0xac01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabff), 0x6);
        EXPECT(gbc.readMem(0xac00), 0x72);
        // 06 037E
        gbc.setState(0x28bb, 0x5a90, 0x2be0, 0x9a7b, 0xc6fd, 0x2c53, 0x0, 0x0);
        gbc.writeMem(0x28bb, { 0x6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5a90);
        EXPECT(gbc.pc(), 0x28bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 037F
        gbc.setState(0x37d8, 0xd067, 0xd020, 0xf57, 0xc6fb, 0xb8d7, 0x0, 0x0);
        gbc.writeMem(0x37d8, { 0x6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xd067);
        EXPECT(gbc.pc(), 0x37da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0380
        gbc.setState(0x9f7e, 0xb9de, 0xedc0, 0x9ad, 0xaabb, 0xb00e, 0x1, 0x1);
        gbc.writeMem(0x9f7e, { 0x6, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xb9de);
        EXPECT(gbc.pc(), 0x9f80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f7e), 0x6);
        EXPECT(gbc.readMem(0x9f7f), 0x3b);
        // 06 0381
        gbc.setState(0x6ec7, 0x4509, 0xef80, 0x7a40, 0x9fb4, 0x1dc2, 0x1, 0x0);
        gbc.writeMem(0x6ec7, { 0x6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4509);
        EXPECT(gbc.pc(), 0x6ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0383
        gbc.setState(0x95eb, 0x6752, 0x21d0, 0x9cba, 0xbb05, 0x9d22, 0x1, 0x1);
        gbc.writeMem(0x95eb, { 0x6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x6752);
        EXPECT(gbc.pc(), 0x95ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95eb), 0x6);
        EXPECT(gbc.readMem(0x95ec), 0xf);
        // 06 0384
        gbc.setState(0xb930, 0xf3ed, 0x9210, 0xa99e, 0x3643, 0xff7a, 0x0, 0x0);
        gbc.writeMem(0xb930, { 0x6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf3ed);
        EXPECT(gbc.pc(), 0xb932);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb930), 0x6);
        EXPECT(gbc.readMem(0xb931), 0x9f);
        // 06 0385
        gbc.setState(0x9381, 0xb139, 0x8f60, 0xb890, 0xbb12, 0xc02d, 0x1, 0x1);
        gbc.writeMem(0x9381, { 0x6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xb139);
        EXPECT(gbc.pc(), 0x9383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9381), 0x6);
        EXPECT(gbc.readMem(0x9382), 0x41);
        // 06 0386
        gbc.setState(0x11d2, 0xb4eb, 0xe760, 0x6871, 0x6db9, 0x364a, 0x0, 0x1);
        gbc.writeMem(0x11d2, { 0x6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xb4eb);
        EXPECT(gbc.pc(), 0x11d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0387
        gbc.setState(0xbd7f, 0x8e1e, 0xa490, 0x4836, 0x2042, 0x7fe0, 0x0, 0x0);
        gbc.writeMem(0xbd7f, { 0x6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x8e1e);
        EXPECT(gbc.pc(), 0xbd81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd7f), 0x6);
        EXPECT(gbc.readMem(0xbd80), 0xb9);
        // 06 0388
        gbc.setState(0x2cf, 0xe34f, 0xc450, 0x1d1d, 0x4827, 0x5c8d, 0x0, 0x0);
        gbc.writeMem(0x2cf, { 0x6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe34f);
        EXPECT(gbc.pc(), 0x2d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0389
        gbc.setState(0x2e98, 0xe6c8, 0xa550, 0xa36e, 0xdf90, 0x6e28, 0x0, 0x1);
        gbc.writeMem(0x2e98, { 0x6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe6c8);
        EXPECT(gbc.pc(), 0x2e9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 038A
        gbc.setState(0xb6f0, 0x8179, 0xdb80, 0x2ba4, 0xd58d, 0x4d00, 0x1, 0x1);
        gbc.writeMem(0xb6f0, { 0x6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x8179);
        EXPECT(gbc.pc(), 0xb6f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6f0), 0x6);
        EXPECT(gbc.readMem(0xb6f1), 0x93);
        // 06 038B
        gbc.setState(0x78b1, 0xfc4c, 0x9e50, 0x9244, 0xd4b6, 0x1dd0, 0x0, 0x1);
        gbc.writeMem(0x78b1, { 0x6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xfc4c);
        EXPECT(gbc.pc(), 0x78b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 038C
        gbc.setState(0xe9d0, 0xacce, 0x2910, 0x73dc, 0x3d52, 0xfe1a, 0x1, 0x0);
        gbc.writeMem(0xe9d0, { 0x6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xacce);
        EXPECT(gbc.pc(), 0xe9d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9d0), 0x6);
        EXPECT(gbc.readMem(0xe9d1), 0x90);
        // 06 038D
        gbc.setState(0x89b9, 0xe149, 0xb900, 0x31bf, 0x5c38, 0xbdd3, 0x0, 0x1);
        gbc.writeMem(0x89b9, { 0x6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xe149);
        EXPECT(gbc.pc(), 0x89bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89b9), 0x6);
        EXPECT(gbc.readMem(0x89ba), 0xd2);
        // 06 038F
        gbc.setState(0x4adf, 0xe689, 0xf4a0, 0x9501, 0x4e5e, 0x9a57, 0x1, 0x1);
        gbc.writeMem(0x4adf, { 0x6, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe689);
        EXPECT(gbc.pc(), 0x4ae1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 0390
        gbc.setState(0x5c39, 0xf26f, 0x8800, 0x72c0, 0xebce, 0x852b, 0x0, 0x1);
        gbc.writeMem(0x5c39, { 0x6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf26f);
        EXPECT(gbc.pc(), 0x5c3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0391
        gbc.setState(0x38b1, 0xd14a, 0xaec0, 0xdd44, 0xdf15, 0x3a24, 0x0, 0x0);
        gbc.writeMem(0x38b1, { 0x6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xd14a);
        EXPECT(gbc.pc(), 0x38b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 0392
        gbc.setState(0xd002, 0x8b48, 0x5640, 0xd5d, 0xd4e3, 0x584e, 0x1, 0x0);
        gbc.writeMem(0xd002, { 0x6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8b48);
        EXPECT(gbc.pc(), 0xd004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd002), 0x6);
        EXPECT(gbc.readMem(0xd003), 0x23);
        // 06 0393
        gbc.setState(0x7f64, 0x1c10, 0xa490, 0xdb89, 0x558c, 0x4a28, 0x1, 0x1);
        gbc.writeMem(0x7f64, { 0x6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x1c10);
        EXPECT(gbc.pc(), 0x7f66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0394
        gbc.setState(0x4dd9, 0xecbd, 0x7650, 0xc4c6, 0xbf60, 0x1e93, 0x0, 0x0);
        gbc.writeMem(0x4dd9, { 0x6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xecbd);
        EXPECT(gbc.pc(), 0x4ddb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 0395
        gbc.setState(0x871f, 0x3426, 0x4cf0, 0x12dd, 0x1ad8, 0x4807, 0x0, 0x0);
        gbc.writeMem(0x871f, { 0x6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x3426);
        EXPECT(gbc.pc(), 0x8721);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x871f), 0x6);
        EXPECT(gbc.readMem(0x8720), 0xbf);
        // 06 0396
        gbc.setState(0xd6e4, 0x50a2, 0xcb00, 0x6d18, 0x68ae, 0xd9e, 0x0, 0x0);
        gbc.writeMem(0xd6e4, { 0x6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x50a2);
        EXPECT(gbc.pc(), 0xd6e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6e4), 0x6);
        EXPECT(gbc.readMem(0xd6e5), 0xca);
        // 06 0397
        gbc.setState(0x7234, 0x3ef1, 0x9df0, 0x52fe, 0x9758, 0xb86e, 0x1, 0x1);
        gbc.writeMem(0x7234, { 0x6, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3ef1);
        EXPECT(gbc.pc(), 0x7236);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 0398
        gbc.setState(0x966d, 0xa9ea, 0x74a0, 0x2384, 0xd12, 0x878c, 0x0, 0x1);
        gbc.writeMem(0x966d, { 0x6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xa9ea);
        EXPECT(gbc.pc(), 0x966f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x966d), 0x6);
        EXPECT(gbc.readMem(0x966e), 0x5b);
        // 06 0399
        gbc.setState(0x5105, 0x7951, 0xb8f0, 0xe1f8, 0xc803, 0x6d71, 0x0, 0x1);
        gbc.writeMem(0x5105, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x7951);
        EXPECT(gbc.pc(), 0x5107);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 039A
        gbc.setState(0x8c4b, 0x1d63, 0x35a0, 0xfdcc, 0x8151, 0x453b, 0x0, 0x1);
        gbc.writeMem(0x8c4b, { 0x6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1d63);
        EXPECT(gbc.pc(), 0x8c4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c4b), 0x6);
        EXPECT(gbc.readMem(0x8c4c), 0x80);
        // 06 039C
        gbc.setState(0x6b07, 0x5bc8, 0x31a0, 0x583d, 0xd0d7, 0x1369, 0x1, 0x0);
        gbc.writeMem(0x6b07, { 0x6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5bc8);
        EXPECT(gbc.pc(), 0x6b09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 039D
        gbc.setState(0xdfaa, 0x7905, 0x1a90, 0x51ab, 0x22d0, 0x415b, 0x1, 0x0);
        gbc.writeMem(0xdfaa, { 0x6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x7905);
        EXPECT(gbc.pc(), 0xdfac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfaa), 0x6);
        EXPECT(gbc.readMem(0xdfab), 0x6c);
        // 06 039E
        gbc.setState(0x1a59, 0xecb, 0x83a0, 0x8059, 0x9118, 0x5ce9, 0x1, 0x0);
        gbc.writeMem(0x1a59, { 0x6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xecb);
        EXPECT(gbc.pc(), 0x1a5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 039F
        gbc.setState(0x1fa, 0x5fc0, 0x8680, 0x5a5f, 0xa5ee, 0x6fbc, 0x1, 0x1);
        gbc.writeMem(0x1fa, { 0x6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5fc0);
        EXPECT(gbc.pc(), 0x1fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03A0
        gbc.setState(0x421b, 0x8941, 0x6510, 0x65ad, 0x8817, 0x3e23, 0x0, 0x0);
        gbc.writeMem(0x421b, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x8941);
        EXPECT(gbc.pc(), 0x421d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03A1
        gbc.setState(0xe61d, 0x4c5c, 0x3200, 0x5f2c, 0xe1d6, 0xba0c, 0x1, 0x0);
        gbc.writeMem(0xe61d, { 0x6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4c5c);
        EXPECT(gbc.pc(), 0xe61f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe61d), 0x6);
        EXPECT(gbc.readMem(0xe61e), 0x76);
        // 06 03A2
        gbc.setState(0x7609, 0xc511, 0xb860, 0xb924, 0xd396, 0x479f, 0x1, 0x1);
        gbc.writeMem(0x7609, { 0x6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc511);
        EXPECT(gbc.pc(), 0x760b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03A3
        gbc.setState(0x88fb, 0xde1d, 0x1a20, 0x90b2, 0x4aa6, 0x25d5, 0x1, 0x1);
        gbc.writeMem(0x88fb, { 0x6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xde1d);
        EXPECT(gbc.pc(), 0x88fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88fb), 0x6);
        EXPECT(gbc.readMem(0x88fc), 0xc7);
        // 06 03A4
        gbc.setState(0x4767, 0x665d, 0x4e80, 0x656d, 0x594, 0xa1f4, 0x1, 0x1);
        gbc.writeMem(0x4767, { 0x6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x665d);
        EXPECT(gbc.pc(), 0x4769);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03A5
        gbc.setState(0xaf51, 0xb844, 0xf890, 0xf8ef, 0x71e3, 0xcc44, 0x0, 0x1);
        gbc.writeMem(0xaf51, { 0x6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb844);
        EXPECT(gbc.pc(), 0xaf53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf51), 0x6);
        EXPECT(gbc.readMem(0xaf52), 0x3e);
        // 06 03A6
        gbc.setState(0x28cc, 0x3c76, 0xa3e0, 0x786d, 0xa763, 0x7484, 0x1, 0x1);
        gbc.writeMem(0x28cc, { 0x6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x3c76);
        EXPECT(gbc.pc(), 0x28ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03A7
        gbc.setState(0x7e97, 0x8747, 0x60b0, 0x695d, 0xeb87, 0x9d16, 0x1, 0x0);
        gbc.writeMem(0x7e97, { 0x6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8747);
        EXPECT(gbc.pc(), 0x7e99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 03A8
        gbc.setState(0x6795, 0x53ee, 0x2e40, 0xb52c, 0xf37d, 0x9734, 0x1, 0x1);
        gbc.writeMem(0x6795, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x53ee);
        EXPECT(gbc.pc(), 0x6797);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03A9
        gbc.setState(0xad26, 0x1fe5, 0x1010, 0xe76b, 0x9883, 0x525c, 0x1, 0x0);
        gbc.writeMem(0xad26, { 0x6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1fe5);
        EXPECT(gbc.pc(), 0xad28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad26), 0x6);
        EXPECT(gbc.readMem(0xad27), 0x56);
        // 06 03AA
        gbc.setState(0x1091, 0x237a, 0x6390, 0x4b4b, 0x388, 0x7e1b, 0x1, 0x0);
        gbc.writeMem(0x1091, { 0x6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x237a);
        EXPECT(gbc.pc(), 0x1093);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03AB
        gbc.setState(0x6aec, 0xbb13, 0xe6a0, 0xa2a9, 0x570b, 0x6fc9, 0x0, 0x0);
        gbc.writeMem(0x6aec, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xbb13);
        EXPECT(gbc.pc(), 0x6aee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03AC
        gbc.setState(0xa93f, 0x1cb1, 0x4480, 0x63c8, 0x8973, 0x7066, 0x0, 0x1);
        gbc.writeMem(0xa93f, { 0x6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x1cb1);
        EXPECT(gbc.pc(), 0xa941);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa93f), 0x6);
        EXPECT(gbc.readMem(0xa940), 0xf8);
        // 06 03AD
        gbc.setState(0x5bbe, 0x56ae, 0x1090, 0x2ce4, 0x47f6, 0xcd1e, 0x0, 0x0);
        gbc.writeMem(0x5bbe, { 0x6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x56ae);
        EXPECT(gbc.pc(), 0x5bc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03AE
        gbc.setState(0x8fae, 0x8359, 0x2420, 0xa0ef, 0xe9b5, 0xcca4, 0x1, 0x1);
        gbc.writeMem(0x8fae, { 0x6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x8359);
        EXPECT(gbc.pc(), 0x8fb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fae), 0x6);
        EXPECT(gbc.readMem(0x8faf), 0xfb);
        // 06 03AF
        gbc.setState(0x7bf1, 0x1f2d, 0x7950, 0x5bc9, 0xb4b6, 0x7845, 0x1, 0x0);
        gbc.writeMem(0x7bf1, { 0x6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1f2d);
        EXPECT(gbc.pc(), 0x7bf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03B0
        gbc.setState(0xcd1, 0xf106, 0xfe80, 0x5ae5, 0xffb0, 0x69d1, 0x0, 0x1);
        gbc.writeMem(0xcd1, { 0x6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xf106);
        EXPECT(gbc.pc(), 0xcd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03B1
        gbc.setState(0x11d0, 0x3b58, 0xdc20, 0xb3ea, 0x668a, 0x6429, 0x1, 0x1);
        gbc.writeMem(0x11d0, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x3b58);
        EXPECT(gbc.pc(), 0x11d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03B2
        gbc.setState(0x3c75, 0x98c0, 0xe2a0, 0x2c9d, 0x2d04, 0x3074, 0x1, 0x1);
        gbc.writeMem(0x3c75, { 0x6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x98c0);
        EXPECT(gbc.pc(), 0x3c77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03B3
        gbc.setState(0xdabb, 0x7110, 0x3230, 0x2d2b, 0x6db0, 0xce67, 0x0, 0x0);
        gbc.writeMem(0xdabb, { 0x6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x7110);
        EXPECT(gbc.pc(), 0xdabd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdabb), 0x6);
        EXPECT(gbc.readMem(0xdabc), 0x65);
        // 06 03B4
        gbc.setState(0x9e14, 0x68c8, 0x85c0, 0x476e, 0x1c03, 0x7b57, 0x1, 0x1);
        gbc.writeMem(0x9e14, { 0x6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x68c8);
        EXPECT(gbc.pc(), 0x9e16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e14), 0x6);
        EXPECT(gbc.readMem(0x9e15), 0x60);
        // 06 03B5
        gbc.setState(0x38a6, 0x276c, 0x2730, 0x8297, 0x3fc9, 0x9755, 0x1, 0x0);
        gbc.writeMem(0x38a6, { 0x6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x276c);
        EXPECT(gbc.pc(), 0x38a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 03B6
        gbc.setState(0xc54d, 0x1b3b, 0x68a0, 0xf0e8, 0xcf29, 0x72fd, 0x0, 0x1);
        gbc.writeMem(0xc54d, { 0x6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x1b3b);
        EXPECT(gbc.pc(), 0xc54f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc54d), 0x6);
        EXPECT(gbc.readMem(0xc54e), 0x43);
        // 06 03B7
        gbc.setState(0x9d5f, 0x8ec1, 0xa480, 0x42ef, 0x4ed8, 0xc9e1, 0x1, 0x0);
        gbc.writeMem(0x9d5f, { 0x6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x8ec1);
        EXPECT(gbc.pc(), 0x9d61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d5f), 0x6);
        EXPECT(gbc.readMem(0x9d60), 0xbf);
        // 06 03B8
        gbc.setState(0xccd, 0xd705, 0x4510, 0x12e7, 0x6c09, 0xed60, 0x1, 0x1);
        gbc.writeMem(0xccd, { 0x6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd705);
        EXPECT(gbc.pc(), 0xccf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03B9
        gbc.setState(0x54ca, 0x6298, 0x2d20, 0x35fe, 0x217d, 0x3d7f, 0x0, 0x1);
        gbc.writeMem(0x54ca, { 0x6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6298);
        EXPECT(gbc.pc(), 0x54cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03BB
        gbc.setState(0x5d2a, 0xdd5c, 0xf3e0, 0xcb56, 0xf320, 0x6efc, 0x1, 0x1);
        gbc.writeMem(0x5d2a, { 0x6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xdd5c);
        EXPECT(gbc.pc(), 0x5d2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03BC
        gbc.setState(0x3176, 0x6f4b, 0x160, 0x4056, 0x90f, 0xb38e, 0x1, 0x0);
        gbc.writeMem(0x3176, { 0x6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6f4b);
        EXPECT(gbc.pc(), 0x3178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03BD
        gbc.setState(0x3945, 0xfaa8, 0x8700, 0xe3da, 0xfa7e, 0xaea8, 0x1, 0x0);
        gbc.writeMem(0x3945, { 0x6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xfaa8);
        EXPECT(gbc.pc(), 0x3947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03BE
        gbc.setState(0xd1a1, 0xc780, 0x4c50, 0x29dc, 0x5fac, 0x98c9, 0x1, 0x1);
        gbc.writeMem(0xd1a1, { 0x6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xc780);
        EXPECT(gbc.pc(), 0xd1a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1a1), 0x6);
        EXPECT(gbc.readMem(0xd1a2), 0x4b);
        // 06 03BF
        gbc.setState(0xb9ef, 0xcd1, 0x3e60, 0x5381, 0x8d1b, 0xcf73, 0x0, 0x1);
        gbc.writeMem(0xb9ef, { 0x6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xcd1);
        EXPECT(gbc.pc(), 0xb9f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9ef), 0x6);
        EXPECT(gbc.readMem(0xb9f0), 0x77);
        // 06 03C0
        gbc.setState(0x5145, 0xec8f, 0xed20, 0x7ea4, 0x1249, 0x4635, 0x1, 0x0);
        gbc.writeMem(0x5145, { 0x6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xec8f);
        EXPECT(gbc.pc(), 0x5147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03C1
        gbc.setState(0x2185, 0xf6d0, 0x6050, 0x5fed, 0x4b53, 0xfd43, 0x0, 0x1);
        gbc.writeMem(0x2185, { 0x6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf6d0);
        EXPECT(gbc.pc(), 0x2187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03C2
        gbc.setState(0xbe02, 0xef51, 0x4540, 0x8f3f, 0xefbe, 0xee7c, 0x0, 0x1);
        gbc.writeMem(0xbe02, { 0x6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xef51);
        EXPECT(gbc.pc(), 0xbe04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe02), 0x6);
        EXPECT(gbc.readMem(0xbe03), 0x4d);
        // 06 03C3
        gbc.setState(0x7dbb, 0x2b1b, 0x6440, 0x4bcd, 0xb586, 0xafb6, 0x0, 0x1);
        gbc.writeMem(0x7dbb, { 0x6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x2b1b);
        EXPECT(gbc.pc(), 0x7dbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03C4
        gbc.setState(0xb1ff, 0x47f, 0x66d0, 0xb85c, 0x3f1a, 0xb133, 0x0, 0x1);
        gbc.writeMem(0xb1ff, { 0x6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x47f);
        EXPECT(gbc.pc(), 0xb201);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1ff), 0x6);
        EXPECT(gbc.readMem(0xb200), 0x59);
        // 06 03C5
        gbc.setState(0xb79d, 0xa314, 0x6bc0, 0x3259, 0xb58, 0x121b, 0x0, 0x1);
        gbc.writeMem(0xb79d, { 0x6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa314);
        EXPECT(gbc.pc(), 0xb79f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb79d), 0x6);
        EXPECT(gbc.readMem(0xb79e), 0xd1);
        // 06 03C6
        gbc.setState(0xdd88, 0x6fc1, 0x29a0, 0x302b, 0x64b5, 0x8b58, 0x0, 0x1);
        gbc.writeMem(0xdd88, { 0x6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x6fc1);
        EXPECT(gbc.pc(), 0xdd8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd88), 0x6);
        EXPECT(gbc.readMem(0xdd89), 0x25);
        // 06 03C7
        gbc.setState(0xeee9, 0xa507, 0xc070, 0x15af, 0x835e, 0xafc6, 0x1, 0x1);
        gbc.writeMem(0xeee9, { 0x6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xa507);
        EXPECT(gbc.pc(), 0xeeeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeee9), 0x6);
        EXPECT(gbc.readMem(0xeeea), 0x52);
        // 06 03C8
        gbc.setState(0x7e34, 0x4e01, 0x6e30, 0xbf47, 0x7024, 0x89e7, 0x1, 0x1);
        gbc.writeMem(0x7e34, { 0x6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4e01);
        EXPECT(gbc.pc(), 0x7e36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 03C9
        gbc.setState(0x11e8, 0xf77d, 0x7200, 0xcbc6, 0xed00, 0x7f44, 0x1, 0x1);
        gbc.writeMem(0x11e8, { 0x6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xf77d);
        EXPECT(gbc.pc(), 0x11ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03CA
        gbc.setState(0x27cd, 0xbded, 0xfb60, 0x95b7, 0x2105, 0x6f1b, 0x1, 0x0);
        gbc.writeMem(0x27cd, { 0x6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbded);
        EXPECT(gbc.pc(), 0x27cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 06 03CB
        gbc.setState(0x3d1b, 0x12ac, 0x7a40, 0x6ff8, 0x3a73, 0x5388, 0x1, 0x1);
        gbc.writeMem(0x3d1b, { 0x6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x12ac);
        EXPECT(gbc.pc(), 0x3d1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03CC
        gbc.setState(0xddfa, 0xcaa3, 0x9b50, 0xe4c8, 0xc6b, 0xc3bc, 0x1, 0x1);
        gbc.writeMem(0xddfa, { 0x6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xcaa3);
        EXPECT(gbc.pc(), 0xddfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddfa), 0x6);
        EXPECT(gbc.readMem(0xddfb), 0xb7);
        // 06 03CD
        gbc.setState(0xe4f8, 0x3450, 0x99e0, 0x2aab, 0x7294, 0xa1e7, 0x1, 0x1);
        gbc.writeMem(0xe4f8, { 0x6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3450);
        EXPECT(gbc.pc(), 0xe4fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4f8), 0x6);
        EXPECT(gbc.readMem(0xe4f9), 0x2);
        // 06 03CE
        gbc.setState(0x9d8f, 0x4a15, 0x1ae0, 0xb5af, 0xde5b, 0x1fba, 0x1, 0x1);
        gbc.writeMem(0x9d8f, { 0x6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4a15);
        EXPECT(gbc.pc(), 0x9d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d8f), 0x6);
        EXPECT(gbc.readMem(0x9d90), 0x27);
        // 06 03CF
        gbc.setState(0xccbf, 0xbb6a, 0x19c0, 0xf6f, 0x367b, 0xc76e, 0x0, 0x0);
        gbc.writeMem(0xccbf, { 0x6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xbb6a);
        EXPECT(gbc.pc(), 0xccc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccbf), 0x6);
        EXPECT(gbc.readMem(0xccc0), 0xb3);
        // 06 03D0
        gbc.setState(0xee8c, 0x8d56, 0xf960, 0xcfd7, 0xb02, 0xb3c3, 0x0, 0x1);
        gbc.writeMem(0xee8c, { 0x6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8d56);
        EXPECT(gbc.pc(), 0xee8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee8c), 0x6);
        EXPECT(gbc.readMem(0xee8d), 0xa7);
        // 06 03D1
        gbc.setState(0x420e, 0xa5a2, 0x6880, 0xbbb7, 0xa84f, 0x9360, 0x0, 0x0);
        gbc.writeMem(0x420e, { 0x6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa5a2);
        EXPECT(gbc.pc(), 0x4210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03D2
        gbc.setState(0x8424, 0x1f82, 0x56d0, 0x953a, 0xe24a, 0xbd84, 0x1, 0x1);
        gbc.writeMem(0x8424, { 0x6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x1f82);
        EXPECT(gbc.pc(), 0x8426);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8424), 0x6);
        EXPECT(gbc.readMem(0x8425), 0x35);
        // 06 03D3
        gbc.setState(0x460e, 0x9bb9, 0xc240, 0x47a9, 0x25f5, 0xa71c, 0x1, 0x1);
        gbc.writeMem(0x460e, { 0x6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9bb9);
        EXPECT(gbc.pc(), 0x4610);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03D4
        gbc.setState(0x3e2e, 0x6856, 0x5510, 0x49b2, 0x4aed, 0xfbd, 0x0, 0x0);
        gbc.writeMem(0x3e2e, { 0x6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x6856);
        EXPECT(gbc.pc(), 0x3e30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03D5
        gbc.setState(0xe3ca, 0xc734, 0x14f0, 0x1196, 0xad91, 0xe8e5, 0x0, 0x0);
        gbc.writeMem(0xe3ca, { 0x6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xc734);
        EXPECT(gbc.pc(), 0xe3cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3ca), 0x6);
        EXPECT(gbc.readMem(0xe3cb), 0xcd);
        // 06 03D6
        gbc.setState(0x48f5, 0x807, 0xd090, 0xf4ec, 0x702b, 0x5e2a, 0x1, 0x1);
        gbc.writeMem(0x48f5, { 0x6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x807);
        EXPECT(gbc.pc(), 0x48f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03D8
        gbc.setState(0x8ca2, 0x1a29, 0x1660, 0xc084, 0x831a, 0x5a8e, 0x0, 0x0);
        gbc.writeMem(0x8ca2, { 0x6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x1a29);
        EXPECT(gbc.pc(), 0x8ca4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca2), 0x6);
        EXPECT(gbc.readMem(0x8ca3), 0x10);
        // 06 03D9
        gbc.setState(0x60e4, 0x3485, 0x5c10, 0x25ab, 0x16b3, 0xc53b, 0x0, 0x0);
        gbc.writeMem(0x60e4, { 0x6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3485);
        EXPECT(gbc.pc(), 0x60e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03DA
        gbc.setState(0x388e, 0x3daf, 0x7110, 0xf932, 0xaa37, 0x7e3c, 0x1, 0x1);
        gbc.writeMem(0x388e, { 0x6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3daf);
        EXPECT(gbc.pc(), 0x3890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03DB
        gbc.setState(0xc4ec, 0x7e6b, 0xb560, 0x8c7a, 0xf0ec, 0x60e0, 0x1, 0x0);
        gbc.writeMem(0xc4ec, { 0x6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x7e6b);
        EXPECT(gbc.pc(), 0xc4ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4ec), 0x6);
        EXPECT(gbc.readMem(0xc4ed), 0xdb);
        // 06 03DC
        gbc.setState(0xa32d, 0x494f, 0x4620, 0x300b, 0x6595, 0xb9c8, 0x0, 0x1);
        gbc.writeMem(0xa32d, { 0x6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x494f);
        EXPECT(gbc.pc(), 0xa32f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa32d), 0x6);
        EXPECT(gbc.readMem(0xa32e), 0xc6);
        // 06 03DD
        gbc.setState(0x9e80, 0xe57b, 0x1830, 0x8e18, 0x962e, 0xbd2b, 0x0, 0x1);
        gbc.writeMem(0x9e80, { 0x6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xe57b);
        EXPECT(gbc.pc(), 0x9e82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e80), 0x6);
        EXPECT(gbc.readMem(0x9e81), 0x96);
        // 06 03DE
        gbc.setState(0x1fab, 0xb86d, 0x4000, 0x2f64, 0x6d1b, 0x6481, 0x1, 0x1);
        gbc.writeMem(0x1fab, { 0x6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xb86d);
        EXPECT(gbc.pc(), 0x1fad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03DF
        gbc.setState(0x4bdb, 0x5e80, 0x8a90, 0xd2f5, 0xc092, 0xfdc4, 0x0, 0x0);
        gbc.writeMem(0x4bdb, { 0x6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x5e80);
        EXPECT(gbc.pc(), 0x4bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 06 03E0
        gbc.setState(0x933f, 0xc2ea, 0x8b60, 0x38a8, 0xcae, 0x716c, 0x1, 0x0);
        gbc.writeMem(0x933f, { 0x6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xc2ea);
        EXPECT(gbc.pc(), 0x9341);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933f), 0x6);
        EXPECT(gbc.readMem(0x9340), 0xaa);
        // 06 03E1
        gbc.setState(0x6d5a, 0xa45e, 0x41c0, 0x8d55, 0xed74, 0xb25, 0x1, 0x1);
        gbc.writeMem(0x6d5a, { 0x6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xa45e);
        EXPECT(gbc.pc(), 0x6d5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 06 03E2
        gbc.setState(0x60c1, 0x12fb, 0xeb0, 0x5654, 0xc8b6, 0x3ee4, 0x1, 0x0);
        gbc.writeMem(0x60c1, { 0x6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x12fb);
        EXPECT(gbc.pc(), 0x60c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 03E3
        gbc.setState(0x8ed1, 0xc6e8, 0x5c90, 0xacd8, 0x2567, 0x6785, 0x1, 0x1);
        gbc.writeMem(0x8ed1, { 0x6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xc6e8);
        EXPECT(gbc.pc(), 0x8ed3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ed1), 0x6);
        EXPECT(gbc.readMem(0x8ed2), 0x19);
        // 06 03E4
        gbc.setState(0xc989, 0xe29b, 0xf070, 0xe82c, 0x2eb8, 0xc518, 0x1, 0x1);
        gbc.writeMem(0xc989, { 0x6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xe29b);
        EXPECT(gbc.pc(), 0xc98b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc989), 0x6);
        EXPECT(gbc.readMem(0xc98a), 0xac);
        // 06 03E5
        gbc.setState(0x56e9, 0xf53e, 0x24f0, 0xefa, 0x555e, 0xcc1f, 0x0, 0x1);
        gbc.writeMem(0x56e9, { 0x6, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xf53e);
        EXPECT(gbc.pc(), 0x56eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 03E6
        gbc.setState(0x5fed, 0xffe7, 0x72f0, 0x5226, 0x353, 0xb7e2, 0x0, 0x1);
        gbc.writeMem(0x5fed, { 0x6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xffe7);
        EXPECT(gbc.pc(), 0x5fef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 06 03E7
        gbc.setState(0xa4e9, 0x3e5e, 0xa1d0, 0xad0c, 0x1a68, 0x3a72, 0x0, 0x0);
        gbc.writeMem(0xa4e9, { 0x6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x3e5e);
        EXPECT(gbc.pc(), 0xa4eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4e9), 0x6);
        EXPECT(gbc.readMem(0xa4ea), 0x94);
    }
